var NO=Object.defineProperty;var mT=n=>{throw TypeError(n)};var DO=(n,e,t)=>e in n?NO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var le=(n,e,t)=>DO(n,typeof e!="symbol"?e+"":e,t),gT=(n,e,t)=>e.has(n)||mT("Cannot "+t);var L=(n,e,t)=>(gT(n,e,"read from private field"),t?t.call(n):e.get(n)),ge=(n,e,t)=>e.has(n)?mT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),pe=(n,e,t,r)=>(gT(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function du(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cy={exports:{}},_c={},hy={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function LO(){if(yT)return $e;yT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function k(q,ne,ye){this.props=q,this.context=ne,this.refs=x,this.updater=ye||E}k.prototype.isReactComponent={},k.prototype.setState=function(q,ne){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ne,"setState")},k.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=k.prototype;function D(q,ne,ye){this.props=q,this.context=ne,this.refs=x,this.updater=ye||E}var M=D.prototype=new P;M.constructor=D,b(M,k.prototype),M.isPureReactComponent=!0;var W=Array.isArray,X=Object.prototype.hasOwnProperty,J={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function O(q,ne,ye){var xe,Re={},Se=null,ze=null;if(ne!=null)for(xe in ne.ref!==void 0&&(ze=ne.ref),ne.key!==void 0&&(Se=""+ne.key),ne)X.call(ne,xe)&&!j.hasOwnProperty(xe)&&(Re[xe]=ne[xe]);var qe=arguments.length-2;if(qe===1)Re.children=ye;else if(1<qe){for(var je=Array(qe),Ut=0;Ut<qe;Ut++)je[Ut]=arguments[Ut+2];Re.children=je}if(q&&q.defaultProps)for(xe in qe=q.defaultProps,qe)Re[xe]===void 0&&(Re[xe]=qe[xe]);return{$$typeof:n,type:q,key:Se,ref:ze,props:Re,_owner:J.current}}function V(q,ne){return{$$typeof:n,type:q.type,key:ne,ref:q.ref,props:q.props,_owner:q._owner}}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function S(q){var ne={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return ne[ye]})}var A=/\/+/g;function I(q,ne){return typeof q=="object"&&q!==null&&q.key!=null?S(""+q.key):ne.toString(36)}function $(q,ne,ye,xe,Re){var Se=typeof q;(Se==="undefined"||Se==="boolean")&&(q=null);var ze=!1;if(q===null)ze=!0;else switch(Se){case"string":case"number":ze=!0;break;case"object":switch(q.$$typeof){case n:case e:ze=!0}}if(ze)return ze=q,Re=Re(ze),q=xe===""?"."+I(ze,0):xe,W(Re)?(ye="",q!=null&&(ye=q.replace(A,"$&/")+"/"),$(Re,ne,ye,"",function(Ut){return Ut})):Re!=null&&(B(Re)&&(Re=V(Re,ye+(!Re.key||ze&&ze.key===Re.key?"":(""+Re.key).replace(A,"$&/")+"/")+q)),ne.push(Re)),1;if(ze=0,xe=xe===""?".":xe+":",W(q))for(var qe=0;qe<q.length;qe++){Se=q[qe];var je=xe+I(Se,qe);ze+=$(Se,ne,ye,je,Re)}else if(je=_(q),typeof je=="function")for(q=je.call(q),qe=0;!(Se=q.next()).done;)Se=Se.value,je=xe+I(Se,qe++),ze+=$(Se,ne,ye,je,Re);else if(Se==="object")throw ne=String(q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return ze}function me(q,ne,ye){if(q==null)return q;var xe=[],Re=0;return $(q,xe,"","",function(Se){return ne.call(ye,Se,Re++)}),xe}function ee(q){if(q._status===-1){var ne=q._result;ne=ne(),ne.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=ne)}if(q._status===1)return q._result.default;throw q._result}var ie={current:null},te={transition:null},fe={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:J};function ae(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:me,forEach:function(q,ne,ye){me(q,function(){ne.apply(this,arguments)},ye)},count:function(q){var ne=0;return me(q,function(){ne++}),ne},toArray:function(q){return me(q,function(ne){return ne})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},$e.Component=k,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=D,$e.StrictMode=r,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,$e.act=ae,$e.cloneElement=function(q,ne,ye){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var xe=b({},q.props),Re=q.key,Se=q.ref,ze=q._owner;if(ne!=null){if(ne.ref!==void 0&&(Se=ne.ref,ze=J.current),ne.key!==void 0&&(Re=""+ne.key),q.type&&q.type.defaultProps)var qe=q.type.defaultProps;for(je in ne)X.call(ne,je)&&!j.hasOwnProperty(je)&&(xe[je]=ne[je]===void 0&&qe!==void 0?qe[je]:ne[je])}var je=arguments.length-2;if(je===1)xe.children=ye;else if(1<je){qe=Array(je);for(var Ut=0;Ut<je;Ut++)qe[Ut]=arguments[Ut+2];xe.children=qe}return{$$typeof:n,type:q.type,key:Re,ref:Se,props:xe,_owner:ze}},$e.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},$e.createElement=O,$e.createFactory=function(q){var ne=O.bind(null,q);return ne.type=q,ne},$e.createRef=function(){return{current:null}},$e.forwardRef=function(q){return{$$typeof:u,render:q}},$e.isValidElement=B,$e.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ee}},$e.memo=function(q,ne){return{$$typeof:d,type:q,compare:ne===void 0?null:ne}},$e.startTransition=function(q){var ne=te.transition;te.transition={};try{q()}finally{te.transition=ne}},$e.unstable_act=ae,$e.useCallback=function(q,ne){return ie.current.useCallback(q,ne)},$e.useContext=function(q){return ie.current.useContext(q)},$e.useDebugValue=function(){},$e.useDeferredValue=function(q){return ie.current.useDeferredValue(q)},$e.useEffect=function(q,ne){return ie.current.useEffect(q,ne)},$e.useId=function(){return ie.current.useId()},$e.useImperativeHandle=function(q,ne,ye){return ie.current.useImperativeHandle(q,ne,ye)},$e.useInsertionEffect=function(q,ne){return ie.current.useInsertionEffect(q,ne)},$e.useLayoutEffect=function(q,ne){return ie.current.useLayoutEffect(q,ne)},$e.useMemo=function(q,ne){return ie.current.useMemo(q,ne)},$e.useReducer=function(q,ne,ye){return ie.current.useReducer(q,ne,ye)},$e.useRef=function(q){return ie.current.useRef(q)},$e.useState=function(q){return ie.current.useState(q)},$e.useSyncExternalStore=function(q,ne,ye){return ie.current.useSyncExternalStore(q,ne,ye)},$e.useTransition=function(){return ie.current.useTransition()},$e.version="18.3.1",$e}var vT;function r0(){return vT||(vT=1,hy.exports=LO()),hy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function VO(){if(wT)return _c;wT=1;var n=r0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,d){var m,y={},_=null,E=null;d!==void 0&&(_=""+d),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:_,ref:E,props:y,_owner:i.current}}return _c.Fragment=t,_c.jsx=l,_c.jsxs=l,_c}var _T;function MO(){return _T||(_T=1,cy.exports=VO()),cy.exports}var R=MO(),U=r0();const Me=du(U);var Pf={},dy={exports:{}},Cn={},fy={exports:{}},py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function jO(){return ET||(ET=1,function(n){function e(te,fe){var ae=te.length;te.push(fe);e:for(;0<ae;){var q=ae-1>>>1,ne=te[q];if(0<i(ne,fe))te[q]=fe,te[ae]=ne,ae=q;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var fe=te[0],ae=te.pop();if(ae!==fe){te[0]=ae;e:for(var q=0,ne=te.length,ye=ne>>>1;q<ye;){var xe=2*(q+1)-1,Re=te[xe],Se=xe+1,ze=te[Se];if(0>i(Re,ae))Se<ne&&0>i(ze,Re)?(te[q]=ze,te[Se]=ae,q=Se):(te[q]=Re,te[xe]=ae,q=xe);else if(Se<ne&&0>i(ze,ae))te[q]=ze,te[Se]=ae,q=Se;else break e}}return fe}function i(te,fe){var ae=te.sortIndex-fe.sortIndex;return ae!==0?ae:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],m=1,y=null,_=3,E=!1,b=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(te){for(var fe=t(d);fe!==null;){if(fe.callback===null)r(d);else if(fe.startTime<=te)r(d),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(d)}}function W(te){if(x=!1,M(te),!b)if(t(h)!==null)b=!0,ee(X);else{var fe=t(d);fe!==null&&ie(W,fe.startTime-te)}}function X(te,fe){b=!1,x&&(x=!1,P(O),O=-1),E=!0;var ae=_;try{for(M(fe),y=t(h);y!==null&&(!(y.expirationTime>fe)||te&&!S());){var q=y.callback;if(typeof q=="function"){y.callback=null,_=y.priorityLevel;var ne=q(y.expirationTime<=fe);fe=n.unstable_now(),typeof ne=="function"?y.callback=ne:y===t(h)&&r(h),M(fe)}else r(h);y=t(h)}if(y!==null)var ye=!0;else{var xe=t(d);xe!==null&&ie(W,xe.startTime-fe),ye=!1}return ye}finally{y=null,_=ae,E=!1}}var J=!1,j=null,O=-1,V=5,B=-1;function S(){return!(n.unstable_now()-B<V)}function A(){if(j!==null){var te=n.unstable_now();B=te;var fe=!0;try{fe=j(!0,te)}finally{fe?I():(J=!1,j=null)}}else J=!1}var I;if(typeof D=="function")I=function(){D(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,me=$.port2;$.port1.onmessage=A,I=function(){me.postMessage(null)}}else I=function(){k(A,0)};function ee(te){j=te,J||(J=!0,I())}function ie(te,fe){O=k(function(){te(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){b||E||(b=!0,ee(X))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(te){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var ae=_;_=fe;try{return te()}finally{_=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=_;_=te;try{return fe()}finally{_=ae}},n.unstable_scheduleCallback=function(te,fe,ae){var q=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,te){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ae+ne,te={id:m++,callback:fe,priorityLevel:te,startTime:ae,expirationTime:ne,sortIndex:-1},ae>q?(te.sortIndex=ae,e(d,te),t(h)===null&&te===t(d)&&(x?(P(O),O=-1):x=!0,ie(W,ae-q))):(te.sortIndex=ne,e(h,te),b||E||(b=!0,ee(X))),te},n.unstable_shouldYield=S,n.unstable_wrapCallback=function(te){var fe=_;return function(){var ae=_;_=fe;try{return te.apply(this,arguments)}finally{_=ae}}}}(py)),py}var TT;function $O(){return TT||(TT=1,fy.exports=jO()),fy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function FO(){if(xT)return Cn;xT=1;var n=r0(),e=$O();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return h.call(y,s)?!0:h.call(m,s)?!1:d.test(s)?y[s]=!0:(m[s]=!0,!1)}function E(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,c,p){if(a===null||typeof a>"u"||E(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(s,a,c,p,g,w,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];k[a]=new x(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function D(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(P,D);k[a]=new x(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(P,D);k[a]=new x(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(P,D);k[a]=new x(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,c,p){var g=k.hasOwnProperty(a)?k[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,c,g,p)&&(c=null),p||g===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),J=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,q;function ne(s){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+s}var ye=!1;function xe(s,a){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var p=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){p=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),w=p.stack.split(`
`),C=g.length-1,F=w.length-1;1<=C&&0<=F&&g[C]!==w[F];)F--;for(;1<=C&&0<=F;C--,F--)if(g[C]!==w[F]){if(C!==1||F!==1)do if(C--,F--,0>F||g[C]!==w[F]){var z=`
`+g[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=F);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ne(s):""}function Re(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case J:return"Portal";case V:return"Profiler";case O:return"StrictMode";case I:return"Suspense";case $:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case S:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case A:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return a=s.displayName||null,a!==null?a:Se(s.type)||"Memo";case ee:a=s._payload,s=s._init;try{return Se(s(a))}catch{}}return null}function ze(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ut(s){var a=je(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){p=""+C,w.call(this,C)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ii(s){s._valueTracker||(s._valueTracker=Ut(s))}function Sa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=je(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function ts(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function mo(s,a){var c=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ia(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=qe(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Iu(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function Cu(s,a){Iu(s,a);var c=qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ca(s,a.type,c):a.hasOwnProperty("defaultValue")&&Ca(s,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function fd(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ca(s,a,c){(a!=="number"||ts(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var si=Array.isArray;function oi(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+qe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Au(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Aa(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(si(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:qe(c)}}function Pa(s,a){var c=qe(a.value),p=qe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Pu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function kt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?kt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ai,Ru=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ai.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ns(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yo=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(s){yo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),go[a]=go[s]})});function ku(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||go.hasOwnProperty(s)&&go[s]?(""+a).trim():a+"px"}function Ou(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=ku(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var Nu=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(s,a){if(a){if(Nu[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Lu(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Ra(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ka=null,zn=null,Ar=null;function Oa(s){if(s=sc(s)){if(typeof ka!="function")throw Error(t(280));var a=s.stateNode;a&&(a=zd(a),ka(s.stateNode,s.type,a))}}function Pr(s){zn?Ar?Ar.push(s):Ar=[s]:zn=s}function Vu(){if(zn){var s=zn,a=Ar;if(Ar=zn=null,Oa(s),a)for(s=0;s<a.length;s++)Oa(a[s])}}function wo(s,a){return s(a)}function Mu(){}var li=!1;function ju(s,a,c){if(li)return s(a,c);li=!0;try{return wo(s,a,c)}finally{li=!1,(zn!==null||Ar!==null)&&(Mu(),Vu())}}function Tt(s,a){var c=s.stateNode;if(c===null)return null;var p=zd(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Na=!1;if(u)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Na=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Na=!1}function _o(s,a,c,p,g,w,C,F,z){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(c,Y)}catch(oe){this.onError(oe)}}var Eo=!1,Da=null,ur=!1,$u=null,jm={onError:function(s){Eo=!0,Da=s}};function La(s,a,c,p,g,w,C,F,z){Eo=!1,Da=null,_o.apply(jm,arguments)}function pd(s,a,c,p,g,w,C,F,z){if(La.apply(this,arguments),Eo){if(Eo){var Y=Da;Eo=!1,Da=null}else throw Error(t(198));ur||(ur=!0,$u=Y)}}function cr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function To(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function hr(s){if(cr(s)!==s)throw Error(t(188))}function md(s){var a=s.alternate;if(!a){if(a=cr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return hr(g),s;if(w===p)return hr(g),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=w;else{for(var C=!1,F=g.child;F;){if(F===c){C=!0,c=g,p=w;break}if(F===p){C=!0,p=g,c=w;break}F=F.sibling}if(!C){for(F=w.child;F;){if(F===c){C=!0,c=w,p=g;break}if(F===p){C=!0,p=w,c=g;break}F=F.sibling}if(!C)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Fu(s){return s=md(s),s!==null?Va(s):null}function Va(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Va(s);if(a!==null)return a;s=s.sibling}return null}var Ma=e.unstable_scheduleCallback,Uu=e.unstable_cancelCallback,gd=e.unstable_shouldYield,$m=e.unstable_requestPaint,rt=e.unstable_now,yd=e.unstable_getCurrentPriorityLevel,xo=e.unstable_ImmediatePriority,rs=e.unstable_UserBlockingPriority,qn=e.unstable_NormalPriority,Bu=e.unstable_LowPriority,vd=e.unstable_IdlePriority,bo=null,Nn=null;function wd(s){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(bo,s,void 0,(s.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Ed,zu=Math.log,_d=Math.LN2;function Ed(s){return s>>>=0,s===0?32:31-(zu(s)/_d|0)|0}var ja=64,$a=4194304;function is(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function So(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes,C=c&268435455;if(C!==0){var F=C&~g;F!==0?p=is(F):(w&=C,w!==0&&(p=is(w)))}else C=c&~g,C!==0?p=is(C):w!==0&&(p=is(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&g)&&(g=p&-p,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-pn(a),g=1<<c,p|=s[c],a&=~g;return p}function Fm(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var C=31-pn(w),F=1<<C,z=g[C];z===-1?(!(F&c)||F&p)&&(g[C]=Fm(F,a)):z<=a&&(s.expiredLanes|=F),w&=~F}}function Dn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Io(){var s=ja;return ja<<=1,!(ja&4194240)&&(ja=64),s}function ss(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function os(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-pn(a),s[a]=c}function tt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-pn(c),w=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~w}}function as(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-pn(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var He=0;function ls(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Td,Fa,xd,bd,Sd,qu=!1,Rr=[],Gt=null,dr=null,fr=null,us=new Map,Hn=new Map,kr=[],Um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(s,a){switch(s){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":us.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(a.pointerId)}}function _n(s,a,c,p,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[g]},a!==null&&(a=sc(a),a!==null&&Fa(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Bm(s,a,c,p,g){switch(a){case"focusin":return Gt=_n(Gt,s,a,c,p,g),!0;case"dragenter":return dr=_n(dr,s,a,c,p,g),!0;case"mouseover":return fr=_n(fr,s,a,c,p,g),!0;case"pointerover":var w=g.pointerId;return us.set(w,_n(us.get(w)||null,s,a,c,p,g)),!0;case"gotpointercapture":return w=g.pointerId,Hn.set(w,_n(Hn.get(w)||null,s,a,c,p,g)),!0}return!1}function Cd(s){var a=ko(s.target);if(a!==null){var c=cr(a);if(c!==null){if(a=c.tag,a===13){if(a=To(c),a!==null){s.blockedOn=a,Sd(s.priority,function(){xd(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ci(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ua(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);vo=p,c.target.dispatchEvent(p),vo=null}else return a=sc(c),a!==null&&Fa(a),s.blockedOn=c,!1;a.shift()}return!0}function Co(s,a,c){ci(s)&&c.delete(a)}function Ad(){qu=!1,Gt!==null&&ci(Gt)&&(Gt=null),dr!==null&&ci(dr)&&(dr=null),fr!==null&&ci(fr)&&(fr=null),us.forEach(Co),Hn.forEach(Co)}function pr(s,a){s.blockedOn===a&&(s.blockedOn=null,qu||(qu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ad)))}function mr(s){function a(g){return pr(g,s)}if(0<Rr.length){pr(Rr[0],s);for(var c=1;c<Rr.length;c++){var p=Rr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Gt!==null&&pr(Gt,s),dr!==null&&pr(dr,s),fr!==null&&pr(fr,s),us.forEach(a),Hn.forEach(a),c=0;c<kr.length;c++)p=kr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<kr.length&&(c=kr[0],c.blockedOn===null);)Cd(c),c.blockedOn===null&&kr.shift()}var hi=W.ReactCurrentBatchConfig,cs=!0;function lt(s,a,c,p){var g=He,w=hi.transition;hi.transition=null;try{He=1,Hu(s,a,c,p)}finally{He=g,hi.transition=w}}function zm(s,a,c,p){var g=He,w=hi.transition;hi.transition=null;try{He=4,Hu(s,a,c,p)}finally{He=g,hi.transition=w}}function Hu(s,a,c,p){if(cs){var g=Ua(s,a,c,p);if(g===null)eg(s,a,p,Ao,c),Id(s,p);else if(Bm(g,s,a,c,p))p.stopPropagation();else if(Id(s,p),a&4&&-1<Um.indexOf(s)){for(;g!==null;){var w=sc(g);if(w!==null&&Td(w),w=Ua(s,a,c,p),w===null&&eg(s,a,p,Ao,c),w===g)break;g=w}g!==null&&p.stopPropagation()}else eg(s,a,p,null,c)}}var Ao=null;function Ua(s,a,c,p){if(Ao=null,s=Ra(p),s=ko(s),s!==null)if(a=cr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=To(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ao=s,null}function Wu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yd()){case xo:return 1;case rs:return 4;case qn:case Bu:return 16;case vd:return 536870912;default:return 16}default:return 16}}var Ln=null,Ba=null,En=null;function Gu(){if(En)return En;var s,a=Ba,c=a.length,p,g="value"in Ln?Ln.value:Ln.textContent,w=g.length;for(s=0;s<c&&a[s]===g[s];s++);var C=c-s;for(p=1;p<=C&&a[c-p]===g[w-p];p++);return En=g.slice(s,1<p?1-p:void 0)}function za(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Or(){return!0}function Ku(){return!1}function Kt(s){function a(c,p,g,w,C){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(c=s[F],this[F]=c?c(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Or:Ku,this.isPropagationStopped=Ku,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),a}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Kt(gr),Nr=ae({},gr,{view:0,detail:0}),qm=Kt(Nr),Ha,di,hs,Po=ae({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(Ha=s.screenX-hs.screenX,di=s.screenY-hs.screenY):di=Ha=0,hs=s),Ha)},movementY:function(s){return"movementY"in s?s.movementY:di}}),Wa=Kt(Po),Qu=ae({},Po,{dataTransfer:0}),Pd=Kt(Qu),Ga=ae({},Nr,{relatedTarget:0}),Ka=Kt(Ga),Rd=ae({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),fi=Kt(Rd),kd=ae({},gr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Od=Kt(kd),Nd=ae({},gr,{data:0}),Yu=Kt(Nd),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ld(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Dd[s])?!!a[s]:!1}function Dr(){return Ld}var f=ae({},Nr,{key:function(s){if(s.key){var a=Qa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=za(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(s){return s.type==="keypress"?za(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?za(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Kt(f),T=ae({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=Kt(T),G=ae({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),Z=Kt(G),de=ae({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Kt(de),Nt=ae({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Kt(Nt),Bt=[9,13,27,32],Ct=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var Vn=u&&"TextEvent"in window&&!Wn,Ro=u&&(!Ct||Wn&&8<Wn&&11>=Wn),Ya=" ",u_=!1;function c_(s,a){switch(s){case"keyup":return Bt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xa=!1;function kk(s,a){switch(s){case"compositionend":return h_(a);case"keypress":return a.which!==32?null:(u_=!0,Ya);case"textInput":return s=a.data,s===Ya&&u_?null:s;default:return null}}function Ok(s,a){if(Xa)return s==="compositionend"||!Ct&&c_(s,a)?(s=Gu(),En=Ba=Ln=null,Xa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ro&&a.locale!=="ko"?null:a.data;default:return null}}var Nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Nk[s.type]:a==="textarea"}function f_(s,a,c,p){Pr(p),a=Fd(a,"onChange"),0<a.length&&(c=new qa("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Xu=null,Ju=null;function Dk(s){k_(s,0)}function Vd(s){var a=nl(s);if(Sa(a))return s}function Lk(s,a){if(s==="change")return a}var p_=!1;if(u){var Hm;if(u){var Wm="oninput"in document;if(!Wm){var m_=document.createElement("div");m_.setAttribute("oninput","return;"),Wm=typeof m_.oninput=="function"}Hm=Wm}else Hm=!1;p_=Hm&&(!document.documentMode||9<document.documentMode)}function g_(){Xu&&(Xu.detachEvent("onpropertychange",y_),Ju=Xu=null)}function y_(s){if(s.propertyName==="value"&&Vd(Ju)){var a=[];f_(a,Ju,s,Ra(s)),ju(Dk,a)}}function Vk(s,a,c){s==="focusin"?(g_(),Xu=a,Ju=c,Xu.attachEvent("onpropertychange",y_)):s==="focusout"&&g_()}function Mk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vd(Ju)}function jk(s,a){if(s==="click")return Vd(a)}function $k(s,a){if(s==="input"||s==="change")return Vd(a)}function Fk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var yr=typeof Object.is=="function"?Object.is:Fk;function Zu(s,a){if(yr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!yr(s[g],a[g]))return!1}return!0}function v_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function w_(s,a){var c=v_(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=v_(c)}}function __(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?__(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function E_(){for(var s=window,a=ts();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ts(s.document)}return a}function Gm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Uk(s){var a=E_(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&__(c.ownerDocument.documentElement,c)){if(p!==null&&Gm(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(p.start,g);p=p.end===void 0?w:Math.min(p.end,g),!s.extend&&w>p&&(g=p,p=w,w=g),g=w_(c,w);var C=w_(c,p);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Bk=u&&"documentMode"in document&&11>=document.documentMode,Ja=null,Km=null,ec=null,Qm=!1;function T_(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qm||Ja==null||Ja!==ts(p)||(p=Ja,"selectionStart"in p&&Gm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ec&&Zu(ec,p)||(ec=p,p=Fd(Km,"onSelect"),0<p.length&&(a=new qa("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Ja)))}function Md(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Za={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},Ym={},x_={};u&&(x_=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function jd(s){if(Ym[s])return Ym[s];if(!Za[s])return s;var a=Za[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in x_)return Ym[s]=a[c];return s}var b_=jd("animationend"),S_=jd("animationiteration"),I_=jd("animationstart"),C_=jd("transitionend"),A_=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(s,a){A_.set(s,a),o(a,[s])}for(var Xm=0;Xm<P_.length;Xm++){var Jm=P_[Xm],zk=Jm.toLowerCase(),qk=Jm[0].toUpperCase()+Jm.slice(1);ds(zk,"on"+qk)}ds(b_,"onAnimationEnd"),ds(S_,"onAnimationIteration"),ds(I_,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(C_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hk=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function R_(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,pd(p,a,void 0,s),s.currentTarget=null}function k_(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var C=p.length-1;0<=C;C--){var F=p[C],z=F.instance,Y=F.currentTarget;if(F=F.listener,z!==w&&g.isPropagationStopped())break e;R_(g,F,Y),w=z}else for(C=0;C<p.length;C++){if(F=p[C],z=F.instance,Y=F.currentTarget,F=F.listener,z!==w&&g.isPropagationStopped())break e;R_(g,F,Y),w=z}}}if(ur)throw s=$u,ur=!1,$u=null,s}function st(s,a){var c=a[og];c===void 0&&(c=a[og]=new Set);var p=s+"__bubble";c.has(p)||(O_(a,s,2,!1),c.add(p))}function Zm(s,a,c){var p=0;a&&(p|=4),O_(c,s,p,a)}var $d="_reactListening"+Math.random().toString(36).slice(2);function nc(s){if(!s[$d]){s[$d]=!0,r.forEach(function(c){c!=="selectionchange"&&(Hk.has(c)||Zm(c,!1,s),Zm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[$d]||(a[$d]=!0,Zm("selectionchange",!1,a))}}function O_(s,a,c,p){switch(Wu(a)){case 1:var g=lt;break;case 4:g=zm;break;default:g=Hu}c=g.bind(null,a,c,s),g=void 0,!Na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function eg(s,a,c,p,g){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var F=p.stateNode.containerInfo;if(F===g||F.nodeType===8&&F.parentNode===g)break;if(C===4)for(C=p.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;C=C.return}for(;F!==null;){if(C=ko(F),C===null)return;if(z=C.tag,z===5||z===6){p=w=C;continue e}F=F.parentNode}}p=p.return}ju(function(){var Y=w,oe=Ra(c),ue=[];e:{var se=A_.get(s);if(se!==void 0){var ve=qa,Ee=s;switch(s){case"keypress":if(za(c)===0)break e;case"keydown":case"keyup":ve=v;break;case"focusin":Ee="focus",ve=Ka;break;case"focusout":Ee="blur",ve=Ka;break;case"beforeblur":case"afterblur":ve=Ka;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Z;break;case b_:case S_:case I_:ve=fi;break;case C_:ve=Ze;break;case"scroll":ve=qm;break;case"wheel":ve=Ge;break;case"copy":case"cut":case"paste":ve=Od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=N}var Te=(a&4)!==0,xt=!Te&&s==="scroll",K=Te?se!==null?se+"Capture":null:se;Te=[];for(var H=Y,Q;H!==null;){Q=H;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,K!==null&&(he=Tt(H,K),he!=null&&Te.push(rc(H,he,Q)))),xt)break;H=H.return}0<Te.length&&(se=new ve(se,Ee,null,c,oe),ue.push({event:se,listeners:Te}))}}if(!(a&7)){e:{if(se=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",se&&c!==vo&&(Ee=c.relatedTarget||c.fromElement)&&(ko(Ee)||Ee[pi]))break e;if((ve||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ve?(Ee=c.relatedTarget||c.toElement,ve=Y,Ee=Ee?ko(Ee):null,Ee!==null&&(xt=cr(Ee),Ee!==xt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ve=null,Ee=Y),ve!==Ee)){if(Te=Wa,he="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Te=N,he="onPointerLeave",K="onPointerEnter",H="pointer"),xt=ve==null?se:nl(ve),Q=Ee==null?se:nl(Ee),se=new Te(he,H+"leave",ve,c,oe),se.target=xt,se.relatedTarget=Q,he=null,ko(oe)===Y&&(Te=new Te(K,H+"enter",Ee,c,oe),Te.target=Q,Te.relatedTarget=xt,he=Te),xt=he,ve&&Ee)t:{for(Te=ve,K=Ee,H=0,Q=Te;Q;Q=el(Q))H++;for(Q=0,he=K;he;he=el(he))Q++;for(;0<H-Q;)Te=el(Te),H--;for(;0<Q-H;)K=el(K),Q--;for(;H--;){if(Te===K||K!==null&&Te===K.alternate)break t;Te=el(Te),K=el(K)}Te=null}else Te=null;ve!==null&&N_(ue,se,ve,Te,!1),Ee!==null&&xt!==null&&N_(ue,xt,Ee,Te,!0)}}e:{if(se=Y?nl(Y):window,ve=se.nodeName&&se.nodeName.toLowerCase(),ve==="select"||ve==="input"&&se.type==="file")var be=Lk;else if(d_(se))if(p_)be=$k;else{be=Mk;var Ie=Vk}else(ve=se.nodeName)&&ve.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(be=jk);if(be&&(be=be(s,Y))){f_(ue,be,c,oe);break e}Ie&&Ie(s,se,Y),s==="focusout"&&(Ie=se._wrapperState)&&Ie.controlled&&se.type==="number"&&Ca(se,"number",se.value)}switch(Ie=Y?nl(Y):window,s){case"focusin":(d_(Ie)||Ie.contentEditable==="true")&&(Ja=Ie,Km=Y,ec=null);break;case"focusout":ec=Km=Ja=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,T_(ue,c,oe);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":T_(ue,c,oe)}var Ce;if(Ct)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Xa?c_(s,c)&&(Oe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ro&&c.locale!=="ko"&&(Xa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Xa&&(Ce=Gu()):(Ln=oe,Ba="value"in Ln?Ln.value:Ln.textContent,Xa=!0)),Ie=Fd(Y,Oe),0<Ie.length&&(Oe=new Yu(Oe,s,null,c,oe),ue.push({event:Oe,listeners:Ie}),Ce?Oe.data=Ce:(Ce=h_(c),Ce!==null&&(Oe.data=Ce)))),(Ce=Vn?kk(s,c):Ok(s,c))&&(Y=Fd(Y,"onBeforeInput"),0<Y.length&&(oe=new Yu("onBeforeInput","beforeinput",null,c,oe),ue.push({event:oe,listeners:Y}),oe.data=Ce))}k_(ue,a)})}function rc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Fd(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Tt(s,c),w!=null&&p.unshift(rc(s,w,g)),w=Tt(s,a),w!=null&&p.push(rc(s,w,g))),s=s.return}return p}function el(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function N_(s,a,c,p,g){for(var w=a._reactName,C=[];c!==null&&c!==p;){var F=c,z=F.alternate,Y=F.stateNode;if(z!==null&&z===p)break;F.tag===5&&Y!==null&&(F=Y,g?(z=Tt(c,w),z!=null&&C.unshift(rc(c,z,F))):g||(z=Tt(c,w),z!=null&&C.push(rc(c,z,F)))),c=c.return}C.length!==0&&s.push({event:a,listeners:C})}var Wk=/\r\n?/g,Gk=/\u0000|\uFFFD/g;function D_(s){return(typeof s=="string"?s:""+s).replace(Wk,`
`).replace(Gk,"")}function Ud(s,a,c){if(a=D_(a),D_(s)!==a&&c)throw Error(t(425))}function Bd(){}var tg=null,ng=null;function rg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,Qk=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(s){return L_.resolve(null).then(s).catch(Yk)}:ig;function Yk(s){setTimeout(function(){throw s})}function sg(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),mr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);mr(a)}function fs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function V_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Lr="__reactFiber$"+tl,ic="__reactProps$"+tl,pi="__reactContainer$"+tl,og="__reactEvents$"+tl,Xk="__reactListeners$"+tl,Jk="__reactHandles$"+tl;function ko(s){var a=s[Lr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[pi]||c[Lr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=V_(s);s!==null;){if(c=s[Lr])return c;s=V_(s)}return a}s=c,c=s.parentNode}return null}function sc(s){return s=s[Lr]||s[pi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function nl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function zd(s){return s[ic]||null}var ag=[],rl=-1;function ps(s){return{current:s}}function ot(s){0>rl||(s.current=ag[rl],ag[rl]=null,rl--)}function it(s,a){rl++,ag[rl]=s.current,s.current=a}var ms={},tn=ps(ms),Tn=ps(!1),Oo=ms;function il(s,a){var c=s.type.contextTypes;if(!c)return ms;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function xn(s){return s=s.childContextTypes,s!=null}function qd(){ot(Tn),ot(tn)}function M_(s,a,c){if(tn.current!==ms)throw Error(t(168));it(tn,a),it(Tn,c)}function j_(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,ze(s)||"Unknown",g));return ae({},c,p)}function Hd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ms,Oo=tn.current,it(tn,s),it(Tn,Tn.current),!0}function $_(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=j_(s,a,Oo),p.__reactInternalMemoizedMergedChildContext=s,ot(Tn),ot(tn),it(tn,s)):ot(Tn),it(Tn,c)}var mi=null,Wd=!1,lg=!1;function F_(s){mi===null?mi=[s]:mi.push(s)}function Zk(s){Wd=!0,F_(s)}function gs(){if(!lg&&mi!==null){lg=!0;var s=0,a=He;try{var c=mi;for(He=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}mi=null,Wd=!1}catch(g){throw mi!==null&&(mi=mi.slice(s+1)),Ma(xo,gs),g}finally{He=a,lg=!1}}return null}var sl=[],ol=0,Gd=null,Kd=0,Gn=[],Kn=0,No=null,gi=1,yi="";function Do(s,a){sl[ol++]=Kd,sl[ol++]=Gd,Gd=s,Kd=a}function U_(s,a,c){Gn[Kn++]=gi,Gn[Kn++]=yi,Gn[Kn++]=No,No=s;var p=gi;s=yi;var g=32-pn(p)-1;p&=~(1<<g),c+=1;var w=32-pn(a)+g;if(30<w){var C=g-g%5;w=(p&(1<<C)-1).toString(32),p>>=C,g-=C,gi=1<<32-pn(a)+g|c<<g|p,yi=w+s}else gi=1<<w|c<<g|p,yi=s}function ug(s){s.return!==null&&(Do(s,1),U_(s,1,0))}function cg(s){for(;s===Gd;)Gd=sl[--ol],sl[ol]=null,Kd=sl[--ol],sl[ol]=null;for(;s===No;)No=Gn[--Kn],Gn[Kn]=null,yi=Gn[--Kn],Gn[Kn]=null,gi=Gn[--Kn],Gn[Kn]=null}var Mn=null,jn=null,ut=!1,vr=null;function B_(s,a){var c=Jn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function z_(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Mn=s,jn=fs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Mn=s,jn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=No!==null?{id:gi,overflow:yi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Jn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Mn=s,jn=null,!0):!1;default:return!1}}function hg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function dg(s){if(ut){var a=jn;if(a){var c=a;if(!z_(s,a)){if(hg(s))throw Error(t(418));a=fs(c.nextSibling);var p=Mn;a&&z_(s,a)?B_(p,c):(s.flags=s.flags&-4097|2,ut=!1,Mn=s)}}else{if(hg(s))throw Error(t(418));s.flags=s.flags&-4097|2,ut=!1,Mn=s}}}function q_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Mn=s}function Qd(s){if(s!==Mn)return!1;if(!ut)return q_(s),ut=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!rg(s.type,s.memoizedProps)),a&&(a=jn)){if(hg(s))throw H_(),Error(t(418));for(;a;)B_(s,a),a=fs(a.nextSibling)}if(q_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){jn=fs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}jn=null}}else jn=Mn?fs(s.stateNode.nextSibling):null;return!0}function H_(){for(var s=jn;s;)s=fs(s.nextSibling)}function al(){jn=Mn=null,ut=!1}function fg(s){vr===null?vr=[s]:vr.push(s)}var eO=W.ReactCurrentBatchConfig;function oc(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var g=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(C){var F=g.refs;C===null?delete F[w]:F[w]=C},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Yd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function W_(s){var a=s._init;return a(s._payload)}function G_(s){function a(K,H){if(s){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function c(K,H){if(!s)return null;for(;H!==null;)a(K,H),H=H.sibling;return null}function p(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function g(K,H){return K=bs(K,H),K.index=0,K.sibling=null,K}function w(K,H,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=2,H):Q):(K.flags|=2,H)):(K.flags|=1048576,H)}function C(K){return s&&K.alternate===null&&(K.flags|=2),K}function F(K,H,Q,he){return H===null||H.tag!==6?(H=iy(Q,K.mode,he),H.return=K,H):(H=g(H,Q),H.return=K,H)}function z(K,H,Q,he){var be=Q.type;return be===j?oe(K,H,Q.props.children,he,Q.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&W_(be)===H.type)?(he=g(H,Q.props),he.ref=oc(K,H,Q),he.return=K,he):(he=Ef(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=oc(K,H,Q),he.return=K,he)}function Y(K,H,Q,he){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=sy(Q,K.mode,he),H.return=K,H):(H=g(H,Q.children||[]),H.return=K,H)}function oe(K,H,Q,he,be){return H===null||H.tag!==7?(H=Bo(Q,K.mode,he,be),H.return=K,H):(H=g(H,Q),H.return=K,H)}function ue(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=iy(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case X:return Q=Ef(H.type,H.key,H.props,null,K.mode,Q),Q.ref=oc(K,null,H),Q.return=K,Q;case J:return H=sy(H,K.mode,Q),H.return=K,H;case ee:var he=H._init;return ue(K,he(H._payload),Q)}if(si(H)||fe(H))return H=Bo(H,K.mode,Q,null),H.return=K,H;Yd(K,H)}return null}function se(K,H,Q,he){var be=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return be!==null?null:F(K,H,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return Q.key===be?z(K,H,Q,he):null;case J:return Q.key===be?Y(K,H,Q,he):null;case ee:return be=Q._init,se(K,H,be(Q._payload),he)}if(si(Q)||fe(Q))return be!==null?null:oe(K,H,Q,he,null);Yd(K,Q)}return null}function ve(K,H,Q,he,be){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Q)||null,F(H,K,""+he,be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case X:return K=K.get(he.key===null?Q:he.key)||null,z(H,K,he,be);case J:return K=K.get(he.key===null?Q:he.key)||null,Y(H,K,he,be);case ee:var Ie=he._init;return ve(K,H,Q,Ie(he._payload),be)}if(si(he)||fe(he))return K=K.get(Q)||null,oe(H,K,he,be,null);Yd(H,he)}return null}function Ee(K,H,Q,he){for(var be=null,Ie=null,Ce=H,Oe=H=0,Ht=null;Ce!==null&&Oe<Q.length;Oe++){Ce.index>Oe?(Ht=Ce,Ce=null):Ht=Ce.sibling;var Xe=se(K,Ce,Q[Oe],he);if(Xe===null){Ce===null&&(Ce=Ht);break}s&&Ce&&Xe.alternate===null&&a(K,Ce),H=w(Xe,H,Oe),Ie===null?be=Xe:Ie.sibling=Xe,Ie=Xe,Ce=Ht}if(Oe===Q.length)return c(K,Ce),ut&&Do(K,Oe),be;if(Ce===null){for(;Oe<Q.length;Oe++)Ce=ue(K,Q[Oe],he),Ce!==null&&(H=w(Ce,H,Oe),Ie===null?be=Ce:Ie.sibling=Ce,Ie=Ce);return ut&&Do(K,Oe),be}for(Ce=p(K,Ce);Oe<Q.length;Oe++)Ht=ve(Ce,K,Oe,Q[Oe],he),Ht!==null&&(s&&Ht.alternate!==null&&Ce.delete(Ht.key===null?Oe:Ht.key),H=w(Ht,H,Oe),Ie===null?be=Ht:Ie.sibling=Ht,Ie=Ht);return s&&Ce.forEach(function(Ss){return a(K,Ss)}),ut&&Do(K,Oe),be}function Te(K,H,Q,he){var be=fe(Q);if(typeof be!="function")throw Error(t(150));if(Q=be.call(Q),Q==null)throw Error(t(151));for(var Ie=be=null,Ce=H,Oe=H=0,Ht=null,Xe=Q.next();Ce!==null&&!Xe.done;Oe++,Xe=Q.next()){Ce.index>Oe?(Ht=Ce,Ce=null):Ht=Ce.sibling;var Ss=se(K,Ce,Xe.value,he);if(Ss===null){Ce===null&&(Ce=Ht);break}s&&Ce&&Ss.alternate===null&&a(K,Ce),H=w(Ss,H,Oe),Ie===null?be=Ss:Ie.sibling=Ss,Ie=Ss,Ce=Ht}if(Xe.done)return c(K,Ce),ut&&Do(K,Oe),be;if(Ce===null){for(;!Xe.done;Oe++,Xe=Q.next())Xe=ue(K,Xe.value,he),Xe!==null&&(H=w(Xe,H,Oe),Ie===null?be=Xe:Ie.sibling=Xe,Ie=Xe);return ut&&Do(K,Oe),be}for(Ce=p(K,Ce);!Xe.done;Oe++,Xe=Q.next())Xe=ve(Ce,K,Oe,Xe.value,he),Xe!==null&&(s&&Xe.alternate!==null&&Ce.delete(Xe.key===null?Oe:Xe.key),H=w(Xe,H,Oe),Ie===null?be=Xe:Ie.sibling=Xe,Ie=Xe);return s&&Ce.forEach(function(OO){return a(K,OO)}),ut&&Do(K,Oe),be}function xt(K,H,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:e:{for(var be=Q.key,Ie=H;Ie!==null;){if(Ie.key===be){if(be=Q.type,be===j){if(Ie.tag===7){c(K,Ie.sibling),H=g(Ie,Q.props.children),H.return=K,K=H;break e}}else if(Ie.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&W_(be)===Ie.type){c(K,Ie.sibling),H=g(Ie,Q.props),H.ref=oc(K,Ie,Q),H.return=K,K=H;break e}c(K,Ie);break}else a(K,Ie);Ie=Ie.sibling}Q.type===j?(H=Bo(Q.props.children,K.mode,he,Q.key),H.return=K,K=H):(he=Ef(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=oc(K,H,Q),he.return=K,K=he)}return C(K);case J:e:{for(Ie=Q.key;H!==null;){if(H.key===Ie)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){c(K,H.sibling),H=g(H,Q.children||[]),H.return=K,K=H;break e}else{c(K,H);break}else a(K,H);H=H.sibling}H=sy(Q,K.mode,he),H.return=K,K=H}return C(K);case ee:return Ie=Q._init,xt(K,H,Ie(Q._payload),he)}if(si(Q))return Ee(K,H,Q,he);if(fe(Q))return Te(K,H,Q,he);Yd(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(c(K,H.sibling),H=g(H,Q),H.return=K,K=H):(c(K,H),H=iy(Q,K.mode,he),H.return=K,K=H),C(K)):c(K,H)}return xt}var ll=G_(!0),K_=G_(!1),Xd=ps(null),Jd=null,ul=null,pg=null;function mg(){pg=ul=Jd=null}function gg(s){var a=Xd.current;ot(Xd),s._currentValue=a}function yg(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function cl(s,a){Jd=s,pg=ul=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(bn=!0),s.firstContext=null)}function Qn(s){var a=s._currentValue;if(pg!==s)if(s={context:s,memoizedValue:a,next:null},ul===null){if(Jd===null)throw Error(t(308));ul=s,Jd.dependencies={lanes:0,firstContext:s}}else ul=ul.next=s;return a}var Lo=null;function vg(s){Lo===null?Lo=[s]:Lo.push(s)}function Q_(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,vg(a)):(c.next=g.next,g.next=c),a.interleaved=c,vi(s,p)}function vi(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ys=!1;function wg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function vs(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Ye&2){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,vi(s,c)}return g=p.interleaved,g===null?(a.next=a,vg(p)):(a.next=g.next,g.next=a),p.interleaved=a,vi(s,c)}function Zd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,as(s,c)}}function X_(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=C:w=w.next=C,c=c.next}while(c!==null);w===null?g=w=a:w=w.next=a}else g=w=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function ef(s,a,c,p){var g=s.updateQueue;ys=!1;var w=g.firstBaseUpdate,C=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var z=F,Y=z.next;z.next=null,C===null?w=Y:C.next=Y,C=z;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,F=oe.lastBaseUpdate,F!==C&&(F===null?oe.firstBaseUpdate=Y:F.next=Y,oe.lastBaseUpdate=z))}if(w!==null){var ue=g.baseState;C=0,oe=Y=z=null,F=w;do{var se=F.lane,ve=F.eventTime;if((p&se)===se){oe!==null&&(oe=oe.next={eventTime:ve,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Ee=s,Te=F;switch(se=a,ve=c,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){ue=Ee.call(ve,ue,se);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,se=typeof Ee=="function"?Ee.call(ve,ue,se):Ee,se==null)break e;ue=ae({},ue,se);break e;case 2:ys=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[F]:se.push(F))}else ve={eventTime:ve,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},oe===null?(Y=oe=ve,z=ue):oe=oe.next=ve,C|=se;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;se=F,F=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(z=ue),g.baseState=z,g.firstBaseUpdate=Y,g.lastBaseUpdate=oe,a=g.shared.interleaved,a!==null){g=a;do C|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);jo|=C,s.lanes=C,s.memoizedState=ue}}function J_(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var ac={},Vr=ps(ac),lc=ps(ac),uc=ps(ac);function Vo(s){if(s===ac)throw Error(t(174));return s}function _g(s,a){switch(it(uc,a),it(lc,s),it(Vr,ac),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ot(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ot(a,s)}ot(Vr),it(Vr,a)}function hl(){ot(Vr),ot(lc),ot(uc)}function Z_(s){Vo(uc.current);var a=Vo(Vr.current),c=Ot(a,s.type);a!==c&&(it(lc,s),it(Vr,c))}function Eg(s){lc.current===s&&(ot(Vr),ot(lc))}var dt=ps(0);function tf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tg=[];function xg(){for(var s=0;s<Tg.length;s++)Tg[s]._workInProgressVersionPrimary=null;Tg.length=0}var nf=W.ReactCurrentDispatcher,bg=W.ReactCurrentBatchConfig,Mo=0,ft=null,Dt=null,zt=null,rf=!1,cc=!1,hc=0,tO=0;function nn(){throw Error(t(321))}function Sg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!yr(s[c],a[c]))return!1;return!0}function Ig(s,a,c,p,g,w){if(Mo=w,ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,nf.current=s===null||s.memoizedState===null?sO:oO,s=c(p,g),cc){w=0;do{if(cc=!1,hc=0,25<=w)throw Error(t(301));w+=1,zt=Dt=null,a.updateQueue=null,nf.current=aO,s=c(p,g)}while(cc)}if(nf.current=af,a=Dt!==null&&Dt.next!==null,Mo=0,zt=Dt=ft=null,rf=!1,a)throw Error(t(300));return s}function Cg(){var s=hc!==0;return hc=0,s}function Mr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ft.memoizedState=zt=s:zt=zt.next=s,zt}function Yn(){if(Dt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var a=zt===null?ft.memoizedState:zt.next;if(a!==null)zt=a,Dt=s;else{if(s===null)throw Error(t(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},zt===null?ft.memoizedState=zt=s:zt=zt.next=s}return zt}function dc(s,a){return typeof a=="function"?a(s):a}function Ag(s){var a=Yn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=Dt,g=p.baseQueue,w=c.pending;if(w!==null){if(g!==null){var C=g.next;g.next=w.next,w.next=C}p.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,p=p.baseState;var F=C=null,z=null,Y=w;do{var oe=Y.lane;if((Mo&oe)===oe)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var ue={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(F=z=ue,C=p):z=z.next=ue,ft.lanes|=oe,jo|=oe}Y=Y.next}while(Y!==null&&Y!==w);z===null?C=p:z.next=F,yr(p,a.memoizedState)||(bn=!0),a.memoizedState=p,a.baseState=C,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do w=g.lane,ft.lanes|=w,jo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Pg(s){var a=Yn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,w=a.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do w=s(w,C.action),C=C.next;while(C!==g);yr(w,a.memoizedState)||(bn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function eE(){}function tE(s,a){var c=ft,p=Yn(),g=a(),w=!yr(p.memoizedState,g);if(w&&(p.memoizedState=g,bn=!0),p=p.queue,Rg(iE.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,fc(9,rE.bind(null,c,p,g,a),void 0,null),qt===null)throw Error(t(349));Mo&30||nE(c,a,g)}return g}function nE(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function rE(s,a,c,p){a.value=c,a.getSnapshot=p,sE(a)&&oE(s)}function iE(s,a,c){return c(function(){sE(a)&&oE(s)})}function sE(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!yr(s,c)}catch{return!0}}function oE(s){var a=vi(s,1);a!==null&&Tr(a,s,1,-1)}function aE(s){var a=Mr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:s},a.queue=s,s=s.dispatch=iO.bind(null,ft,s),[a.memoizedState,s]}function fc(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function lE(){return Yn().memoizedState}function sf(s,a,c,p){var g=Mr();ft.flags|=s,g.memoizedState=fc(1|a,c,void 0,p===void 0?null:p)}function of(s,a,c,p){var g=Yn();p=p===void 0?null:p;var w=void 0;if(Dt!==null){var C=Dt.memoizedState;if(w=C.destroy,p!==null&&Sg(p,C.deps)){g.memoizedState=fc(a,c,w,p);return}}ft.flags|=s,g.memoizedState=fc(1|a,c,w,p)}function uE(s,a){return sf(8390656,8,s,a)}function Rg(s,a){return of(2048,8,s,a)}function cE(s,a){return of(4,2,s,a)}function hE(s,a){return of(4,4,s,a)}function dE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function fE(s,a,c){return c=c!=null?c.concat([s]):null,of(4,4,dE.bind(null,a,s),c)}function kg(){}function pE(s,a){var c=Yn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Sg(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function mE(s,a){var c=Yn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Sg(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function gE(s,a,c){return Mo&21?(yr(c,a)||(c=Io(),ft.lanes|=c,jo|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,bn=!0),s.memoizedState=c)}function nO(s,a){var c=He;He=c!==0&&4>c?c:4,s(!0);var p=bg.transition;bg.transition={};try{s(!1),a()}finally{He=c,bg.transition=p}}function yE(){return Yn().memoizedState}function rO(s,a,c){var p=Ts(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},vE(s))wE(a,c);else if(c=Q_(s,a,c,p),c!==null){var g=yn();Tr(c,s,p,g),_E(c,a,p)}}function iO(s,a,c){var p=Ts(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(vE(s))wE(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var C=a.lastRenderedState,F=w(C,c);if(g.hasEagerState=!0,g.eagerState=F,yr(F,C)){var z=a.interleaved;z===null?(g.next=g,vg(a)):(g.next=z.next,z.next=g),a.interleaved=g;return}}catch{}finally{}c=Q_(s,a,g,p),c!==null&&(g=yn(),Tr(c,s,p,g),_E(c,a,p))}}function vE(s){var a=s.alternate;return s===ft||a!==null&&a===ft}function wE(s,a){cc=rf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function _E(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,as(s,c)}}var af={readContext:Qn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},sO={readContext:Qn,useCallback:function(s,a){return Mr().memoizedState=[s,a===void 0?null:a],s},useContext:Qn,useEffect:uE,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,sf(4194308,4,dE.bind(null,a,s),c)},useLayoutEffect:function(s,a){return sf(4194308,4,s,a)},useInsertionEffect:function(s,a){return sf(4,2,s,a)},useMemo:function(s,a){var c=Mr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Mr();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=rO.bind(null,ft,s),[p.memoizedState,s]},useRef:function(s){var a=Mr();return s={current:s},a.memoizedState=s},useState:aE,useDebugValue:kg,useDeferredValue:function(s){return Mr().memoizedState=s},useTransition:function(){var s=aE(!1),a=s[0];return s=nO.bind(null,s[1]),Mr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=ft,g=Mr();if(ut){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),qt===null)throw Error(t(349));Mo&30||nE(p,a,c)}g.memoizedState=c;var w={value:c,getSnapshot:a};return g.queue=w,uE(iE.bind(null,p,w,s),[s]),p.flags|=2048,fc(9,rE.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=Mr(),a=qt.identifierPrefix;if(ut){var c=yi,p=gi;c=(p&~(1<<32-pn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=hc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=tO++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},oO={readContext:Qn,useCallback:pE,useContext:Qn,useEffect:Rg,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:hE,useMemo:mE,useReducer:Ag,useRef:lE,useState:function(){return Ag(dc)},useDebugValue:kg,useDeferredValue:function(s){var a=Yn();return gE(a,Dt.memoizedState,s)},useTransition:function(){var s=Ag(dc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:eE,useSyncExternalStore:tE,useId:yE,unstable_isNewReconciler:!1},aO={readContext:Qn,useCallback:pE,useContext:Qn,useEffect:Rg,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:hE,useMemo:mE,useReducer:Pg,useRef:lE,useState:function(){return Pg(dc)},useDebugValue:kg,useDeferredValue:function(s){var a=Yn();return Dt===null?a.memoizedState=s:gE(a,Dt.memoizedState,s)},useTransition:function(){var s=Pg(dc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:eE,useSyncExternalStore:tE,useId:yE,unstable_isNewReconciler:!1};function wr(s,a){if(s&&s.defaultProps){a=ae({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Og(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:ae({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var lf={isMounted:function(s){return(s=s._reactInternals)?cr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=yn(),g=Ts(s),w=wi(p,g);w.payload=a,c!=null&&(w.callback=c),a=vs(s,w,g),a!==null&&(Tr(a,s,g,p),Zd(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=yn(),g=Ts(s),w=wi(p,g);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=vs(s,w,g),a!==null&&(Tr(a,s,g,p),Zd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=yn(),p=Ts(s),g=wi(c,p);g.tag=2,a!=null&&(g.callback=a),a=vs(s,g,p),a!==null&&(Tr(a,s,p,c),Zd(a,s,p))}};function EE(s,a,c,p,g,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,C):a.prototype&&a.prototype.isPureReactComponent?!Zu(c,p)||!Zu(g,w):!0}function TE(s,a,c){var p=!1,g=ms,w=a.contextType;return typeof w=="object"&&w!==null?w=Qn(w):(g=xn(a)?Oo:tn.current,p=a.contextTypes,w=(p=p!=null)?il(s,g):ms),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=lf,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function xE(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&lf.enqueueReplaceState(a,a.state,null)}function Ng(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},wg(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=Qn(w):(w=xn(a)?Oo:tn.current,g.context=il(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Og(s,a,w,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&lf.enqueueReplaceState(g,g.state,null),ef(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function dl(s,a){try{var c="",p=a;do c+=Re(p),p=p.return;while(p);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function Dg(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Lg(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var lO=typeof WeakMap=="function"?WeakMap:Map;function bE(s,a,c){c=wi(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){mf||(mf=!0,Yg=p),Lg(s,a)},c}function SE(s,a,c){c=wi(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Lg(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Lg(s,a),typeof p!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function IE(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new lO;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=TO.bind(null,s,a,c),a.then(s,s))}function CE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function AE(s,a,c,p,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=wi(-1,1),a.tag=2,vs(c,a,1))),c.lanes|=1),s)}var uO=W.ReactCurrentOwner,bn=!1;function gn(s,a,c,p){a.child=s===null?K_(a,null,c,p):ll(a,s.child,c,p)}function PE(s,a,c,p,g){c=c.render;var w=a.ref;return cl(a,g),p=Ig(s,a,c,p,w,g),c=Cg(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,_i(s,a,g)):(ut&&c&&ug(a),a.flags|=1,gn(s,a,p,g),a.child)}function RE(s,a,c,p,g){if(s===null){var w=c.type;return typeof w=="function"&&!ry(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,kE(s,a,w,p,g)):(s=Ef(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&g)){var C=w.memoizedProps;if(c=c.compare,c=c!==null?c:Zu,c(C,p)&&s.ref===a.ref)return _i(s,a,g)}return a.flags|=1,s=bs(w,p),s.ref=a.ref,s.return=a,a.child=s}function kE(s,a,c,p,g){if(s!==null){var w=s.memoizedProps;if(Zu(w,p)&&s.ref===a.ref)if(bn=!1,a.pendingProps=p=w,(s.lanes&g)!==0)s.flags&131072&&(bn=!0);else return a.lanes=s.lanes,_i(s,a,g)}return Vg(s,a,c,p,g)}function OE(s,a,c){var p=a.pendingProps,g=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(pl,$n),$n|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,it(pl,$n),$n|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,it(pl,$n),$n|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,it(pl,$n),$n|=p;return gn(s,a,g,c),a.child}function NE(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Vg(s,a,c,p,g){var w=xn(c)?Oo:tn.current;return w=il(a,w),cl(a,g),c=Ig(s,a,c,p,w,g),p=Cg(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,_i(s,a,g)):(ut&&p&&ug(a),a.flags|=1,gn(s,a,c,g),a.child)}function DE(s,a,c,p,g){if(xn(c)){var w=!0;Hd(a)}else w=!1;if(cl(a,g),a.stateNode===null)cf(s,a),TE(a,c,p),Ng(a,c,p,g),p=!0;else if(s===null){var C=a.stateNode,F=a.memoizedProps;C.props=F;var z=C.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Qn(Y):(Y=xn(c)?Oo:tn.current,Y=il(a,Y));var oe=c.getDerivedStateFromProps,ue=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function";ue||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==p||z!==Y)&&xE(a,C,p,Y),ys=!1;var se=a.memoizedState;C.state=se,ef(a,p,C,g),z=a.memoizedState,F!==p||se!==z||Tn.current||ys?(typeof oe=="function"&&(Og(a,c,oe,p),z=a.memoizedState),(F=ys||EE(a,c,F,p,se,z,Y))?(ue||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),C.props=p,C.state=z,C.context=Y,p=F):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{C=a.stateNode,Y_(s,a),F=a.memoizedProps,Y=a.type===a.elementType?F:wr(a.type,F),C.props=Y,ue=a.pendingProps,se=C.context,z=c.contextType,typeof z=="object"&&z!==null?z=Qn(z):(z=xn(c)?Oo:tn.current,z=il(a,z));var ve=c.getDerivedStateFromProps;(oe=typeof ve=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==ue||se!==z)&&xE(a,C,p,z),ys=!1,se=a.memoizedState,C.state=se,ef(a,p,C,g);var Ee=a.memoizedState;F!==ue||se!==Ee||Tn.current||ys?(typeof ve=="function"&&(Og(a,c,ve,p),Ee=a.memoizedState),(Y=ys||EE(a,c,Y,p,se,Ee,z)||!1)?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,Ee,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,Ee,z)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ee),C.props=p,C.state=Ee,C.context=z,p=Y):(typeof C.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),p=!1)}return Mg(s,a,c,p,w,g)}function Mg(s,a,c,p,g,w){NE(s,a);var C=(a.flags&128)!==0;if(!p&&!C)return g&&$_(a,c,!1),_i(s,a,w);p=a.stateNode,uO.current=a;var F=C&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&C?(a.child=ll(a,s.child,null,w),a.child=ll(a,null,F,w)):gn(s,a,F,w),a.memoizedState=p.state,g&&$_(a,c,!0),a.child}function LE(s){var a=s.stateNode;a.pendingContext?M_(s,a.pendingContext,a.pendingContext!==a.context):a.context&&M_(s,a.context,!1),_g(s,a.containerInfo)}function VE(s,a,c,p,g){return al(),fg(g),a.flags|=256,gn(s,a,c,p),a.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function $g(s){return{baseLanes:s,cachePool:null,transitions:null}}function ME(s,a,c){var p=a.pendingProps,g=dt.current,w=!1,C=(a.flags&128)!==0,F;if((F=C)||(F=s!==null&&s.memoizedState===null?!1:(g&2)!==0),F?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),it(dt,g&1),s===null)return dg(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(C=p.children,s=p.fallback,w?(p=a.mode,w=a.child,C={mode:"hidden",children:C},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=C):w=Tf(C,p,0,null),s=Bo(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=$g(c),a.memoizedState=jg,s):Fg(a,C));if(g=s.memoizedState,g!==null&&(F=g.dehydrated,F!==null))return cO(s,a,C,p,F,g,c);if(w){w=p.fallback,C=a.mode,g=s.child,F=g.sibling;var z={mode:"hidden",children:p.children};return!(C&1)&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=bs(g,z),p.subtreeFlags=g.subtreeFlags&14680064),F!==null?w=bs(F,w):(w=Bo(w,C,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,C=s.child.memoizedState,C=C===null?$g(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=s.childLanes&~c,a.memoizedState=jg,p}return w=s.child,s=w.sibling,p=bs(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Fg(s,a){return a=Tf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function uf(s,a,c,p){return p!==null&&fg(p),ll(a,s.child,null,c),s=Fg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function cO(s,a,c,p,g,w,C){if(c)return a.flags&256?(a.flags&=-257,p=Dg(Error(t(422))),uf(s,a,C,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,g=a.mode,p=Tf({mode:"visible",children:p.children},g,0,null),w=Bo(w,g,C,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&ll(a,s.child,null,C),a.child.memoizedState=$g(C),a.memoizedState=jg,w);if(!(a.mode&1))return uf(s,a,C,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(t(419)),p=Dg(w,p,void 0),uf(s,a,C,p)}if(F=(C&s.childLanes)!==0,bn||F){if(p=qt,p!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(p.suspendedLanes|C)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,vi(s,g),Tr(p,s,g,-1))}return ny(),p=Dg(Error(t(421))),uf(s,a,C,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=xO.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,jn=fs(g.nextSibling),Mn=a,ut=!0,vr=null,s!==null&&(Gn[Kn++]=gi,Gn[Kn++]=yi,Gn[Kn++]=No,gi=s.id,yi=s.overflow,No=a),a=Fg(a,p.children),a.flags|=4096,a)}function jE(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),yg(s.return,a,c)}function Ug(s,a,c,p,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=g)}function $E(s,a,c){var p=a.pendingProps,g=p.revealOrder,w=p.tail;if(gn(s,a,p.children,c),p=dt.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jE(s,c,a);else if(s.tag===19)jE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(it(dt,p),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&tf(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Ug(a,!1,g,c,w);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&tf(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Ug(a,!0,c,null,w);break;case"together":Ug(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function _i(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),jo|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=bs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=bs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function hO(s,a,c){switch(a.tag){case 3:LE(a),al();break;case 5:Z_(a);break;case 1:xn(a.type)&&Hd(a);break;case 4:_g(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;it(Xd,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(it(dt,dt.current&1),a.flags|=128,null):c&a.child.childLanes?ME(s,a,c):(it(dt,dt.current&1),s=_i(s,a,c),s!==null?s.sibling:null);it(dt,dt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return $E(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(dt,dt.current),p)break;return null;case 22:case 23:return a.lanes=0,OE(s,a,c)}return _i(s,a,c)}var FE,Bg,UE,BE;FE=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Bg=function(){},UE=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Vo(Vr.current);var w=null;switch(c){case"input":g=mo(s,g),p=mo(s,p),w=[];break;case"select":g=ae({},g,{value:void 0}),p=ae({},p,{value:void 0}),w=[];break;case"textarea":g=Au(s,g),p=Au(s,p),w=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Bd)}Du(c,p);var C;c=null;for(Y in g)if(!p.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var F=g[Y];for(C in F)F.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in p){var z=p[Y];if(F=g!=null?g[Y]:void 0,p.hasOwnProperty(Y)&&z!==F&&(z!=null||F!=null))if(Y==="style")if(F){for(C in F)!F.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in z)z.hasOwnProperty(C)&&F[C]!==z[C]&&(c||(c={}),c[C]=z[C])}else c||(w||(w=[]),w.push(Y,c)),c=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(w=w||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&st("scroll",s),w||F===z||(w=[])):(w=w||[]).push(Y,z))}c&&(w=w||[]).push("style",c);var Y=w;(a.updateQueue=Y)&&(a.flags|=4)}},BE=function(s,a,c,p){c!==p&&(a.flags|=4)};function pc(s,a){if(!ut)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function dO(s,a,c){var p=a.pendingProps;switch(cg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return xn(a.type)&&qd(),rn(a),null;case 3:return p=a.stateNode,hl(),ot(Tn),ot(tn),xg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Qd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,vr!==null&&(Zg(vr),vr=null))),Bg(s,a),rn(a),null;case 5:Eg(a);var g=Vo(uc.current);if(c=a.type,s!==null&&a.stateNode!=null)UE(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return rn(a),null}if(s=Vo(Vr.current),Qd(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Lr]=a,p[ic]=w,s=(a.mode&1)!==0,c){case"dialog":st("cancel",p),st("close",p);break;case"iframe":case"object":case"embed":st("load",p);break;case"video":case"audio":for(g=0;g<tc.length;g++)st(tc[g],p);break;case"source":st("error",p);break;case"img":case"image":case"link":st("error",p),st("load",p);break;case"details":st("toggle",p);break;case"input":Ia(p,w),st("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},st("invalid",p);break;case"textarea":Aa(p,w),st("invalid",p)}Du(c,w),g=null;for(var C in w)if(w.hasOwnProperty(C)){var F=w[C];C==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&Ud(p.textContent,F,s),g=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&Ud(p.textContent,F,s),g=["children",""+F]):i.hasOwnProperty(C)&&F!=null&&C==="onScroll"&&st("scroll",p)}switch(c){case"input":ii(p),fd(p,w,!0);break;case"textarea":ii(p),Pu(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Bd)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(c,{is:p.is}):(s=C.createElement(c),c==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,c),s[Lr]=a,s[ic]=p,FE(s,a,!1,!1),a.stateNode=s;e:{switch(C=Lu(c,p),c){case"dialog":st("cancel",s),st("close",s),g=p;break;case"iframe":case"object":case"embed":st("load",s),g=p;break;case"video":case"audio":for(g=0;g<tc.length;g++)st(tc[g],s);g=p;break;case"source":st("error",s),g=p;break;case"img":case"image":case"link":st("error",s),st("load",s),g=p;break;case"details":st("toggle",s),g=p;break;case"input":Ia(s,p),g=mo(s,p),st("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=ae({},p,{value:void 0}),st("invalid",s);break;case"textarea":Aa(s,p),g=Au(s,p),st("invalid",s);break;default:g=p}Du(c,g),F=g;for(w in F)if(F.hasOwnProperty(w)){var z=F[w];w==="style"?Ou(s,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ru(s,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&ns(s,z):typeof z=="number"&&ns(s,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&st("scroll",s):z!=null&&M(s,w,z,C))}switch(c){case"input":ii(s),fd(s,p,!1);break;case"textarea":ii(s),Pu(s);break;case"option":p.value!=null&&s.setAttribute("value",""+qe(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?oi(s,!!p.multiple,w,!1):p.defaultValue!=null&&oi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Bd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(s&&a.stateNode!=null)BE(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Vo(uc.current),Vo(Vr.current),Qd(a)){if(p=a.stateNode,c=a.memoizedProps,p[Lr]=a,(w=p.nodeValue!==c)&&(s=Mn,s!==null))switch(s.tag){case 3:Ud(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ud(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Lr]=a,a.stateNode=p}return rn(a),null;case 13:if(ot(dt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&jn!==null&&a.mode&1&&!(a.flags&128))H_(),al(),a.flags|=98560,w=!1;else if(w=Qd(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Lr]=a}else al(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;rn(a),w=!1}else vr!==null&&(Zg(vr),vr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||dt.current&1?Lt===0&&(Lt=3):ny())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return hl(),Bg(s,a),s===null&&nc(a.stateNode.containerInfo),rn(a),null;case 10:return gg(a.type._context),rn(a),null;case 17:return xn(a.type)&&qd(),rn(a),null;case 19:if(ot(dt),w=a.memoizedState,w===null)return rn(a),null;if(p=(a.flags&128)!==0,C=w.rendering,C===null)if(p)pc(w,!1);else{if(Lt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(C=tf(s),C!==null){for(a.flags|=128,pc(w,!1),p=C.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,s=C.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return it(dt,dt.current&1|2),a.child}s=s.sibling}w.tail!==null&&rt()>ml&&(a.flags|=128,p=!0,pc(w,!1),a.lanes=4194304)}else{if(!p)if(s=tf(C),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),pc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!ut)return rn(a),null}else 2*rt()-w.renderingStartTime>ml&&c!==1073741824&&(a.flags|=128,p=!0,pc(w,!1),a.lanes=4194304);w.isBackwards?(C.sibling=a.child,a.child=C):(c=w.last,c!==null?c.sibling=C:a.child=C,w.last=C)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=rt(),a.sibling=null,c=dt.current,it(dt,p?c&1|2:c&1),a):(rn(a),null);case 22:case 23:return ty(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?$n&1073741824&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function fO(s,a){switch(cg(a),a.tag){case 1:return xn(a.type)&&qd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return hl(),ot(Tn),ot(tn),xg(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Eg(a),null;case 13:if(ot(dt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));al()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ot(dt),null;case 4:return hl(),null;case 10:return gg(a.type._context),null;case 22:case 23:return ty(),null;case 24:return null;default:return null}}var hf=!1,sn=!1,pO=typeof WeakSet=="function"?WeakSet:Set,_e=null;function fl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){yt(s,a,p)}else c.current=null}function zg(s,a,c){try{c()}catch(p){yt(s,a,p)}}var zE=!1;function mO(s,a){if(tg=cs,s=E_(),Gm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var C=0,F=-1,z=-1,Y=0,oe=0,ue=s,se=null;t:for(;;){for(var ve;ue!==c||g!==0&&ue.nodeType!==3||(F=C+g),ue!==w||p!==0&&ue.nodeType!==3||(z=C+p),ue.nodeType===3&&(C+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)se=ue,ue=ve;for(;;){if(ue===s)break t;if(se===c&&++Y===g&&(F=C),se===w&&++oe===p&&(z=C),(ve=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=ve}c=F===-1||z===-1?null:{start:F,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(ng={focusedElem:s,selectionRange:c},cs=!1,_e=a;_e!==null;)if(a=_e,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,_e=s;else for(;_e!==null;){a=_e;try{var Ee=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,xt=Ee.memoizedState,K=a.stateNode,H=K.getSnapshotBeforeUpdate(a.elementType===a.type?Te:wr(a.type,Te),xt);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){yt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,_e=s;break}_e=a.return}return Ee=zE,zE=!1,Ee}function mc(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&zg(a,c,w)}g=g.next}while(g!==p)}}function df(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function qg(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function qE(s){var a=s.alternate;a!==null&&(s.alternate=null,qE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Lr],delete a[ic],delete a[og],delete a[Xk],delete a[Jk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function HE(s){return s.tag===5||s.tag===3||s.tag===4}function WE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||HE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Bd));else if(p!==4&&(s=s.child,s!==null))for(Hg(s,a,c),s=s.sibling;s!==null;)Hg(s,a,c),s=s.sibling}function Wg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Wg(s,a,c),s=s.sibling;s!==null;)Wg(s,a,c),s=s.sibling}var Qt=null,_r=!1;function ws(s,a,c){for(c=c.child;c!==null;)GE(s,a,c),c=c.sibling}function GE(s,a,c){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(bo,c)}catch{}switch(c.tag){case 5:sn||fl(c,a);case 6:var p=Qt,g=_r;Qt=null,ws(s,a,c),Qt=p,_r=g,Qt!==null&&(_r?(s=Qt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Qt.removeChild(c.stateNode));break;case 18:Qt!==null&&(_r?(s=Qt,c=c.stateNode,s.nodeType===8?sg(s.parentNode,c):s.nodeType===1&&sg(s,c),mr(s)):sg(Qt,c.stateNode));break;case 4:p=Qt,g=_r,Qt=c.stateNode.containerInfo,_r=!0,ws(s,a,c),Qt=p,_r=g;break;case 0:case 11:case 14:case 15:if(!sn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var w=g,C=w.destroy;w=w.tag,C!==void 0&&(w&2||w&4)&&zg(c,a,C),g=g.next}while(g!==p)}ws(s,a,c);break;case 1:if(!sn&&(fl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){yt(c,a,F)}ws(s,a,c);break;case 21:ws(s,a,c);break;case 22:c.mode&1?(sn=(p=sn)||c.memoizedState!==null,ws(s,a,c),sn=p):ws(s,a,c);break;default:ws(s,a,c)}}function KE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new pO),a.forEach(function(p){var g=bO.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Er(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var w=s,C=a,F=C;e:for(;F!==null;){switch(F.tag){case 5:Qt=F.stateNode,_r=!1;break e;case 3:Qt=F.stateNode.containerInfo,_r=!0;break e;case 4:Qt=F.stateNode.containerInfo,_r=!0;break e}F=F.return}if(Qt===null)throw Error(t(160));GE(w,C,g),Qt=null,_r=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(Y){yt(g,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)QE(a,s),a=a.sibling}function QE(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Er(a,s),jr(s),p&4){try{mc(3,s,s.return),df(3,s)}catch(Te){yt(s,s.return,Te)}try{mc(5,s,s.return)}catch(Te){yt(s,s.return,Te)}}break;case 1:Er(a,s),jr(s),p&512&&c!==null&&fl(c,c.return);break;case 5:if(Er(a,s),jr(s),p&512&&c!==null&&fl(c,c.return),s.flags&32){var g=s.stateNode;try{ns(g,"")}catch(Te){yt(s,s.return,Te)}}if(p&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,C=c!==null?c.memoizedProps:w,F=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Iu(g,w),Lu(F,C);var Y=Lu(F,w);for(C=0;C<z.length;C+=2){var oe=z[C],ue=z[C+1];oe==="style"?Ou(g,ue):oe==="dangerouslySetInnerHTML"?Ru(g,ue):oe==="children"?ns(g,ue):M(g,oe,ue,Y)}switch(F){case"input":Cu(g,w);break;case"textarea":Pa(g,w);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ve=w.value;ve!=null?oi(g,!!w.multiple,ve,!1):se!==!!w.multiple&&(w.defaultValue!=null?oi(g,!!w.multiple,w.defaultValue,!0):oi(g,!!w.multiple,w.multiple?[]:"",!1))}g[ic]=w}catch(Te){yt(s,s.return,Te)}}break;case 6:if(Er(a,s),jr(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Te){yt(s,s.return,Te)}}break;case 3:if(Er(a,s),jr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{mr(a.containerInfo)}catch(Te){yt(s,s.return,Te)}break;case 4:Er(a,s),jr(s);break;case 13:Er(a,s),jr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Qg=rt())),p&4&&KE(s);break;case 22:if(oe=c!==null&&c.memoizedState!==null,s.mode&1?(sn=(Y=sn)||oe,Er(a,s),sn=Y):Er(a,s),jr(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&s.mode&1)for(_e=s,oe=s.child;oe!==null;){for(ue=_e=oe;_e!==null;){switch(se=_e,ve=se.child,se.tag){case 0:case 11:case 14:case 15:mc(4,se,se.return);break;case 1:fl(se,se.return);var Ee=se.stateNode;if(typeof Ee.componentWillUnmount=="function"){p=se,c=se.return;try{a=p,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Te){yt(p,c,Te)}}break;case 5:fl(se,se.return);break;case 22:if(se.memoizedState!==null){JE(ue);continue}}ve!==null?(ve.return=se,_e=ve):JE(ue)}oe=oe.sibling}e:for(oe=null,ue=s;;){if(ue.tag===5){if(oe===null){oe=ue;try{g=ue.stateNode,Y?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=ue.stateNode,z=ue.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=ku("display",C))}catch(Te){yt(s,s.return,Te)}}}else if(ue.tag===6){if(oe===null)try{ue.stateNode.nodeValue=Y?"":ue.memoizedProps}catch(Te){yt(s,s.return,Te)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===s)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===s)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===s)break e;oe===ue&&(oe=null),ue=ue.return}oe===ue&&(oe=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Er(a,s),jr(s),p&4&&KE(s);break;case 21:break;default:Er(a,s),jr(s)}}function jr(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(HE(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ns(g,""),p.flags&=-33);var w=WE(s);Wg(s,w,g);break;case 3:case 4:var C=p.stateNode.containerInfo,F=WE(s);Hg(s,F,C);break;default:throw Error(t(161))}}catch(z){yt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function gO(s,a,c){_e=s,YE(s)}function YE(s,a,c){for(var p=(s.mode&1)!==0;_e!==null;){var g=_e,w=g.child;if(g.tag===22&&p){var C=g.memoizedState!==null||hf;if(!C){var F=g.alternate,z=F!==null&&F.memoizedState!==null||sn;F=hf;var Y=sn;if(hf=C,(sn=z)&&!Y)for(_e=g;_e!==null;)C=_e,z=C.child,C.tag===22&&C.memoizedState!==null?ZE(g):z!==null?(z.return=C,_e=z):ZE(g);for(;w!==null;)_e=w,YE(w),w=w.sibling;_e=g,hf=F,sn=Y}XE(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,_e=w):XE(s)}}function XE(s){for(;_e!==null;){var a=_e;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:sn||df(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!sn)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:wr(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&J_(a,w,p);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}J_(a,C,c)}break;case 5:var F=a.stateNode;if(c===null&&a.flags&4){c=F;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ue=oe.dehydrated;ue!==null&&mr(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||a.flags&512&&qg(a)}catch(se){yt(a,a.return,se)}}if(a===s){_e=null;break}if(c=a.sibling,c!==null){c.return=a.return,_e=c;break}_e=a.return}}function JE(s){for(;_e!==null;){var a=_e;if(a===s){_e=null;break}var c=a.sibling;if(c!==null){c.return=a.return,_e=c;break}_e=a.return}}function ZE(s){for(;_e!==null;){var a=_e;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{df(4,a)}catch(z){yt(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(z){yt(a,g,z)}}var w=a.return;try{qg(a)}catch(z){yt(a,w,z)}break;case 5:var C=a.return;try{qg(a)}catch(z){yt(a,C,z)}}}catch(z){yt(a,a.return,z)}if(a===s){_e=null;break}var F=a.sibling;if(F!==null){F.return=a.return,_e=F;break}_e=a.return}}var yO=Math.ceil,ff=W.ReactCurrentDispatcher,Gg=W.ReactCurrentOwner,Xn=W.ReactCurrentBatchConfig,Ye=0,qt=null,At=null,Yt=0,$n=0,pl=ps(0),Lt=0,gc=null,jo=0,pf=0,Kg=0,yc=null,Sn=null,Qg=0,ml=1/0,Ei=null,mf=!1,Yg=null,_s=null,gf=!1,Es=null,yf=0,vc=0,Xg=null,vf=-1,wf=0;function yn(){return Ye&6?rt():vf!==-1?vf:vf=rt()}function Ts(s){return s.mode&1?Ye&2&&Yt!==0?Yt&-Yt:eO.transition!==null?(wf===0&&(wf=Io()),wf):(s=He,s!==0||(s=window.event,s=s===void 0?16:Wu(s.type)),s):1}function Tr(s,a,c,p){if(50<vc)throw vc=0,Xg=null,Error(t(185));os(s,c,p),(!(Ye&2)||s!==qt)&&(s===qt&&(!(Ye&2)&&(pf|=c),Lt===4&&xs(s,Yt)),In(s,p),c===1&&Ye===0&&!(a.mode&1)&&(ml=rt()+500,Wd&&gs()))}function In(s,a){var c=s.callbackNode;ui(s,a);var p=So(s,s===qt?Yt:0);if(p===0)c!==null&&Uu(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Uu(c),a===1)s.tag===0?Zk(tT.bind(null,s)):F_(tT.bind(null,s)),Qk(function(){!(Ye&6)&&gs()}),c=null;else{switch(ls(p)){case 1:c=xo;break;case 4:c=rs;break;case 16:c=qn;break;case 536870912:c=vd;break;default:c=qn}c=uT(c,eT.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function eT(s,a){if(vf=-1,wf=0,Ye&6)throw Error(t(327));var c=s.callbackNode;if(gl()&&s.callbackNode!==c)return null;var p=So(s,s===qt?Yt:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=_f(s,p);else{a=p;var g=Ye;Ye|=2;var w=rT();(qt!==s||Yt!==a)&&(Ei=null,ml=rt()+500,Fo(s,a));do try{_O();break}catch(F){nT(s,F)}while(!0);mg(),ff.current=w,Ye=g,At!==null?a=0:(qt=null,Yt=0,a=Lt)}if(a!==0){if(a===2&&(g=Dn(s),g!==0&&(p=g,a=Jg(s,g))),a===1)throw c=gc,Fo(s,0),xs(s,p),In(s,rt()),c;if(a===6)xs(s,p);else{if(g=s.current.alternate,!(p&30)&&!vO(g)&&(a=_f(s,p),a===2&&(w=Dn(s),w!==0&&(p=w,a=Jg(s,w))),a===1))throw c=gc,Fo(s,0),xs(s,p),In(s,rt()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Uo(s,Sn,Ei);break;case 3:if(xs(s,p),(p&130023424)===p&&(a=Qg+500-rt(),10<a)){if(So(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){yn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=ig(Uo.bind(null,s,Sn,Ei),a);break}Uo(s,Sn,Ei);break;case 4:if(xs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var C=31-pn(p);w=1<<C,C=a[C],C>g&&(g=C),p&=~w}if(p=g,p=rt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*yO(p/1960))-p,10<p){s.timeoutHandle=ig(Uo.bind(null,s,Sn,Ei),p);break}Uo(s,Sn,Ei);break;case 5:Uo(s,Sn,Ei);break;default:throw Error(t(329))}}}return In(s,rt()),s.callbackNode===c?eT.bind(null,s):null}function Jg(s,a){var c=yc;return s.current.memoizedState.isDehydrated&&(Fo(s,a).flags|=256),s=_f(s,a),s!==2&&(a=Sn,Sn=c,a!==null&&Zg(a)),s}function Zg(s){Sn===null?Sn=s:Sn.push.apply(Sn,s)}function vO(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],w=g.getSnapshot;g=g.value;try{if(!yr(w(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xs(s,a){for(a&=~Kg,a&=~pf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-pn(a),p=1<<c;s[c]=-1,a&=~p}}function tT(s){if(Ye&6)throw Error(t(327));gl();var a=So(s,0);if(!(a&1))return In(s,rt()),null;var c=_f(s,a);if(s.tag!==0&&c===2){var p=Dn(s);p!==0&&(a=p,c=Jg(s,p))}if(c===1)throw c=gc,Fo(s,0),xs(s,a),In(s,rt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Uo(s,Sn,Ei),In(s,rt()),null}function ey(s,a){var c=Ye;Ye|=1;try{return s(a)}finally{Ye=c,Ye===0&&(ml=rt()+500,Wd&&gs())}}function $o(s){Es!==null&&Es.tag===0&&!(Ye&6)&&gl();var a=Ye;Ye|=1;var c=Xn.transition,p=He;try{if(Xn.transition=null,He=1,s)return s()}finally{He=p,Xn.transition=c,Ye=a,!(Ye&6)&&gs()}}function ty(){$n=pl.current,ot(pl)}function Fo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Kk(c)),At!==null)for(c=At.return;c!==null;){var p=c;switch(cg(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&qd();break;case 3:hl(),ot(Tn),ot(tn),xg();break;case 5:Eg(p);break;case 4:hl();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:gg(p.type._context);break;case 22:case 23:ty()}c=c.return}if(qt=s,At=s=bs(s.current,null),Yt=$n=a,Lt=0,gc=null,Kg=pf=jo=0,Sn=yc=null,Lo!==null){for(a=0;a<Lo.length;a++)if(c=Lo[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,w=c.pending;if(w!==null){var C=w.next;w.next=g,p.next=C}c.pending=p}Lo=null}return s}function nT(s,a){do{var c=At;try{if(mg(),nf.current=af,rf){for(var p=ft.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}rf=!1}if(Mo=0,zt=Dt=ft=null,cc=!1,hc=0,Gg.current=null,c===null||c.return===null){Lt=1,gc=a,At=null;break}e:{var w=s,C=c.return,F=c,z=a;if(a=Yt,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,oe=F,ue=oe.tag;if(!(oe.mode&1)&&(ue===0||ue===11||ue===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ve=CE(C);if(ve!==null){ve.flags&=-257,AE(ve,C,F,w,a),ve.mode&1&&IE(w,Y,a),a=ve,z=Y;var Ee=a.updateQueue;if(Ee===null){var Te=new Set;Te.add(z),a.updateQueue=Te}else Ee.add(z);break e}else{if(!(a&1)){IE(w,Y,a),ny();break e}z=Error(t(426))}}else if(ut&&F.mode&1){var xt=CE(C);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),AE(xt,C,F,w,a),fg(dl(z,F));break e}}w=z=dl(z,F),Lt!==4&&(Lt=2),yc===null?yc=[w]:yc.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var K=bE(w,z,a);X_(w,K);break e;case 1:F=z;var H=w.type,Q=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(_s===null||!_s.has(Q)))){w.flags|=65536,a&=-a,w.lanes|=a;var he=SE(w,F,a);X_(w,he);break e}}w=w.return}while(w!==null)}sT(c)}catch(be){a=be,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function rT(){var s=ff.current;return ff.current=af,s===null?af:s}function ny(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),qt===null||!(jo&268435455)&&!(pf&268435455)||xs(qt,Yt)}function _f(s,a){var c=Ye;Ye|=2;var p=rT();(qt!==s||Yt!==a)&&(Ei=null,Fo(s,a));do try{wO();break}catch(g){nT(s,g)}while(!0);if(mg(),Ye=c,ff.current=p,At!==null)throw Error(t(261));return qt=null,Yt=0,Lt}function wO(){for(;At!==null;)iT(At)}function _O(){for(;At!==null&&!gd();)iT(At)}function iT(s){var a=lT(s.alternate,s,$n);s.memoizedProps=s.pendingProps,a===null?sT(s):At=a,Gg.current=null}function sT(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=fO(c,a),c!==null){c.flags&=32767,At=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Lt=6,At=null;return}}else if(c=dO(c,a,$n),c!==null){At=c;return}if(a=a.sibling,a!==null){At=a;return}At=a=s}while(a!==null);Lt===0&&(Lt=5)}function Uo(s,a,c){var p=He,g=Xn.transition;try{Xn.transition=null,He=1,EO(s,a,c,p)}finally{Xn.transition=g,He=p}return null}function EO(s,a,c,p){do gl();while(Es!==null);if(Ye&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(tt(s,w),s===qt&&(At=qt=null,Yt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||gf||(gf=!0,uT(qn,function(){return gl(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=Xn.transition,Xn.transition=null;var C=He;He=1;var F=Ye;Ye|=4,Gg.current=null,mO(s,c),QE(c,s),Uk(ng),cs=!!tg,ng=tg=null,s.current=c,gO(c),$m(),Ye=F,He=C,Xn.transition=w}else s.current=c;if(gf&&(gf=!1,Es=s,yf=g),w=s.pendingLanes,w===0&&(_s=null),wd(c.stateNode),In(s,rt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(mf)throw mf=!1,s=Yg,Yg=null,s;return yf&1&&s.tag!==0&&gl(),w=s.pendingLanes,w&1?s===Xg?vc++:(vc=0,Xg=s):vc=0,gs(),null}function gl(){if(Es!==null){var s=ls(yf),a=Xn.transition,c=He;try{if(Xn.transition=null,He=16>s?16:s,Es===null)var p=!1;else{if(s=Es,Es=null,yf=0,Ye&6)throw Error(t(331));var g=Ye;for(Ye|=4,_e=s.current;_e!==null;){var w=_e,C=w.child;if(_e.flags&16){var F=w.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Y=F[z];for(_e=Y;_e!==null;){var oe=_e;switch(oe.tag){case 0:case 11:case 15:mc(8,oe,w)}var ue=oe.child;if(ue!==null)ue.return=oe,_e=ue;else for(;_e!==null;){oe=_e;var se=oe.sibling,ve=oe.return;if(qE(oe),oe===Y){_e=null;break}if(se!==null){se.return=ve,_e=se;break}_e=ve}}}var Ee=w.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var xt=Te.sibling;Te.sibling=null,Te=xt}while(Te!==null)}}_e=w}}if(w.subtreeFlags&2064&&C!==null)C.return=w,_e=C;else e:for(;_e!==null;){if(w=_e,w.flags&2048)switch(w.tag){case 0:case 11:case 15:mc(9,w,w.return)}var K=w.sibling;if(K!==null){K.return=w.return,_e=K;break e}_e=w.return}}var H=s.current;for(_e=H;_e!==null;){C=_e;var Q=C.child;if(C.subtreeFlags&2064&&Q!==null)Q.return=C,_e=Q;else e:for(C=H;_e!==null;){if(F=_e,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:df(9,F)}}catch(be){yt(F,F.return,be)}if(F===C){_e=null;break e}var he=F.sibling;if(he!==null){he.return=F.return,_e=he;break e}_e=F.return}}if(Ye=g,gs(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(bo,s)}catch{}p=!0}return p}finally{He=c,Xn.transition=a}}return!1}function oT(s,a,c){a=dl(c,a),a=bE(s,a,1),s=vs(s,a,1),a=yn(),s!==null&&(os(s,1,a),In(s,a))}function yt(s,a,c){if(s.tag===3)oT(s,s,c);else for(;a!==null;){if(a.tag===3){oT(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))){s=dl(c,s),s=SE(a,s,1),a=vs(a,s,1),s=yn(),a!==null&&(os(a,1,s),In(a,s));break}}a=a.return}}function TO(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=yn(),s.pingedLanes|=s.suspendedLanes&c,qt===s&&(Yt&c)===c&&(Lt===4||Lt===3&&(Yt&130023424)===Yt&&500>rt()-Qg?Fo(s,0):Kg|=c),In(s,a)}function aT(s,a){a===0&&(s.mode&1?(a=$a,$a<<=1,!($a&130023424)&&($a=4194304)):a=1);var c=yn();s=vi(s,a),s!==null&&(os(s,a,c),In(s,c))}function xO(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),aT(s,c)}function bO(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),aT(s,c)}var lT;lT=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Tn.current)bn=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return bn=!1,hO(s,a,c);bn=!!(s.flags&131072)}else bn=!1,ut&&a.flags&1048576&&U_(a,Kd,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;cf(s,a),s=a.pendingProps;var g=il(a,tn.current);cl(a,c),g=Ig(null,a,p,s,g,c);var w=Cg();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,xn(p)?(w=!0,Hd(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,wg(a),g.updater=lf,a.stateNode=g,g._reactInternals=a,Ng(a,p,s,c),a=Mg(null,a,p,!0,w,c)):(a.tag=0,ut&&w&&ug(a),gn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(cf(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=IO(p),s=wr(p,s),g){case 0:a=Vg(null,a,p,s,c);break e;case 1:a=DE(null,a,p,s,c);break e;case 11:a=PE(null,a,p,s,c);break e;case 14:a=RE(null,a,p,wr(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),Vg(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),DE(s,a,p,g,c);case 3:e:{if(LE(a),s===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,g=w.element,Y_(s,a),ef(a,p,null,c);var C=a.memoizedState;if(p=C.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=dl(Error(t(423)),a),a=VE(s,a,p,c,g);break e}else if(p!==g){g=dl(Error(t(424)),a),a=VE(s,a,p,c,g);break e}else for(jn=fs(a.stateNode.containerInfo.firstChild),Mn=a,ut=!0,vr=null,c=K_(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(al(),p===g){a=_i(s,a,c);break e}gn(s,a,p,c)}a=a.child}return a;case 5:return Z_(a),s===null&&dg(a),p=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,C=g.children,rg(p,g)?C=null:w!==null&&rg(p,w)&&(a.flags|=32),NE(s,a),gn(s,a,C,c),a.child;case 6:return s===null&&dg(a),null;case 13:return ME(s,a,c);case 4:return _g(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ll(a,null,p,c):gn(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),PE(s,a,p,g,c);case 7:return gn(s,a,a.pendingProps,c),a.child;case 8:return gn(s,a,a.pendingProps.children,c),a.child;case 12:return gn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,w=a.memoizedProps,C=g.value,it(Xd,p._currentValue),p._currentValue=C,w!==null)if(yr(w.value,C)){if(w.children===g.children&&!Tn.current){a=_i(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var F=w.dependencies;if(F!==null){C=w.child;for(var z=F.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=wi(-1,c&-c),z.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?z.next=z:(z.next=oe.next,oe.next=z),Y.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),yg(w.return,c,a),F.lanes|=c;break}z=z.next}}else if(w.tag===10)C=w.type===a.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(t(341));C.lanes|=c,F=C.alternate,F!==null&&(F.lanes|=c),yg(C,c,a),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===a){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}gn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,cl(a,c),g=Qn(g),p=p(g),a.flags|=1,gn(s,a,p,c),a.child;case 14:return p=a.type,g=wr(p,a.pendingProps),g=wr(p.type,g),RE(s,a,p,g,c);case 15:return kE(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),cf(s,a),a.tag=1,xn(p)?(s=!0,Hd(a)):s=!1,cl(a,c),TE(a,p,g),Ng(a,p,g,c),Mg(null,a,p,!0,s,c);case 19:return $E(s,a,c);case 22:return OE(s,a,c)}throw Error(t(156,a.tag))};function uT(s,a){return Ma(s,a)}function SO(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(s,a,c,p){return new SO(s,a,c,p)}function ry(s){return s=s.prototype,!(!s||!s.isReactComponent)}function IO(s){if(typeof s=="function")return ry(s)?1:0;if(s!=null){if(s=s.$$typeof,s===A)return 11;if(s===me)return 14}return 2}function bs(s,a){var c=s.alternate;return c===null?(c=Jn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ef(s,a,c,p,g,w){var C=2;if(p=s,typeof s=="function")ry(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case j:return Bo(c.children,g,w,a);case O:C=8,g|=8;break;case V:return s=Jn(12,c,a,g|2),s.elementType=V,s.lanes=w,s;case I:return s=Jn(13,c,a,g),s.elementType=I,s.lanes=w,s;case $:return s=Jn(19,c,a,g),s.elementType=$,s.lanes=w,s;case ie:return Tf(c,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:C=10;break e;case S:C=9;break e;case A:C=11;break e;case me:C=14;break e;case ee:C=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Jn(C,c,a,g),a.elementType=s,a.type=p,a.lanes=w,a}function Bo(s,a,c,p){return s=Jn(7,s,p,a),s.lanes=c,s}function Tf(s,a,c,p){return s=Jn(22,s,p,a),s.elementType=ie,s.lanes=c,s.stateNode={isHidden:!1},s}function iy(s,a,c){return s=Jn(6,s,null,a),s.lanes=c,s}function sy(s,a,c){return a=Jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function CO(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function oy(s,a,c,p,g,w,C,F,z){return s=new CO(s,a,c,F,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Jn(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(w),s}function AO(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function cT(s){if(!s)return ms;s=s._reactInternals;e:{if(cr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(xn(c))return j_(s,c,a)}return a}function hT(s,a,c,p,g,w,C,F,z){return s=oy(c,p,!0,s,g,w,C,F,z),s.context=cT(null),c=s.current,p=yn(),g=Ts(c),w=wi(p,g),w.callback=a??null,vs(c,w,g),s.current.lanes=g,os(s,g,p),In(s,p),s}function xf(s,a,c,p){var g=a.current,w=yn(),C=Ts(g);return c=cT(c),a.context===null?a.context=c:a.pendingContext=c,a=wi(w,C),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=vs(g,a,C),s!==null&&(Tr(s,g,C,w),Zd(s,g,C)),C}function bf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function ay(s,a){dT(s,a),(s=s.alternate)&&dT(s,a)}var fT=typeof reportError=="function"?reportError:function(s){console.error(s)};function ly(s){this._internalRoot=s}Sf.prototype.render=ly.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));xf(s,a,null,null)},Sf.prototype.unmount=ly.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;$o(function(){xf(null,s,null,null)}),a[pi]=null}};function Sf(s){this._internalRoot=s}Sf.prototype.unstable_scheduleHydration=function(s){if(s){var a=bd();s={blockedOn:null,target:s,priority:a};for(var c=0;c<kr.length&&a!==0&&a<kr[c].priority;c++);kr.splice(c,0,s),c===0&&Cd(s)}};function uy(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function If(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pT(){}function PO(s,a,c,p,g){if(g){if(typeof p=="function"){var w=p;p=function(){var Y=bf(C);w.call(Y)}}var C=hT(a,p,s,0,null,!1,!1,"",pT);return s._reactRootContainer=C,s[pi]=C.current,nc(s.nodeType===8?s.parentNode:s),$o(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var F=p;p=function(){var Y=bf(z);F.call(Y)}}var z=oy(s,0,!1,null,null,!1,!1,"",pT);return s._reactRootContainer=z,s[pi]=z.current,nc(s.nodeType===8?s.parentNode:s),$o(function(){xf(a,z,c,p)}),z}function Cf(s,a,c,p,g){var w=c._reactRootContainer;if(w){var C=w;if(typeof g=="function"){var F=g;g=function(){var z=bf(C);F.call(z)}}xf(a,C,s,g)}else C=PO(c,a,s,g,p);return bf(C)}Td=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=is(a.pendingLanes);c!==0&&(as(a,c|1),In(a,rt()),!(Ye&6)&&(ml=rt()+500,gs()))}break;case 13:$o(function(){var p=vi(s,1);if(p!==null){var g=yn();Tr(p,s,1,g)}}),ay(s,1)}},Fa=function(s){if(s.tag===13){var a=vi(s,134217728);if(a!==null){var c=yn();Tr(a,s,134217728,c)}ay(s,134217728)}},xd=function(s){if(s.tag===13){var a=Ts(s),c=vi(s,a);if(c!==null){var p=yn();Tr(c,s,a,p)}ay(s,a)}},bd=function(){return He},Sd=function(s,a){var c=He;try{return He=s,a()}finally{He=c}},ka=function(s,a,c){switch(a){case"input":if(Cu(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=zd(p);if(!g)throw Error(t(90));Sa(p),Cu(p,g)}}}break;case"textarea":Pa(s,c);break;case"select":a=c.value,a!=null&&oi(s,!!c.multiple,a,!1)}},wo=ey,Mu=$o;var RO={usingClientEntryPoint:!1,Events:[sc,nl,zd,Pr,Vu,ey]},wc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Fu(s),s===null?null:s.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{bo=Af.inject(kO),Nn=Af}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RO,Cn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uy(a))throw Error(t(200));return AO(s,a,null,c)},Cn.createRoot=function(s,a){if(!uy(s))throw Error(t(299));var c=!1,p="",g=fT;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=oy(s,1,!1,null,null,c,!1,p,g),s[pi]=a.current,nc(s.nodeType===8?s.parentNode:s),new ly(a)},Cn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Fu(a),s=s===null?null:s.stateNode,s},Cn.flushSync=function(s){return $o(s)},Cn.hydrate=function(s,a,c){if(!If(a))throw Error(t(200));return Cf(null,s,a,!0,c)},Cn.hydrateRoot=function(s,a,c){if(!uy(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,w="",C=fT;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=hT(a,null,s,1,c??null,g,!1,w,C),s[pi]=a.current,nc(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Sf(a)},Cn.render=function(s,a,c){if(!If(a))throw Error(t(200));return Cf(null,s,a,!1,c)},Cn.unmountComponentAtNode=function(s){if(!If(s))throw Error(t(40));return s._reactRootContainer?($o(function(){Cf(null,null,s,!1,function(){s._reactRootContainer=null,s[pi]=null})}),!0):!1},Cn.unstable_batchedUpdates=ey,Cn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!If(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Cf(s,a,c,!1,p)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var bT;function PS(){if(bT)return dy.exports;bT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dy.exports=FO(),dy.exports}var ST;function UO(){if(ST)return Pf;ST=1;var n=PS();return Pf.createRoot=n.createRoot,Pf.hydrateRoot=n.hydrateRoot,Pf}var BO=UO(),Ec={},IT;function zO(){if(IT)return Ec;IT=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.parse=l,Ec.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,E){const b=new o,x=_.length;if(x<2)return b;const k=(E==null?void 0:E.decode)||m;let P=0;do{const D=_.indexOf("=",P);if(D===-1)break;const M=_.indexOf(";",P),W=M===-1?x:M;if(D>W){P=_.lastIndexOf(";",D-1)+1;continue}const X=u(_,P,D),J=h(_,D,X),j=_.slice(X,J);if(b[j]===void 0){let O=u(_,D+1,W),V=h(_,W,O);const B=k(_.slice(O,V));b[j]=B}P=W+1}while(P<x);return b}function u(_,E,b){do{const x=_.charCodeAt(E);if(x!==32&&x!==9)return E}while(++E<b);return b}function h(_,E,b){for(;E>b;){const x=_.charCodeAt(--E);if(x!==32&&x!==9)return E+1}return b}function d(_,E,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const k=x(E);if(!e.test(k))throw new TypeError(`argument val is invalid: ${E}`);let P=_+"="+k;if(!b)return P;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);P+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);P+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);P+="; Path="+b.path}if(b.expires){if(!y(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);P+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(P+="; HttpOnly"),b.secure&&(P+="; Secure"),b.partitioned&&(P+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return P}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Ec}zO();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CT="popstate";function qO(n={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return tv("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Qc(i)}return WO(e,t,null,n)}function jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HO(){return Math.random().toString(36).substring(2,10)}function AT(n,e){return{usr:n.state,key:n.key,idx:e}}function tv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Mh(e):e,state:t,key:e&&e.key||r||HO()}}function Qc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Mh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function WO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",h=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let k=m(),P=k==null?null:k-d;d=k,h&&h({action:u,location:x.location,delta:P})}function _(k,P){u="PUSH";let D=tv(x.location,k,P);d=m()+1;let M=AT(D,d),W=x.createHref(D);try{l.pushState(M,"",W)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(W)}o&&h&&h({action:u,location:x.location,delta:1})}function E(k,P){u="REPLACE";let D=tv(x.location,k,P);d=m();let M=AT(D,d),W=x.createHref(D);l.replaceState(M,"",W),o&&h&&h({action:u,location:x.location,delta:0})}function b(k){let P=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof k=="string"?k:Qc(k);return D=D.replace(/ $/,"%20"),jt(P,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,P)}let x={get action(){return u},get location(){return n(i,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(CT,y),h=k,()=>{i.removeEventListener(CT,y),h=null}},createHref(k){return e(i,k)},createURL:b,encodeLocation(k){let P=b(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:E,go(k){return l.go(k)}};return x}function RS(n,e,t="/"){return GO(n,e,t,!1)}function GO(n,e,t,r){let i=typeof e=="string"?Mh(e):e,o=to(i.pathname||"/",t);if(o==null)return null;let l=kS(n);KO(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let d=sN(o);u=rN(l[h],d,r)}return u}function kS(n,e=[],t=[],r=""){let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(jt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let d=Mi([r,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(jt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),kS(o.children,e,m,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:tN(d,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of OS(o.path))i(o,l,h)}),e}function OS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=OS(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function KO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var QO=/^:[\w-]+$/,YO=3,XO=2,JO=1,ZO=10,eN=-2,PT=n=>n==="*";function tN(n,e){let t=n.split("/"),r=t.length;return t.some(PT)&&(r+=eN),e&&(r+=XO),t.filter(i=>!PT(i)).reduce((i,o)=>i+(QO.test(o)?YO:o===""?JO:ZO),r)}function nN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function rN(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],d=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),_=h.route;if(!y&&d&&t&&!r[r.length-1].route.index&&(y=lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Mi([o,y.pathname]),pathnameBase:uN(Mi([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Mi([o,y.pathnameBase]))}return l}function lp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=iN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:y},_)=>{if(m==="*"){let b=u[_]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const E=u[_];return y&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function iN(n,e=!1,t=!0){Kr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function to(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function oN(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Mh(n):n;return{pathname:t?t.startsWith("/")?t:aN(t,e):e,search:cN(r),hash:hN(i)}}function aN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function my(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function NS(n){let e=lN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function DS(n,e,t,r=!1){let i;typeof n=="string"?i=Mh(n):(i={...n},jt(!i.pathname||!i.pathname.includes("?"),my("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),my("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),my("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let h=oN(i,u),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var Mi=n=>n.join("/").replace(/\/\/+/g,"/"),uN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var fN=["GET",...LS];new Set(fN);var fu=U.createContext(null);fu.displayName="DataRouter";var Xp=U.createContext(null);Xp.displayName="DataRouterState";var VS=U.createContext({isTransitioning:!1});VS.displayName="ViewTransition";var pN=U.createContext(new Map);pN.displayName="Fetchers";var mN=U.createContext(null);mN.displayName="Await";var Jr=U.createContext(null);Jr.displayName="Navigation";var Jp=U.createContext(null);Jp.displayName="Location";var Zr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var i0=U.createContext(null);i0.displayName="RouteError";function gN(n,{relative:e}={}){jt(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(Jr),{hash:i,pathname:o,search:l}=$h(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Mi([t,o])),r.createHref({pathname:u,search:l,hash:i})}function jh(){return U.useContext(Jp)!=null}function Yi(){return jt(jh(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jp).location}var MS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jS(n){U.useContext(Jr).static||U.useLayoutEffect(n)}function $S(){let{isDataRoute:n}=U.useContext(Zr);return n?PN():yN()}function yN(){jt(jh(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(fu),{basename:e,navigator:t}=U.useContext(Jr),{matches:r}=U.useContext(Zr),{pathname:i}=Yi(),o=JSON.stringify(NS(r)),l=U.useRef(!1);return jS(()=>{l.current=!0}),U.useCallback((h,d={})=>{if(Kr(l.current,MS),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=DS(h,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mi([e,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[e,t,o,i,n])}U.createContext(null);function FS(){let{matches:n}=U.useContext(Zr),e=n[n.length-1];return e?e.params:{}}function $h(n,{relative:e}={}){let{matches:t}=U.useContext(Zr),{pathname:r}=Yi(),i=JSON.stringify(NS(t));return U.useMemo(()=>DS(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function vN(n,e){return US(n)}function US(n,e,t,r){jt(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(Jr),{matches:o}=U.useContext(Zr),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";BS(h,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Yi(),_;_=y;let E=_.pathname||"/",b=E;if(d!=="/"){let P=d.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let x=RS(n,{pathname:b});return Kr(m||x!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Kr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xN(x&&x.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Mi([d,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Mi([d,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,t,r)}function wN(){let n=AN(),e=dN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:i},t):null,l)}var _N=U.createElement(wN,null),EN=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(Zr.Provider,{value:this.props.routeContext},U.createElement(i0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TN({routeContext:n,match:e,children:t}){let r=U.useContext(fu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Zr.Provider,{value:n},t)}function xN(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);jt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:y}=t,_=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,m)=>{let y,_=!1,E=null,b=null;t&&(y=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||_N,l&&(u<0&&m===0?(BS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,b=null):u===m&&(_=!0,b=d.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),k=()=>{let P;return y?P=E:_?P=b:d.route.Component?P=U.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=h,U.createElement(TN,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:P})};return t&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?U.createElement(EN,{location:t.location,revalidation:t.revalidation,component:E,error:y,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):k()},null)}function s0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bN(n){let e=U.useContext(fu);return jt(e,s0(n)),e}function SN(n){let e=U.useContext(Xp);return jt(e,s0(n)),e}function IN(n){let e=U.useContext(Zr);return jt(e,s0(n)),e}function o0(n){let e=IN(n),t=e.matches[e.matches.length-1];return jt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function CN(){return o0("useRouteId")}function AN(){var r;let n=U.useContext(i0),e=SN("useRouteError"),t=o0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function PN(){let{router:n}=bN("useNavigate"),e=o0("useNavigate"),t=U.useRef(!1);return jS(()=>{t.current=!0}),U.useCallback(async(i,o={})=>{Kr(t.current,MS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var RT={};function BS(n,e,t){!e&&!RT[n]&&(RT[n]=!0,Kr(!1,t))}U.memo(RN);function RN({routes:n,future:e,state:t}){return US(n,void 0,t,e)}function kN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){jt(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Mh(t));let{pathname:h="/",search:d="",hash:m="",state:y=null,key:_="default"}=t,E=U.useMemo(()=>{let b=to(h,l);return b==null?null:{location:{pathname:b,search:d,hash:m,state:y,key:_},navigationType:r}},[l,h,d,m,y,_,r]);return Kr(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:U.createElement(Jr.Provider,{value:u},U.createElement(Jp.Provider,{children:e,value:E}))}var zf="get",qf="application/x-www-form-urlencoded";function Zp(n){return n!=null&&typeof n.tagName=="string"}function ON(n){return Zp(n)&&n.tagName.toLowerCase()==="button"}function NN(n){return Zp(n)&&n.tagName.toLowerCase()==="form"}function DN(n){return Zp(n)&&n.tagName.toLowerCase()==="input"}function LN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VN(n,e){return n.button===0&&(!e||e==="_self")&&!LN(n)}var Rf=null;function MN(){if(Rf===null)try{new FormData(document.createElement("form"),0),Rf=!1}catch{Rf=!0}return Rf}var jN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gy(n){return n!=null&&!jN.has(n)?(Kr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):n}function $N(n,e){let t,r,i,o,l;if(NN(n)){let u=n.getAttribute("action");r=u?to(u,e):null,t=n.getAttribute("method")||zf,i=gy(n.getAttribute("enctype"))||qf,o=new FormData(n)}else if(ON(n)||DN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?to(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||zf,i=gy(n.getAttribute("formenctype"))||gy(u.getAttribute("enctype"))||qf,o=new FormData(u,n),!MN()){let{name:d,type:m,value:y}=n;if(m==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,y)}}else{if(Zp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zf,r=null,i=qf,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function a0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function FN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BN(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await FN(o,t);return l.links?l.links():[]}return[]}));return WN(r.flat(1).filter(UN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kT(n,e,t,r,i,o){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,u=(h,d)=>{var m;return t[d].pathname!==h.pathname||((m=t[d].route.path)==null?void 0:m.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,d)=>l(h,d)||u(h,d)):o==="data"?e.filter((h,d)=>{var y;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function zN(n,e){return qN(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function qN(n){return[...new Set(n)]}function HN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function WN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(HN(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function GN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function KN(){let n=U.useContext(fu);return a0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function QN(){let n=U.useContext(Xp);return a0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var l0=U.createContext(void 0);l0.displayName="FrameworkContext";function zS(){let n=U.useContext(l0);return a0(n,"You must render this element inside a <HydratedRouter> element"),n}function YN(n,e){let t=U.useContext(l0),[r,i]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:y}=e,_=U.useRef(null);U.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=P=>{P.forEach(D=>{l(D.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[n]),U.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let E=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Tc(u,E),onBlur:Tc(h,b),onMouseEnter:Tc(d,E),onMouseLeave:Tc(m,b),onTouchStart:Tc(y,E)}]:[!1,_,{}]}function Tc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XN({page:n,...e}){let{router:t}=KN(),r=U.useMemo(()=>RS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?U.createElement(ZN,{page:n,matches:r,...e}):null}function JN(n){let{manifest:e,routeModules:t}=zS(),[r,i]=U.useState([]);return U.useEffect(()=>{let o=!1;return BN(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function ZN({page:n,matches:e,...t}){let r=Yi(),{manifest:i,routeModules:o}=zS(),{loaderData:l,matches:u}=QN(),h=U.useMemo(()=>kT(n,e,u,i,r,"data"),[n,e,u,i,r]),d=U.useMemo(()=>kT(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=U.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,b=!1;if(e.forEach(k=>{var D;let P=i.routes[k.route.id];!P||!P.hasLoader||(!h.some(M=>M.route.id===k.route.id)&&k.route.id in l&&((D=o[k.route.id])!=null&&D.shouldRevalidate)||P.hasClientLoader?b=!0:E.add(k.route.id))}),E.size===0)return[];let x=GN(n);return b&&E.size>0&&x.searchParams.set("_routes",e.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[x.pathname+x.search]},[l,r,i,h,e,n,o]),y=U.useMemo(()=>zN(d,i),[d,i]),_=JN(d);return U.createElement(U.Fragment,null,m.map(E=>U.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>U.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:b})=>U.createElement("link",{key:E,...b})))}function eD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qS&&(window.__reactRouterVersion="7.1.3")}catch{}function tD({basename:n,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=qO({window:t,v5Compat:!0}));let i=r.current,[o,l]=U.useState({action:i.action,location:i.location}),u=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>i.listen(u),[i,u]),U.createElement(kN,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var HS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:h,to:d,preventScrollReset:m,viewTransition:y,..._},E){let{basename:b}=U.useContext(Jr),x=typeof d=="string"&&HS.test(d),k,P=!1;if(typeof d=="string"&&x&&(k=d,qS))try{let V=new URL(window.location.href),B=d.startsWith("//")?new URL(V.protocol+d):new URL(d),S=to(B.pathname,b);B.origin===V.origin&&S!=null?d=S+B.search+B.hash:P=!0}catch{Kr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=gN(d,{relative:i}),[M,W,X]=YN(r,_),J=sD(d,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:y});function j(V){e&&e(V),V.defaultPrevented||J(V)}let O=U.createElement("a",{..._,...X,href:k||D,onClick:P||o?e:j,ref:eD(E,W),target:h,"data-discover":!x&&t==="render"?"true":void 0});return M&&!x?U.createElement(U.Fragment,null,O,U.createElement(XN,{page:D})):O});Sr.displayName="Link";var nD=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:h,...d},m){let y=$h(l,{relative:d.relative}),_=Yi(),E=U.useContext(Xp),{navigator:b,basename:x}=U.useContext(Jr),k=E!=null&&cD(y)&&u===!0,P=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,D=_.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(D=D.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&x&&(M=to(M,x)||M);const W=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let X=D===P||!i&&D.startsWith(P)&&D.charAt(W)==="/",J=M!=null&&(M===P||!i&&M.startsWith(P)&&M.charAt(P.length)==="/"),j={isActive:X,isPending:J,isTransitioning:k},O=X?e:void 0,V;typeof r=="function"?V=r(j):V=[r,X?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(j):o;return U.createElement(Sr,{...d,"aria-current":O,className:V,ref:m,style:B,to:l,viewTransition:u},typeof h=="function"?h(j):h)});nD.displayName="NavLink";var rD=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=zf,action:u,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:y,..._},E)=>{let b=lD(),x=uD(u,{relative:d}),k=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&HS.test(u),D=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let W=M.nativeEvent.submitter,X=(W==null?void 0:W.getAttribute("formmethod"))||l;b(W||M.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:o,relative:d,preventScrollReset:m,viewTransition:y})};return U.createElement("form",{ref:E,method:k,action:x,onSubmit:r?h:D,..._,"data-discover":!P&&n==="render"?"true":void 0})});rD.displayName="Form";function iD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(n){let e=U.useContext(fu);return jt(e,iD(n)),e}function sD(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=$S(),h=Yi(),d=$h(n,{relative:o});return U.useCallback(m=>{if(VN(m,e)){m.preventDefault();let y=t!==void 0?t:Qc(h)===Qc(d);u(n,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,u,d,t,r,e,n,i,o,l])}var oD=0,aD=()=>`__${String(++oD)}__`;function lD(){let{router:n}=WS("useSubmit"),{basename:e}=U.useContext(Jr),t=CN();return U.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:h,body:d}=$N(r,e);if(i.navigate===!1){let m=i.fetcherKey||aD();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function uD(n,{relative:e}={}){let{basename:t}=U.useContext(Jr),r=U.useContext(Zr);jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...$h(n||".",{relative:e})},l=Yi();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Mi([t,o.pathname])),Qc(o)}function cD(n,e={}){let t=U.useContext(VS);jt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WS("useViewTransitionState"),i=$h(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=to(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=to(t.nextLocation.pathname,r)||t.nextLocation.pathname;return lp(i.pathname,l)!=null||lp(i.pathname,o)!=null}new TextEncoder;var hD=PS();const Sc=du(hD),dD="modulepreload",fD=function(n){return"/"+n},OT={},em=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(t.map(h=>{if(h=fD(h),h in OT)return;OT[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":dD,d||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),d)return new Promise((_,E)=>{y.addEventListener("load",_),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},GS=!(typeof navigator>"u")&&navigator.product==="ReactNative",KS={timeout:GS?6e4:12e4},pD=function(n){const e={...KS,...typeof n=="string"?{url:n}:n};if(e.timeout=QS(e.timeout),e.query){const{url:t,searchParams:r}=function(i){const o=i.indexOf("?");if(o===-1)return{url:i,searchParams:new URLSearchParams};const l=i.slice(0,o),u=i.slice(o+1);if(!GS)return{url:l,searchParams:new URLSearchParams(u)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const h=new URLSearchParams;for(const d of u.split("&")){const[m,y]=d.split("=");m&&h.append(NT(m),NT(y||""))}return{url:l,searchParams:h}}(e.url);for(const[i,o]of Object.entries(e.query)){if(o!==void 0)if(Array.isArray(o))for(const u of o)r.append(i,u);else r.append(i,o);const l=r.toString();l&&(e.url=`${t}?${l}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function NT(n){return decodeURIComponent(n.replace(/\+/g," "))}function QS(n){if(n===!1||n===0)return!1;if(n.connect||n.socket)return n;const e=Number(n);return isNaN(e)?QS(KS.timeout):{connect:e,socket:e}}const mD=/^https?:\/\//i,gD=function(n){if(!mD.test(n.url))throw new Error(`"${n.url}" is not a valid URL`)};function YS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}const yD=["request","response","progress","error","abort"],DT=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function XS(n,e){const t=[],r=DT.reduce((o,l)=>(o[l]=o[l]||[],o),{processOptions:[pD],validateOptions:[gD]});function i(o){const l=yD.reduce((E,b)=>(E[b]=function(){const x=Object.create(null);let k=0;return{publish:function(P){for(const D in x)x[D](P)},subscribe:function(P){const D=k++;return x[D]=P,function(){delete x[D]}}}}(),E),{}),u=(E=>function(b,x,...k){const P=b==="onError";let D=x;for(let M=0;M<E[b].length&&(D=(0,E[b][M])(D,...k),!P||D);M++);return D})(r),h=u("processOptions",o);u("validateOptions",h);const d={options:h,channels:l,applyMiddleware:u};let m;const y=l.request.subscribe(E=>{m=e(E,(b,x)=>((k,P,D)=>{let M=k,W=P;if(!M)try{W=u("onResponse",P,D)}catch(X){W=null,M=X}M=M&&u("onError",M,D),M?l.error.publish(M):W&&l.response.publish(W)})(b,x,E))});l.abort.subscribe(()=>{y(),m&&m.abort()});const _=u("onReturn",l,d);return _===l&&l.request.publish(d),_}return i.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return DT.forEach(l=>{o[l]&&r[l].push(o[l])}),t.push(o),i},i.clone=()=>XS(t,e),n.forEach(i.use),i}var LT,VT,vD=YS(function(){if(VT)return LT;VT=1;var n=function(t){return t.replace(/^\s+|\s+$/g,"")},e=function(t){return Object.prototype.toString.call(t)==="[object Array]"};return LT=function(t){if(!t)return{};for(var r=Object.create(null),i=n(t).split(`
`),o=0;o<i.length;o++){var l=i[o],u=l.indexOf(":"),h=n(l.slice(0,u)).toLowerCase(),d=n(l.slice(u+1));typeof r[h]>"u"?r[h]=d:e(r[h])?r[h].push(d):r[h]=[r[h],d]}return r}}()),hh,dh,jl,fh,Ti,ph,mh,vS;let nv=(vS=class{constructor(){le(this,"onabort");le(this,"onerror");le(this,"onreadystatechange");le(this,"ontimeout");le(this,"readyState",0);le(this,"response");le(this,"responseText","");le(this,"responseType","");le(this,"status");le(this,"statusText");le(this,"withCredentials");ge(this,hh);ge(this,dh);ge(this,jl);ge(this,fh,{});ge(this,Ti);ge(this,ph,{});ge(this,mh)}open(e,t,r){var i;pe(this,hh,e),pe(this,dh,t),pe(this,jl,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),pe(this,Ti,void 0)}abort(){L(this,Ti)&&L(this,Ti).abort()}getAllResponseHeaders(){return L(this,jl)}setRequestHeader(e,t){L(this,fh)[e]=t}setInit(e,t=!0){pe(this,ph,e),pe(this,mh,t)}send(e){const t=this.responseType!=="arraybuffer",r={...L(this,ph),method:L(this,hh),headers:L(this,fh),body:e};typeof AbortController=="function"&&L(this,mh)&&(pe(this,Ti,new AbortController),typeof EventTarget<"u"&&L(this,Ti).signal instanceof EventTarget&&(r.signal=L(this,Ti).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(L(this,dh),r).then(i=>{var o;return i.headers.forEach((l,u)=>{pe(this,jl,L(this,jl)+`${u}: ${l}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(o=this.onreadystatechange)==null||o.call(this),t?i.text():i.arrayBuffer()}).then(i=>{var o;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(o=this.onreadystatechange)==null||o.call(this)}).catch(i=>{var o,l;i.name!=="AbortError"?(o=this.onerror)==null||o.call(this,i):(l=this.onabort)==null||l.call(this)})}},hh=new WeakMap,dh=new WeakMap,jl=new WeakMap,fh=new WeakMap,Ti=new WeakMap,ph=new WeakMap,mh=new WeakMap,vS);const rv=typeof XMLHttpRequest=="function"?"xhr":"fetch",wD=rv==="xhr"?XMLHttpRequest:nv,_D=(n,e)=>{const t=n.options,r=n.applyMiddleware("finalizeOptions",t),i={},o=n.applyMiddleware("interceptRequest",void 0,{adapter:rv,context:n});if(o){const x=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(x)}}let l=new wD;l instanceof nv&&typeof r.fetch=="object"&&l.setInit(r.fetch,r.useAbortSignal??!0);const u=r.headers,h=r.timeout;let d=!1,m=!1,y=!1;if(l.onerror=x=>{b(l instanceof nv?x instanceof Error?x:new Error(`Request error while attempting to reach is ${r.url}`,{cause:x}):new Error(`Request error while attempting to reach is ${r.url}${x.lengthComputable?`(${x.loaded} of ${x.total} bytes transferred)`:""}`))},l.ontimeout=x=>{b(new Error(`Request timeout while attempting to reach ${r.url}${x.lengthComputable?`(${x.loaded} of ${x.total} bytes transferred)`:""}`))},l.onabort=()=>{E(!0),d=!0},l.onreadystatechange=function(){h&&(E(),i.socket=setTimeout(()=>_("ESOCKETTIMEDOUT"),h.socket)),!d&&l&&l.readyState===4&&l.status!==0&&function(){if(!(d||m||y)){if(l.status===0)return void b(new Error("Unknown XHR error"));E(),m=!0,e(null,{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:r.url,method:r.method,headers:vD(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText})}}()},l.open(r.method,r.url,!0),l.withCredentials=!!r.withCredentials,u&&l.setRequestHeader)for(const x in u)u.hasOwnProperty(x)&&l.setRequestHeader(x,u[x]);return r.rawBody&&(l.responseType="arraybuffer"),n.applyMiddleware("onRequest",{options:r,adapter:rv,request:l,context:n}),l.send(r.body||null),h&&(i.connect=setTimeout(()=>_("ETIMEDOUT"),h.connect)),{abort:function(){d=!0,l&&l.abort()}};function _(x){y=!0,l.abort();const k=new Error(x==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);k.code=x,n.channels.error.publish(k)}function E(x){(x||d||l&&l.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function b(x){if(m)return;E(!0),m=!0,l=null;const k=x||new Error(`Network error while attempting to reach ${r.url}`);k.isNetworkError=!0,k.request=r,e(k)}},ED=(n=[],e=_D)=>XS(n,e);var TD={},MT,jT,$T,FT,UT,yy={exports:{}};UT||(UT=1,function(n,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,l=0;r[0].replace(/%[a-zA-Z%]/g,u=>{u!=="%%"&&(o++,u==="%c"&&(l=o))}),r.splice(l,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=TD.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),n.exports=(FT?$T:(FT=1,$T=function(r){function i(u){let h,d,m,y=null;function _(...E){if(!_.enabled)return;const b=_,x=Number(new Date),k=x-(h||x);b.diff=k,b.prev=h,b.curr=x,h=x,E[0]=i.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let P=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(D,M)=>{if(D==="%%")return"%";P++;const W=i.formatters[M];if(typeof W=="function"){const X=E[P];D=W.call(b,X),E.splice(P,1),P--}return D}),i.formatArgs.call(b,E),(b.log||i.log).apply(b,E)}return _.namespace=u,_.useColors=i.useColors(),_.color=i.selectColor(u),_.extend=o,_.destroy=i.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(d!==i.namespaces&&(d=i.namespaces,m=i.enabled(u)),m),set:E=>{y=E}}),typeof i.init=="function"&&i.init(_),_}function o(u,h){const d=i(this.namespace+(typeof h>"u"?":":h)+u);return d.log=this.log,d}function l(u,h){let d=0,m=0,y=-1,_=0;for(;d<u.length;)if(m<h.length&&(h[m]===u[d]||h[m]==="*"))h[m]==="*"?(y=m,_=d,m++):(d++,m++);else{if(y===-1)return!1;m=y+1,_++,d=_}for(;m<h.length&&h[m]==="*";)m++;return m===h.length}return i.debug=i,i.default=i,i.coerce=function(u){return u instanceof Error?u.stack||u.message:u},i.disable=function(){const u=[...i.names,...i.skips.map(h=>"-"+h)].join(",");return i.enable(""),u},i.enable=function(u){i.save(u),i.namespaces=u,i.names=[],i.skips=[];const h=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of h)d[0]==="-"?i.skips.push(d.slice(1)):i.names.push(d)},i.enabled=function(u){for(const h of i.skips)if(l(u,h))return!1;for(const h of i.names)if(l(u,h))return!0;return!1},i.humanize=function(){if(jT)return MT;jT=1;var u=1e3,h=60*u,d=60*h,m=24*d,y=7*m;function _(E,b,x,k){var P=b>=1.5*x;return Math.round(E/x)+" "+k+(P?"s":"")}return MT=function(E,b){b=b||{};var x,k,P=typeof E;if(P==="string"&&E.length>0)return function(D){if(!((D=String(D)).length>100)){var M=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(D);if(M){var W=parseFloat(M[1]);switch((M[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*W;case"weeks":case"week":case"w":return W*y;case"days":case"day":case"d":return W*m;case"hours":case"hour":case"hrs":case"hr":case"h":return W*d;case"minutes":case"minute":case"mins":case"min":case"m":return W*h;case"seconds":case"second":case"secs":case"sec":case"s":return W*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return W;default:return}}}}(E);if(P==="number"&&isFinite(E))return b.long?(x=E,(k=Math.abs(x))>=m?_(x,k,m,"day"):k>=d?_(x,k,d,"hour"):k>=h?_(x,k,h,"minute"):k>=u?_(x,k,u,"second"):x+" ms"):function(D){var M=Math.abs(D);return M>=m?Math.round(D/m)+"d":M>=d?Math.round(D/d)+"h":M>=h?Math.round(D/h)+"m":M>=u?Math.round(D/u)+"s":D+"ms"}(E);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(E))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(u=>{i[u]=r[u]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return i.colors[Math.abs(h)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:t}=n.exports;t.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(yy,yy.exports)),yy.exports;const xD=typeof Buffer>"u"?()=>!1:n=>Buffer.isBuffer(n);function BT(n){return Object.prototype.toString.call(n)==="[object Object]"}function bD(n){if(BT(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(BT(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}const SD=["boolean","string","number"];function ID(){return{processOptions:n=>{const e=n.body;return!e||typeof e.pipe=="function"||xD(e)||SD.indexOf(typeof e)===-1&&!Array.isArray(e)&&!bD(e)?n:Object.assign({},n,{body:JSON.stringify(n.body),headers:Object.assign({},n.headers,{"Content-Type":"application/json"})})}}}function CD(n){return{onResponse:t=>{const r=t.headers["content-type"]||"",i=n&&n.force||r.indexOf("application/json")!==-1;return t.body&&r&&i?Object.assign({},t,{body:e(t.body)}):t},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})};function e(t){try{return JSON.parse(t)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Ic={};typeof globalThis<"u"?Ic=globalThis:typeof window<"u"?Ic=window:typeof global<"u"?Ic=global:typeof self<"u"&&(Ic=self);var AD=Ic;function PD(n={}){const e=n.implementation||AD.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,r)=>new e(i=>(t.error.subscribe(o=>i.error(o)),t.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),t.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),t.request.publish(r),()=>t.abort.publish()))}}function RD(){return{onRequest:n=>{if(n.adapter!=="xhr")return;const e=n.request,t=n.context;function r(i){return o=>{const l=o.lengthComputable?o.loaded/o.total*100:-1;t.channels.progress.publish({stage:i,percent:l,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var JS=(n,e,t)=>(t.method==="GET"||t.method==="HEAD")&&(n.isNetworkError||!1);function kD(n){return 100*Math.pow(2,n)+100*Math.random()}const u0=(n={})=>(e=>{const t=e.maxRetries||5,r=e.retryDelay||kD,i=e.shouldRetry;return{onError:(o,l)=>{const u=l.options,h=u.maxRetries||t,d=u.retryDelay||r,m=u.shouldRetry||i,y=u.attemptNumber||0;if((_=u.body)!==null&&typeof _=="object"&&typeof _.pipe=="function"||!m(o,y,u)||y>=h)return o;var _;const E=Object.assign({},l,{options:Object.assign({},u,{attemptNumber:y+1})});return setTimeout(()=>l.channels.request.publish(E),d(y)),null}}})({shouldRetry:JS,...n});u0.shouldRetry=JS;var iv=function(n,e){return iv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},iv(n,e)};function Xi(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function OD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{d(r.next(m))}catch(y){l(y)}}function h(m){try{d(r.throw(m))}catch(y){l(y)}}function d(m){m.done?o(m.value):i(m.value).then(u,h)}d((r=r.apply(n,e||[])).next())})}function ZS(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(d){return function(m){return h([d,m])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(m){d=[6,m],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Kl(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o}function Ui(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Rl(n){return this instanceof Rl?(this.v=n,this):new Rl(n)}function ND(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(E){return function(b){return Promise.resolve(b).then(E,y)}}function u(E,b){r[E]&&(i[E]=function(x){return new Promise(function(k,P){o.push([E,x,k,P])>1||h(E,x)})},b&&(i[E]=b(i[E])))}function h(E,b){try{d(r[E](b))}catch(x){_(o[0][3],x)}}function d(E){E.value instanceof Rl?Promise.resolve(E.value.v).then(m,y):_(o[0][2],E)}function m(E){h("next",E)}function y(E){h("throw",E)}function _(E,b){E(b),o.shift(),o.length&&h(o[0][0],o[0][1])}}function DD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Kl=="function"?Kl(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(u,h){l=n[o](l),i(u,h,l.done,l.value)})}}function i(o,l,u,h){Promise.resolve(h).then(function(d){o({value:d,done:u})},l)}}function ct(n){return typeof n=="function"}function c0(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vy=c0(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function up(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fh=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,o;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=Kl(l),h=u.next();!h.done;h=u.next()){var d=h.value;d.remove(this)}}catch(x){e={error:x}}finally{try{h&&!h.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else l.remove(this);var m=this.initialTeardown;if(ct(m))try{m()}catch(x){o=x instanceof vy?x.errors:[x]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var _=Kl(y),E=_.next();!E.done;E=_.next()){var b=E.value;try{zT(b)}catch(x){o=o??[],x instanceof vy?o=Ui(Ui([],Fi(o)),Fi(x.errors)):o.push(x)}}}catch(x){r={error:x}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}}if(o)throw new vy(o)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)zT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&up(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&up(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),eI=Fh.EMPTY;function tI(n){return n instanceof Fh||n&&"closed"in n&&ct(n.remove)&&ct(n.add)&&ct(n.unsubscribe)}function zT(n){ct(n)?n():n.unsubscribe()}var LD={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nI={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,Ui([n,e],Fi(t)))},clearTimeout:function(n){var e=nI.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function rI(n){nI.setTimeout(function(){throw n})}function qT(){}function Hf(n){n()}var h0=function(n){Xi(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,tI(t)&&t.add(r)):r.destination=jD,r}return e.create=function(t,r,i){return new Ql(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Fh),VD=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){kf(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){kf(r)}else kf(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){kf(t)}},n}(),Ql=function(n){Xi(e,n);function e(t,r,i){var o=n.call(this)||this,l;return ct(t)||!t?l={next:t??void 0,error:r??void 0,complete:i??void 0}:l=t,o.destination=new VD(l),o}return e}(h0);function kf(n){rI(n)}function MD(n){throw n}var jD={closed:!0,next:qT,error:MD,complete:qT},d0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function tm(n){return n}function $D(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return iI(n)}function iI(n){return n.length===0?tm:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var _t=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,o=UD(e)?e:new Ql(e,t,r);return Hf(function(){var l=i,u=l.operator,h=l.source;o.add(u?u.call(o,h):h?i._subscribe(o):i._trySubscribe(o))}),o},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=HT(t),new t(function(i,o){var l=new Ql({next:function(u){try{e(u)}catch(h){o(h),l.unsubscribe()}},error:o,complete:i});r.subscribe(l)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[d0]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iI(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=HT(e),new e(function(r,i){var o;t.subscribe(function(l){return o=l},function(l){return i(l)},function(){return r(o)})})},n.create=function(e){return new n(e)},n}();function HT(n){var e;return(e=n??LD.Promise)!==null&&e!==void 0?e:Promise}function FD(n){return n&&ct(n.next)&&ct(n.error)&&ct(n.complete)}function UD(n){return n&&n instanceof h0||FD(n)&&tI(n)}function BD(n){return ct(n==null?void 0:n.lift)}function ei(n){return function(e){if(BD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function no(n,e,t,r,i){return new zD(n,e,t,r,i)}var zD=function(n){Xi(e,n);function e(t,r,i,o,l,u){var h=n.call(this,t)||this;return h.onFinalize=l,h.shouldUnsubscribe=u,h._next=r?function(d){try{r(d)}catch(m){t.error(m)}}:n.prototype._next,h._error=o?function(d){try{o(d)}catch(m){t.error(m)}finally{this.unsubscribe()}}:n.prototype._error,h._complete=i?function(){try{i()}catch(d){t.error(d)}finally{this.unsubscribe()}}:n.prototype._complete,h}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(h0),qD=c0(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),f0=function(n){Xi(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new WT(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new qD},e.prototype.next=function(t){var r=this;Hf(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=Kl(r.currentObservers),u=l.next();!u.done;u=l.next()){var h=u.value;h.next(t)}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;Hf(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;Hf(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=this,o=i.hasError,l=i.isStopped,u=i.observers;return o||l?eI:(this.currentObservers=null,u.push(t),new Fh(function(){r.currentObservers=null,up(u,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,o=r.thrownError,l=r.isStopped;i?t.error(o):l&&t.complete()},e.prototype.asObservable=function(){var t=new _t;return t.source=this,t},e.create=function(t,r){return new WT(t,r)},e}(_t),WT=function(n){Xi(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:eI},e}(f0),p0={now:function(){return(p0.delegate||Date).now()},delegate:void 0},HD=function(n){Xi(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=p0);var o=n.call(this)||this;return o._bufferSize=t,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,r),o}return e.prototype.next=function(t){var r=this,i=r.isStopped,o=r._buffer,l=r._infiniteTimeWindow,u=r._timestampProvider,h=r._windowTime;i||(o.push(t),!l&&o.push(u.now()+h)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,o=i._infiniteTimeWindow,l=i._buffer,u=l.slice(),h=0;h<u.length&&!t.closed;h+=o?1:2)t.next(u[h]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,o=t._buffer,l=t._infiniteTimeWindow,u=(l?1:2)*r;if(r<1/0&&u<o.length&&o.splice(0,o.length-u),!l){for(var h=i.now(),d=0,m=1;m<o.length&&o[m]<=h;m+=2)d=m;d&&o.splice(0,d+1)}},e}(f0),WD=function(n){Xi(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(Fh),GT={setInterval:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setInterval.apply(void 0,Ui([n,e],Fi(t)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},GD=function(n){Xi(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var o=this.id,l=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(l,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(l,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),GT.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&GT.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,o;try{this.work(t)}catch(l){i=!0,o=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,up(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(WD),KT=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=p0.now,n}(),KD=function(n){Xi(e,n);function e(t,r){r===void 0&&(r=KT.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}(KT),QD=new KD(GD),YD=QD,sI=new _t(function(n){return n.complete()});function XD(n){return n&&ct(n.schedule)}function m0(n){return n[n.length-1]}function JD(n){return ct(m0(n))?n.pop():void 0}function g0(n){return XD(m0(n))?n.pop():void 0}function ZD(n,e){return typeof m0(n)=="number"?n.pop():e}var oI=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function aI(n){return ct(n==null?void 0:n.then)}function lI(n){return ct(n[d0])}function uI(n){return Symbol.asyncIterator&&ct(n==null?void 0:n[Symbol.asyncIterator])}function cI(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function eL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hI=eL();function dI(n){return ct(n==null?void 0:n[hI])}function fI(n){return ND(this,arguments,function(){var t,r,i,o;return ZS(this,function(l){switch(l.label){case 0:t=n.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,Rl(t.read())];case 3:return r=l.sent(),i=r.value,o=r.done,o?[4,Rl(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,Rl(i)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function pI(n){return ct(n==null?void 0:n.getReader)}function ti(n){if(n instanceof _t)return n;if(n!=null){if(lI(n))return tL(n);if(oI(n))return nL(n);if(aI(n))return rL(n);if(uI(n))return mI(n);if(dI(n))return iL(n);if(pI(n))return sL(n)}throw cI(n)}function tL(n){return new _t(function(e){var t=n[d0]();if(ct(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nL(n){return new _t(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function rL(n){return new _t(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,rI)})}function iL(n){return new _t(function(e){var t,r;try{for(var i=Kl(n),o=i.next();!o.done;o=i.next()){var l=o.value;if(e.next(l),e.closed)return}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function mI(n){return new _t(function(e){oL(n,e).catch(function(t){return e.error(t)})})}function sL(n){return mI(fI(n))}function oL(n,e){var t,r,i,o;return OD(this,void 0,void 0,function(){var l,u;return ZS(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),t=DD(n),h.label=1;case 1:return[4,t.next()];case 2:if(r=h.sent(),!!r.done)return[3,4];if(l=r.value,e.next(l),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=h.sent(),i={error:u},[3,11];case 6:return h.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ia(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function gI(n,e){return e===void 0&&(e=0),ei(function(t,r){t.subscribe(no(r,function(i){return ia(r,n,function(){return r.next(i)},e)},function(){return ia(r,n,function(){return r.complete()},e)},function(i){return ia(r,n,function(){return r.error(i)},e)}))})}function yI(n,e){return e===void 0&&(e=0),ei(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function aL(n,e){return ti(n).pipe(yI(e),gI(e))}function lL(n,e){return ti(n).pipe(yI(e),gI(e))}function uL(n,e){return new _t(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cL(n,e){return new _t(function(t){var r;return ia(t,e,function(){r=n[hI](),ia(t,e,function(){var i,o,l;try{i=r.next(),o=i.value,l=i.done}catch(u){t.error(u);return}l?t.complete():t.next(o)},0,!0)}),function(){return ct(r==null?void 0:r.return)&&r.return()}})}function vI(n,e){if(!n)throw new Error("Iterable cannot be null");return new _t(function(t){ia(t,e,function(){var r=n[Symbol.asyncIterator]();ia(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function hL(n,e){return vI(fI(n),e)}function dL(n,e){if(n!=null){if(lI(n))return aL(n,e);if(oI(n))return uL(n,e);if(aI(n))return lL(n,e);if(uI(n))return vI(n,e);if(dI(n))return cL(n,e);if(pI(n))return hL(n,e)}throw cI(n)}function Uh(n,e){return e?dL(n,e):ti(n)}function nm(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=g0(n);return Uh(n,t)}function wI(n,e){var t=ct(n)?n:function(){return n},r=function(i){return i.error(t())};return new _t(r)}function fL(n){return!!n&&(n instanceof _t||ct(n.lift)&&ct(n.subscribe))}var _I=c0(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function Fe(n,e){return new Promise(function(t,r){var i=!1,o;n.subscribe({next:function(l){o=l,i=!0},error:r,complete:function(){i?t(o):r(new _I)}})})}function wy(n,e){return new Promise(function(t,r){var i=new Ql({next:function(o){t(o),i.unsubscribe()},error:r,complete:function(){r(new _I)}});n.subscribe(i)})}function pL(n){return n instanceof Date&&!isNaN(n)}function hn(n,e){return ei(function(t,r){var i=0;t.subscribe(no(r,function(o){r.next(n.call(e,o,i++))}))})}var mL=Array.isArray;function gL(n,e){return mL(e)?n.apply(void 0,Ui([],Fi(e))):n(e)}function yL(n){return hn(function(e){return gL(n,e)})}function vL(n,e,t){return t===void 0&&(t=tm),function(r){QT(e,function(){for(var i=n.length,o=new Array(i),l=i,u=i,h=function(m){QT(e,function(){var y=Uh(n[m],e),_=!1;y.subscribe(no(r,function(E){o[m]=E,_||(_=!0,u--),u||r.next(t(o.slice()))},function(){--l||r.complete()}))},r)},d=0;d<i;d++)h(d)})}}function QT(n,e,t){e()}function wL(n,e,t,r,i,o,l,u){var h=[],d=0,m=0,y=!1,_=function(){y&&!h.length&&!d&&e.complete()},E=function(x){return d<r?b(x):h.push(x)},b=function(x){d++;var k=!1;ti(t(x,m++)).subscribe(no(e,function(P){e.next(P)},function(){k=!0},void 0,function(){if(k)try{d--;for(var P=function(){var D=h.shift();l||b(D)};h.length&&d<r;)P();_()}catch(D){e.error(D)}}))};return n.subscribe(no(e,E,function(){y=!0,_()})),function(){}}function Bh(n,e,t){return t===void 0&&(t=1/0),ct(e)?Bh(function(r,i){return hn(function(o,l){return e(r,o,i,l)})(ti(n(r,i)))},t):(typeof e=="number"&&(t=e),ei(function(r,i){return wL(r,i,n,t)}))}function EI(n){return n===void 0&&(n=1/0),Bh(tm,n)}function _L(){return EI(1)}function TI(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return _L()(Uh(n,g0(n)))}function xI(n){return new _t(function(e){ti(n()).subscribe(e)})}function EL(n,e,t){return t===void 0&&(t=YD),new _t(function(r){var i=pL(n)?1e3-t.now():n;i<0&&(i=0);var o=0;return t.schedule(function(){r.closed||(r.next(o++),r.complete())},i)})}function TL(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=g0(n),r=ZD(n,1/0),i=n;return i.length?i.length===1?ti(i[0]):EI(r)(Uh(i,t)):sI}var xL=Array.isArray;function bL(n){return n.length===1&&xL(n[0])?n[0]:n}function pu(n,e){return ei(function(t,r){var i=0;t.subscribe(no(r,function(o){return n.call(e,o,i++)&&r.next(o)}))})}function y0(n){return ei(function(e,t){var r=null,i=!1,o;r=e.subscribe(no(t,void 0,void 0,function(l){o=ti(n(l,y0(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function bI(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=JD(n);return t?$D(bI.apply(void 0,Ui([],Fi(n))),yL(t)):ei(function(r,i){vL(Ui([r],Fi(bL(n))))(i)})}function SL(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return bI.apply(void 0,Ui([],Fi(n)))}function SI(n){return ei(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}function II(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new f0}:e,r=n.resetOnError,i=r===void 0?!0:r,o=n.resetOnComplete,l=o===void 0?!0:o,u=n.resetOnRefCountZero,h=u===void 0?!0:u;return function(d){var m,y,_,E=0,b=!1,x=!1,k=function(){y==null||y.unsubscribe(),y=void 0},P=function(){k(),m=_=void 0,b=x=!1},D=function(){var M=m;P(),M==null||M.unsubscribe()};return ei(function(M,W){E++,!x&&!b&&k();var X=_=_??t();W.add(function(){E--,E===0&&!x&&!b&&(y=_y(D,h))}),X.subscribe(W),!m&&E>0&&(m=new Ql({next:function(J){return X.next(J)},error:function(J){x=!0,k(),y=_y(P,i,J),X.error(J)},complete:function(){b=!0,k(),y=_y(P,l),X.complete()}}),ti(M).subscribe(m))})(d)}}function _y(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(e===!0){n();return}if(e!==!1){var i=new Ql({next:function(){i.unsubscribe(),n()}});return ti(e.apply(void 0,Ui([],Fi(t)))).subscribe(i)}}function IL(n,e,t){var r,i=!1;return r=n,II({connector:function(){return new HD(r,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function CL(n,e,t){var r=ct(n)||e||t?{next:n,error:e,complete:t}:n;return r?ei(function(i,o){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var u=!0;i.subscribe(no(o,function(h){var d;(d=r.next)===null||d===void 0||d.call(r,h),o.next(h)},function(){var h;u=!1,(h=r.complete)===null||h===void 0||h.call(r),o.complete()},function(h){var d;u=!1,(d=r.error)===null||d===void 0||d.call(r,h),o.error(h)},function(){var h,d;u&&((h=r.unsubscribe)===null||h===void 0||h.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):tm}function CI(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}var AI={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},v0={0:8203,1:8204,2:8205,3:65279},AL=new Array(4).fill(String.fromCodePoint(v0[0])).join("");function PL(n){let e=JSON.stringify(n);return`${AL}${Array.from(e).map(t=>{let r=t.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${t} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(v0[i])).join("")}).join("")}`}function RL(n){return!Number.isNaN(Number(n))||/[a-z]/i.test(n)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(n)?!1:!!Date.parse(n)}function kL(n){try{new URL(n,n.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function dG(n,e,t="auto"){return t===!0||t==="auto"&&(RL(n)||kL(n))?n:`${n}${PL(e)}`}Object.fromEntries(Object.entries(v0).map(n=>n.reverse()));Object.fromEntries(Object.entries(AI).map(n=>n.reverse()));var OL=`${Object.values(AI).map(n=>`\\u{${n.toString(16)}}`).join("")}`,YT=new RegExp(`[${OL}]{4,}`,"gu");function NL(n){var e;return{cleaned:n.replace(YT,""),encoded:((e=n.match(YT))==null?void 0:e[0])||""}}function DL(n){return n&&JSON.parse(NL(JSON.stringify(n)).cleaned)}function LL(n){return DL(n)}const VL="drafts",ML="versions",Yl=".",cp=`${VL}${Yl}`,PI=`${ML}${Yl}`;function rm(n){return n.startsWith(cp)}function im(n){return n.startsWith(PI)}function RI(n){if(im(n)){const e=sm(n);return cp+e}return rm(n)?n:cp+n}function zh(n,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${PI}${e}${Yl}${sm(n)}`}function kI(n){if(!im(n))return;const[e,t,...r]=n.split(Yl);return t}function sm(n){return im(n)?n.split(Yl).slice(2).join(Yl):rm(n)?n.slice(cp.length):n}let jL=n=>crypto.getRandomValues(new Uint8Array(n)),$L=(n,e,t)=>{let r=(2<<Math.log(n.length-1)/Math.LN2)-1,i=-~(1.6*r*e/n.length);return(o=e)=>{let l="";for(;;){let u=t(i),h=i|0;for(;h--;)if(l+=n[u[h]&r]||"",l.length===o)return l}}},FL=(n,e=21)=>$L(n,e,jL);const XT=/\r\n|[\n\r\u2028\u2029]/;function UL(n,e,t){const r=n.split(XT),i={start:JT(e.start,r),end:e.end?JT(e.end,r):void 0},{start:o,end:l,markerLines:u}=BL(i,r),h=`${l}`.length;return n.split(XT,l).slice(o,l).map((d,m)=>{const y=o+1+m,_=` ${` ${y}`.slice(-h)} |`,E=u[y],b=!u[y+1];if(!E)return` ${_}${d.length>0?` ${d}`:""}`;let x="";if(Array.isArray(E)){const k=d.slice(0,Math.max(E[0]-1,0)).replace(/[^\t]/g," "),P=E[1]||1;x=[`
 `,_.replace(/\d/g," ")," ",k,"^".repeat(P)].join(""),b&&t&&(x+=" "+t)}return[">",_,d.length>0?` ${d}`:"",x].join("")}).join(`
`)}function BL(n,e){const t={...n.start},r={...t,...n.end},i=2,o=3,l=t.line??-1,u=t.column??0,h=r.line,d=r.column;let m=Math.max(l-(i+1),0),y=Math.min(e.length,h+o);l===-1&&(m=0),h===-1&&(y=e.length);const _=h-l,E={};if(_)for(let b=0;b<=_;b++){const x=b+l;if(!u)E[x]=!0;else if(b===0){const k=e[x-1].length;E[x]=[u,k-u+1]}else if(b===_)E[x]=[0,d];else{const k=e[x-b].length;E[x]=[0,k]}}else u===d?u?E[l]=[u,0]:E[l]=!0:E[l]=[u,d-u];return{start:m,end:y,markerLines:E}}function JT(n,e){var r;let t=0;for(let i=0;i<e.length;i++){const o=e[i].length+1;if(t+o>n)return{line:i+1,column:n-t};t+=o}return{line:e.length,column:((r=e[e.length-1])==null?void 0:r.length)??0}}const Ey=5;let zL=class extends Error{constructor(t,r){const i=OI(t,r);super(i.message);le(this,"response");le(this,"statusCode",400);le(this,"responseBody");le(this,"details");Object.assign(this,i)}},qL=class extends Error{constructor(t){const r=OI(t);super(r.message);le(this,"response");le(this,"statusCode",500);le(this,"responseBody");le(this,"details");Object.assign(this,r)}};function OI(n,e){var o,l;const t=n.body,r={response:n,statusCode:n.statusCode,responseBody:GL(t,n),message:"",details:void 0};if(!CI(t))return r.message=Ty(n,t),r;const i=t.error;if(typeof i=="string"&&typeof t.message=="string")return r.message=`${i} - ${t.message}`,r;if(typeof i!="object"||i===null)return typeof i=="string"?r.message=i:typeof t.message=="string"?r.message=t.message:r.message=Ty(n,t),r;if(HL(i)||WL(i)){const u=i.items||[],h=u.slice(0,Ey).map(m=>{var y;return(y=m.error)==null?void 0:y.description}).filter(Boolean);let d=h.length?`:
- ${h.join(`
- `)}`:"";return u.length>Ey&&(d+=`
...and ${u.length-Ey} more`),r.message=`${i.description}${d}`,r.details=t.error,r}if(NI(i)){const u=(l=(o=e==null?void 0:e.options)==null?void 0:o.query)==null?void 0:l.tag;return r.message=DI(i,u),r.details=t.error,r}return"description"in i&&typeof i.description=="string"?(r.message=i.description,r.details=i,r):(r.message=Ty(n,t),r)}function HL(n){return"type"in n&&n.type==="mutationError"&&"description"in n&&typeof n.description=="string"}function WL(n){return"type"in n&&n.type==="actionError"&&"description"in n&&typeof n.description=="string"}function NI(n){return CI(n)&&n.type==="queryParseError"&&typeof n.query=="string"&&typeof n.start=="number"&&typeof n.end=="number"}function DI(n,e){const{query:t,start:r,end:i,description:o}=n;if(!t||typeof r>"u")return`GROQ query parse error: ${o}`;const l=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${UL(t,{start:r,end:i},o)}${l}`}function Ty(n,e){const t=typeof e=="string"?` (${KL(e,100)})`:"",r=n.statusMessage?` ${n.statusMessage}`:"";return`${n.method}-request to ${n.url} resulted in HTTP ${n.statusCode}${r}${t}`}function GL(n,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(n,null,2):n}function KL(n,e){return n.length>e?`${n.slice(0,e)}…`:n}let QL=class extends Error{constructor({projectId:t}){super("CorsOriginError");le(this,"projectId");le(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=t;const r=new URL(`https://sanity.io/manage/project/${t}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}};const YL={onResponse:(n,e)=>{if(n.statusCode>=500)throw new qL(n);if(n.statusCode>=400)throw new zL(n,e);return n}};function XL(n={}){const e={},t=r=>n.ignoreWarnings===void 0?!1:(Array.isArray(n.ignoreWarnings)?n.ignoreWarnings:[n.ignoreWarnings]).some(i=>typeof i=="string"?r.includes(i):i instanceof RegExp?i.test(r):!1);return{onResponse:r=>{const i=r.headers["x-sanity-warning"],o=Array.isArray(i)?i:[i];for(const l of o)!l||e[l]||t(l)||(e[l]=!0,console.warn(l));return r}}}function ZT(n,e={}){return ED([u0({shouldRetry:JL}),...n,XL(e),ID(),CD(),RD(),YL,PD({implementation:_t})])}function JL(n,e,t){if(t.maxRetries===0)return!1;const r=t.method==="GET"||t.method==="HEAD",i=(t.uri||t.url).startsWith("/data/query"),o=n.response&&(n.response.statusCode===429||n.response.statusCode===502||n.response.statusCode===503);return(r||i)&&o?!0:u0.shouldRetry(n,e,t)}const ZL="https://www.sanity.io/help/";function w0(n){return ZL+n}const e1=["image","file"],t1=["before","after","replace"],LI=n=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(n))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},eV=n=>{if(!/^[-a-z0-9]+$/i.test(n))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},tV=n=>{if(e1.indexOf(n)===-1)throw new Error(`Invalid asset type: ${n}. Must be one of ${e1.join(", ")}`)},Lc=(n,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${n}() takes an object of properties`)},hp=(n,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${n}(): "${e}" is not a valid document ID`)},Xl=(n,e)=>{if(!e._id)throw new Error(`${n}() requires that the document contains an ID ("_id" property)`);hp(n,e._id)},nV=(n,e)=>{if(typeof e!="string")throw new Error(`\`${n}()\`: \`${e}\` is not a valid document type`)},VI=(n,e)=>{if(!e._type)throw new Error(`\`${n}()\` requires that the document contains a type (\`_type\` property)`);nV(n,e._type)},rV=(n,e)=>{if(e._id&&e._id!==n)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${n}\`)`)},iV=(n,e,t)=>{const r="insert(at, selector, items)";if(t1.indexOf(n)===-1){const i=t1.map(o=>`"${o}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(t))throw new Error(`${r} takes an "items"-argument which must be an array`)},ga=n=>{if(!n.dataset)throw new Error("`dataset` must be provided to perform queries");return n.dataset||""},MI=n=>{if(typeof n!="string"||!/^[a-z0-9._-]{1,75}$/i.test(n))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return n},jI=n=>{if(!n["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=n["~experimental_resource"];switch(e){case"dataset":{if(t.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},Fr=(n,e)=>{if(e["~experimental_resource"])throw new Error(`\`${n}\` does not support resource-based operations`)};function sV(n){let e=!1,t;return(...r)=>(e||(t=n(...r),e=!0),t)}const ho=n=>sV((...e)=>console.warn(n.join(" "),...e)),oV=ho(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),aV=ho(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),lV=ho(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),uV=ho(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),cV=ho(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${w0("js-client-browser-token")} for more information and how to hide this warning.`]),hV=ho(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),dV=ho(["Using the Sanity client without specifying an API version is deprecated.",`See ${w0("js-client-api-version")}`]),fV=ho(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),pV="apicdn.sanity.io",Vc={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},mV=["localhost","127.0.0.1","0.0.0.0"],gV=n=>mV.indexOf(n)!==-1;function yV(n){if(n==="1"||n==="X")return;const e=new Date(n);if(!(/^\d{4}-\d{2}-\d{2}$/.test(n)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function $I(n){if(Array.isArray(n)&&n.length>1&&n.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const FI=(n,e)=>{const t={...e,...n,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Vc.stega,...typeof n.stega=="boolean"?{enabled:n.stega}:n.stega||{}}};t.apiVersion||dV();const r={...Vc,...t},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const _=w0("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${_}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&jI(r),typeof r.perspective<"u"&&$I(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,l=o&&gV(window.location.hostname),u=!!r.token;r.withCredentials&&u&&(hV(),r.withCredentials=!1),o&&l&&u&&r.ignoreBrowserTokenWarning!==!0?cV():typeof r.useCdn>"u"&&aV(),i&&eV(r.projectId),r.dataset&&LI(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?MI(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Vc.apiHost,r.useCdn===!0&&r.withCredentials&&oV(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,yV(r.apiVersion);const h=r.apiHost.split("://",2),d=h[0],m=h[1],y=r.isDefaultApi?pV:m;return i?(r.url=`${d}://${r.projectId}.${m}/v${r.apiVersion}`,r.cdnUrl=`${d}://${r.projectId}.${y}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};let UI=class extends Error{constructor(){super(...arguments);le(this,"name","ConnectionFailedError")}},vV=class extends Error{constructor(t,r,i={}){super(t,i);le(this,"name","DisconnectError");le(this,"reason");this.reason=r}},wV=class extends Error{constructor(t,r){super(t);le(this,"name","ChannelError");le(this,"data");this.data=r}},_V=class extends Error{constructor(t,r,i={}){super(t,i);le(this,"name","MessageError");le(this,"data");this.data=r}},n1=class extends Error{constructor(){super(...arguments);le(this,"name","MessageParseError")}};const EV=["channelError","disconnect"];function BI(n,e){return xI(()=>{const t=n();return fL(t)?t:nm(t)}).pipe(Bh(t=>TV(t,e)))}function TV(n,e){return new _t(t=>{const r=e.includes("open"),i=e.includes("reconnect");function o(d){if("data"in d){const[m,y]=r1(d);t.error(m?new n1("Unable to parse EventSource error message",{cause:y}):new _V((y==null?void 0:y.data).message,y));return}n.readyState===n.CLOSED?t.error(new UI("EventSource connection failed")):i&&t.next({type:"reconnect"})}function l(){t.next({type:"open"})}function u(d){var _;const[m,y]=r1(d);if(m){t.error(new n1("Unable to parse EventSource message",{cause:m}));return}if(d.type==="channelError"){const E=new URL(n.url).searchParams.get("tag");t.error(new wV(xV(y==null?void 0:y.data,E),y.data));return}if(d.type==="disconnect"){t.error(new vV(`Server disconnected client: ${((_=y.data)==null?void 0:_.reason)||"unknown error"}`));return}t.next({type:d.type,id:d.lastEventId,...y.data?{data:y.data}:{}})}n.addEventListener("error",o),r&&n.addEventListener("open",l);const h=[...new Set([...EV,...e])].filter(d=>d!=="error"&&d!=="open"&&d!=="reconnect");return h.forEach(d=>n.addEventListener(d,u)),()=>{n.removeEventListener("error",o),r&&n.removeEventListener("open",l),h.forEach(d=>n.removeEventListener(d,u)),n.close()}})}function r1(n){try{const e=typeof n.data=="string"&&JSON.parse(n.data);return[null,{type:n.type,id:n.lastEventId,...bV(e)?{}:{data:e}}]}catch(e){return[e,null]}}function xV(n,e){const t=n.error;return t?NI(t)?DI(t,e):t.description?t.description:typeof t=="string"?t:JSON.stringify(t,null,2):n.message||"Unknown listener error"}function bV(n){for(const e in n)return!1;return!0}function zI(n){if(typeof n=="string")return{id:n};if(Array.isArray(n))return{query:"*[_id in $ids]",params:{ids:n}};if(typeof n=="object"&&n!==null&&"query"in n&&typeof n.query=="string")return"params"in n&&typeof n.params=="object"&&n.params!==null?{query:n.query,params:n.params}:{query:n.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}let qI=class{constructor(e,t={}){le(this,"selection");le(this,"operations");this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Lc("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,r){return iV(e,t,r),this._assign("insert",{[e]:t,items:r})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,r,i){const o=typeof r>"u"||r===-1,l=t<0?t-1:t,u=o?-1:Math.max(0,t+r),h=l<0&&u>=0?"":u,d=`${e}[${l}:${h}]`;return this.insert("replace",d,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...zI(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,r=!0){return Lc(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}};var Jo,$l;let Mc=($l=class extends qI{constructor(t,r,i){super(t,r);ge(this,Jo);pe(this,Jo,i)}clone(){return new $l(this.selection,{...this.operations},L(this,Jo))}commit(t){if(!L(this,Jo))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},t);return L(this,Jo).mutate({patch:this.serialize()},i)}},Jo=new WeakMap,$l);var Zo,Fl;let bl=(Fl=class extends qI{constructor(t,r,i){super(t,r);ge(this,Zo);pe(this,Zo,i)}clone(){return new Fl(this.selection,{...this.operations},L(this,Zo))}commit(t){if(!L(this,Zo))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},t);return L(this,Zo).mutate({patch:this.serialize()},i)}},Zo=new WeakMap,Fl);const HI={returnDocuments:!1};let WI=class{constructor(e=[],t){le(this,"operations");le(this,"trxId");this.operations=e,this.trxId=t}create(e){return Lc("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return Lc(t,e),Xl(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return Lc(t,e),Xl(t,e),this._add({[t]:e})}delete(e){return hp("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}};var xi,Ul;let GI=(Ul=class extends WI{constructor(t,r,i){super(t,i);ge(this,xi);pe(this,xi,r)}clone(){return new Ul([...this.operations],L(this,xi),this.trxId)}commit(t){if(!L(this,xi))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return L(this,xi).mutate(this.serialize(),Object.assign({transactionId:this.trxId},HI,t||{}))}patch(t,r){const i=typeof r=="function",o=typeof t!="string"&&t instanceof bl,l=typeof t=="object"&&("query"in t||"id"in t);if(o)return this._add({patch:t.serialize()});if(i){const u=r(new bl(t,{},L(this,xi)));if(!(u instanceof bl))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:u.serialize()})}if(l){const u=new bl(t,r||{},L(this,xi));return this._add({patch:u.serialize()})}return this._add({patch:{id:t,...r}})}},xi=new WeakMap,Ul);var Ds,Bl;let KI=(Bl=class extends WI{constructor(t,r,i){super(t,i);ge(this,Ds);pe(this,Ds,r)}clone(){return new Bl([...this.operations],L(this,Ds),this.trxId)}commit(t){if(!L(this,Ds))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return L(this,Ds).mutate(this.serialize(),Object.assign({transactionId:this.trxId},HI,t||{}))}patch(t,r){const i=typeof r=="function";if(typeof t!="string"&&t instanceof Mc)return this._add({patch:t.serialize()});if(i){const o=r(new Mc(t,{},L(this,Ds)));if(!(o instanceof Mc))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:t,...r}})}},Ds=new WeakMap,Bl);const SV="X-Sanity-Project-ID";function IV(n,e={}){const t={};n.headers&&Object.assign(t,n.headers);const r=e.token||n.token;r&&(t.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!n.useProjectHostname&&n.projectId&&(t[SV]=n.projectId);const i=!!(typeof e.withCredentials>"u"?n.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?n.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},t,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||n.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof n.fetch=="object"?{...n.fetch,...e.fetch}:e.fetch||n.fetch})}const QI=({query:n,params:e={},options:t={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:l,...u}=t;i&&r.append("tag",i),r.append("query",n);for(const[h,d]of Object.entries(e))d!==void 0&&r.append(`$${h}`,JSON.stringify(d));for(const[h,d]of Object.entries(u))d&&r.append(h,`${d}`);return l===!1&&r.append("returnQuery","false"),o===!1&&r.append("includeMutations","false"),`?${r}`},CV=(n,e)=>n===!1?void 0:typeof n>"u"?e:n,AV=(n={})=>({dryRun:n.dryRun,returnIds:!0,returnDocuments:CV(n.returnDocuments,!0),visibility:n.visibility||"sync",autoGenerateArrayKeys:n.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:n.skipCrossDatasetReferenceValidation}),_0=n=>n.type==="response",PV=n=>n.body,RV=(n,e)=>n.reduce((t,r)=>(t[e(r)]=r,t),Object.create(null)),kV=11264;function YI(n,e,t,r,i={},o={}){const l="stega"in o?{...t||{},...typeof o.stega=="boolean"?{enabled:o.stega}:o.stega||{}}:t,u=l.enabled?LL(i):i,h=o.filterResponse===!1?b=>b:b=>b.result,{cache:d,next:m,...y}={useAbortSignal:typeof o.signal<"u",resultSourceMap:l.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:o.filterResponse===!1&&o.returnQuery!==!1},_=typeof d<"u"||typeof m<"u"?{...y,fetch:{cache:d,next:m}}:y,E=ya(n,e,"query",{query:r,params:u},_);return l.enabled?E.pipe(SL(Uh(em(()=>import("./stegaEncodeSourceMap-DsGcW22z.js"),[]).then(function(b){return b.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:b})=>b))),hn(([b,x])=>{const k=x(b.result,b.resultSourceMap,l);return h({...b,result:k})})):E.pipe(hn(h))}function om(n,e,t,r={}){const i=(()=>{if(!r.releaseId)return t;const l=kI(t);if(!l){if(rm(t))throw new Error(`The document ID (\`${t}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return zh(t,r.releaseId)}if(l!==r.releaseId)throw new Error(`The document ID (\`${t}\`) is already a version of \`${l}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return t})(),o={uri:or(n,"doc",i),json:!0,tag:r.tag,signal:r.signal};return Hh(n,e,o).pipe(pu(_0),hn(l=>l.body.documents&&l.body.documents[0]))}function XI(n,e,t,r={}){const i={uri:or(n,"doc",t.join(",")),json:!0,tag:r.tag,signal:r.signal};return Hh(n,e,i).pipe(pu(_0),hn(o=>{const l=RV(o.body.documents||[],u=>u._id);return t.map(u=>l[u]||null)}))}function JI(n,e,t,r={}){return ya(n,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:t}},r)}function ZI(n,e,t,r){return Xl("createIfNotExists",t),am(n,e,t,"createIfNotExists",r)}function eC(n,e,t,r){return Xl("createOrReplace",t),am(n,e,t,"createOrReplace",r)}function tC(n,e,t,r,i){return Xl("createVersion",t),VI("createVersion",t),fV(),pt(n,e,{actionType:"sanity.action.document.version.create",publishedId:r,document:t},i)}function nC(n,e,t,r,i,o,l){if(!r)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!t)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");hp("createVersion",r),hp("createVersion",t);const u={actionType:"sanity.action.document.version.create",publishedId:t,baseId:r,versionId:i?zh(t,i):RI(t),ifBaseRevisionId:o};return pt(n,e,u,l)}function rC(n,e,t,r){return ya(n,e,"mutate",{mutations:[{delete:zI(t)}]},r)}function iC(n,e,t,r=!1,i){return pt(n,e,{actionType:"sanity.action.document.version.discard",versionId:t,purge:r},i)}function sC(n,e,t,r){return Xl("replaceVersion",t),VI("replaceVersion",t),pt(n,e,{actionType:"sanity.action.document.version.replace",document:t},r)}function oC(n,e,t,r,i){return pt(n,e,{actionType:"sanity.action.document.version.unpublish",versionId:t,publishedId:r},i)}function aC(n,e,t,r){let i;t instanceof bl||t instanceof Mc?i={patch:t.serialize()}:t instanceof GI||t instanceof KI?i=t.serialize():i=t;const o=Array.isArray(i)?i:[i],l=r&&r.transactionId||void 0;return ya(n,e,"mutate",{mutations:o,transactionId:l},r)}function pt(n,e,t,r){const i=Array.isArray(t)?t:[t],o=r&&r.transactionId||void 0,l=r&&r.skipCrossDatasetReferenceValidation||void 0,u=r&&r.dryRun||void 0;return ya(n,e,"actions",{actions:i,transactionId:o,skipCrossDatasetReferenceValidation:l,dryRun:u},r)}function ya(n,e,t,r,i={}){const o=t==="mutate",l=t==="actions",u=t==="query",h=o||l?"":QI(r),d=!o&&!l&&h.length<kV,m=d?h:"",y=i.returnFirst,{timeout:_,token:E,tag:b,headers:x,returnQuery:k,lastLiveEventId:P,cacheMode:D}=i,M=or(n,t,m),W={method:d?"GET":"POST",uri:M,json:!0,body:d?void 0:r,query:o&&AV(i),timeout:_,headers:x,token:E,tag:b,returnQuery:k,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(P)?P[0]:P,cacheMode:D,canUseCdn:u,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Hh(n,e,W).pipe(pu(_0),hn(PV),hn(X=>{if(!o)return X;const J=X.results||[];if(i.returnDocuments)return y?J[0]&&J[0].document:J.map(V=>V.document);const j=y?"documentId":"documentIds",O=y?J[0]&&J[0].id:J.map(V=>V.id);return{transactionId:X.transactionId,results:J,[j]:O}}))}function am(n,e,t,r,i={}){const o={[r]:t},l=Object.assign({returnFirst:!0,returnDocuments:!0},i);return ya(n,e,"mutate",{mutations:[o]},l)}const qh=n=>n.config().dataset!==void 0&&n.config().projectId!==void 0||n.config()["~experimental_resource"]!==void 0,lC=(n,e)=>qh(n)&&e.startsWith(or(n,"query")),OV=(n,e)=>qh(n)&&e.startsWith(or(n,"mutate")),NV=(n,e)=>qh(n)&&e.startsWith(or(n,"doc","")),DV=(n,e)=>qh(n)&&e.startsWith(or(n,"listen")),LV=(n,e)=>qh(n)&&e.startsWith(or(n,"history","")),VV=(n,e)=>e.startsWith("/data/")||lC(n,e)||OV(n,e)||NV(n,e)||DV(n,e)||LV(n,e);function Hh(n,e,t){const r=t.url||t.uri,i=n.config(),o=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&VV(n,r):t.canUseCdn;let l=(t.useCdn??i.useCdn)&&o;const u=t.tag&&i.requestTagPrefix?[i.requestTagPrefix,t.tag].join("."):t.tag||i.requestTagPrefix;if(u&&t.tag!==null&&(t.query={tag:MI(u),...t.query}),["GET","HEAD","POST"].indexOf(t.method||"GET")>=0&&lC(n,r)){const m=t.resultSourceMap??i.resultSourceMap;m!==void 0&&m!==!1&&(t.query={resultSourceMap:m,...t.query});const y=t.perspective||i.perspective;typeof y<"u"&&(y==="previewDrafts"&&uV(),$I(y),t.query={perspective:Array.isArray(y)?y.join(","):y,...t.query},(Array.isArray(y)&&y.length>0||y==="previewDrafts"||y==="drafts")&&l&&(l=!1,lV())),t.lastLiveEventId&&(t.query={...t.query,lastLiveEventId:t.lastLiveEventId}),t.returnQuery===!1&&(t.query={returnQuery:"false",...t.query}),l&&t.cacheMode=="noStale"&&(t.query={cacheMode:"noStale",...t.query})}const h=IV(i,Object.assign({},t,{url:E0(n,r,l)})),d=new _t(m=>e(h,i.requester).subscribe(m));return t.signal?d.pipe(MV(t.signal)):d}function dn(n,e,t){return Hh(n,e,t).pipe(pu(r=>r.type==="response"),hn(r=>r.body))}function or(n,e,t){const r=n.config();if(r["~experimental_resource"]){jI(r);const l=FV(r),u=t!==void 0?`${e}/${t}`:e;return`${l}/${u}`.replace(/\/($|\?)/,"$1")}const i=ga(r),o=`/${e}/${i}`;return`/data${t!==void 0?`${o}/${t}`:o}`.replace(/\/($|\?)/,"$1")}function E0(n,e,t=!1){const{url:r,cdnUrl:i}=n.config();return`${t?i:r}/${e.replace(/^\//,"")}`}function MV(n){return e=>new _t(t=>{const r=()=>t.error($V(n));if(n&&n.aborted){r();return}const i=e.subscribe(t);return n.addEventListener("abort",r),()=>{n.removeEventListener("abort",r),i.unsubscribe()}})}const jV=!!globalThis.DOMException;function $V(n){if(jV)return new DOMException((n==null?void 0:n.reason)??"The operation was aborted.","AbortError");const e=new Error((n==null?void 0:n.reason)??"The operation was aborted.");return e.name="AbortError",e}const FV=n=>{if(!n["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=n["~experimental_resource"];switch(e){case"dataset":{const r=t.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${t}`;case"media-library":return`/media-libraries/${t}`;case"dashboard":return`/dashboards/${t}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function uC(n,e,t){const r=ga(n.config());return dn(n,e,{method:"POST",uri:`/agent/action/generate/${r}`,body:t})}function UV(n,e,t){const r=ga(n.config());return dn(n,e,{method:"POST",uri:`/agent/action/patch/${r}`,body:t})}function BV(n,e,t){const r=ga(n.config());return dn(n,e,{method:"POST",uri:`/agent/action/prompt/${r}`,body:t})}function cC(n,e,t){const r=ga(n.config());return dn(n,e,{method:"POST",uri:`/agent/action/transform/${r}`,body:t})}function hC(n,e,t){const r=ga(n.config());return dn(n,e,{method:"POST",uri:`/agent/action/translate/${r}`,body:t})}var ea,ta;class zV{constructor(e,t){ge(this,ea);ge(this,ta);pe(this,ea,e),pe(this,ta,t)}generate(e){return uC(L(this,ea),L(this,ta),e)}transform(e){return cC(L(this,ea),L(this,ta),e)}translate(e){return hC(L(this,ea),L(this,ta),e)}}ea=new WeakMap,ta=new WeakMap;var bi,Si;class qV{constructor(e,t){ge(this,bi);ge(this,Si);pe(this,bi,e),pe(this,Si,t)}generate(e){return Fe(uC(L(this,bi),L(this,Si),e))}transform(e){return Fe(cC(L(this,bi),L(this,Si),e))}translate(e){return Fe(hC(L(this,bi),L(this,Si),e))}prompt(e){return Fe(BV(L(this,bi),L(this,Si),e))}patch(e){return Fe(UV(L(this,bi),L(this,Si),e))}}bi=new WeakMap,Si=new WeakMap;var gh,yh,wS;let HV=(wS=class{constructor(e,t){ge(this,gh);ge(this,yh);pe(this,gh,e),pe(this,yh,t)}upload(e,t,r){return dC(L(this,gh),L(this,yh),e,t,r)}},gh=new WeakMap,yh=new WeakMap,wS);var vh,wh,_S;let WV=(_S=class{constructor(e,t){ge(this,vh);ge(this,wh);pe(this,vh,e),pe(this,wh,t)}upload(e,t,r){const i=dC(L(this,vh),L(this,wh),e,t,r);return Fe(i.pipe(pu(o=>o.type==="response"),hn(o=>o.body.document)))}},vh=new WeakMap,wh=new WeakMap,_S);function dC(n,e,t,r,i={}){tV(t);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const l=n.config(),u=KV(i,r),{tag:h,label:d,title:m,description:y,creditLine:_,filename:E,source:b}=u,x={label:d,title:m,description:y,filename:E,meta:o,creditLine:_};return b&&(x.sourceId=b.id,x.sourceName=b.name,x.sourceUrl=b.url),Hh(n,e,{tag:h,method:"POST",timeout:u.timeout||0,uri:GV(l,t),headers:u.contentType?{"Content-Type":u.contentType}:{},query:x,body:r})}function GV(n,e){const t=e==="image"?"images":"files";if(n["~experimental_resource"]){const{type:i,id:o}=n["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${o}/assets/${t}`;case"media-library":return`/media-libraries/${o}/upload`;case"dashboard":return`/dashboards/${o}/assets/${t}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=ga(n);return`assets/${t}/${r}`}function KV(n,e){return typeof File>"u"||!(e instanceof File)?n:Object.assign({filename:n.preserveFilename===!1?void 0:e.name,contentType:e.type},n)}var QV=(n,e)=>Object.keys(e).concat(Object.keys(n)).reduce((t,r)=>(t[r]=typeof n[r]>"u"?e[r]:n[r],t),{});const YV=(n,e)=>e.reduce((t,r)=>(typeof n[r]>"u"||(t[r]=n[r]),t),{}),fC=xI(()=>em(()=>import("./browser-C5hnSJ80.js").then(n=>n.b),[])).pipe(hn(({default:n})=>n),IL(1));function pC(){return function(n){return n.pipe(y0((e,t)=>e instanceof UI?TI(nm({type:"reconnect"}),EL(1e3).pipe(Bh(()=>t))):wI(()=>e)))}}const XV=14800,JV=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],ZV={includeResult:!0};function mC(n,e,t={}){const{url:r,token:i,withCredentials:o,requestTagPrefix:l,headers:u}=this.config(),h=t.tag&&l?[l,t.tag].join("."):t.tag,d={...QV(t,ZV),tag:h},m=YV(d,JV),y=QI({query:n,params:e,options:{tag:h,...m}}),_=`${r}${or(this,"listen",y)}`;if(_.length>XV)return wI(()=>new Error("Query too large for listener"));const E=d.events?d.events:["mutation"],b={};return o&&(b.withCredentials=!0),(i||u)&&(b.headers={},i&&(b.headers.Authorization=`Bearer ${i}`),u&&Object.assign(b.headers,u)),BI(()=>(typeof EventSource>"u"||b.headers?fC:nm(EventSource)).pipe(hn(x=>new x(_,b))),E).pipe(pC(),pu(x=>E.includes(x.type)),hn(x=>({type:x.type,..."data"in x?x.data:{}})))}function eM(n,e){return tM(typeof n=="function"?{predicate:n,...e}:n)}function tM(n){return e=>{let t,r=!1;const{predicate:i,...o}=n,l=e.pipe(CL(h=>{n.predicate(h)&&(r=!0,t=h)}),SI(()=>{r=!1,t=void 0}),II(o)),u=new _t(h=>{r&&h.next(t),h.complete()});return TL(l,u)}}const i1="2021-03-25";var Ls,ES;let gC=(ES=class{constructor(e){ge(this,Ls);pe(this,Ls,e)}events({includeDrafts:e=!1,tag:t}={}){Fr("live",L(this,Ls).config());const{projectId:r,apiVersion:i,token:o,withCredentials:l,requestTagPrefix:u,headers:h}=L(this,Ls).config(),d=i.replace(/^v/,"");if(d!=="X"&&d<i1)throw new Error(`The live events API requires API version ${i1} or later. The current API version is ${d}. Please update your API version to use this feature.`);if(e&&!o&&!l)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const m=or(L(this,Ls),"live/events"),y=new URL(L(this,Ls).getUrl(m,!1)),_=t&&u?[u,t].join("."):t;_&&y.searchParams.set("tag",_),e&&y.searchParams.set("includeDrafts","true");const E={};e&&l&&(E.withCredentials=!0),(e&&o||h)&&(E.headers={},e&&o&&(E.headers.Authorization=`Bearer ${o}`),h&&Object.assign(E.headers,h));const b=`${y.href}::${JSON.stringify(E)}`,x=xy.get(b);if(x)return x;const k=BI(()=>(typeof EventSource>"u"||E.headers?fC:nm(EventSource)).pipe(hn(M=>new M(y.href,E))),["message","restart","welcome","reconnect","goaway"]).pipe(pC(),hn(M=>{if(M.type==="message"){const{data:W,...X}=M;return{...X,tags:W.tags}}return M})),P=nM(y,{method:"OPTIONS",mode:"cors",credentials:E.withCredentials?"include":"omit",headers:E.headers}).pipe(Bh(()=>sI),y0(()=>{throw new QL({projectId:r})})),D=TI(P,k).pipe(SI(()=>xy.delete(b)),eM({predicate:M=>M.type==="welcome"}));return xy.set(b,D),D}},Ls=new WeakMap,ES);function nM(n,e){return new _t(t=>{const r=new AbortController,i=r.signal;return fetch(n,{...e,signal:r.signal}).then(o=>{t.next(o),t.complete()},o=>{i.aborted||t.error(o)}),()=>r.abort()})}const xy=new Map;var Vs,Ms,TS;let rM=(TS=class{constructor(e,t){ge(this,Vs);ge(this,Ms);pe(this,Vs,e),pe(this,Ms,t)}create(e,t){return kl(L(this,Vs),L(this,Ms),"PUT",e,t)}edit(e,t){return kl(L(this,Vs),L(this,Ms),"PATCH",e,t)}delete(e){return kl(L(this,Vs),L(this,Ms),"DELETE",e)}list(){return dn(L(this,Vs),L(this,Ms),{uri:"/datasets",tag:null})}},Vs=new WeakMap,Ms=new WeakMap,TS);var tr,js,xS;let iM=(xS=class{constructor(e,t){ge(this,tr);ge(this,js);pe(this,tr,e),pe(this,js,t)}create(e,t){return Fr("dataset",L(this,tr).config()),Fe(kl(L(this,tr),L(this,js),"PUT",e,t))}edit(e,t){return Fr("dataset",L(this,tr).config()),Fe(kl(L(this,tr),L(this,js),"PATCH",e,t))}delete(e){return Fr("dataset",L(this,tr).config()),Fe(kl(L(this,tr),L(this,js),"DELETE",e))}list(){return Fr("dataset",L(this,tr).config()),Fe(dn(L(this,tr),L(this,js),{uri:"/datasets",tag:null}))}},tr=new WeakMap,js=new WeakMap,xS);function kl(n,e,t,r,i){return Fr("dataset",n.config()),LI(r),dn(n,e,{method:t,uri:`/datasets/${r}`,body:i,tag:null})}var $s,zl,bS;let sM=(bS=class{constructor(e,t){ge(this,$s);ge(this,zl);pe(this,$s,e),pe(this,zl,t)}list(e){Fr("projects",L(this,$s).config());const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return dn(L(this,$s),L(this,zl),{uri:t})}getById(e){return Fr("projects",L(this,$s).config()),dn(L(this,$s),L(this,zl),{uri:`/projects/${e}`})}},$s=new WeakMap,zl=new WeakMap,bS);var Fs,ql,SS;let oM=(SS=class{constructor(e,t){ge(this,Fs);ge(this,ql);pe(this,Fs,e),pe(this,ql,t)}list(e){Fr("projects",L(this,Fs).config());const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Fe(dn(L(this,Fs),L(this,ql),{uri:t}))}getById(e){return Fr("projects",L(this,Fs).config()),Fe(dn(L(this,Fs),L(this,ql),{uri:`/projects/${e}`}))}},Fs=new WeakMap,ql=new WeakMap,SS);const s1=FL("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),dp=(n,e)=>e?zh(n,e):RI(n);function fp(n,{releaseId:e,publishedId:t,document:r}){if(t&&r._id){const i=dp(t,e);return rV(i,r),i}if(r._id){const i=rm(r._id),o=im(r._id);if(!i&&!o)throw new Error(`\`${n}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${n}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const l=kI(r._id);if(l!==e)throw new Error(`\`${n}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${l}\`).`)}return r._id}if(t)return dp(t,e);throw new Error(`\`${n}()\` requires either a publishedId or a document with an \`_id\``)}const aM=(n,e)=>{if(typeof n=="object"&&n!==null&&("releaseId"in n||"metadata"in n)){const{releaseId:t=s1(),metadata:r={}}=n;return[t,r,e]}return[s1(),{},n]},yC=(n,e)=>{const[t,r,i]=aM(n,e),o={...r,releaseType:r.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:t,metadata:o},options:i}};var An,Pn;class lM{constructor(e,t){ge(this,An);ge(this,Pn);pe(this,An,e),pe(this,Pn,t)}get({releaseId:e},t){return om(L(this,An),L(this,Pn),`_.releases.${e}`,t)}create(e,t){const{action:r,options:i}=yC(e,t),{releaseId:o,metadata:l}=r;return pt(L(this,An),L(this,Pn),r,i).pipe(hn(u=>({...u,releaseId:o,metadata:l})))}edit({releaseId:e,patch:t},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return pt(L(this,An),L(this,Pn),i,r)}publish({releaseId:e},t){const r={actionType:"sanity.action.release.publish",releaseId:e};return pt(L(this,An),L(this,Pn),r,t)}archive({releaseId:e},t){const r={actionType:"sanity.action.release.archive",releaseId:e};return pt(L(this,An),L(this,Pn),r,t)}unarchive({releaseId:e},t){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return pt(L(this,An),L(this,Pn),r,t)}schedule({releaseId:e,publishAt:t},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return pt(L(this,An),L(this,Pn),i,r)}unschedule({releaseId:e},t){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return pt(L(this,An),L(this,Pn),r,t)}delete({releaseId:e},t){const r={actionType:"sanity.action.release.delete",releaseId:e};return pt(L(this,An),L(this,Pn),r,t)}fetchDocuments({releaseId:e},t){return JI(L(this,An),L(this,Pn),e,t)}}An=new WeakMap,Pn=new WeakMap;var Rn,kn;class uM{constructor(e,t){ge(this,Rn);ge(this,kn);pe(this,Rn,e),pe(this,kn,t)}get({releaseId:e},t){return Fe(om(L(this,Rn),L(this,kn),`_.releases.${e}`,t))}async create(e,t){const{action:r,options:i}=yC(e,t),{releaseId:o,metadata:l}=r;return{...await Fe(pt(L(this,Rn),L(this,kn),r,i)),releaseId:o,metadata:l}}edit({releaseId:e,patch:t},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return Fe(pt(L(this,Rn),L(this,kn),i,r))}publish({releaseId:e},t){const r={actionType:"sanity.action.release.publish",releaseId:e};return Fe(pt(L(this,Rn),L(this,kn),r,t))}archive({releaseId:e},t){const r={actionType:"sanity.action.release.archive",releaseId:e};return Fe(pt(L(this,Rn),L(this,kn),r,t))}unarchive({releaseId:e},t){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return Fe(pt(L(this,Rn),L(this,kn),r,t))}schedule({releaseId:e,publishAt:t},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return Fe(pt(L(this,Rn),L(this,kn),i,r))}unschedule({releaseId:e},t){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return Fe(pt(L(this,Rn),L(this,kn),r,t))}delete({releaseId:e},t){const r={actionType:"sanity.action.release.delete",releaseId:e};return Fe(pt(L(this,Rn),L(this,kn),r,t))}fetchDocuments({releaseId:e},t){return Fe(JI(L(this,Rn),L(this,kn),e,t))}}Rn=new WeakMap,kn=new WeakMap;var _h,Eh,IS;let cM=(IS=class{constructor(e,t){ge(this,_h);ge(this,Eh);pe(this,_h,e),pe(this,Eh,t)}getById(e){return dn(L(this,_h),L(this,Eh),{uri:`/users/${e}`})}},_h=new WeakMap,Eh=new WeakMap,IS);var Th,xh,CS;let hM=(CS=class{constructor(e,t){ge(this,Th);ge(this,xh);pe(this,Th,e),pe(this,xh,t)}getById(e){return Fe(dn(L(this,Th),L(this,xh),{uri:`/users/${e}`}))}},Th=new WeakMap,xh=new WeakMap,CS);var Ii,nt,ca;let dM=(ca=class{constructor(e,t=Vc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");le(this,"agent");le(this,"releases");ge(this,Ii);ge(this,nt);le(this,"listen",mC);this.config(t),pe(this,nt,e),this.assets=new HV(this,L(this,nt)),this.datasets=new rM(this,L(this,nt)),this.live=new gC(this),this.projects=new sM(this,L(this,nt)),this.users=new cM(this,L(this,nt)),this.agent={action:new zV(this,L(this,nt))},this.releases=new lM(this,L(this,nt))}clone(){return new ca(L(this,nt),this.config())}config(e){if(e===void 0)return{...L(this,Ii)};if(L(this,Ii)&&L(this,Ii).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return pe(this,Ii,FI(e,L(this,Ii)||{})),this}withConfig(e){const t=this.config();return new ca(L(this,nt),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,r){return YI(this,L(this,nt),L(this,Ii).stega,e,t,r)}getDocument(e,t){return om(this,L(this,nt),e,t)}getDocuments(e,t){return XI(this,L(this,nt),e,t)}create(e,t){return am(this,L(this,nt),e,"create",t)}createIfNotExists(e,t){return ZI(this,L(this,nt),e,t)}createOrReplace(e,t){return eC(this,L(this,nt),e,t)}createVersion({document:e,publishedId:t,releaseId:r,baseId:i,ifBaseRevisionId:o},l){if(!e)return nC(this,L(this,nt),t,i,r,o,l);const u=fp("createVersion",{document:e,publishedId:t,releaseId:r}),h={...e,_id:u},d=t||sm(e._id);return tC(this,L(this,nt),h,d,l)}delete(e,t){return rC(this,L(this,nt),e,t)}discardVersion({releaseId:e,publishedId:t},r,i){const o=dp(t,e);return iC(this,L(this,nt),o,r,i)}replaceVersion({document:e,publishedId:t,releaseId:r},i){const o=fp("replaceVersion",{document:e,publishedId:t,releaseId:r}),l={...e,_id:o};return sC(this,L(this,nt),l,i)}unpublishVersion({releaseId:e,publishedId:t},r){const i=zh(t,e);return oC(this,L(this,nt),i,t,r)}mutate(e,t){return aC(this,L(this,nt),e,t)}patch(e,t){return new Mc(e,t,this)}transaction(e){return new KI(e,this)}action(e,t){return pt(this,L(this,nt),e,t)}request(e){return dn(this,L(this,nt),e)}getUrl(e,t){return E0(this,e,t)}getDataUrl(e,t){return or(this,e,t)}},Ii=new WeakMap,nt=new WeakMap,ca);var Ci,et,ha;let fM=(ha=class{constructor(e,t=Vc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");le(this,"agent");le(this,"releases");le(this,"observable");ge(this,Ci);ge(this,et);le(this,"listen",mC);this.config(t),pe(this,et,e),this.assets=new WV(this,L(this,et)),this.datasets=new iM(this,L(this,et)),this.live=new gC(this),this.projects=new oM(this,L(this,et)),this.users=new hM(this,L(this,et)),this.agent={action:new qV(this,L(this,et))},this.releases=new uM(this,L(this,et)),this.observable=new dM(e,t)}clone(){return new ha(L(this,et),this.config())}config(e){if(e===void 0)return{...L(this,Ci)};if(L(this,Ci)&&L(this,Ci).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),pe(this,Ci,FI(e,L(this,Ci)||{})),this}withConfig(e){const t=this.config();return new ha(L(this,et),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,r){return Fe(YI(this,L(this,et),L(this,Ci).stega,e,t,r))}getDocument(e,t){return Fe(om(this,L(this,et),e,t))}getDocuments(e,t){return Fe(XI(this,L(this,et),e,t))}create(e,t){return Fe(am(this,L(this,et),e,"create",t))}createIfNotExists(e,t){return Fe(ZI(this,L(this,et),e,t))}createOrReplace(e,t){return Fe(eC(this,L(this,et),e,t))}createVersion({document:e,publishedId:t,releaseId:r,baseId:i,ifBaseRevisionId:o},l){if(!e)return wy(nC(this,L(this,et),t,i,r,o,l));const u=fp("createVersion",{document:e,publishedId:t,releaseId:r}),h={...e,_id:u},d=t||sm(e._id);return wy(tC(this,L(this,et),h,d,l))}delete(e,t){return Fe(rC(this,L(this,et),e,t))}discardVersion({releaseId:e,publishedId:t},r,i){const o=dp(t,e);return Fe(iC(this,L(this,et),o,r,i))}replaceVersion({document:e,publishedId:t,releaseId:r},i){const o=fp("replaceVersion",{document:e,publishedId:t,releaseId:r}),l={...e,_id:o};return wy(sC(this,L(this,et),l,i))}unpublishVersion({releaseId:e,publishedId:t},r){const i=zh(t,e);return Fe(oC(this,L(this,et),i,t,r))}mutate(e,t){return Fe(aC(this,L(this,et),e,t))}patch(e,t){return new bl(e,t,this)}transaction(e){return new GI(e,this)}action(e,t){return Fe(pt(this,L(this,et),e,t))}request(e){return Fe(dn(this,L(this,et),e))}dataRequest(e,t,r){return Fe(ya(this,L(this,et),e,t,r))}getUrl(e,t){return E0(this,e,t)}getDataUrl(e,t){return or(this,e,t)}},Ci=new WeakMap,et=new WeakMap,ha);function pM(n,e){return{requester:ZT(n),createClient:t=>{const r=ZT(n,{ignoreWarnings:t.ignoreWarnings});return new e((i,o)=>(o||r)({maxRedirects:0,maxRetries:t.maxRetries,retryDelay:t.retryDelay,...i}),t)}}}var mM=[];const gM=pM(mM,fM),yM=gM.createClient;var Wf={exports:{}},vM=Wf.exports,o1;function wM(){return o1||(o1=1,function(n,e){(function(t,r){n.exports=r()})(vM,function(){function t(){return t=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&(S[$]=I[$])}return S},t.apply(this,arguments)}function r(S,A){if(S){if(typeof S=="string")return i(S,A);var I=Object.prototype.toString.call(S).slice(8,-1);if(I==="Object"&&S.constructor&&(I=S.constructor.name),I==="Map"||I==="Set")return Array.from(S);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return i(S,A)}}function i(S,A){(A==null||A>S.length)&&(A=S.length);for(var I=0,$=new Array(A);I<A;I++)$[I]=S[I];return $}function o(S,A){var I=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(I)return(I=I.call(S)).next.bind(I);if(Array.isArray(S)||(I=r(S))||A){I&&(S=I);var $=0;return function(){return $>=S.length?{done:!0}:{done:!1,value:S[$++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function u(S){var A=S.split("-"),I=A[1],$=A[2],me=A[3];if(!I||!$||!me)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');var ee=$.split("x"),ie=ee[0],te=ee[1],fe=+ie,ae=+te,q=isFinite(fe)&&isFinite(ae);if(!q)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');return{id:I,width:fe,height:ae,format:me}}var h=function(A){var I=A;return I?typeof I._ref=="string":!1},d=function(A){var I=A;return I?typeof I._id=="string":!1},m=function(A){var I=A;return I&&I.asset?typeof I.asset.url=="string":!1};function y(S){if(!S)return null;var A;if(typeof S=="string"&&_(S))A={asset:{_ref:E(S)}};else if(typeof S=="string")A={asset:{_ref:S}};else if(h(S))A={asset:S};else if(d(S))A={asset:{_ref:S._id||""}};else if(m(S))A={asset:{_ref:E(S.asset.url)}};else if(typeof S.asset=="object")A=t({},S);else return null;var I=S;return I.crop&&(A.crop=I.crop),I.hotspot&&(A.hotspot=I.hotspot),b(A)}function _(S){return/^https?:\/\//.test(""+S)}function E(S){var A=S.split("/").slice(-1);return("image-"+A[0]).replace(/\.([a-z]+)$/,"-$1")}function b(S){if(S.crop&&S.hotspot)return S;var A=t({},S);return A.crop||(A.crop={left:0,top:0,bottom:0,right:0}),A.hotspot||(A.hotspot={x:.5,y:.5,height:1,width:1}),A}var x=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function k(S){var A=t({},S||{}),I=A.source;delete A.source;var $=y(I);if(!$)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var me=$.asset._ref||$.asset._id||"",ee=u(me),ie=Math.round($.crop.left*ee.width),te=Math.round($.crop.top*ee.height),fe={left:ie,top:te,width:Math.round(ee.width-$.crop.right*ee.width-ie),height:Math.round(ee.height-$.crop.bottom*ee.height-te)},ae=$.hotspot.height*ee.height/2,q=$.hotspot.width*ee.width/2,ne=$.hotspot.x*ee.width,ye=$.hotspot.y*ee.height,xe={left:ne-q,top:ye-ae,right:ne+q,bottom:ye+ae};return A.rect||A.focalPoint||A.ignoreImageParams||A.crop||(A=t({},A,D({crop:fe,hotspot:xe},A))),P(t({},A,{asset:ee}))}function P(S){var A=(S.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=S.vanityName?"/"+S.vanityName:"",$=S.asset.id+"-"+S.asset.width+"x"+S.asset.height+"."+S.asset.format+I,me=A+"/images/"+S.projectId+"/"+S.dataset+"/"+$,ee=[];if(S.rect){var ie=S.rect,te=ie.left,fe=ie.top,ae=ie.width,q=ie.height,ne=te!==0||fe!==0||q!==S.asset.height||ae!==S.asset.width;ne&&ee.push("rect="+te+","+fe+","+ae+","+q)}S.bg&&ee.push("bg="+S.bg),S.focalPoint&&(ee.push("fp-x="+S.focalPoint.x),ee.push("fp-y="+S.focalPoint.y));var ye=[S.flipHorizontal&&"h",S.flipVertical&&"v"].filter(Boolean).join("");return ye&&ee.push("flip="+ye),x.forEach(function(xe){var Re=xe[0],Se=xe[1];typeof S[Re]<"u"?ee.push(Se+"="+encodeURIComponent(S[Re])):typeof S[Se]<"u"&&ee.push(Se+"="+encodeURIComponent(S[Se]))}),ee.length===0?me:me+"?"+ee.join("&")}function D(S,A){var I,$=A.width,me=A.height;if(!($&&me))return{width:$,height:me,rect:S.crop};var ee=S.crop,ie=S.hotspot,te=$/me,fe=ee.width/ee.height;if(fe>te){var ae=Math.round(ee.height),q=Math.round(ae*te),ne=Math.max(0,Math.round(ee.top)),ye=Math.round((ie.right-ie.left)/2+ie.left),xe=Math.max(0,Math.round(ye-q/2));xe<ee.left?xe=ee.left:xe+q>ee.left+ee.width&&(xe=ee.left+ee.width-q),I={left:xe,top:ne,width:q,height:ae}}else{var Re=ee.width,Se=Math.round(Re/te),ze=Math.max(0,Math.round(ee.left)),qe=Math.round((ie.bottom-ie.top)/2+ie.top),je=Math.max(0,Math.round(qe-Se/2));je<ee.top?je=ee.top:je+Se>ee.top+ee.height&&(je=ee.top+ee.height-Se),I={left:ze,top:je,width:Re,height:Se}}return{width:$,height:me,rect:I}}var M=["clip","crop","fill","fillmax","max","scale","min"],W=["top","bottom","left","right","center","focalpoint","entropy"],X=["format"];function J(S){return S&&"config"in S?typeof S.config=="function":!1}function j(S){return S&&"clientConfig"in S?typeof S.clientConfig=="object":!1}function O(S){for(var A=x,I=o(A),$;!($=I()).done;){var me=$.value,ee=me[0],ie=me[1];if(S===ee||S===ie)return ee}return S}function V(S){if(J(S)){var A=S.config(),I=A.apiHost,$=A.projectId,me=A.dataset,ee=I||"https://api.sanity.io";return new B(null,{baseUrl:ee.replace(/^https:\/\/api\./,"https://cdn."),projectId:$,dataset:me})}if(j(S)){var ie=S.clientConfig,te=ie.apiHost,fe=ie.projectId,ae=ie.dataset,q=te||"https://api.sanity.io";return new B(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:fe,dataset:ae})}return new B(null,S||{})}var B=function(){function S(I,$){this.options=void 0,this.options=I?t({},I.options||{},$||{}):t({},$||{})}var A=S.prototype;return A.withOptions=function($){var me=$.baseUrl||this.options.baseUrl,ee={baseUrl:me};for(var ie in $)if($.hasOwnProperty(ie)){var te=O(ie);ee[te]=$[ie]}return new S(this,t({baseUrl:me},ee))},A.image=function($){return this.withOptions({source:$})},A.dataset=function($){return this.withOptions({dataset:$})},A.projectId=function($){return this.withOptions({projectId:$})},A.bg=function($){return this.withOptions({bg:$})},A.dpr=function($){return this.withOptions($&&$!==1?{dpr:$}:{})},A.width=function($){return this.withOptions({width:$})},A.height=function($){return this.withOptions({height:$})},A.focalPoint=function($,me){return this.withOptions({focalPoint:{x:$,y:me}})},A.maxWidth=function($){return this.withOptions({maxWidth:$})},A.minWidth=function($){return this.withOptions({minWidth:$})},A.maxHeight=function($){return this.withOptions({maxHeight:$})},A.minHeight=function($){return this.withOptions({minHeight:$})},A.size=function($,me){return this.withOptions({width:$,height:me})},A.blur=function($){return this.withOptions({blur:$})},A.sharpen=function($){return this.withOptions({sharpen:$})},A.rect=function($,me,ee,ie){return this.withOptions({rect:{left:$,top:me,width:ee,height:ie}})},A.format=function($){return this.withOptions({format:$})},A.invert=function($){return this.withOptions({invert:$})},A.orientation=function($){return this.withOptions({orientation:$})},A.quality=function($){return this.withOptions({quality:$})},A.forceDownload=function($){return this.withOptions({download:$})},A.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},A.flipVertical=function(){return this.withOptions({flipVertical:!0})},A.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},A.fit=function($){if(M.indexOf($)===-1)throw new Error('Invalid fit mode "'+$+'"');return this.withOptions({fit:$})},A.crop=function($){if(W.indexOf($)===-1)throw new Error('Invalid crop mode "'+$+'"');return this.withOptions({crop:$})},A.saturation=function($){return this.withOptions({saturation:$})},A.auto=function($){if(X.indexOf($)===-1)throw new Error('Invalid auto mode "'+$+'"');return this.withOptions({auto:$})},A.pad=function($){return this.withOptions({pad:$})},A.vanityName=function($){return this.withOptions({vanityName:$})},A.frame=function($){if($!==1)throw new Error('Invalid frame value "'+$+'"');return this.withOptions({frame:$})},A.url=function(){return k(this.options)},A.toString=function(){return this.url()},S}();return V})}(Wf)),Wf.exports}var _M=wM();const EM=du(_M),pp=yM({projectId:"yn77xan2",dataset:"production",apiVersion:"2022-03-25",useCdn:!0});EM(pp);var a1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},TM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},wC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,d=h?n[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,E=d&63;h||(E=64,l||(_=64)),r.push(t[m],t[y],t[_],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||d==null||y==null)throw new xM;const _=o<<2|u>>4;if(r.push(_),d!==64){const E=u<<4&240|d>>2;if(r.push(E),y!==64){const b=d<<6&192|y;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bM=function(n){const e=vC(n);return wC.encodeByteArray(e,!0)},mp=function(n){return bM(n).replace(/\./g,"")},_C=function(n){try{return wC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=()=>SM().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof a1>"u")return;const n=a1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_C(n[1]);return e&&JSON.parse(e)},lm=()=>{try{return IM()||CM()||AM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},EC=n=>{var e,t;return(t=(e=lm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PM=n=>{const e=EC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},TC=()=>{var n;return(n=lm())===null||n===void 0?void 0:n.config},xC=n=>{var e;return(e=lm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mp(JSON.stringify(t)),mp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function NM(){var n;const e=(n=lm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MM(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jM(){return!NM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $M(){try{return typeof indexedDB=="object"}catch{return!1}}function FM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="FirebaseError";class Ji extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UM,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?BM(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ji(i,u,r)}}function BM(n,e){return n.replace(zM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zM=/\{\$([^}]+)}/g;function qM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(l1(o)&&l1(l)){if(!gp(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function l1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HM(n,e){const t=new WM(n,e);return t.subscribe.bind(t)}class WM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");GM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=by),i.error===void 0&&(i.error=by),i.complete===void 0&&(i.complete=by);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function by(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n){return n&&n._delegate?n._delegate:n}class da{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new RM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YM(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QM(n){return n===Ho?void 0:n}function YM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const JM={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},ZM=Ue.INFO,ej={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},tj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=ej[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T0{constructor(e){this.name=e,this._logLevel=ZM,this._logHandler=tj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const nj=(n,e)=>e.some(t=>n instanceof t);let u1,c1;function rj(){return u1||(u1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ij(){return c1||(c1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bC=new WeakMap,sv=new WeakMap,SC=new WeakMap,Sy=new WeakMap,x0=new WeakMap;function sj(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Ys(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&bC.set(t,n)}).catch(()=>{}),x0.set(e,n),e}function oj(n){if(sv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});sv.set(n,e)}let ov={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ys(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aj(n){ov=n(ov)}function lj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Iy(this),e,...t);return SC.set(r,e.sort?e.sort():[e]),Ys(r)}:ij().includes(n)?function(...e){return n.apply(Iy(this),e),Ys(bC.get(this))}:function(...e){return Ys(n.apply(Iy(this),e))}}function uj(n){return typeof n=="function"?lj(n):(n instanceof IDBTransaction&&oj(n),nj(n,rj())?new Proxy(n,ov):n)}function Ys(n){if(n instanceof IDBRequest)return sj(n);if(Sy.has(n))return Sy.get(n);const e=uj(n);return e!==n&&(Sy.set(n,e),x0.set(e,n)),e}const Iy=n=>x0.get(n);function cj(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=Ys(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ys(l.result),h.oldVersion,h.newVersion,Ys(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const hj=["get","getKey","getAll","getAllKeys","count"],dj=["put","add","delete","clear"],Cy=new Map;function h1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=dj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hj.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&h.done]))[0]};return Cy.set(e,o),o}aj(n=>({...n,get:(e,t,r)=>h1(e,t)||n.get(e,t,r),has:(e,t)=>!!h1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function pj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const av="@firebase/app",d1="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new T0("@firebase/app"),mj="@firebase/app-compat",gj="@firebase/analytics-compat",yj="@firebase/analytics",vj="@firebase/app-check-compat",wj="@firebase/app-check",_j="@firebase/auth",Ej="@firebase/auth-compat",Tj="@firebase/database",xj="@firebase/data-connect",bj="@firebase/database-compat",Sj="@firebase/functions",Ij="@firebase/functions-compat",Cj="@firebase/installations",Aj="@firebase/installations-compat",Pj="@firebase/messaging",Rj="@firebase/messaging-compat",kj="@firebase/performance",Oj="@firebase/performance-compat",Nj="@firebase/remote-config",Dj="@firebase/remote-config-compat",Lj="@firebase/storage",Vj="@firebase/storage-compat",Mj="@firebase/firestore",jj="@firebase/vertexai",$j="@firebase/firestore-compat",Fj="firebase",Uj="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",Bj={[av]:"fire-core",[mj]:"fire-core-compat",[yj]:"fire-analytics",[gj]:"fire-analytics-compat",[wj]:"fire-app-check",[vj]:"fire-app-check-compat",[_j]:"fire-auth",[Ej]:"fire-auth-compat",[Tj]:"fire-rtdb",[xj]:"fire-data-connect",[bj]:"fire-rtdb-compat",[Sj]:"fire-fn",[Ij]:"fire-fn-compat",[Cj]:"fire-iid",[Aj]:"fire-iid-compat",[Pj]:"fire-fcm",[Rj]:"fire-fcm-compat",[kj]:"fire-perf",[Oj]:"fire-perf-compat",[Nj]:"fire-rc",[Dj]:"fire-rc-compat",[Lj]:"fire-gcs",[Vj]:"fire-gcs-compat",[Mj]:"fire-fst",[$j]:"fire-fst-compat",[jj]:"fire-vertex","fire-js":"fire-js",[Fj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Map,zj=new Map,uv=new Map;function f1(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jl(n){const e=n.name;if(uv.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,n);for(const t of yp.values())f1(t,n);for(const t of zj.values())f1(t,n);return!0}function b0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ni(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Wh("app","Firebase",qj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=Uj;function IC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(t||(t=TC()),!t)throw Xs.create("no-options");const o=yp.get(i);if(o){if(gp(t,o.options)&&gp(r,o.config))return o;throw Xs.create("duplicate-app",{appName:i})}const l=new XM(i);for(const h of uv.values())l.addComponent(h);const u=new Hj(t,r,l);return yp.set(i,u),u}function CC(n=lv){const e=yp.get(n);if(!e&&n===lv&&TC())return IC();if(!e)throw Xs.create("no-app",{appName:n});return e}function Js(n,e,t){var r;let i=(r=Bj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(u.join(" "));return}Jl(new da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="firebase-heartbeat-database",Gj=1,Yc="firebase-heartbeat-store";let Ay=null;function AC(){return Ay||(Ay=cj(Wj,Gj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),Ay}async function Kj(n){try{const t=(await AC()).transaction(Yc),r=await t.objectStore(Yc).get(PC(n));return await t.done,r}catch(e){if(e instanceof Ji)Bi.warn(e.message);else{const t=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(t.message)}}}async function p1(n,e){try{const r=(await AC()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,PC(n)),await r.done}catch(t){if(t instanceof Ji)Bi.warn(t.message);else{const r=Xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(r.message)}}}function PC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1024,Yj=30*24*60*60*1e3;class Xj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=m1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=Yj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=m1(),{heartbeatsToSend:r,unsentEntries:i}=Jj(this._heartbeatsCache.heartbeats),o=mp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bi.warn(t),""}}}function m1(){return new Date().toISOString().substring(0,10)}function Jj(n,e=Qj){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),g1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),g1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Zj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $M()?FM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Kj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g1(n){return mp(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(n){Jl(new da("platform-logger",e=>new fj(e),"PRIVATE")),Jl(new da("heartbeat",e=>new Xj(e),"PRIVATE")),Js(av,d1,n),Js(av,d1,"esm2017"),Js("fire-js","")}e4("");var t4="firebase",n4="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(t4,n4,"app");var cv=function(n,e){return cv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},cv(n,e)};function Zi(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function S0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function r4(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{d(r.next(m))}catch(y){l(y)}}function h(m){try{d(r.throw(m))}catch(y){l(y)}}function d(m){m.done?o(m.value):i(m.value).then(u,h)}d((r=r.apply(n,e||[])).next())})}function RC(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(d){return function(m){return h([d,m])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(m){d=[6,m],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zl(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zi(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o}function qi(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Ol(n){return this instanceof Ol?(this.v=n,this):new Ol(n)}function i4(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(E){return function(b){return Promise.resolve(b).then(E,y)}}function u(E,b){r[E]&&(i[E]=function(x){return new Promise(function(k,P){o.push([E,x,k,P])>1||h(E,x)})},b&&(i[E]=b(i[E])))}function h(E,b){try{d(r[E](b))}catch(x){_(o[0][3],x)}}function d(E){E.value instanceof Ol?Promise.resolve(E.value.v).then(m,y):_(o[0][2],E)}function m(E){h("next",E)}function y(E){h("throw",E)}function _(E,b){E(b),o.shift(),o.length&&h(o[0][0],o[0][1])}}function s4(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Zl=="function"?Zl(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(u,h){l=n[o](l),i(u,h,l.done,l.value)})}}function i(o,l,u,h){Promise.resolve(h).then(function(d){o({value:d,done:u})},l)}}function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o4=kC,OC=new Wh("auth","Firebase",kC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new T0("@firebase/auth");function a4(n,...e){vp.logLevel<=Ue.WARN&&vp.warn(`Auth (${mu}): ${n}`,...e)}function Gf(n,...e){vp.logLevel<=Ue.ERROR&&vp.error(`Auth (${mu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(n,...e){throw C0(n,...e)}function Ir(n,...e){return C0(n,...e)}function I0(n,e,t){const r=Object.assign(Object.assign({},o4()),{[e]:t});return new Wh("auth","Firebase",r).create(e,{appName:n.name})}function sa(n){return I0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(n,"argument-error"),I0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function C0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OC.create(n,...e)}function Ne(n,e,...t){if(!n)throw C0(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gf(e),new Error(e)}function Hi(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function u4(){return y1()==="http:"||y1()==="https:"}function y1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u4()||LM()||"connection"in navigator)?navigator.onLine:!0}function h4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=OM()||VM()}get(){return c4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new Kh(3e4,6e4);function P0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gu(n,e,t,r,i={}){return DC(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Gh(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:h},o);return DM()||(d.referrerPolicy="no-referrer"),NC.fetch()(LC(n,n.config.apiHost,t,u),d)})}async function DC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},d4),e);try{const i=new m4(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Of(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Of(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Of(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw I0(n,m,d);Qr(n,m)}}catch(i){if(i instanceof Ji)throw i;Qr(n,"network-request-failed",{message:String(i)})}}async function p4(n,e,t,r,i={}){const o=await gu(n,e,t,r,i);return"mfaPendingCredential"in o&&Qr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function LC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?A0(n.config,i):`${n.config.apiScheme}://${i}`}class m4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),f4.get())})}}function Of(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ir(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e){return gu(n,"POST","/v1/accounts:delete",e)}async function VC(n,e){return gu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y4(n,e=!1){const t=Un(n),r=await t.getIdToken(e),i=R0(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jc(Py(i.auth_time)),issuedAtTime:jc(Py(i.iat)),expirationTime:jc(Py(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Py(n){return Number(n)*1e3}function R0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const i=_C(t);return i?JSON.parse(i):(Gf("Failed to decode base64 JWT payload"),null)}catch(i){return Gf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v1(n){const e=R0(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ji&&v4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function v4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Xc(n,VC(t,{idToken:r}));Ne(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MC(o.providerUserInfo):[],u=E4(n.providerData,l),h=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?d:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function _4(n){const e=Un(n);await wp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MC(n){return n.map(e=>{var{providerId:t}=e,r=S0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n,e){const t=await DC(n,{},async()=>{const r=Gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=LC(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",NC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function x4(n,e){return gu(n,"POST","/v2/accounts:revokeToken",P0(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=v1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await T4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Nl;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ne(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=S0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return y4(this,e)}reload(){return _4(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await wp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await Xc(this,g4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,h,d,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(u=t.tenantId)!==null&&u!==void 0?u:void 0,k=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,P=(d=t.createdAt)!==null&&d!==void 0?d:void 0,D=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:W,isAnonymous:X,providerData:J,stsTokenManager:j}=t;Ne(M&&j,e,"internal-error");const O=Nl.fromJSON(this.name,j);Ne(typeof M=="string",e,"internal-error"),Is(y,e.name),Is(_,e.name),Ne(typeof W=="boolean",e,"internal-error"),Ne(typeof X=="boolean",e,"internal-error"),Is(E,e.name),Is(b,e.name),Is(x,e.name),Is(k,e.name),Is(P,e.name),Is(D,e.name);const V=new Li({uid:M,auth:e,email:_,emailVerified:W,displayName:y,isAnonymous:X,photoURL:b,phoneNumber:E,tenantId:x,stsTokenManager:O,createdAt:P,lastLoginAt:D});return J&&Array.isArray(J)&&(V.providerData=J.map(B=>Object.assign({},B))),k&&(V._redirectEventId=k),V}static async _fromIdTokenResponse(e,t,r=!1){const i=new Nl;i.updateFromServerResponse(t);const o=new Li({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Nl;u.updateFromIdToken(r);const h=new Li({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;function Vi(n){Hi(n instanceof Function,"Expected a class definition");let e=w1.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jC.type="NONE";const _1=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n,e,t){return`firebase:${n}:${e}:${t}`}class Dl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Dl(Vi(_1),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Vi(_1);const l=Kf(r,e.config.apiKey,e.name);let u=null;for(const d of t)try{const m=await d._get(l);if(m){const y=Li._fromJSON(e,m);d!==o&&(u=y),o=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Dl(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Dl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qC(e))return"Blackberry";if(HC(e))return"Webos";if(FC(e))return"Safari";if((e.includes("chrome/")||UC(e))&&!e.includes("edge/"))return"Chrome";if(zC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $C(n=fn()){return/firefox\//i.test(n)}function FC(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UC(n=fn()){return/crios\//i.test(n)}function BC(n=fn()){return/iemobile/i.test(n)}function zC(n=fn()){return/android/i.test(n)}function qC(n=fn()){return/blackberry/i.test(n)}function HC(n=fn()){return/webos/i.test(n)}function k0(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function b4(n=fn()){var e;return k0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S4(){return MM()&&document.documentMode===10}function WC(n=fn()){return k0(n)||zC(n)||HC(n)||qC(n)||/windows phone/i.test(n)||BC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n,e=[]){let t;switch(n){case"Browser":t=E1(fn());break;case"Worker":t=`${E1(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,e={}){return gu(n,"GET","/v2/passwordPolicy",P0(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=6;class P4{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:A4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T1(this),this.idTokenSubscription=new T1(this),this.beforeStateQueue=new I4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await VC(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(sa(this));const t=e?Un(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C4(this),t=new P4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await x4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[Vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&a4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function um(n){return Un(n)}let T1=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HM(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k4(n){O0=n}function O4(n){return O0.loadJS(n)}function N4(){return O0.gapiScript}function D4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n,e){const t=b0(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(gp(o,e??{}))return i;Qr(i,"already-initialized")}return t.initialize({options:e})}function V4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Vi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M4(n,e,t){const r=um(n);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=KC(e),{host:l,port:u}=j4(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),$4()}function KC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j4(n){const e=KC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:x1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:x1(l)}}}function x1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(n,e){return p4(n,"POST","/v1/accounts:signInWithIdp",P0(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="http://localhost";class fa extends QC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=S0(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new fa(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ll(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ll(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ll(e,t)}buildRequest(){const e={requestUri:F4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends N0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Qh{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Qh{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Qh{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ns.credential(t,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Li._fromIdTokenResponse(e,r,i),l=b1(r);return new eu({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=b1(r);return new eu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function b1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends Ji{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _p(e,t,r,i)}}function YC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(n,o,e,r):o})}async function U4(n,e,t=!1){const r=await Xc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return eu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(n,e,t=!1){const{auth:r}=n;if(Ni(r.app))return Promise.reject(sa(r));const i="reauthenticate";try{const o=await Xc(n,YC(r,i,e,n),t);Ne(o.idToken,r,"internal-error");const l=R0(o.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(n.uid===u,r,"user-mismatch"),eu._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(n,e,t=!1){if(Ni(n.app))return Promise.reject(sa(n));const r="signIn",i=await YC(n,r,e),o=await eu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(n,e){return Un(n).setPersistence(e)}function H4(n,e,t,r){return Un(n).onIdTokenChanged(e,t,r)}function W4(n,e,t){return Un(n).beforeAuthStateChanged(e,t)}function G4(n,e,t,r){return Un(n).onAuthStateChanged(e,t,r)}function K4(n){return Un(n).signOut()}const Ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=1e3,Y4=10;class JC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);S4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const ZC=JC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eA.type="SESSION";const tA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async d=>d(t.origin,o)),h=await X4(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const d=D0("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function Z4(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function e3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function n3(){return nA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebaseLocalStorageDb",r3=1,Tp="firebaseLocalStorage",iA="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hm(n,e){return n.transaction([Tp],e?"readwrite":"readonly").objectStore(Tp)}function i3(){const n=indexedDB.deleteDatabase(rA);return new Yh(n).toPromise()}function fv(){const n=indexedDB.open(rA,r3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Tp,{keyPath:iA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Tp)?e(r):(r.close(),await i3(),e(await fv()))})})}async function S1(n,e,t){const r=hm(n,!0).put({[iA]:e,value:t});return new Yh(r).toPromise()}async function s3(n,e){const t=hm(n,!1).get(e),r=await new Yh(t).toPromise();return r===void 0?null:r.value}function I1(n,e){const t=hm(n,!0).delete(e);return new Yh(t).toPromise()}const o3=800,a3=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>a3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(n3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await e3(),!this.activeServiceWorker)return;this.sender=new J4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fv();return await S1(e,Ep,"1"),await I1(e,Ep),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>S1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>s3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=hm(i,!1).getAll();return new Yh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const l3=sA;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e){return e?Vi(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends QC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function u3(n){return z4(n.auth,new L0(n),n.bypassAuthState)}function c3(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),B4(t,new L0(n),n.bypassAuthState)}async function h3(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),U4(t,new L0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u3;case"linkViaPopup":case"linkViaRedirect":return h3;case"reauthViaPopup":case"reauthViaRedirect":return c3;default:Qr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Kh(2e3,1e4);async function f3(n,e,t){if(Ni(n.app))return Promise.reject(Ir(n,"operation-not-supported-in-this-environment"));const r=um(n);l4(n,e,N0);const i=oA(r,t);return new Qo(r,"signInViaPopup",e,i).executeNotNull()}class Qo extends aA{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d3.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="pendingRedirect",Qf=new Map;class m3 extends aA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await g3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g3(n,e){const t=w3(e),r=v3(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function y3(n,e){Qf.set(n._key(),e)}function v3(n){return Vi(n._redirectPersistence)}function w3(n){return Kf(p3,n.config.apiKey,n.name)}async function _3(n,e,t=!1){if(Ni(n.app))return Promise.reject(sa(n));const r=um(n),i=oA(r,e),l=await new m3(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=10*60*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!lA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E3&&this.cachedEventUids.clear(),this.cachedEventUids.has(C1(e))}saveEventToCache(e){this.cachedEventUids.add(C1(e)),this.lastProcessedEventTime=Date.now()}}function C1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(n,e={}){return gu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I3=/^https?/;async function C3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await b3(n);for(const t of e)try{if(A3(t))return}catch{}Qr(n,"unauthorized-domain")}function A3(n){const e=hv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!I3.test(t))return!1;if(S3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new Kh(3e4,6e4);function A1(){const n=Br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function R3(n){return new Promise((e,t)=>{var r,i,o;function l(){A1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A1(),t(Ir(n,"network-request-failed"))},timeout:P3.get()})}if(!((i=(r=Br().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Br().gapi)===null||o===void 0)&&o.load)l();else{const u=D4("iframefcb");return Br()[u]=()=>{gapi.load?l():t(Ir(n,"network-request-failed"))},O4(`${N4()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function k3(n){return Yf=Yf||R3(n),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Kh(5e3,15e3),N3="__/auth/iframe",D3="emulator/auth/iframe",L3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M3(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?A0(e,D3):`https://${n.config.authDomain}/${N3}`,r={apiKey:e.apiKey,appName:n.name,v:mu},i=V3.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gh(r).slice(1)}`}async function j3(n){const e=await k3(n),t=Br().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:M3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ir(n,"network-request-failed"),u=Br().setTimeout(()=>{o(l)},O3.get());function h(){Br().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F3=500,U3=600,B3="_blank",z3="http://localhost";class P1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q3(n,e,t,r=F3,i=U3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},$3),{width:r.toString(),height:i.toString(),top:o,left:l}),d=fn().toLowerCase();t&&(u=UC(d)?B3:t),$C(d)&&(e=e||z3,h.scrollbars="yes");const m=Object.entries(h).reduce((_,[E,b])=>`${_}${E}=${b},`,"");if(b4(d)&&u!=="_self")return H3(e||"",u),new P1(null);const y=window.open(e||"",u,m);Ne(y,n,"popup-blocked");try{y.focus()}catch{}return new P1(y)}function H3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="__/auth/handler",G3="emulator/auth/handler",K3=encodeURIComponent("fac");async function R1(n,e,t,r,i,o){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mu,eventId:i};if(e instanceof N0){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",qM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Qh){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await n._getAppCheckToken(),d=h?`#${K3}=${encodeURIComponent(h)}`:"";return`${Q3(n)}?${Gh(u).slice(1)}${d}`}function Q3({config:n}){return n.emulator?A0(n,G3):`https://${n.authDomain}/${W3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="webStorageSupport";class Y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=_3,this._overrideRedirectResult=y3}async _openPopup(e,t,r,i){var o;Hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await R1(e,t,r,hv(),i);return q3(e,l,D0())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await R1(e,t,r,hv(),i);return Z4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await j3(e),r=new T3(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ry,{type:Ry},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ry];l!==void 0&&t(!!l),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WC()||FC()||k0()}}const X3=Y3;var k1="@firebase/auth",O1="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e$(n){Jl(new da("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(n)},d=new R4(r,i,o,h);return V4(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jl(new da("auth-internal",e=>{const t=um(e.getProvider("auth").getImmediate());return(r=>new J3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(k1,O1,Z3(n)),Js(k1,O1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=5*60,n$=xC("authIdTokenMaxAge")||t$;let N1=null;const r$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>n$)return;const i=t==null?void 0:t.token;N1!==i&&(N1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function i$(n=CC()){const e=b0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=L4(n,{popupRedirectResolver:X3,persistence:[l3,ZC,tA]}),r=xC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=r$(o.toString());W4(t,l,()=>l(t.currentUser)),H4(t,u=>l(u))}}const i=EC("auth");return i&&M4(t,`http://${i}`),t}function s$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}k4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Ir("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",s$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e$("Browser");var D1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,uA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,O){function V(){}V.prototype=O.prototype,j.D=O.prototype,j.prototype=new V,j.prototype.constructor=j,j.C=function(B,S,A){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return O.prototype[S].apply(B,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,O,V){V||(V=0);var B=Array(16);if(typeof O=="string")for(var S=0;16>S;++S)B[S]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(S=0;16>S;++S)B[S]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=j.g[0],V=j.g[1],S=j.g[2];var A=j.g[3],I=O+(A^V&(S^A))+B[0]+3614090360&4294967295;O=V+(I<<7&4294967295|I>>>25),I=A+(S^O&(V^S))+B[1]+3905402710&4294967295,A=O+(I<<12&4294967295|I>>>20),I=S+(V^A&(O^V))+B[2]+606105819&4294967295,S=A+(I<<17&4294967295|I>>>15),I=V+(O^S&(A^O))+B[3]+3250441966&4294967295,V=S+(I<<22&4294967295|I>>>10),I=O+(A^V&(S^A))+B[4]+4118548399&4294967295,O=V+(I<<7&4294967295|I>>>25),I=A+(S^O&(V^S))+B[5]+1200080426&4294967295,A=O+(I<<12&4294967295|I>>>20),I=S+(V^A&(O^V))+B[6]+2821735955&4294967295,S=A+(I<<17&4294967295|I>>>15),I=V+(O^S&(A^O))+B[7]+4249261313&4294967295,V=S+(I<<22&4294967295|I>>>10),I=O+(A^V&(S^A))+B[8]+1770035416&4294967295,O=V+(I<<7&4294967295|I>>>25),I=A+(S^O&(V^S))+B[9]+2336552879&4294967295,A=O+(I<<12&4294967295|I>>>20),I=S+(V^A&(O^V))+B[10]+4294925233&4294967295,S=A+(I<<17&4294967295|I>>>15),I=V+(O^S&(A^O))+B[11]+2304563134&4294967295,V=S+(I<<22&4294967295|I>>>10),I=O+(A^V&(S^A))+B[12]+1804603682&4294967295,O=V+(I<<7&4294967295|I>>>25),I=A+(S^O&(V^S))+B[13]+4254626195&4294967295,A=O+(I<<12&4294967295|I>>>20),I=S+(V^A&(O^V))+B[14]+2792965006&4294967295,S=A+(I<<17&4294967295|I>>>15),I=V+(O^S&(A^O))+B[15]+1236535329&4294967295,V=S+(I<<22&4294967295|I>>>10),I=O+(S^A&(V^S))+B[1]+4129170786&4294967295,O=V+(I<<5&4294967295|I>>>27),I=A+(V^S&(O^V))+B[6]+3225465664&4294967295,A=O+(I<<9&4294967295|I>>>23),I=S+(O^V&(A^O))+B[11]+643717713&4294967295,S=A+(I<<14&4294967295|I>>>18),I=V+(A^O&(S^A))+B[0]+3921069994&4294967295,V=S+(I<<20&4294967295|I>>>12),I=O+(S^A&(V^S))+B[5]+3593408605&4294967295,O=V+(I<<5&4294967295|I>>>27),I=A+(V^S&(O^V))+B[10]+38016083&4294967295,A=O+(I<<9&4294967295|I>>>23),I=S+(O^V&(A^O))+B[15]+3634488961&4294967295,S=A+(I<<14&4294967295|I>>>18),I=V+(A^O&(S^A))+B[4]+3889429448&4294967295,V=S+(I<<20&4294967295|I>>>12),I=O+(S^A&(V^S))+B[9]+568446438&4294967295,O=V+(I<<5&4294967295|I>>>27),I=A+(V^S&(O^V))+B[14]+3275163606&4294967295,A=O+(I<<9&4294967295|I>>>23),I=S+(O^V&(A^O))+B[3]+4107603335&4294967295,S=A+(I<<14&4294967295|I>>>18),I=V+(A^O&(S^A))+B[8]+1163531501&4294967295,V=S+(I<<20&4294967295|I>>>12),I=O+(S^A&(V^S))+B[13]+2850285829&4294967295,O=V+(I<<5&4294967295|I>>>27),I=A+(V^S&(O^V))+B[2]+4243563512&4294967295,A=O+(I<<9&4294967295|I>>>23),I=S+(O^V&(A^O))+B[7]+1735328473&4294967295,S=A+(I<<14&4294967295|I>>>18),I=V+(A^O&(S^A))+B[12]+2368359562&4294967295,V=S+(I<<20&4294967295|I>>>12),I=O+(V^S^A)+B[5]+4294588738&4294967295,O=V+(I<<4&4294967295|I>>>28),I=A+(O^V^S)+B[8]+2272392833&4294967295,A=O+(I<<11&4294967295|I>>>21),I=S+(A^O^V)+B[11]+1839030562&4294967295,S=A+(I<<16&4294967295|I>>>16),I=V+(S^A^O)+B[14]+4259657740&4294967295,V=S+(I<<23&4294967295|I>>>9),I=O+(V^S^A)+B[1]+2763975236&4294967295,O=V+(I<<4&4294967295|I>>>28),I=A+(O^V^S)+B[4]+1272893353&4294967295,A=O+(I<<11&4294967295|I>>>21),I=S+(A^O^V)+B[7]+4139469664&4294967295,S=A+(I<<16&4294967295|I>>>16),I=V+(S^A^O)+B[10]+3200236656&4294967295,V=S+(I<<23&4294967295|I>>>9),I=O+(V^S^A)+B[13]+681279174&4294967295,O=V+(I<<4&4294967295|I>>>28),I=A+(O^V^S)+B[0]+3936430074&4294967295,A=O+(I<<11&4294967295|I>>>21),I=S+(A^O^V)+B[3]+3572445317&4294967295,S=A+(I<<16&4294967295|I>>>16),I=V+(S^A^O)+B[6]+76029189&4294967295,V=S+(I<<23&4294967295|I>>>9),I=O+(V^S^A)+B[9]+3654602809&4294967295,O=V+(I<<4&4294967295|I>>>28),I=A+(O^V^S)+B[12]+3873151461&4294967295,A=O+(I<<11&4294967295|I>>>21),I=S+(A^O^V)+B[15]+530742520&4294967295,S=A+(I<<16&4294967295|I>>>16),I=V+(S^A^O)+B[2]+3299628645&4294967295,V=S+(I<<23&4294967295|I>>>9),I=O+(S^(V|~A))+B[0]+4096336452&4294967295,O=V+(I<<6&4294967295|I>>>26),I=A+(V^(O|~S))+B[7]+1126891415&4294967295,A=O+(I<<10&4294967295|I>>>22),I=S+(O^(A|~V))+B[14]+2878612391&4294967295,S=A+(I<<15&4294967295|I>>>17),I=V+(A^(S|~O))+B[5]+4237533241&4294967295,V=S+(I<<21&4294967295|I>>>11),I=O+(S^(V|~A))+B[12]+1700485571&4294967295,O=V+(I<<6&4294967295|I>>>26),I=A+(V^(O|~S))+B[3]+2399980690&4294967295,A=O+(I<<10&4294967295|I>>>22),I=S+(O^(A|~V))+B[10]+4293915773&4294967295,S=A+(I<<15&4294967295|I>>>17),I=V+(A^(S|~O))+B[1]+2240044497&4294967295,V=S+(I<<21&4294967295|I>>>11),I=O+(S^(V|~A))+B[8]+1873313359&4294967295,O=V+(I<<6&4294967295|I>>>26),I=A+(V^(O|~S))+B[15]+4264355552&4294967295,A=O+(I<<10&4294967295|I>>>22),I=S+(O^(A|~V))+B[6]+2734768916&4294967295,S=A+(I<<15&4294967295|I>>>17),I=V+(A^(S|~O))+B[13]+1309151649&4294967295,V=S+(I<<21&4294967295|I>>>11),I=O+(S^(V|~A))+B[4]+4149444226&4294967295,O=V+(I<<6&4294967295|I>>>26),I=A+(V^(O|~S))+B[11]+3174756917&4294967295,A=O+(I<<10&4294967295|I>>>22),I=S+(O^(A|~V))+B[2]+718787259&4294967295,S=A+(I<<15&4294967295|I>>>17),I=V+(A^(S|~O))+B[9]+3951481745&4294967295,j.g[0]=j.g[0]+O&4294967295,j.g[1]=j.g[1]+(S+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+S&4294967295,j.g[3]=j.g[3]+A&4294967295}r.prototype.u=function(j,O){O===void 0&&(O=j.length);for(var V=O-this.blockSize,B=this.B,S=this.h,A=0;A<O;){if(S==0)for(;A<=V;)i(this,j,A),A+=this.blockSize;if(typeof j=="string"){for(;A<O;)if(B[S++]=j.charCodeAt(A++),S==this.blockSize){i(this,B),S=0;break}}else for(;A<O;)if(B[S++]=j[A++],S==this.blockSize){i(this,B),S=0;break}}this.h=S,this.o+=O},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var O=1;O<j.length-8;++O)j[O]=0;var V=8*this.o;for(O=j.length-8;O<j.length;++O)j[O]=V&255,V/=256;for(this.u(j),j=Array(16),O=V=0;4>O;++O)for(var B=0;32>B;B+=8)j[V++]=this.g[O]>>>B&255;return j};function o(j,O){var V=u;return Object.prototype.hasOwnProperty.call(V,j)?V[j]:V[j]=O(j)}function l(j,O){this.h=O;for(var V=[],B=!0,S=j.length-1;0<=S;S--){var A=j[S]|0;B&&A==O||(V[S]=A,B=!1)}this.g=V}var u={};function h(j){return-128<=j&&128>j?o(j,function(O){return new l([O|0],0>O?-1:0)}):new l([j|0],0>j?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return y;if(0>j)return k(d(-j));for(var O=[],V=1,B=0;j>=V;B++)O[B]=j/V|0,V*=4294967296;return new l(O,0)}function m(j,O){if(j.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(j.charAt(0)=="-")return k(m(j.substring(1),O));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=d(Math.pow(O,8)),B=y,S=0;S<j.length;S+=8){var A=Math.min(8,j.length-S),I=parseInt(j.substring(S,S+A),O);8>A?(A=d(Math.pow(O,A)),B=B.j(A).add(d(I))):(B=B.j(V),B=B.add(d(I)))}return B}var y=h(0),_=h(1),E=h(16777216);n=l.prototype,n.m=function(){if(x(this))return-k(this).m();for(var j=0,O=1,V=0;V<this.g.length;V++){var B=this.i(V);j+=(0<=B?B:4294967296+B)*O,O*=4294967296}return j},n.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(b(this))return"0";if(x(this))return"-"+k(this).toString(j);for(var O=d(Math.pow(j,6)),V=this,B="";;){var S=W(V,O).g;V=P(V,S.j(O));var A=((0<V.g.length?V.g[0]:V.h)>>>0).toString(j);if(V=S,b(V))return A+B;for(;6>A.length;)A="0"+A;B=A+B}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function b(j){if(j.h!=0)return!1;for(var O=0;O<j.g.length;O++)if(j.g[O]!=0)return!1;return!0}function x(j){return j.h==-1}n.l=function(j){return j=P(this,j),x(j)?-1:b(j)?0:1};function k(j){for(var O=j.g.length,V=[],B=0;B<O;B++)V[B]=~j.g[B];return new l(V,~j.h).add(_)}n.abs=function(){return x(this)?k(this):this},n.add=function(j){for(var O=Math.max(this.g.length,j.g.length),V=[],B=0,S=0;S<=O;S++){var A=B+(this.i(S)&65535)+(j.i(S)&65535),I=(A>>>16)+(this.i(S)>>>16)+(j.i(S)>>>16);B=I>>>16,A&=65535,I&=65535,V[S]=I<<16|A}return new l(V,V[V.length-1]&-2147483648?-1:0)};function P(j,O){return j.add(k(O))}n.j=function(j){if(b(this)||b(j))return y;if(x(this))return x(j)?k(this).j(k(j)):k(k(this).j(j));if(x(j))return k(this.j(k(j)));if(0>this.l(E)&&0>j.l(E))return d(this.m()*j.m());for(var O=this.g.length+j.g.length,V=[],B=0;B<2*O;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(var S=0;S<j.g.length;S++){var A=this.i(B)>>>16,I=this.i(B)&65535,$=j.i(S)>>>16,me=j.i(S)&65535;V[2*B+2*S]+=I*me,D(V,2*B+2*S),V[2*B+2*S+1]+=A*me,D(V,2*B+2*S+1),V[2*B+2*S+1]+=I*$,D(V,2*B+2*S+1),V[2*B+2*S+2]+=A*$,D(V,2*B+2*S+2)}for(B=0;B<O;B++)V[B]=V[2*B+1]<<16|V[2*B];for(B=O;B<2*O;B++)V[B]=0;return new l(V,0)};function D(j,O){for(;(j[O]&65535)!=j[O];)j[O+1]+=j[O]>>>16,j[O]&=65535,O++}function M(j,O){this.g=j,this.h=O}function W(j,O){if(b(O))throw Error("division by zero");if(b(j))return new M(y,y);if(x(j))return O=W(k(j),O),new M(k(O.g),k(O.h));if(x(O))return O=W(j,k(O)),new M(k(O.g),O.h);if(30<j.g.length){if(x(j)||x(O))throw Error("slowDivide_ only works with positive integers.");for(var V=_,B=O;0>=B.l(j);)V=X(V),B=X(B);var S=J(V,1),A=J(B,1);for(B=J(B,2),V=J(V,2);!b(B);){var I=A.add(B);0>=I.l(j)&&(S=S.add(V),A=I),B=J(B,1),V=J(V,1)}return O=P(j,S.j(O)),new M(S,O)}for(S=y;0<=j.l(O);){for(V=Math.max(1,Math.floor(j.m()/O.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),A=d(V),I=A.j(O);x(I)||0<I.l(j);)V-=B,A=d(V),I=A.j(O);b(A)&&(A=_),S=S.add(A),j=P(j,I)}return new M(S,j)}n.A=function(j){return W(this,j).h},n.and=function(j){for(var O=Math.max(this.g.length,j.g.length),V=[],B=0;B<O;B++)V[B]=this.i(B)&j.i(B);return new l(V,this.h&j.h)},n.or=function(j){for(var O=Math.max(this.g.length,j.g.length),V=[],B=0;B<O;B++)V[B]=this.i(B)|j.i(B);return new l(V,this.h|j.h)},n.xor=function(j){for(var O=Math.max(this.g.length,j.g.length),V=[],B=0;B<O;B++)V[B]=this.i(B)^j.i(B);return new l(V,this.h^j.h)};function X(j){for(var O=j.g.length+1,V=[],B=0;B<O;B++)V[B]=j.i(B)<<1|j.i(B-1)>>>31;return new l(V,j.h)}function J(j,O){var V=O>>5;O%=32;for(var B=j.g.length-V,S=[],A=0;A<B;A++)S[A]=0<O?j.i(A+V)>>>O|j.i(A+V+1)<<32-O:j.i(A+V);return new l(S,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Zs=l}).apply(typeof D1<"u"?D1:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cA,Cc,hA,Xf,pv,dA,fA,pA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var T=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var G=f[N];if(!(G in T))break e;T=T[G]}f=f[f.length-1],N=T[f],v=v(N),v!=N&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var T=0,N=!1,G={next:function(){if(!N&&T<f.length){var Z=T++;return{value:v(Z,f[Z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function d(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,T){return f.call.apply(f.bind,arguments)}function y(f,v,T){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,N),f.apply(v,G)}}return function(){return f.apply(v,arguments)}}function _(f,v,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function E(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function b(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(N,G,Z){for(var de=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)de[Ze-2]=arguments[Ze];return v.prototype[G].apply(N,de)}}function x(f){const v=f.length;if(0<v){const T=Array(v);for(let N=0;N<v;N++)T[N]=f[N];return T}return[]}function k(f,v){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(h(N)){const G=f.length||0,Z=N.length||0;f.length=G+Z;for(let de=0;de<Z;de++)f[G+de]=N[de]}else f.push(N)}}class P{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function W(f){return W[" "](f),f}W[" "]=function(){};var X=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function J(f,v,T){for(const N in f)v.call(T,f[N],N,f)}function j(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function O(f){const v={};for(const T in f)v[T]=f[T];return v}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,v){let T,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(T in N)f[T]=N[T];for(let Z=0;Z<V.length;Z++)T=V[Z],Object.prototype.hasOwnProperty.call(N,T)&&(f[T]=N[T])}}function S(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function A(f){u.setTimeout(()=>{throw f},0)}function I(){var f=fe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,T){const N=me.get();N.set(v,T),this.h?this.h.next=N:this.g=N,this.h=N}}var me=new P(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,fe=new $,ae=()=>{const f=u.Promise.resolve(void 0);ie=()=>{f.then(q)}};var q=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(T){A(T)}var v=me;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}te=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return f}();function Re(f,v){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(X){e:{try{W(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}b(Re,ye);var Se={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),qe=0;function je(f,v,T,N,G){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!N,this.ha=G,this.key=++qe,this.da=this.fa=!1}function Ut(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ii(f){this.src=f,this.g={},this.h=0}ii.prototype.add=function(f,v,T,N,G){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var de=ts(f,v,N,G);return-1<de?(v=f[de],T||(v.fa=!1)):(v=new je(v,this.src,Z,!!N,G),v.fa=T,f.push(v)),v};function Sa(f,v){var T=v.type;if(T in f.g){var N=f.g[T],G=Array.prototype.indexOf.call(N,v,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(N,G,1),Z&&(Ut(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ts(f,v,T,N){for(var G=0;G<f.length;++G){var Z=f[G];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==N)return G}return-1}var mo="closure_lm_"+(1e6*Math.random()|0),Ia={};function Iu(f,v,T,N,G){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Iu(f,v[Z],T,N,G);return null}return T=Pu(T),f&&f[ze]?f.K(v,T,d(N)?!!N.capture:!1,G):Cu(f,v,T,!1,N,G)}function Cu(f,v,T,N,G,Z){if(!v)throw Error("Invalid event type");var de=d(G)?!!G.capture:!!G,Ze=Aa(f);if(Ze||(f[mo]=Ze=new ii(f)),T=Ze.add(v,T,N,de,Z),T.proxy)return T;if(N=fd(),T.proxy=N,N.src=f,N.listener=T,f.addEventListener)xe||(G=de),G===void 0&&(G=!1),f.addEventListener(v.toString(),N,G);else if(f.attachEvent)f.attachEvent(oi(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fd(){function f(T){return v.call(f.src,f.listener,T)}const v=Au;return f}function Ca(f,v,T,N,G){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Ca(f,v[Z],T,N,G);else N=d(N)?!!N.capture:!!N,T=Pu(T),f&&f[ze]?(f=f.i,v=String(v).toString(),v in f.g&&(Z=f.g[v],T=ts(Z,T,N,G),-1<T&&(Ut(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete f.g[v],f.h--)))):f&&(f=Aa(f))&&(v=f.g[v.toString()],f=-1,v&&(f=ts(v,T,N,G)),(T=-1<f?v[f]:null)&&si(T))}function si(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ze])Sa(v.i,f);else{var T=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(T,N,f.capture):v.detachEvent?v.detachEvent(oi(T),N):v.addListener&&v.removeListener&&v.removeListener(N),(T=Aa(v))?(Sa(T,f),T.h==0&&(T.src=null,v[mo]=null)):Ut(f)}}}function oi(f){return f in Ia?Ia[f]:Ia[f]="on"+f}function Au(f,v){if(f.da)f=!0;else{v=new Re(v,this);var T=f.listener,N=f.ha||f.src;f.fa&&si(f),f=T.call(N,v)}return f}function Aa(f){return f=f[mo],f instanceof ii?f:null}var Pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(f){return typeof f=="function"?f:(f[Pa]||(f[Pa]=function(v){return f.handleEvent(v)}),f[Pa])}function kt(){ne.call(this),this.i=new ii(this),this.M=this,this.F=null}b(kt,ne),kt.prototype[ze]=!0,kt.prototype.removeEventListener=function(f,v,T,N){Ca(this,f,v,T,N)};function Ot(f,v){var T,N=f.F;if(N)for(T=[];N;N=N.F)T.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new ye(v,f);else if(v instanceof ye)v.target=v.target||f;else{var G=v;v=new ye(N,f),B(v,G)}if(G=!0,T)for(var Z=T.length-1;0<=Z;Z--){var de=v.g=T[Z];G=ai(de,N,!0,v)&&G}if(de=v.g=f,G=ai(de,N,!0,v)&&G,G=ai(de,N,!1,v)&&G,T)for(Z=0;Z<T.length;Z++)de=v.g=T[Z],G=ai(de,N,!1,v)&&G}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],N=0;N<T.length;N++)Ut(T[N]);delete f.g[v],f.h--}}this.F=null},kt.prototype.K=function(f,v,T,N){return this.i.add(String(f),v,!1,T,N)},kt.prototype.L=function(f,v,T,N){return this.i.add(String(f),v,!0,T,N)};function ai(f,v,T,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Z=0;Z<v.length;++Z){var de=v[Z];if(de&&!de.da&&de.capture==T){var Ze=de.listener,Nt=de.ha||de.src;de.fa&&Sa(f.i,de),G=Ze.call(Nt,N)!==!1&&G}}return G&&!N.defaultPrevented}function Ru(f,v,T){if(typeof f=="function")T&&(f=_(f,T));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function ns(f){f.g=Ru(()=>{f.g=null,f.i&&(f.i=!1,ns(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class go extends ne{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(f){ne.call(this),this.h=f,this.g={}}b(yo,ne);var ku=[];function Ou(f){J(f.g,function(v,T){this.g.hasOwnProperty(T)&&si(v)},f),f.g={}}yo.prototype.N=function(){yo.aa.N.call(this),Ou(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nu=u.JSON.stringify,Du=u.JSON.parse,Lu=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function vo(){}vo.prototype.h=null;function Ra(f){return f.h||(f.h=f.i())}function ka(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ye.call(this,"d")}b(Ar,ye);function Oa(){ye.call(this,"c")}b(Oa,ye);var Pr={},Vu=null;function wo(){return Vu=Vu||new kt}Pr.La="serverreachability";function Mu(f){ye.call(this,Pr.La,f)}b(Mu,ye);function li(f){const v=wo();Ot(v,new Mu(v))}Pr.STAT_EVENT="statevent";function ju(f,v){ye.call(this,Pr.STAT_EVENT,f),this.stat=v}b(ju,ye);function Tt(f){const v=wo();Ot(v,new ju(v,f))}Pr.Ma="timingevent";function Na(f,v){ye.call(this,Pr.Ma,f),this.size=v}b(Na,ye);function lr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function _o(){this.g=!0}_o.prototype.xa=function(){this.g=!1};function Eo(f,v,T,N,G,Z){f.info(function(){if(f.g)if(Z)for(var de="",Ze=Z.split("&"),Nt=0;Nt<Ze.length;Nt++){var Ge=Ze[Nt].split("=");if(1<Ge.length){var Bt=Ge[0];Ge=Ge[1];var Ct=Bt.split("_");de=2<=Ct.length&&Ct[1]=="type"?de+(Bt+"="+Ge+"&"):de+(Bt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+v+`
`+T+`
`+de})}function Da(f,v,T,N,G,Z,de){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+v+`
`+T+`
`+Z+" "+de})}function ur(f,v,T,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+jm(f,T)+(N?" "+N:"")})}function $u(f,v){f.info(function(){return"TIMEOUT: "+v})}_o.prototype.info=function(){};function jm(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var N=T[f];if(!(2>N.length)){var G=N[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return Nu(T)}catch{return v}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function To(){}b(To,vo),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},cr=new To;function hr(f,v,T,N){this.j=f,this.i=v,this.l=T,this.R=N||1,this.U=new yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new md}function md(){this.i=null,this.g="",this.h=!1}var Fu={},Va={};function Ma(f,v,T){f.L=1,f.v=as(Dn(v)),f.m=T,f.P=!0,Uu(f,null)}function Uu(f,v){f.F=Date.now(),rt(f),f.A=Dn(f.v);var T=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),us(T.i,"t",N),f.C=0,T=f.j.J,f.h=new md,f.g=Nd(f.j,T?v:null,!f.m),0<f.O&&(f.M=new go(_(f.Y,f,f.g),f.O)),v=f.U,T=f.g,N=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(ku[0]=G.toString()),G=ku);for(var Z=0;Z<G.length;Z++){var de=Iu(T,G[Z],N||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),li(),Eo(f.i,f.u,f.A,f.l,f.R,f.m)}hr.prototype.ca=function(f){f=f.target;const v=this.M;v&&En(f)==3?v.j():this.Y(f)},hr.prototype.Y=function(f){try{if(f==this.g)e:{const Ct=En(this.g);var v=this.g.Ba();const Wn=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||Ct!=4||v==7||(v==8||0>=Wn?li(3):li(2)),xo(this);var T=this.g.Z();this.X=T;t:if(gd(this)){var N=Gu(this.g);f="";var G=N.length,Z=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),rs(this);var de="";break t}this.h.i=new u.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(Z&&v==G-1)});N.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,Da(this.i,this.u,this.A,this.l,this.R,Ct,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Nt=this.g;if((Ze=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ze)){var Ge=Ze;break t}}Ge=null}if(T=Ge)ur(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bu(this,T);else{this.o=!1,this.s=3,Tt(12),qn(this),rs(this);break e}}if(this.P){T=!0;let Vn;for(;!this.J&&this.C<de.length;)if(Vn=$m(this,de),Vn==Va){Ct==4&&(this.s=4,Tt(14),T=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Fu){this.s=4,Tt(15),ur(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else ur(this.i,this.l,Vn,null),Bu(this,Vn);if(gd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||de.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)ur(this.i,this.l,de,"[Invalid Chunked Response]"),qn(this),rs(this);else if(0<de.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Qu(Bt),Bt.M=!0,Tt(11))}}else ur(this.i,this.l,de,null),Bu(this,de);Ct==4&&qn(this),this.o&&!this.J&&(Ct==4?Ka(this.j,this):(this.o=!1,rt(this)))}else za(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),qn(this),rs(this)}}}catch{}finally{}};function gd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function $m(f,v){var T=f.C,N=v.indexOf(`
`,T);return N==-1?Va:(T=Number(v.substring(T,N)),isNaN(T)?Fu:(N+=1,N+T>v.length?Va:(v=v.slice(N,N+T),f.C=N+T,v)))}hr.prototype.cancel=function(){this.J=!0,qn(this)};function rt(f){f.S=Date.now()+f.I,yd(f,f.I)}function yd(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=lr(_(f.ba,f),v)}function xo(f){f.B&&(u.clearTimeout(f.B),f.B=null)}hr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?($u(this.i,this.A),this.L!=2&&(li(),Tt(17)),qn(this),this.s=2,rs(this)):yd(this,this.S-f)};function rs(f){f.j.G==0||f.J||Ka(f.j,f)}function qn(f){xo(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Ou(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Bu(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||pn(T.h,f))){if(!f.K&&pn(T.h,f)&&T.G==3){try{var N=T.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ga(T),gr(T);else break e;Wa(T),Tt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=lr(_(T.Za,T),6e3));if(1>=wd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fi(T,11)}else if((f.K||T.g==f)&&Ga(T),!D(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let Ge=G[v];if(T.T=Ge[0],Ge=Ge[1],T.G==2)if(Ge[0]=="c"){T.K=Ge[1],T.ia=Ge[2];const Bt=Ge[3];Bt!=null&&(T.la=Bt,T.j.info("VER="+T.la));const Ct=Ge[4];Ct!=null&&(T.Aa=Ct,T.j.info("SVER="+T.Aa));const Wn=Ge[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(N=1.5*Wn,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Vn=f.g;if(Vn){const Ro=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var Z=N.h;Z.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(zu(Z,Z.h),Z.h=null))}if(N.D){const Ya=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(N.ya=Ya,tt(N.I,N.D,Ya))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var de=f;if(N.qa=Od(N,N.J?N.ia:null,N.W),de.K){_d(N.h,de);var Ze=de,Nt=N.L;Nt&&(Ze.I=Nt),Ze.B&&(xo(Ze),rt(Ze)),N.g=de}else Po(N);0<T.i.length&&Nr(T)}else Ge[0]!="stop"&&Ge[0]!="close"||fi(T,7);else T.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?fi(T,7):Kt(T):Ge[0]!="noop"&&T.l&&T.l.ta(Ge),T.v=0)}}li(4)}catch{}}var vd=class{constructor(f,v){this.g=f,this.map=v}};function bo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wd(f){return f.h?1:f.g?f.g.size:0}function pn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function zu(f,v){f.g?f.g.add(v):f.h=v}function _d(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}bo.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ed(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return x(f.i)}function ja(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var v=[],T=f.length,N=0;N<T;N++)v.push(f[N]);return v}v=[],T=0;for(N in f)v[T++]=f[N];return v}function $a(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const N in f)v[T++]=N;return v}}}function is(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=$a(f),N=ja(f),G=N.length,Z=0;Z<G;Z++)v.call(void 0,N[Z],T&&T[Z],f)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fm(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var N=f[T].indexOf("="),G=null;if(0<=N){var Z=f[T].substring(0,N);G=f[T].substring(N+1)}else Z=f[T];v(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ui(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ui){this.h=f.h,Io(this,f.j),this.o=f.o,this.g=f.g,ss(this,f.s),this.l=f.l;var v=f.i,T=new Rr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),os(this,T),this.m=f.m}else f&&(v=String(f).match(So))?(this.h=!1,Io(this,v[1]||"",!0),this.o=He(v[2]||""),this.g=He(v[3]||"",!0),ss(this,v[4]),this.l=He(v[5]||"",!0),os(this,v[6]||"",!0),this.m=He(v[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}ui.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ls(v,Fa,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ls(v,Fa,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ls(T,T.charAt(0)=="/"?bd:xd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ls(T,qu)),f.join("")};function Dn(f){return new ui(f)}function Io(f,v,T){f.j=T?He(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ss(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function os(f,v,T){v instanceof Rr?(f.i=v,kr(f.i,f.h)):(T||(v=ls(v,Sd)),f.i=new Rr(v,f.h))}function tt(f,v,T){f.i.set(v,T)}function as(f){return tt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function He(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ls(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Td),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Td(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Fa=/[#\/\?@]/g,xd=/[#\?:]/g,bd=/[#\?]/g,Sd=/[#\?@]/g,qu=/#/g;function Rr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Gt(f){f.g||(f.g=new Map,f.h=0,f.i&&Fm(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Rr.prototype,n.add=function(f,v){Gt(this),this.i=null,f=Hn(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function dr(f,v){Gt(f),v=Hn(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function fr(f,v){return Gt(f),v=Hn(f,v),f.g.has(v)}n.forEach=function(f,v){Gt(this),this.g.forEach(function(T,N){T.forEach(function(G){f.call(v,G,N,this)},this)},this)},n.na=function(){Gt(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let N=0;N<v.length;N++){const G=f[N];for(let Z=0;Z<G.length;Z++)T.push(v[N])}return T},n.V=function(f){Gt(this);let v=[];if(typeof f=="string")fr(this,f)&&(v=v.concat(this.g.get(Hn(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},n.set=function(f,v){return Gt(this),this.i=null,f=Hn(this,f),fr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function us(f,v,T){dr(f,v),0<T.length&&(f.i=null,f.g.set(Hn(f,v),x(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var N=v[T];const Z=encodeURIComponent(String(N)),de=this.V(N);for(N=0;N<de.length;N++){var G=Z;de[N]!==""&&(G+="="+encodeURIComponent(String(de[N]))),f.push(G)}}return this.i=f.join("&")};function Hn(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function kr(f,v){v&&!f.j&&(Gt(f),f.i=null,f.g.forEach(function(T,N){var G=N.toLowerCase();N!=G&&(dr(this,N),us(this,G,T))},f)),f.j=v}function Um(f,v){const T=new _o;if(u.Image){const N=new Image;N.onload=E(_n,T,"TestLoadImage: loaded",!0,v,N),N.onerror=E(_n,T,"TestLoadImage: error",!1,v,N),N.onabort=E(_n,T,"TestLoadImage: abort",!1,v,N),N.ontimeout=E(_n,T,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function Id(f,v){const T=new _o,N=new AbortController,G=setTimeout(()=>{N.abort(),_n(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(Z=>{clearTimeout(G),Z.ok?_n(T,"TestPingServer: ok",!0,v):_n(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),_n(T,"TestPingServer: error",!1,v)})}function _n(f,v,T,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(T)}catch{}}function Bm(){this.g=new Lu}function Cd(f,v,T){const N=T||"";try{is(f,function(G,Z){let de=G;d(G)&&(de=Nu(G)),v.push(N+Z+"="+encodeURIComponent(de))})}catch(G){throw v.push(N+"type="+encodeURIComponent("_badmap")),G}}function ci(f){this.l=f.Ub||null,this.j=f.eb||!1}b(ci,vo),ci.prototype.g=function(){return new Co(this.l,this.j)},ci.prototype.i=function(f){return function(){return f}}({});function Co(f,v){kt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Co,kt),n=Co.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,mr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ad(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ad(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?pr(this):mr(this),this.readyState==3&&Ad(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,pr(this))},n.Qa=function(f){this.g&&(this.response=f,pr(this))},n.ga=function(){this.g&&pr(this)};function pr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mr(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function mr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function hi(f){let v="";return J(f,function(T,N){v+=N,v+=":",v+=T,v+=`\r
`}),v}function cs(f,v,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=hi(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):tt(f,v,T))}function lt(f){kt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(lt,kt);var zm=/^https?$/i,Hu=["POST","PUT"];n=lt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?Ra(this.o):Ra(cr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Z){Ao(this,Z);return}if(f=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)T.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())T.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Hu,v,void 0))||N||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of T)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){Ao(this,Z)}};function Ao(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Ua(f),Ln(f)}function Ua(f){f.A||(f.A=!0,Ot(f,"complete"),Ot(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ot(this,"complete"),Ot(this,"abort"),Ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wu(this):this.bb())},n.bb=function(){Wu(this)};function Wu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||En(f)!=4||f.Z()!=2)){if(f.u&&En(f)==4)Ru(f.Ea,0,f);else if(Ot(f,"readystatechange"),En(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var N;if(N=de===0){var G=String(f.D).match(So)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),N=!zm.test(G?G.toLowerCase():"")}T=N}if(T)Ot(f,"complete"),Ot(f,"success");else{f.m=6;try{var Z=2<En(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",Ua(f)}}finally{Ln(f)}}}}function Ln(f,v){if(f.g){Ba(f);const T=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ot(f,"ready");try{T.onreadystatechange=N}catch{}}}function Ba(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function En(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Du(v)}};function Gu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function za(f){const v={};f=(f.g&&2<=En(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(D(f[N]))continue;var T=S(f[N]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[G]||[];v[G]=Z,Z.push(T)}j(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function Ku(f){this.Aa=0,this.i=[],this.j=new _o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,f),this.cb=Or("retryDelaySeedMs",1e4,f),this.Wa=Or("forwardChannelMaxRetries",2,f),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new bo(f&&f.concurrentRequestLimit),this.Da=new Bm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ku.prototype,n.la=8,n.G=1,n.connect=function(f,v,T,N){Tt(0),this.W=f,this.H=v||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=Od(this,null,this.W),Nr(this)};function Kt(f){if(qa(f),f.G==3){var v=f.U++,T=Dn(f.I);if(tt(T,"SID",f.K),tt(T,"RID",v),tt(T,"TYPE","terminate"),di(f,T),v=new hr(f,f.j,v),v.L=2,v.v=as(Dn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.v,T=!0),T||(v.g=Nd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),rt(v)}kd(f)}function gr(f){f.g&&(Qu(f),f.g.cancel(),f.g=null)}function qa(f){gr(f),f.u&&(u.clearTimeout(f.u),f.u=null),Ga(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Nr(f){if(!Nn(f.h)&&!f.s){f.s=!0;var v=f.Ga;ie||ae(),te||(ie(),te=!0),fe.add(v,f),f.B=0}}function qm(f,v){return wd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=lr(_(f.Ga,f,v),Rd(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new hr(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=O(Z),B(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=hs(this,G,v),T=Dn(this.I),tt(T,"RID",f),tt(T,"CVER",22),this.D&&tt(T,"X-HTTP-Session-Id",this.D),di(this,T),Z&&(this.O?v="headers="+encodeURIComponent(String(hi(Z)))+"&"+v:this.m&&cs(T,this.m,Z)),zu(this.h,G),this.Ua&&tt(T,"TYPE","init"),this.P?(tt(T,"$req",v),tt(T,"SID","null"),G.T=!0,Ma(G,T,null)):Ma(G,T,v),this.G=2}}else this.G==3&&(f?Ha(this,f):this.i.length==0||Nn(this.h)||Ha(this))};function Ha(f,v){var T;v?T=v.l:T=f.U++;const N=Dn(f.I);tt(N,"SID",f.K),tt(N,"RID",T),tt(N,"AID",f.T),di(f,N),f.m&&f.o&&cs(N,f.m,f.o),T=new hr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=hs(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),zu(f.h,T),Ma(T,N,v)}function di(f,v){f.H&&J(f.H,function(T,N){tt(v,N,T)}),f.l&&is({},function(T,N){tt(v,N,T)})}function hs(f,v,T){T=Math.min(f.i.length,T);var N=f.l?_(f.l.Na,f.l,f):null;e:{var G=f.i;let Z=-1;for(;;){const de=["count="+T];Z==-1?0<T?(Z=G[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let Ze=!0;for(let Nt=0;Nt<T;Nt++){let Ge=G[Nt].g;const Bt=G[Nt].map;if(Ge-=Z,0>Ge)Z=Math.max(0,G[Nt].g-100),Ze=!1;else try{Cd(Bt,de,"req"+Ge+"_")}catch{N&&N(Bt)}}if(Ze){N=de.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,N}function Po(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ie||ae(),te||(ie(),te=!0),fe.add(v,f),f.v=0}}function Wa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=lr(_(f.Fa,f),Rd(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Pd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=lr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),gr(this),Pd(this))};function Qu(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Pd(f){f.g=new hr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Dn(f.qa);tt(v,"RID","rpc"),tt(v,"SID",f.K),tt(v,"AID",f.T),tt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&tt(v,"TO",f.ja),tt(v,"TYPE","xmlhttp"),di(f,v),f.m&&f.o&&cs(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=as(Dn(v)),T.m=null,T.P=!0,Uu(T,f)}n.Za=function(){this.C!=null&&(this.C=null,gr(this),Wa(this),Tt(19))};function Ga(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Ka(f,v){var T=null;if(f.g==v){Ga(f),Qu(f),f.g=null;var N=2}else if(pn(f.h,v))T=v.D,_d(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=f.B;N=wo(),Ot(N,new Na(N,T)),Nr(f)}else Po(f);else if(G=v.s,G==3||G==0&&0<v.X||!(N==1&&qm(f,v)||N==2&&Wa(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),G){case 1:fi(f,5);break;case 4:fi(f,10);break;case 3:fi(f,6);break;default:fi(f,2)}}}function Rd(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function fi(f,v){if(f.j.info("Error code "+v),v==2){var T=_(f.fb,f),N=f.Xa;const G=!N;N=new ui(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Io(N,"https"),as(N),G?Um(N.toString(),T):Id(N.toString(),T)}else Tt(2);f.G=0,f.l&&f.l.sa(v),kd(f),qa(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function kd(f){if(f.G=0,f.ka=[],f.l){const v=Ed(f.h);(v.length!=0||f.i.length!=0)&&(k(f.ka,v),k(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function Od(f,v,T){var N=T instanceof ui?Dn(T):new ui(T);if(N.g!="")v&&(N.g=v+"."+N.g),ss(N,N.s);else{var G=u.location;N=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Z=new ui(null);N&&Io(Z,N),v&&(Z.g=v),G&&ss(Z,G),T&&(Z.l=T),N=Z}return T=f.D,v=f.ya,T&&v&&tt(N,T,v),tt(N,"VER",f.la),di(f,N),N}function Nd(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new lt(new ci({eb:T})):new lt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}n=Yu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qa(){}Qa.prototype.g=function(f,v){return new mn(f,v)};function mn(f,v){kt.call(this),this.g=new Ku(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!D(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Dr(this)}b(mn,kt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Nu(f),f=T);v.i.push(new vd(v.Ya++,f)),v.G==3&&Nr(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)};function Dd(f){Ar.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}b(Dd,Ar);function Ld(){Oa.call(this),this.status=1}b(Ld,Oa);function Dr(f){this.g=f}b(Dr,Yu),Dr.prototype.ua=function(){Ot(this.g,"a")},Dr.prototype.ta=function(f){Ot(this.g,new Dd(f))},Dr.prototype.sa=function(f){Ot(this.g,new Ld)},Dr.prototype.ra=function(){Ot(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,pA=function(){return new Qa},fA=function(){return wo()},dA=Pr,pv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,Xf=La,pd.COMPLETE="complete",hA=pd,ka.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Cc=ka,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,cA=lt}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const L1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new T0("@firebase/firestore");function wl(){return pa.logLevel}function we(n,...e){if(pa.logLevel<=Ue.DEBUG){const t=e.map(V0);pa.debug(`Firestore (${yu}): ${n}`,...t)}}function Wi(n,...e){if(pa.logLevel<=Ue.ERROR){const t=e.map(V0);pa.error(`Firestore (${yu}): ${n}`,...t)}}function tu(n,...e){if(pa.logLevel<=Ue.WARN){const t=e.map(V0);pa.warn(`Firestore (${yu}): ${n}`,...t)}}function V0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${yu}) INTERNAL ASSERTION FAILED: `+n;throw Wi(e),new Error(e)}function Je(n,e){n||De()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class a${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class l${constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new eo,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new eo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new mA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new ln(e)}}class u${constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class c${constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new u$(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Je(this.o===void 0);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new h$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=f$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function nu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new $t(0,0))}static max(){return new Le(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(),r===void 0?r=e.length-t:r>e.length-t&&De(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=$r.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=$r.isNumericId(e),i=$r.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?$r.extractNumericId(e).compare($r.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class wt extends $r{construct(e,t,r){return new wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const p$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends $r{construct(e,t,r){return new Zt(e,t,r)}static isValidIdentifier(e){return p$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(wt.fromString(e))}static fromName(e){return new Pe(wt.fromString(e).popFirst(5))}static empty(){return new Pe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new wt(e.slice()))}}function m$(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new $t(t+1,0):new $t(t,r));return new ro(i,Pe.empty(),e)}function g$(n){return new ro(n.readTime,n.key,-1)}class ro{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ro(Le.min(),Pe.empty(),-1)}static max(){return new ro(Le.max(),Pe.empty(),-1)}}function y$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==v$)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(i=>i?re.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new re((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const d=h;t(e[d]).next(m=>{l[d]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new re((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function _$(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dm.oe=-1;function fm(n){return n==null}function xp(n){return n===0&&1/n==-1/0}function E$(n){return typeof n=="number"&&Number.isInteger(n)&&!xp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=V1(e)),e=x$(n.get(t),e);return V1(e)}function x$(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function V1(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Jt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new j1(this.data.getIterator())}getIteratorFrom(e){return new j1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class j1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new br([])}unionWith(e){let t=new Ft(Zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vA("Invalid base64 string: "+o):o}}(e);return new en(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const b$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(n){if(Je(!!n),typeof n=="string"){let e=0;const t=b$.exec(n);if(Je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function so(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function pm(n){const e=n.mapValue.fields.__previous_value__;return M0(e)?pm(e):e}function Jc(n){const e=io(n.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,t,r,i,o,l,u,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d}}class Zc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M0(n)?4:C$(n)?9007199254740991:I$(n)?10:11:De()}function Yr(n,e){if(n===e)return!0;const t=oo(n);if(t!==oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jc(n).isEqual(Jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=io(i.timestampValue),u=io(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return so(i.bytesValue).isEqual(so(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=It(i.doubleValue),u=It(o.doubleValue);return l===u?xp(l)===xp(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return nu(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(M1(l)!==M1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Yr(l[h],u[h])))return!1;return!0}(n,e);default:return De()}}function eh(n,e){return(n.values||[]).find(t=>Yr(t,e))!==void 0}function ru(n,e){if(n===e)return 0;const t=oo(n),r=oo(e);if(t!==r)return We(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=It(o.integerValue||o.doubleValue),h=It(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return $1(n.timestampValue,e.timestampValue);case 4:return $1(Jc(n),Jc(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(o,l){const u=so(o),h=so(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let d=0;d<u.length&&d<h.length;d++){const m=We(u[d],h[d]);if(m!==0)return m}return We(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=We(It(o.latitude),It(l.latitude));return u!==0?u:We(It(o.longitude),It(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return F1(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,d,m;const y=o.fields||{},_=l.fields||{},E=(u=y.value)===null||u===void 0?void 0:u.arrayValue,b=(h=_.value)===null||h===void 0?void 0:h.arrayValue,x=We(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return x!==0?x:F1(E,b)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Lf.mapValue&&l===Lf.mapValue)return 0;if(o===Lf.mapValue)return 1;if(l===Lf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const _=We(h[y],m[y]);if(_!==0)return _;const E=ru(u[h[y]],d[m[y]]);if(E!==0)return E}return We(h.length,m.length)}(n.mapValue,e.mapValue);default:throw De()}}function $1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=io(n),r=io(e),i=We(t.seconds,r.seconds);return i!==0?i:We(t.nanos,r.nanos)}function F1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=ru(t[i],r[i]);if(o)return o}return We(t.length,r.length)}function iu(n){return mv(n)}function mv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=io(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return so(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=mv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${mv(t.fields[l])}`;return i+"}"}(n.mapValue):De()}function Jf(n){switch(oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pm(n);return e?16+Jf(e):16;case 5:return 2*n.stringValue.length;case 6:return so(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Jf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return va(r.fields,(o,l)=>{i+=o.length+Jf(l)}),i}(n.mapValue);default:throw De()}}function gv(n){return!!n&&"integerValue"in n}function j0(n){return!!n&&"arrayValue"in n}function U1(n){return!!n&&"nullValue"in n}function B1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zf(n){return!!n&&"mapValue"in n}function I$(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$c(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function C$(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=Zt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=$c(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){va(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rr($c(this.value))}}function wA(n){const e=[];return va(n.fields,(t,r)=>{const i=new Zt([t]);if(Zf(r)){const o=wA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new un(e,0,Le.min(),Le.min(),Le.min(),rr.empty(),0)}static newFoundDocument(e,t,r,i){return new un(e,1,t,Le.min(),r,i,0)}static newNoDocument(e,t){return new un(e,2,t,Le.min(),Le.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Le.min(),Le.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.position=e,this.inclusive=t}}function z1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(l.referenceValue),t.key):r=ru(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function q1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t="asc"){this.field=e,this.dir=t}}function A$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class Mt extends _A{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new R$(e,t,r):t==="array-contains"?new N$(e,r):t==="in"?new D$(e,r):t==="not-in"?new L$(e,r):t==="array-contains-any"?new V$(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new k$(e,r):new O$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ru(t,this.value)):t!==null&&oo(this.value)===oo(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends _A{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xr(e,t)}matches(e){return EA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function EA(n){return n.op==="and"}function TA(n){return P$(n)&&EA(n)}function P$(n){for(const e of n.filters)if(e instanceof Xr)return!1;return!0}function yv(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(TA(n))return n.filters.map(e=>yv(e)).join(",");{const e=n.filters.map(t=>yv(t)).join(",");return`${n.op}(${e})`}}function xA(n,e){return n instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)}(n,e):n instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&xA(l,i.filters[u]),!0):!1}(n,e):void De()}function bA(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`}(n):n instanceof Xr?function(t){return t.op.toString()+" {"+t.getFilters().map(bA).join(" ,")+"}"}(n):"Filter"}class R$ extends Mt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class k$ extends Mt{constructor(e,t){super(e,"in",t),this.keys=SA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class O$ extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=SA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class N$ extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return j0(t)&&eh(t.arrayValue,this.value)}}class D$ extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eh(this.value.arrayValue,t)}}class L$ extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!eh(this.value.arrayValue,t)}}class V$ extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!j0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function H1(n,e=null,t=[],r=[],i=null,o=null,l=null){return new M$(n,e,t,r,i,o,l)}function $0(n){const e=Ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iu(r)).join(",")),e.ue=t}return e.ue}function F0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!A$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!q1(n.startAt,e.startAt)&&q1(n.endAt,e.endAt)}function vv(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function j$(n,e,t,r,i,o,l,u){return new mm(n,e,t,r,i,o,l,u)}function U0(n){return new mm(n)}function W1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $$(n){return n.collectionGroup!==null}function Fc(n){const e=Ve(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ft(Zt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sp(o,r))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new Sp(Zt.keyField(),r))}return e.ce}function zr(n){const e=Ve(n);return e.le||(e.le=F$(e,Fc(n))),e.le}function F$(n,e){if(n.limitType==="F")return H1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sp(i.field,o)});const t=n.endAt?new bp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bp(n.startAt.position,n.startAt.inclusive):null;return H1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function wv(n,e,t){return new mm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gm(n,e){return F0(zr(n),zr(e))&&n.limitType===e.limitType}function IA(n){return`${$0(zr(n))}|lt:${n.limitType}`}function _l(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>bA(i)).join(", ")}]`),fm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>iu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>iu(i)).join(",")),`Target(${r})`}(zr(n))}; limitType=${n.limitType})`}function ym(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Fc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const d=z1(l,u,h);return l.inclusive?d<=0:d<0}(r.startAt,Fc(r),i)||r.endAt&&!function(l,u,h){const d=z1(l,u,h);return l.inclusive?d>=0:d>0}(r.endAt,Fc(r),i))}(n,e)}function U$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CA(n){return(e,t)=>{let r=!1;for(const i of Fc(n)){const o=B$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function B$(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),d=u.data.field(o);return h!==null&&d!==null?ru(h,d):De()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return yA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=new gt(Pe.comparator);function Gi(){return z$}const AA=new gt(Pe.comparator);function Ac(...n){let e=AA;for(const t of n)e=e.insert(t.key,t);return e}function PA(n){let e=AA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yo(){return Uc()}function RA(){return Uc()}function Uc(){return new wa(n=>n.toString(),(n,e)=>n.isEqual(e))}const q$=new gt(Pe.comparator),H$=new Ft(Pe.comparator);function Be(...n){let e=H$;for(const t of n)e=e.add(t);return e}const W$=new Ft(We);function G$(){return W$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xp(e)?"-0":e}}function kA(n){return{integerValue:""+n}}function K$(n,e){return E$(e)?kA(e):B0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function Q$(n,e,t){return n instanceof Ip?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&M0(o)&&(o=pm(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof th?NA(n,e):n instanceof nh?DA(n,e):function(i,o){const l=OA(i,o),u=G1(l)+G1(i.Pe);return gv(l)&&gv(i.Pe)?kA(u):B0(i.serializer,u)}(n,e)}function Y$(n,e,t){return n instanceof th?NA(n,e):n instanceof nh?DA(n,e):t}function OA(n,e){return n instanceof Cp?function(r){return gv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ip extends vm{}class th extends vm{constructor(e){super(),this.elements=e}}function NA(n,e){const t=LA(e);for(const r of n.elements)t.some(i=>Yr(i,r))||t.push(r);return{arrayValue:{values:t}}}class nh extends vm{constructor(e){super(),this.elements=e}}function DA(n,e){let t=LA(e);for(const r of n.elements)t=t.filter(i=>!Yr(i,r));return{arrayValue:{values:t}}}class Cp extends vm{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function G1(n){return It(n.integerValue||n.doubleValue)}function LA(n){return j0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function X$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof th&&i instanceof th||r instanceof nh&&i instanceof nh?nu(r.elements,i.elements,Yr):r instanceof Cp&&i instanceof Cp?Yr(r.Pe,i.Pe):r instanceof Ip&&i instanceof Ip}(n.transform,e.transform)}class J${constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wm{}function VA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new z0(n.key,qr.none()):new Xh(n.key,n.data,qr.none());{const t=n.data,r=rr.empty();let i=new Ft(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new _a(n.key,r,new br(i.toArray()),qr.none())}}function Z$(n,e,t){n instanceof Xh?function(i,o,l){const u=i.value.clone(),h=Q1(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof _a?function(i,o,l){if(!ep(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Q1(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(MA(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Bc(n,e,t,r){return n instanceof Xh?function(o,l,u,h){if(!ep(o.precondition,l))return u;const d=o.value.clone(),m=Y1(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof _a?function(o,l,u,h){if(!ep(o.precondition,l))return u;const d=Y1(o.fieldTransforms,h,l),m=l.data;return m.setAll(MA(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,l,u){return ep(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function eF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=OA(r.transform,i||null);o!=null&&(t===null&&(t=rr.empty()),t.set(r.field,o))}return t||null}function K1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nu(r,i,(o,l)=>X$(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xh extends wm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends wm{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Q1(n,e,t){const r=new Map;Je(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,Y$(l,u,t[i]))}return r}function Y1(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,Q$(o,l,e))}return r}class z0 extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tF extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Z$(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RA();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const h=VA(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(t,r)=>K1(t,r))&&nu(this.baseMutations,e.baseMutations,(t,r)=>K1(t,r))}}class q0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length);let i=function(){return q$}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new q0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ke;function sF(n){switch(n){default:return De();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function jA(n){if(n===void 0)return Wi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Pt.OK:return ce.OK;case Pt.CANCELLED:return ce.CANCELLED;case Pt.UNKNOWN:return ce.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ce.INTERNAL;case Pt.UNAVAILABLE:return ce.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ce.NOT_FOUND;case Pt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Pt.ABORTED:return ce.ABORTED;case Pt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Pt.DATA_LOSS:return ce.DATA_LOSS;default:return De()}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Zs([4294967295,4294967295],0);function X1(n){const e=oF().encode(n),t=new uA;return t.update(e),new Uint8Array(t.digest())}function J1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zs([t,r],0),new Zs([i,o],0)]}class H0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(r<0)throw new Pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Zs.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Zs.fromNumber(r)));return i.compare(aF)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=X1(e),[r,i]=J1(t);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new H0(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const t=X1(e),[r,i]=J1(t);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _m(Le.min(),i,new gt(We),Gi(),Be())}}class Jh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jh(r,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class $A{constructor(e,t){this.targetId=e,this.me=t}}class FA{constructor(e,t,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Z1{constructor(){this.fe=0,this.ge=ex(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),t=Be(),r=Be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:De()}}),new Jh(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ex()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lF{constructor(e){this.Be=e,this.Le=new Map,this.ke=Gi(),this.qe=Vf(),this.Qe=Vf(),this.Ke=new gt(We)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(vv(o))if(r===0){const l=new Pe(o.path);this.We(t,l,un.newNoDocument(l,Le.min()))}else Je(r===1);else{const l=this.Ze(t);if(l!==r){const u=this.Xe(e),h=u?this.et(u,e,l):1;if(h!==0){this.He(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,d)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=so(r).toUint8Array()}catch(h){if(h instanceof vA)return tu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new H0(l,i,o)}catch(h){return tu(h instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Te===0?null:u}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.Be.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const u=this.Ye(l);if(u){if(o.current&&vv(u.target)){const h=new Pe(u.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,un.newNoDocument(h,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let r=Be();this.Qe.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const d=this.Ye(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new _m(e,t,this.Ke,this.ke,r);return this.ke=Gi(),this.qe=Vf(),this.Qe=Vf(),this.Ke=new gt(We),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new Z1,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ft(We),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ft(We),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Z1),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new gt(Pe.comparator)}function ex(){return new gt(Pe.comparator)}const uF={asc:"ASCENDING",desc:"DESCENDING"},cF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hF={and:"AND",or:"OR"};class dF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _v(n,e){return n.useProto3Json||fm(e)?e:{value:e}}function Ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fF(n,e){return Ap(n,e.toTimestamp())}function Hr(n){return Je(!!n),Le.fromTimestamp(function(t){const r=io(t);return new $t(r.seconds,r.nanos)}(n))}function W0(n,e){return Ev(n,e).canonicalString()}function Ev(n,e){const t=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function BA(n){const e=wt.fromString(n);return Je(GA(e)),e}function Tv(n,e){return W0(n.databaseId,e.path)}function ky(n,e){const t=BA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(qA(t))}function zA(n,e){return W0(n.databaseId,e)}function pF(n){const e=BA(n);return e.length===4?wt.emptyPath():qA(e)}function xv(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qA(n){return Je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function tx(n,e,t){return{name:Tv(n,e),fields:t.value.mapValue.fields}}function mF(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(Je(m===void 0||typeof m=="string"),en.fromBase64String(m||"")):(Je(m===void 0||m instanceof Buffer||m instanceof Uint8Array),en.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(d){const m=d.code===void 0?ce.UNKNOWN:jA(d.code);return new Ae(m,d.message||"")}(l);t=new FA(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ky(n,r.document.name),o=Hr(r.document.updateTime),l=r.document.createTime?Hr(r.document.createTime):Le.min(),u=new rr({mapValue:{fields:r.document.fields}}),h=un.newFoundDocument(i,o,l,u),d=r.targetIds||[],m=r.removedTargetIds||[];t=new tp(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ky(n,r.document),o=r.readTime?Hr(r.readTime):Le.min(),l=un.newNoDocument(i,o),u=r.removedTargetIds||[];t=new tp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ky(n,r.document),o=r.removedTargetIds||[];t=new tp([],o,i,null)}else{if(!("filter"in e))return De();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new iF(i,o),u=r.targetId;t=new $A(u,l)}}return t}function gF(n,e){let t;if(e instanceof Xh)t={update:tx(n,e.key,e.value)};else if(e instanceof z0)t={delete:Tv(n,e.key)};else if(e instanceof _a)t={update:tx(n,e.key,e.data),updateMask:SF(e.fieldMask)};else{if(!(e instanceof tF))return De();t={verify:Tv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Ip)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof th)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof nh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cp)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw De()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:fF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De()}(n,e.precondition)),t}function yF(n,e){return n&&n.length>0?(Je(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?Hr(i.updateTime):Hr(o);return l.isEqual(Le.min())&&(l=Hr(o)),new J$(l,i.transformResults||[])}(t,e))):[]}function vF(n,e){return{documents:[zA(n,e.path)]}}function wF(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zA(n,i);const o=function(d){if(d.length!==0)return WA(Xr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:El(_.field),direction:TF(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=_v(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ct:t,parent:i}}function _F(n){let e=pF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Je(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const _=HA(y);return _ instanceof Xr&&TA(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(b){return new Sp(Tl(b.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,fm(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(y){const _=!!y.before,E=y.values||[];return new bp(E,_)}(t.startAt));let d=null;return t.endAt&&(d=function(y){const _=!y.before,E=y.values||[];return new bp(E,_)}(t.endAt)),j$(e,i,l,o,u,"F",h,d)}function EF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Tl(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tl(t.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tl(t.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tl(t.unaryFilter.field);return Mt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(Tl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xr.create(t.compositeFilter.filters.map(r=>HA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function TF(n){return uF[n]}function xF(n){return cF[n]}function bF(n){return hF[n]}function El(n){return{fieldPath:n.canonicalString()}}function Tl(n){return Zt.fromServerFormat(n.fieldPath)}function WA(n){return n instanceof Mt?function(t){if(t.op==="=="){if(B1(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NAN"}};if(U1(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(B1(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NAN"}};if(U1(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(t.field),op:xF(t.op),value:t.value}}}(n):n instanceof Xr?function(t){const r=t.getFilters().map(i=>WA(i));return r.length===1?r[0]:{compositeFilter:{op:bF(t.op),filters:r}}}(n):De()}function SF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,r,i,o=Le.min(),l=Le.min(),u=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.ht=e}}function CF(n){const e=_F({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.ln=new PF}addToCollectionParentIndex(e,t){return this.ln.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ro.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class PF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ft(wt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new su(0)}static Qn(){return new su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx([n,e],[t,r]){const i=We(n,t);return i===0?We(e,r):i}class RF{constructor(e){this.Gn=e,this.buffer=new Ft(rx),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wu(t)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await vu(t)}await this.Yn(3e5)})}}class OF{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(dm.oe);const r=new RF(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,l,u,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),wl()<=Ue.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function NF(n,e){return new OF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Bc(r.mutation,i,br.empty(),$t.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Be()){const i=Yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Ac();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Be()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=Gi();const l=Uc(),u=function(){return Uc()}();return t.forEach((h,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof _a)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Bc(m.mutation,d,m.mutation.getFieldMask(),$t.now())):l.set(d.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((d,m)=>l.set(d,m)),t.forEach((d,m)=>{var y;return u.set(d,new LF(m,(y=l.get(d))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Uc();let i=new gt((l,u)=>l-u),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let m=r.get(h)||br.empty();m=u.applyToLocalView(d,m),r.set(h,m);const y=(i.get(u.batchId)||Be()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,m=h.value,y=RA();m.forEach(_=>{if(!o.has(_)){const E=VA(t.get(_),r.get(_));E!==null&&y.set(_,E),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,y))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):re.resolve(Yo());let u=-1,h=o;return l.next(d=>re.forEach(d,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?re.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{h=h.insert(m,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,h,d,Be())).next(m=>({batchId:u,changes:PA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let i=Ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Ac();return this.indexManager.getCollectionParents(e,o).next(u=>re.forEach(u,h=>{const d=function(y,_){return new mm(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,un.newInvalidDocument(m)))});let u=Ac();return l.forEach((h,d)=>{const m=o.get(h);m!==void 0&&Bc(m.mutation,d,br.empty(),$t.now()),ym(t,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return re.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Hr(i.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:CF(i.bundledQuery),readTime:Hr(i.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.overlays=new gt(Pe.comparator),this.dr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yo();return re.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const i=Yo(),o=t.length+1,l=new Pe(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new gt((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=Yo(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Yo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=i)););return re.resolve(u)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new rF(t,r));let o=this.dr.get(t);o===void 0&&(o=Be(),this.dr.set(t,o)),this.dr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.Er=new Ft(Wt.Ar),this.Rr=new Ft(Wt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new Wt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Wt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Pe(new wt([])),r=new Wt(t,e),i=new Wt(t,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Pe(new wt([])),r=new Wt(t,e),i=new Wt(t,e+1);let o=Be();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Wt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Pe.comparator(e.key,t.key)||We(e.br,t.br)}static Vr(e,t){return We(e.br,t.br)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ft(Wt.Ar)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nF(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new Wt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wt(t,0),i=new Wt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const u=this.Cr(l.br);o.push(u)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(We);return t.forEach(i=>{const o=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{r=r.add(u.br)})}),re.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const l=new Wt(new Pe(o),0);let u=new Ft(We);return this.vr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(h.br)),!0)},l),re.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Je(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return re.forEach(t.mutations,i=>{const o=new Wt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new Wt(t,0),i=this.vr.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.Nr=e,this.docs=function(){return new gt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Gi();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Gi();const l=t.path,u=new Pe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||y$(g$(m),r)<=0||(i.has(m.key)||ym(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,t,r,i){De()}Br(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new BF(this)}getSize(e){return re.resolve(this.size)}}class BF extends DF{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.persistence=e,this.Lr=new wa(t=>$0(t),F0),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.kr=0,this.qr=new G0,this.targetCount=0,this.Qr=su.qn()}forEachTarget(e,t){return this.Lr.forEach((r,i)=>t(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),re.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new su(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Un(t),re.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Lr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t){this.Kr={},this.overlays={},this.$r=new dm(0),this.Ur=!1,this.Ur=!0,this.Wr=new $F,this.referenceDelegate=e(this),this.Gr=new zF(this),this.indexManager=new AF,this.remoteDocumentCache=function(i){return new UF(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new IF(t),this.jr=new MF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new FF(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new qF(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return re.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class qF extends w${constructor(e){super(),this.currentSequenceNumber=e}}class K0{constructor(e){this.persistence=e,this.Zr=new G0,this.Xr=null}static ei(e){return new K0(e)}get ti(){if(this.Xr)return this.Xr;throw De()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),re.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ti,r=>{const i=Pe.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Le.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return re.or([()=>re.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Pp{constructor(e,t){this.persistence=e,this.ri=new wa(r=>T$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NF(this,t)}static ei(e,t){return new Pp(e,t)}Hr(){}Jr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return re.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?re.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),re.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jf(e.data.value)),t}ir(e,t,r){return re.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Be(),i=Be();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Q0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jM()?8:_$(fn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new HF;return this.ts(e,t,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,t,l,u.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(wl()<=Ue.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),re.resolve()):(wl()<=Ue.DEBUG&&we("QueryEngine","Query:",_l(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(wl()<=Ue.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):re.resolve())}Xi(e,t){if(W1(t))return re.resolve(null);let r=zr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wv(t,null,"F"),r=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Be(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.rs(t,u);return this.ss(t,d,l,h.readTime)?this.Xi(e,wv(t,null,"F")):this.os(e,d,t,h)}))})))}es(e,t,r,i){return W1(t)||i.isEqual(Le.min())?re.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(t,o);return this.ss(t,l,r,i)?re.resolve(null):(wl()<=Ue.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_l(t)),this.os(e,l,t,m$(i,-1)).next(u=>u))})}rs(e,t){let r=new Ft(CA(e));return t.forEach((i,o)=>{ym(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return wl()<=Ue.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",_l(t)),this.Zi.getDocumentsMatchingQuery(e,t,ro.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new gt(We),this.cs=new wa(o=>$0(o),F0),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function KF(n,e,t,r){return new GF(n,e,t,r)}async function QA(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=Be();for(const d of i){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next(d=>({Ts:d,removedBatchIds:l,addedBatchIds:u}))})})}function QF(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,h,d,m){const y=d.batch,_=y.keys();let E=re.resolve();return _.forEach(b=>{E=E.next(()=>m.getEntry(h,b)).next(x=>{const k=d.docVersions.get(b);Je(k!==null),x.version.compareTo(k)<0&&(y.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),m.addEntry(x)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Be();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function YA(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function YF(n,e){const t=Ve(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const u=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;u.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,y)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(en.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(y,E),function(x,k,P){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(_,E,m)&&u.push(t.Gr.updateTargetData(o,E))});let h=Gi(),d=Be();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(XF(o,l,e.documentUpdates).next(m=>{h=m.Is,d=m.ds})),!r.isEqual(Le.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(y=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return re.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,d)).next(()=>h)}).then(o=>(t.us=i,o))}function XF(n,e,t){let r=Be(),i=Be();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Gi();return t.forEach((u,h)=>{const d=o.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Le.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):we("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)}),{Is:l,ds:i}})}function JF(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZF(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):t.Gr.allocateTargetId(r).next(l=>(i=new Ks(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function bv(n,e,t){const r=Ve(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!wu(l))throw l;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function ix(n,e,t){const r=Ve(n);let i=Le.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,m){const y=Ve(h),_=y.cs.get(m);return _!==void 0?re.resolve(y.us.get(_)):y.Gr.getTargetData(d,m)}(r,l,zr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?i:Le.min(),t?o:Be())).next(u=>(e9(r,U$(e),u),{documents:u,Es:o})))}function e9(n,e,t){let r=n.ls.get(e)||Le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class sx{constructor(){this.activeTargetIds=G$()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this._o=new sx,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function Oy(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class s9 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,l){const u=Oy(),h=this.No(t,r.toUriEncodedString());we("RestConnection",`Sending RPC '${t}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(d,o,l),this.Lo(t,h,d,i).then(m=>(we("RestConnection",`Received RPC '${t}' ${u}: `,m),m),m=>{throw tu("RestConnection",`RPC '${t}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}ko(t,r,i,o,l,u){return this.Oo(t,r,i,o,l)}Bo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,r){const i=r9[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,i){const o=Oy();return new Promise((l,u)=>{const h=new cA;h.setWithCredentials(!0),h.listenOnce(hA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Xf.NO_ERROR:const m=h.getResponseJson();we(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Xf.TIMEOUT:we(on,`RPC '${e}' ${o} timed out`),u(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const y=h.getStatus();if(we(on,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const b=function(k){const P=k.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN}(E.status);u(new Ae(b,E.message))}else u(new Ae(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{we(on,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);we(on,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",d,r,15)})}qo(e,t,r){const i=Oy(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pA(),u=fA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=o.join("");we(on,`Creating RPC '${e}' stream ${i}: ${m}`,h);const y=l.createWebChannel(m,h);let _=!1,E=!1;const b=new i9({Eo:k=>{E?we(on,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(we(on,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),we(on,`RPC '${e}' stream ${i} sending:`,k),y.send(k))},Ao:()=>y.close()}),x=(k,P,D)=>{k.listen(P,M=>{try{D(M)}catch(W){setTimeout(()=>{throw W},0)}})};return x(y,Cc.EventType.OPEN,()=>{E||(we(on,`RPC '${e}' stream ${i} transport opened.`),b.So())}),x(y,Cc.EventType.CLOSE,()=>{E||(E=!0,we(on,`RPC '${e}' stream ${i} transport closed`),b.Do())}),x(y,Cc.EventType.ERROR,k=>{E||(E=!0,tu(on,`RPC '${e}' stream ${i} transport errored:`,k),b.Do(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))}),x(y,Cc.EventType.MESSAGE,k=>{var P;if(!E){const D=k.data[0];Je(!!D);const M=D,W=(M==null?void 0:M.error)||((P=M[0])===null||P===void 0?void 0:P.error);if(W){we(on,`RPC '${e}' stream ${i} received error:`,W);const X=W.status;let J=function(V){const B=Pt[V];if(B!==void 0)return jA(B)}(X),j=W.message;J===void 0&&(J=ce.INTERNAL,j="Unknown error status: "+X+" with message "+W.message),E=!0,b.Do(new Ae(J,j)),y.close()}else we(on,`RPC '${e}' stream ${i} received:`,D),b.vo(D)}}),x(u,dA.STAT_EVENT,k=>{k.stat===pv.PROXY?we(on,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===pv.NOPROXY&&we(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){return new dF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,r,i,o,l,u,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new XA(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o9 extends JA{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=mF(this.serializer,e),r=function(o){if(!("targetChange"in o))return Le.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Hr(l.readTime):Le.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=xv(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=vv(h)?{documents:vF(o,h)}:{query:wF(o,h).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=UA(o,l.resumeToken);const d=_v(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Le.min())>0){u.readTime=Ap(o,l.snapshotVersion.toTimestamp());const d=_v(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=EF(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=xv(this.serializer),t.removeTarget=e,this.c_(t)}}class a9 extends JA{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=yF(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=xv(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gF(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Ev(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ce.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,Ev(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(ce.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class u9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wi(t),this.C_=!1):we("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{Ea(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(h){const d=Ve(h);d.k_.add(4),await Zh(d),d.K_.set("Unknown"),d.k_.delete(4),await Tm(d)}(this))})}),this.K_=new u9(r,i)}}async function Tm(n){if(Ea(n))for(const e of n.q_)await e(!0)}async function Zh(n){for(const e of n.q_)await e(!1)}function ZA(n,e){const t=Ve(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Z0(t)?J0(t):_u(t).s_()&&X0(t,e))}function Y0(n,e){const t=Ve(n),r=_u(t);t.L_.delete(e),r.s_()&&eP(t,e),t.L_.size===0&&(r.s_()?r.a_():Ea(t)&&t.K_.set("Unknown"))}function X0(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_u(n).V_(e)}function eP(n,e){n.U_.xe(e),_u(n).m_(e)}function J0(n){n.U_=new lF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),_u(n).start(),n.K_.F_()}function Z0(n){return Ea(n)&&!_u(n).i_()&&n.L_.size>0}function Ea(n){return Ve(n).k_.size===0}function tP(n){n.U_=void 0}async function h9(n){n.K_.set("Online")}async function d9(n){n.L_.forEach((e,t)=>{X0(n,e)})}async function f9(n,e){tP(n),Z0(n)?(n.K_.O_(e),J0(n)):n.K_.set("Unknown")}async function p9(n,e,t){if(n.K_.set("Online"),e instanceof FA&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.L_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.L_.delete(u),i.U_.removeTarget(u))}(n,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rp(n,r)}else if(e instanceof tp?n.U_.$e(e):e instanceof $A?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Le.min()))try{const r=await YA(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.U_.it(l);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.L_.get(d);m&&o.L_.set(d,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,d)=>{const m=o.L_.get(h);if(!m)return;o.L_.set(h,m.withResumeToken(en.EMPTY_BYTE_STRING,m.snapshotVersion)),eP(o,h);const y=new Ks(m.target,h,d,m.sequenceNumber);X0(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await Rp(n,r)}}async function Rp(n,e,t){if(!wu(e))throw e;n.k_.add(1),await Zh(n),n.K_.set("Offline"),t||(t=()=>YA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Tm(n)})}function nP(n,e){return e().catch(t=>Rp(n,t,e))}async function xm(n){const e=Ve(n),t=ao(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;m9(e);)try{const i=await JF(e.localStore,r);if(i===null){e.B_.length===0&&t.a_();break}r=i.batchId,g9(e,i)}catch(i){await Rp(e,i)}rP(e)&&iP(e)}function m9(n){return Ea(n)&&n.B_.length<10}function g9(n,e){n.B_.push(e);const t=ao(n);t.s_()&&t.f_&&t.g_(e.mutations)}function rP(n){return Ea(n)&&!ao(n).i_()&&n.B_.length>0}function iP(n){ao(n).start()}async function y9(n){ao(n).w_()}async function v9(n){const e=ao(n);for(const t of n.B_)e.g_(t.mutations)}async function w9(n,e,t){const r=n.B_.shift(),i=q0.from(r,e,t);await nP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await xm(n)}async function _9(n,e){e&&ao(n).f_&&await async function(r,i){if(function(l){return sF(l)&&l!==ce.ABORTED}(i.code)){const o=r.B_.shift();ao(r).__(),await nP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await xm(r)}}(n,e),rP(n)&&iP(n)}async function ax(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Ea(t);t.k_.add(3),await Zh(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Tm(t)}async function E9(n,e){const t=Ve(n);e?(t.k_.delete(2),await Tm(t)):e||(t.k_.add(2),await Zh(t),t.K_.set("Unknown"))}function _u(n){return n.W_||(n.W_=function(t,r,i){const o=Ve(t);return o.b_(),new o9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:h9.bind(null,n),mo:d9.bind(null,n),po:f9.bind(null,n),R_:p9.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Z0(n)?J0(n):n.K_.set("Unknown")):(await n.W_.stop(),tP(n))})),n.W_}function ao(n){return n.G_||(n.G_=function(t,r,i){const o=Ve(t);return o.b_(),new a9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:y9.bind(null,n),po:_9.bind(null,n),p_:v9.bind(null,n),y_:w9.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await xm(n)):(await n.G_.stop(),n.B_.length>0&&(we("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new ew(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tw(n,e){if(Wi("AsyncQueue",`${e}: ${n}`),wu(n))return new Ae(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=Ac(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.z_=new gt(Pe.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):De():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ou{constructor(e,t,r,i,o,l,u,h,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new ou(e,t,Vl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class x9{constructor(){this.queries=ux(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Ve(t),o=i.queries;i.queries=ux(),o.forEach((l,u)=>{for(const h of u.J_)h.onError(r)})})(this,new Ae(ce.ABORTED,"Firestore shutting down"))}}function ux(){return new wa(n=>IA(n),gm)}async function b9(n,e){const t=Ve(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new T9,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=tw(l,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&nw(t)}async function S9(n,e){const t=Ve(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function I9(n,e){const t=Ve(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.J_)u.ta(i)&&(r=!0);l.H_=i}}r&&nw(t)}function C9(n,e,t){const r=Ve(n),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(t);r.queries.delete(e)}function nw(n){n.X_.forEach(e=>{e.next()})}var Sv,cx;(cx=Sv||(Sv={})).na="default",cx.Cache="cache";class A9{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.key=e}}class oP{constructor(e){this.key=e}}class P9{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Be(),this.mutatedKeys=Be(),this.Va=CA(e),this.ma=new Vl(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new lx,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),E=ym(this.query,y)?y:null,b=!!_&&this.mutatedKeys.has(_.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let k=!1;_&&E?_.data.isEqual(E.data)?b!==x&&(r.track({type:3,doc:E}),k=!0):this.ya(_,E)||(r.track({type:2,doc:E}),k=!0,(h&&this.Va(E,h)>0||d&&this.Va(E,d)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),k=!0):_&&!E&&(r.track({type:1,doc:_}),k=!0,(h||d)&&(u=!0)),k&&(E?(l=l.add(E),o=x?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{ma:l,pa:r,ss:u,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,y)=>function(E,b){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return x(E)-x(b)}(m.type,y.type)||this.Va(m.doc,y.doc)),this.wa(r),i=i!=null&&i;const u=t&&!i?this.Sa():[],h=this.Ra.size===0&&this.current&&!i?1:0,d=h!==this.Aa;return this.Aa=h,l.length!==0||d?{snapshot:new ou(this.query,e.ma,o,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lx,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Be(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new oP(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new sP(r))}),t}va(e){this.Ea=e.Es,this.Ra=Be();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ou.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class R9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class k9{constructor(e){this.key=e,this.Fa=!1}}class O9{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new wa(u=>IA(u),gm),this.Oa=new Map,this.Na=new Set,this.Ba=new gt(Pe.comparator),this.La=new Map,this.ka=new G0,this.qa={},this.Qa=new Map,this.Ka=su.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function N9(n,e,t=!0){const r=dP(n);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await aP(r,e,t,!0),i}async function D9(n,e){const t=dP(n);await aP(t,e,!0,!1)}async function aP(n,e,t,r){const i=await ZF(n.localStore,zr(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await L9(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&ZA(n.remoteStore,i),u}async function L9(n,e,t,r,i){n.Ua=(y,_,E)=>async function(x,k,P,D){let M=k.view.ga(P);M.ss&&(M=await ix(x.localStore,k.query,!1).then(({documents:j})=>k.view.ga(j,M)));const W=D&&D.targetChanges.get(k.targetId),X=D&&D.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(M,x.isPrimaryClient,W,X);return dx(x,k.targetId,J.ba),J.snapshot}(n,y,_,E);const o=await ix(n.localStore,e,!0),l=new P9(e,o.Es),u=l.ga(o.documents),h=Jh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=l.applyChanges(u,n.isPrimaryClient,h);dx(n,t,d.ba);const m=new R9(e,t,l);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),d.snapshot}async function V9(n,e,t){const r=Ve(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(l=>!gm(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Y0(r.remoteStore,i.targetId),Iv(r,i.targetId)}).catch(vu)):(Iv(r,i.targetId),await bv(r.localStore,i.targetId,!0))}async function M9(n,e){const t=Ve(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Y0(t.remoteStore,r.targetId))}async function j9(n,e,t){const r=H9(n);try{const i=await function(l,u){const h=Ve(l),d=$t.now(),m=u.reduce((E,b)=>E.add(b.key),Be());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let b=Gi(),x=Be();return h.hs.getEntries(E,m).next(k=>{b=k,b.forEach((P,D)=>{D.isValidDocument()||(x=x.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,b)).next(k=>{y=k;const P=[];for(const D of u){const M=eF(D,y.get(D.key).overlayedDocument);M!=null&&P.push(new _a(D.key,M,wA(M.value.mapValue),qr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,P,u)}).next(k=>{_=k;const P=k.applyToLocalDocumentSet(y,x);return h.documentOverlayCache.saveOverlays(E,k.batchId,P)})}).then(()=>({batchId:_.batchId,changes:PA(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let d=l.qa[l.currentUser.toKey()];d||(d=new gt(We)),d=d.insert(u,h),l.qa[l.currentUser.toKey()]=d}(r,i.batchId,t),await ed(r,i.changes),await xm(r.remoteStore)}catch(i){const o=tw(i,"Failed to persist write");t.reject(o)}}async function lP(n,e){const t=Ve(n);try{const r=await YF(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Je(l.Fa):i.removedDocuments.size>0&&(Je(l.Fa),l.Fa=!1))}),await ed(t,r,e)}catch(r){await vu(r)}}function hx(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=Ve(l);h.onlineState=u;let d=!1;h.queries.forEach((m,y)=>{for(const _ of y.J_)_.ea(u)&&(d=!0)}),d&&nw(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $9(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.La.get(e),o=i&&i.key;if(o){let l=new gt(Pe.comparator);l=l.insert(o,un.newNoDocument(o,Le.min()));const u=Be().add(o),h=new _m(Le.min(),new Map,new gt(We),l,u);await lP(r,h),r.Ba=r.Ba.remove(o),r.La.delete(e),rw(r)}else await bv(r.localStore,e,!1).then(()=>Iv(r,e,t)).catch(vu)}async function F9(n,e){const t=Ve(n),r=e.batch.batchId;try{const i=await QF(t.localStore,e);cP(t,r,null),uP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ed(t,i)}catch(i){await vu(i)}}async function U9(n,e,t){const r=Ve(n);try{const i=await function(l,u){const h=Ve(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,u).next(y=>(Je(y!==null),m=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(r.localStore,e);cP(r,e,t),uP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ed(r,i)}catch(i){await vu(i)}}function uP(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function cP(n,e,t){const r=Ve(n);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Iv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||hP(n,r)})}function hP(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Y0(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),rw(n))}function dx(n,e,t){for(const r of t)r instanceof sP?(n.ka.addReference(r.key,e),B9(n,r)):r instanceof oP?(we("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||hP(n,r.key)):De()}function B9(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(we("SyncEngine","New document in limbo: "+t),n.Na.add(r),rw(n))}function rw(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Pe(wt.fromString(e)),r=n.Ka.next();n.La.set(r,new k9(t)),n.Ba=n.Ba.insert(t,r),ZA(n.remoteStore,new Ks(zr(U0(t.path)),r,"TargetPurposeLimboResolution",dm.oe))}}async function ed(n,e,t){const r=Ve(n),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((u,h)=>{l.push(r.Ua(h,e,t).then(d=>{var m;if((d||t)&&r.isPrimaryClient){const y=d?!d.fromCache:(m=t==null?void 0:t.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){i.push(d);const y=Q0.zi(h.targetId,d);o.push(y)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,d){const m=Ve(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>re.forEach(d,_=>re.forEach(_.Wi,E=>m.persistence.referenceDelegate.addReference(y,_.targetId,E)).next(()=>re.forEach(_.Gi,E=>m.persistence.referenceDelegate.removeReference(y,_.targetId,E)))))}catch(y){if(!wu(y))throw y;we("LocalStore","Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const E=m.us.get(_),b=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(b);m.us=m.us.insert(_,x)}}}(r.localStore,o))}async function z9(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await QA(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(h=>{h.reject(new Ae(ce.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ed(t,r.Ts)}}function q9(n,e){const t=Ve(n),r=t.La.get(e);if(r&&r.Fa)return Be().add(r.key);{let i=Be();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const u=t.xa.get(l);i=i.unionWith(u.view.fa)}return i}}function dP(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$9.bind(null,e),e.Ma.R_=I9.bind(null,e.eventManager),e.Ma.Wa=C9.bind(null,e.eventManager),e}function H9(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U9.bind(null,e),e}class kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return KF(this.persistence,new WF,e.initialUser,this.serializer)}ja(e){return new KA(K0.ei,this.serializer)}za(e){return new t9}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kp.provider={build:()=>new kp};class W9 extends kp{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Je(this.persistence.referenceDelegate instanceof Pp);const r=this.persistence.referenceDelegate.garbageCollector;return new kF(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new KA(r=>Pp.ei(r,t),this.serializer)}}class Cv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z9.bind(null,this.syncEngine),await E9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x9}()}createDatastore(e){const t=Em(e.databaseInfo.databaseId),r=function(o){return new s9(o)}(e.databaseInfo);return function(o,l,u,h){return new l9(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new c9(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>hx(this.syncEngine,t,0),function(){return ox.p()?new ox:new n9}())}createSyncEngine(e,t){return function(i,o,l,u,h,d,m){const y=new O9(i,o,l,u,h,d);return m&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ve(i);we("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Zh(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cv.provider={build:()=>new Cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=gA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{we("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dy(n,e){n.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function fx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Q9(n);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ax(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ax(e.remoteStore,i)),n._onlineComponents=e}async function Q9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;tu("Error using user provided cache. Falling back to memory cache: "+t),await Dy(n,new kp)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Dy(n,new W9(void 0));return n._offlineComponents}async function fP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await fx(n,n._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await fx(n,new Cv))),n._onlineComponents}function Y9(n){return fP(n).then(e=>e.syncEngine)}async function X9(n){const e=await fP(n),t=e.eventManager;return t.onListen=N9.bind(null,e.syncEngine),t.onUnlisten=V9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M9.bind(null,e.syncEngine),t}function J9(n,e,t={}){const r=new eo;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,d){const m=new G9({next:_=>{m.eu(),l.enqueueAndForget(()=>S9(o,y));const E=_.docs.has(u);!E&&_.fromCache?d.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&h&&h.source==="server"?d.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new A9(U0(u.path),m,{includeMetadataChanges:!0,ua:!0});return b9(o,y)}(await X9(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(n,e,t){if(!t)throw new Ae(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function e6(n,e,t,r){if(e===!0&&r===!0)throw new Ae(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mx(n){if(!Pe.isDocumentKey(n))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function au(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iw(n);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o$;switch(r.type){case"firstParty":return new c$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=px.get(t);r&&(we("ComponentProvider","Removing Datastore"),px.delete(t),r.terminate())}(this),Promise.resolve()}}function t6(n,e,t,r={}){var i;const o=(n=au(n,sw))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=ln.MOCK_USER;else{u=kM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ln(d)}n._authCredentials=new a$(new mA(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ow(this.firestore,e,this._query)}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class rh extends ow{constructor(e,t,r){super(e,t,U0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Pe(e))}withConverter(e){return new rh(this.firestore,e,this._path)}}function yx(n,e,...t){if(n=Un(n),arguments.length===1&&(e=gA.newId()),Z9("doc","path",e),n instanceof sw){const r=wt.fromString(e,...t);return mx(r),new sr(n,null,new Pe(r))}{if(!(n instanceof sr||n instanceof rh))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wt.fromString(e,...t));return mx(r),new sr(n.firestore,n instanceof rh?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new XA(this,"async_queue_retry"),this.fu=()=>{const r=Ny();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Ny();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Ny();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new eo;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!wu(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=ew.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&De()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class bm extends sw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vx(e),this._firestoreClient=void 0,await e}}}function n6(n,e){const t=typeof n=="object"?n:CC(),r=typeof n=="string"?n:"(default)",i=b0(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PM("firestore");o&&t6(i,...o)}return i}function mP(n){if(n._terminated)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||r6(n),n._firestoreClient}function r6(n){var e,t,r;const i=n._freezeSettings(),o=function(u,h,d,m){return new S$(u,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,pP(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new K9(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(en.fromBase64String(e))}catch(t){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lu(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=/^__.*__$/;class s6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xh(e,this.data,t,this.fieldTransforms)}}function yP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class cw{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Op(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(yP(this.Mu)&&i6.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class o6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Em(e)}$u(e,t,r,i=!1){return new cw({Mu:e,methodName:t,Ku:r,path:Zt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a6(n){const e=n._freezeSettings(),t=Em(n._databaseId);return new o6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function l6(n,e,t,r,i,o={}){const l=n.$u(o.merge||o.mergeFields?2:0,e,t,i);EP("Data must be an object, but it was:",l,r);const u=wP(r,l);let h,d;if(o.merge)h=new br(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=u6(e,y,t);if(!l.contains(_))throw new Ae(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);h6(m,_)||m.push(_)}h=new br(m),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new s6(new rr(u),h,d)}function vP(n,e){if(_P(n=Un(n)))return EP("Unsupported field value:",e,n),wP(n,e);if(n instanceof gP)return function(r,i){if(!yP(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let h=vP(u,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$t.fromDate(r);return{timestampValue:Ap(i.serializer,o)}}if(r instanceof $t){const o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(i.serializer,o)}}if(r instanceof lw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lu)return{bytesValue:UA(i.serializer,r._byteString)};if(r instanceof sr){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:W0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uw)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.qu("VectorValues must only contain numeric values.");return B0(u.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${iw(r)}`)}(n,e)}function wP(n,e){const t={};return yA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(r,i)=>{const o=vP(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function _P(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $t||n instanceof lw||n instanceof lu||n instanceof sr||n instanceof gP||n instanceof uw)}function EP(n,e,t){if(!_P(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=iw(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function u6(n,e,t){if((e=Un(e))instanceof aw)return e._internalPath;if(typeof e=="string")return TP(n,e);throw Op("Field path arguments must be of type string or ",n,!1,void 0,t)}const c6=new RegExp("[~\\*/\\[\\]]");function TP(n,e,t){if(e.search(c6)>=0)throw Op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new aw(...e.split("."))._internalPath}catch{throw Op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Op(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Ae(ce.INVALID_ARGUMENT,u+n+h)}function h6(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class d6 extends xP{data(){return super.data()}}function bP(n,e){return typeof e=="string"?TP(n,e):e instanceof aw?e._internalPath:e._delegate._internalPath}class f6{convertValue(e,t="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return va(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>It(l.doubleValue));return new uw(o)}convertGeoPoint(e){return new lw(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const t=io(e);return new $t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wt.fromString(e);Je(GA(r));const i=new Zc(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return i.isEqual(t)||Wi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SP extends xP{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new g6(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class g6 extends SP{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n){n=au(n,sr);const e=au(n.firestore,bm);return J9(mP(e),n._key).then(t=>_6(e,n,t))}class v6 extends f6{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function wx(n,e,t){n=au(n,sr);const r=au(n.firestore,bm),i=p6(n.converter,e,t);return IP(r,[l6(a6(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,qr.none())])}function w6(n){return IP(au(n.firestore,bm),[new z0(n._key,qr.none())])}function IP(n,e){return function(r,i){const o=new eo;return r.asyncQueue.enqueueAndForget(async()=>j9(await Y9(r),i,o)),o.promise}(mP(n),e)}function _6(n,e,t){const r=t.docs.get(e._key),i=new v6(n);return new SP(n,i,e._key,r,new m6(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){yu=i})(mu),Jl(new da("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new bm(new l$(r.getProvider("auth-internal")),new d$(r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(d.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Js(L1,"4.7.6",e),Js(L1,"4.7.6","esm2017")})();const E6={apiKey:"AIzaSyBaK1O5W5pPk2GUWZ84EXdjoBneRMABB6Q",authDomain:"shopping-website-52c65.firebaseapp.com",projectId:"shopping-website-52c65",storageBucket:"shopping-website-52c65.firebasestorage.app",messagingSenderId:"815560022538",appId:"1:815560022538:web:6100d979b42721ea6f5df3",measurementId:"G-G8YP77NF0H"},CP=IC(E6),_x=n6(CP),np=i$(CP),T6=new Oi,hw=U.createContext(),x6=({children:n})=>{const[e,t]=U.useState(null),[r,i]=U.useState(!0);return U.useEffect(()=>{const o=G4(np,l=>{t(l),i(!1)});return()=>o()},[]),R.jsxs(hw.Provider,{value:{user:e,setUser:t},children:[!r&&n," "]})};function AP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=AP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function oa(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=AP(n))&&(r&&(r+=" "),r+=e);return r}function b6(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}b6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var td=n=>typeof n=="number"&&!isNaN(n),ma=n=>typeof n=="string",Ki=n=>typeof n=="function",S6=n=>ma(n)||td(n),Av=n=>ma(n)||Ki(n)?n:null,I6=(n,e)=>n===!1||td(n)&&n>0?n:e,Pv=n=>U.isValidElement(n)||ma(n)||Ki(n)||td(n);function C6(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function A6({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:u,done:h,nodeRef:d,isIn:m,playToast:y}){let _=t?`${n}--${l}`:n,E=t?`${e}--${l}`:e,b=U.useRef(0);return U.useLayoutEffect(()=>{let x=d.current,k=_.split(" "),P=D=>{D.target===d.current&&(y(),x.removeEventListener("animationend",P),x.removeEventListener("animationcancel",P),b.current===0&&D.type!=="animationcancel"&&x.classList.remove(...k))};x.classList.add(...k),x.addEventListener("animationend",P),x.addEventListener("animationcancel",P)},[]),U.useEffect(()=>{let x=d.current,k=()=>{x.removeEventListener("animationend",k),r?C6(x,h,i):h()};m||(u?k():(b.current=1,x.className+=` ${E}`,x.addEventListener("animationend",k)))},[m]),Me.createElement(Me.Fragment,null,o)}}function Ex(n,e){return{content:PP(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function PP(n,e,t=!1){return U.isValidElement(n)&&!ma(n.type)?U.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ki(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function P6({closeToast:n,theme:e,ariaLabel:t="close"}){return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function R6({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:o,controlledProgress:l,progress:u,rtl:h,isIn:d,theme:m}){let y=i||l&&u===0,_={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(_.transform=`scaleX(${u})`);let E=oa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),b=Ki(o)?o({rtl:h,type:r,defaultClassName:E}):oa(E,o),x={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&t()}};return Me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),Me.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:b,style:_,...x}))}var k6=1,RP=()=>`${k6++}`;function O6(n,e,t){let r=1,i=0,o=[],l=[],u=e,h=new Map,d=new Set,m=D=>(d.add(D),()=>d.delete(D)),y=()=>{l=Array.from(h.values()),d.forEach(D=>D())},_=({containerId:D,toastId:M,updateId:W})=>{let X=D?D!==n:n!==1,J=h.has(M)&&W==null;return X||J},E=(D,M)=>{h.forEach(W=>{var X;(M==null||M===W.props.toastId)&&((X=W.toggle)==null||X.call(W,D))})},b=D=>{var M,W;(W=(M=D.props)==null?void 0:M.onClose)==null||W.call(M,D.removalReason),D.isActive=!1},x=D=>{if(D==null)h.forEach(b);else{let M=h.get(D);M&&b(M)}y()},k=()=>{i-=o.length,o=[]},P=D=>{var M,W;let{toastId:X,updateId:J}=D.props,j=J==null;D.staleId&&h.delete(D.staleId),D.isActive=!0,h.set(X,D),y(),t(Ex(D,j?"added":"updated")),j&&((W=(M=D.props).onOpen)==null||W.call(M))};return{id:n,props:u,observe:m,toggle:E,removeToast:x,toasts:h,clearQueue:k,buildToast:(D,M)=>{if(_(M))return;let{toastId:W,updateId:X,data:J,staleId:j,delay:O}=M,V=X==null;V&&i++;let B={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(M).filter(([A,I])=>I!=null)),toastId:W,updateId:X,data:J,isIn:!1,className:Av(M.className||u.toastClassName),progressClassName:Av(M.progressClassName||u.progressClassName),autoClose:M.isLoading?!1:I6(M.autoClose,u.autoClose),closeToast(A){h.get(W).removalReason=A,x(W)},deleteToast(){let A=h.get(W);if(A!=null){if(t(Ex(A,"removed")),h.delete(W),i--,i<0&&(i=0),o.length>0){P(o.shift());return}y()}}};B.closeButton=u.closeButton,M.closeButton===!1||Pv(M.closeButton)?B.closeButton=M.closeButton:M.closeButton===!0&&(B.closeButton=Pv(u.closeButton)?u.closeButton:!0);let S={content:D,props:B,staleId:j};u.limit&&u.limit>0&&i>u.limit&&V?o.push(S):td(O)?setTimeout(()=>{P(S)},O):P(S)},setProps(D){u=D},setToggle:(D,M)=>{let W=h.get(D);W&&(W.toggle=M)},isToastActive:D=>{var M;return(M=h.get(D))==null?void 0:M.isActive},getSnapshot:()=>l}}var vn=new Map,ih=[],Rv=new Set,N6=n=>Rv.forEach(e=>e(n)),kP=()=>vn.size>0;function D6(){ih.forEach(n=>NP(n.content,n.options)),ih=[]}var L6=(n,{containerId:e})=>{var t;return(t=vn.get(e||1))==null?void 0:t.toasts.get(n)};function OP(n,e){var t;if(e)return!!((t=vn.get(e))!=null&&t.isToastActive(n));let r=!1;return vn.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function V6(n){if(!kP()){ih=ih.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||S6(n))vn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=vn.get(n.containerId);e?e.removeToast(n.id):vn.forEach(t=>{t.removeToast(n.id)})}}var M6=(n={})=>{vn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function NP(n,e){Pv(n)&&(kP()||ih.push({content:n,options:e}),vn.forEach(t=>{t.buildToast(n,e)}))}function j6(n){var e;(e=vn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function DP(n,e){vn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function $6(n){let e=n.containerId||1;return{subscribe(t){let r=O6(e,n,N6);vn.set(e,r);let i=r.observe(t);return D6(),()=>{i(),vn.delete(e)}},setProps(t){var r;(r=vn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=vn.get(e))==null?void 0:t.getSnapshot()}}}function F6(n){return Rv.add(n),()=>{Rv.delete(n)}}function U6(n){return n&&(ma(n.toastId)||td(n.toastId))?n.toastId:RP()}function nd(n,e){return NP(n,e),e.toastId}function Sm(n,e){return{...e,type:e&&e.type||n,toastId:U6(e)}}function Im(n){return(e,t)=>nd(e,Sm(n,t))}function Qe(n,e){return nd(n,Sm("default",e))}Qe.loading=(n,e)=>nd(n,Sm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function B6(n,{pending:e,error:t,success:r},i){let o;e&&(o=ma(e)?Qe.loading(e,i):Qe.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,m,y)=>{if(m==null){Qe.dismiss(o);return}let _={type:d,...l,...i,data:y},E=ma(m)?{render:m}:m;return o?Qe.update(o,{..._,...E}):Qe(E.render,{..._,...E}),y},h=Ki(n)?n():n;return h.then(d=>u("success",r,d)).catch(d=>u("error",t,d)),h}Qe.promise=B6;Qe.success=Im("success");Qe.info=Im("info");Qe.error=Im("error");Qe.warning=Im("warning");Qe.warn=Qe.warning;Qe.dark=(n,e)=>nd(n,Sm("default",{theme:"dark",...e}));function z6(n){V6(n)}Qe.dismiss=z6;Qe.clearWaitingQueue=M6;Qe.isActive=OP;Qe.update=(n,e={})=>{let t=L6(n,e);if(t){let{props:r,content:i}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:RP()};o.toastId!==n&&(o.staleId=n);let l=o.render||i;delete o.render,nd(l,o)}};Qe.done=n=>{Qe.update(n,{progress:1})};Qe.onChange=F6;Qe.play=n=>DP(!0,n);Qe.pause=n=>DP(!1,n);function q6(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=U.useRef($6(n)).current;i(n);let o=(e=U.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(u){if(!o)return[];let h=new Map;return n.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:m}=d.props;h.has(m)||h.set(m,[]),h.get(m).push(d)}),Array.from(h,d=>u(d[0],d[1]))}return{getToastToRender:l,isToastActive:OP,count:o==null?void 0:o.length}}function H6(n){let[e,t]=U.useState(!1),[r,i]=U.useState(!1),o=U.useRef(null),l=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:h,closeToast:d,onClick:m,closeOnClick:y}=n;j6({id:n.toastId,containerId:n.containerId,fn:t}),U.useEffect(()=>{if(n.pauseOnFocusLoss)return _(),()=>{E()}},[n.pauseOnFocusLoss]);function _(){document.hasFocus()||P(),window.addEventListener("focus",k),window.addEventListener("blur",P)}function E(){window.removeEventListener("focus",k),window.removeEventListener("blur",P)}function b(j){if(n.draggable===!0||n.draggable===j.pointerType){D();let O=o.current;l.canCloseOnClick=!0,l.canDrag=!0,O.style.transition="none",n.draggableDirection==="x"?(l.start=j.clientX,l.removalDistance=O.offsetWidth*(n.draggablePercent/100)):(l.start=j.clientY,l.removalDistance=O.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function x(j){let{top:O,bottom:V,left:B,right:S}=o.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&n.pauseOnHover&&j.clientX>=B&&j.clientX<=S&&j.clientY>=O&&j.clientY<=V?P():k()}function k(){t(!0)}function P(){t(!1)}function D(){l.didMove=!1,document.addEventListener("pointermove",W),document.addEventListener("pointerup",X)}function M(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",X)}function W(j){let O=o.current;if(l.canDrag&&O){l.didMove=!0,e&&P(),n.draggableDirection==="x"?l.delta=j.clientX-l.start:l.delta=j.clientY-l.start,l.start!==j.clientX&&(l.canCloseOnClick=!1);let V=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;O.style.transform=`translate3d(${V},0)`,O.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function X(){M();let j=o.current;if(l.canDrag&&l.didMove&&j){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let J={onPointerDown:b,onPointerUp:x};return u&&h&&(J.onMouseEnter=P,n.stacked||(J.onMouseLeave=k)),y&&(J.onClick=j=>{m&&m(j),l.canCloseOnClick&&d(!0)}),{playToast:k,pauseToast:P,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:J}}var W6=typeof window<"u"?U.useLayoutEffect:U.useEffect,Cm=({theme:n,type:e,isLoading:t,...r})=>Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function G6(n){return Me.createElement(Cm,{...n},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function K6(n){return Me.createElement(Cm,{...n},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Q6(n){return Me.createElement(Cm,{...n},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Y6(n){return Me.createElement(Cm,{...n},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function X6(){return Me.createElement("div",{className:"Toastify__spinner"})}var kv={info:K6,warning:G6,success:Q6,error:Y6,spinner:X6},J6=n=>n in kv;function Z6({theme:n,type:e,isLoading:t,icon:r}){let i=null,o={theme:n,type:e};return r===!1||(Ki(r)?i=r({...o,isLoading:t}):U.isValidElement(r)?i=U.cloneElement(r,o):t?i=kv.spinner():J6(e)&&(i=kv[e](o))),i}var eU=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:o}=H6(n),{closeButton:l,children:u,autoClose:h,onClick:d,type:m,hideProgressBar:y,closeToast:_,transition:E,position:b,className:x,style:k,progressClassName:P,updateId:D,role:M,progress:W,rtl:X,toastId:J,deleteToast:j,isIn:O,isLoading:V,closeOnClick:B,theme:S,ariaLabel:A}=n,I=oa("Toastify__toast",`Toastify__toast-theme--${S}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":B}),$=Ki(x)?x({rtl:X,position:b,type:m,defaultClassName:I}):oa(I,x),me=Z6(n),ee=!!W||!h,ie={closeToast:_,type:m,theme:S},te=null;return l===!1||(Ki(l)?te=l(ie):U.isValidElement(l)?te=U.cloneElement(l,ie):te=P6(ie)),Me.createElement(E,{isIn:O,done:j,position:b,preventExitTransition:t,nodeRef:r,playToast:o},Me.createElement("div",{id:J,tabIndex:0,onClick:d,"data-in":O,className:$,...i,style:k,ref:r,...O&&{role:M,"aria-label":A}},me!=null&&Me.createElement("div",{className:oa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},me),PP(u,n,!e),te,!n.customProgressBar&&Me.createElement(R6,{...D&&!ee?{key:`p-${D}`}:{},rtl:X,theme:S,delay:h,isRunning:e,isIn:O,closeToast:_,hide:y,type:m,className:P,controlledProgress:ee,progress:W||0})))},tU=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),nU=A6(tU("bounce",!0)),rU={position:"top-right",transition:nU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function iU(n){let e={...rU,...n},t=n.stacked,[r,i]=U.useState(!0),o=U.useRef(null),{getToastToRender:l,isToastActive:u,count:h}=q6(e),{className:d,style:m,rtl:y,containerId:_,hotKeys:E}=e;function b(k){let P=oa("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":y});return Ki(d)?d({position:k,rtl:y,defaultClassName:P}):oa(P,Av(d))}function x(){t&&(i(!0),Qe.play())}return W6(()=>{var k;if(t){let P=o.current.querySelectorAll('[data-in="true"]'),D=12,M=(k=e.position)==null?void 0:k.includes("top"),W=0,X=0;Array.from(P).reverse().forEach((J,j)=>{let O=J;O.classList.add("Toastify__toast--stacked"),j>0&&(O.dataset.collapsed=`${r}`),O.dataset.pos||(O.dataset.pos=M?"top":"bot");let V=W*(r?.2:1)+(r?0:D*j);O.style.setProperty("--y",`${M?V:V*-1}px`),O.style.setProperty("--g",`${D}`),O.style.setProperty("--s",`${1-(r?X:0)}`),W+=O.offsetHeight,X+=.025})}},[r,h,t]),U.useEffect(()=>{function k(P){var D;let M=o.current;E(P)&&((D=M.querySelector('[tabIndex="0"]'))==null||D.focus(),i(!1),Qe.pause()),P.key==="Escape"&&(document.activeElement===M||M!=null&&M.contains(document.activeElement))&&(i(!0),Qe.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[E]),Me.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{t&&(i(!1),Qe.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((k,P)=>{let D=P.length?{...m}:{...m,pointerEvents:"none"};return Me.createElement("div",{tabIndex:-1,className:b(k),"data-stacked":t,style:D,key:`c-${k}`},P.map(({content:M,props:W})=>Me.createElement(eU,{...W,stacked:t,collapseAll:x,isIn:u(W.toastId,W.containerId),key:`t-${W.key}`},M)))}))}var LP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tx=Me.createContext&&Me.createContext(LP),sU=["attr","size","title"];function oU(n,e){if(n==null)return{};var t=aU(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function aU(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Np(){return Np=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Np.apply(this,arguments)}function xx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(t),!0).forEach(function(r){lU(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lU(n,e,t){return e=uU(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uU(n){var e=cU(n,"string");return typeof e=="symbol"?e:e+""}function cU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VP(n){return n&&n.map((e,t)=>Me.createElement(e.tag,Dp({key:t},e.attr),VP(e.child)))}function fo(n){return e=>Me.createElement(hU,Np({attr:Dp({},n.attr)},e),VP(n.child))}function hU(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=oU(n,sU),u=i||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Me.createElement("svg",Np({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:Dp(Dp({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Me.createElement("title",null,o),n.children)};return Tx!==void 0?Me.createElement(Tx.Consumer,null,t=>e(t)):e(LP)}function dU(n){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function fU(n){return fo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function pU(n){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function mU(n){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function gU(n){return fo({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function yU(n){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}const vU=()=>{const{user:n}=U.useContext(hw),[e,t]=U.useState([]),[r,i]=U.useState({}),[o,l]=U.useState("全部"),[u,h]=U.useState(["全部"]),[d,m]=U.useState(!0);U.useEffect(()=>{const E=x=>{x.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")},b=x=>{x.preventDefault()};return document.addEventListener("contextmenu",E),document.addEventListener("dragstart",b),()=>{document.removeEventListener("contextmenu",E),document.removeEventListener("dragstart",b)}},[]),U.useEffect(()=>{(async()=>{try{m(!0);const k=(await pp.fetch(`*[_type == "category"] | order(name asc) { 
          name,
          "slug": slug.current
        }`)).map(M=>M.name);h(["全部",...k]);const D=await pp.fetch(`*[_type == "product"] {
          _id,
          price,
          name,
          "slug": slug.current,
          "categoryName": category->name,
          "categorySlug": category->slug.current,
          "imageUrl": images[0].asset->url
        }`);t(D)}catch(b){console.error("獲取數據時發生錯誤:",b),Qe.error("獲取產品時發生錯誤，請稍後再試")}finally{m(!1)}})()},[]),U.useEffect(()=>{n?(async()=>{const b=yx(_x,"favorites",n.uid),x=await y6(b);x.exists()?i(x.data().favorites||{}):i({})})():i({})},[n]);const y=async E=>{if(!n){Qe.warn("請先登入才能收藏商品",{position:"top-right",autoClose:2e3});return}const b=yx(_x,"favorites",n.uid);let x={...r};try{r[E._id]?(delete x[E._id],Qe.info("已取消收藏",{position:"top-right",autoClose:2e3}),Object.keys(x).length===0?await w6(b):await wx(b,{favorites:x},{merge:!0})):(x[E._id]={id:E._id,name:E.name,price:E.price,imageUrl:E.imageUrl,slug:E.slug,categoryName:E.categoryName},await wx(b,{favorites:x},{merge:!0}),Qe.success("已加入收藏",{position:"top-right",autoClose:2e3})),i(x)}catch(k){console.error("收藏商品時發生錯誤:",k),Qe.error("收藏商品時發生錯誤，請稍後再試",{position:"top-right",autoClose:2e3})}},_=o==="全部"?e:e.filter(E=>E.categoryName===o);return d?R.jsx("div",{className:"flex justify-center items-center h-64",children:"載入中..."}):R.jsx("div",{className:"bg-white",children:R.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24",children:[R.jsx("div",{className:"mb-8 border-b border-gray-200",children:R.jsx("div",{className:"flex space-x-8 overflow-x-auto pb-1",children:u.map(E=>R.jsx("button",{className:`whitespace-nowrap pb-4 px-1 font-medium text-sm ${o===E?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l(E),children:E},E))})}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:_.map(E=>R.jsxs("div",{className:"relative group",children:[R.jsx("button",{className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md z-10",onClick:()=>y(E),children:R.jsx(mU,{className:`text-xl ${r[E._id]?"text-red-500":"text-gray-400"}`})}),R.jsxs(Sr,{to:`/product/${E.slug}`,className:"block",children:[R.jsx("div",{className:"overflow-hidden rounded-lg bg-gray-100 aspect-w-4 aspect-h-3",children:R.jsx("img",{src:E.imageUrl||"/placeholder.jpg",alt:E.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:b=>{b.target.src="/placeholder.jpg"},onDragStart:b=>b.preventDefault()})}),R.jsxs("div",{className:"mt-3",children:[R.jsx("h3",{className:"font-medium text-gray-900",children:E.name}),R.jsxs("p",{className:"mt-1 text-gray-600",children:["$",E.price]}),E.categoryName&&R.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-gray-100 text-xs rounded-full text-gray-600",children:E.categoryName})]})]})]},E._id))}),_.length===0&&R.jsx("div",{className:"text-center py-12",children:R.jsx("p",{className:"text-gray-500",children:"此分類下暫無產品"})})]})})},MP=()=>{const n=[{id:1,title:"東南亞的隱藏寶藏",description:"探索那些鮮為人知的絕美目的地，改變你對旅行的觀點。",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?...",date:"2024年12月15日",readTime:"閱讀時間 8 分鐘",rating:4,slug:"hidden-gems-southeast-asia",author:"Sarah Johnson",content:`
        <p>東南亞一直是尋找冒險、文化和自然美景旅人的磁石。雖然曼谷、峇里島和新加坡等熱門地點每年吸引數百萬遊客，但仍有許多隱藏的秘境等待勇於探索的人發現。</p>
        
        <h2>拉賈安帕特的未受破壞群島</h2>
        <p>位於印尼西巴布亞省的拉賈安帕特，被譽為「海洋生物多樣性的皇冠明珠」。這個偏遠的群島由四座主要島嶼和無數小島組成，提供世界上最純淨的潛水與浮潛體驗。</p>
        
        <p>這片海域孕育超過 1,500 種魚類及 75% 已知的珊瑚品種。拉賈安帕特真正特別之處在於其對保育的承諾 —— 當地社群已建立海洋保護區，確保這些水下寶藏能保存給未來世代。</p>
        
        <h2>蒲甘的古老寺廟</h2>
        <p>雖然吳哥窟最受矚目，但緬甸的蒲甘也提供同樣壯麗卻人潮稀少的寺廟體驗。這座古城擁有超過 2,000 座佛教寺廟與佛塔，遍布廣闊的平原。</p>
        
        <p>最佳體驗方式是清晨搭乘熱氣球，當伊洛瓦底江上升起薄霧，金色寺廟逐漸從晨霧中浮現，那畫面將永生難忘。</p>
        
        <h2>芹苴的水上市場</h2>
        <p>越南湄公河三角洲以水上市場聞名，但大多數遊客只會去胡志明市附近的觀光化市場。若想體驗更真實的氛圍，前往芹苴的蔡楊水上市場吧，當地農民世世代代在此以小船交易水果與蔬菜。</p>
        
        <p>清晨抵達是最佳時機，你將看到滿載鳳梨、火龍果等熱帶水果的船隻，交織出水面上一幅繽紛的馬賽克畫。</p>
      `},{id:2,title:"歐洲美食市集：一場味覺之旅",description:"從巴塞隆納的博克利亞市場到伊斯坦堡的大市集，探索世界上最熱鬧的美食場景。",image:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?...",date:"2024年12月12日",readTime:"閱讀時間 6 分鐘",rating:4.8,slug:"european-food-markets",author:"Marco Rodriguez",content:`
        <p>歐洲的美食市集不只是購物的地方，更是滋養社群數百年的文化象徵。每一個市集都承載著當地傳統、時令食材，以及世代相傳的飲食文化。</p>
        
        <h2>巴塞隆納 ─ 博克利亞市場</h2>
        <p>或許是歐洲最著名的市集，博克利亞市場自 13 世紀起就服務著巴塞隆納。位於蘭布拉大道旁，這裡是感官的盛宴。</p>
        
        <p>千萬別錯過新鮮果汁、西班牙伊比利火腿，以及種類繁多的海鮮。繽紛的水果蔬菜攤位雖然適合拍照，但真正的魔力來自於那些令人驚豔的味道。</p>
        
        <h2>倫敦 ─ 博羅市場</h2>
        <p>倫敦的博羅市場是美食愛好者的天堂，匯聚英國及國際料理的精華。始於 13 世紀，它是倫敦最古老的美食市集之一。</p>
        
        <p>別錯過手工起司、新鮮出爐的麵包，以及來自世界各地的街頭美食。維多利亞式的建築更為你的美食冒險增添了壯麗背景。</p>
      `},{id:3,title:"日本單人旅行：完整指南",description:"自信暢遊日出之國，首次單人旅行的必備技巧。",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?...",date:"2024年12月10日",readTime:"閱讀時間 12 分鐘",rating:4.9,slug:"solo-travel-japan",author:"Yuki Tanaka",content:`
        <p>日本是世界上最適合單人旅行的國家之一。安全、便利與獨特的文化，讓它成為獨自探索的理想選擇。以下是首次單人暢遊日本所需知道的一切。</p>
        
        <h2>交通：JR 周遊券</h2>
        <p>日本鐵路周遊券（JR Pass）是高效且實惠的交通方式。持此票可無限搭乘大部分 JR 列車，包括著名的新幹線。</p>
        
        <p>建議在抵達日本前購買，可享最佳價格。7 日票非常適合首次造訪東京、京都、大阪的旅客。</p>
        
        <h2>住宿選擇：膠囊旅館與旅館（Ryokan）</h2>
        <p>日本提供多樣化的住宿選擇，特別適合單人旅行者。膠囊旅館位於市中心，價位親民、安全又乾淨；傳統旅館則能體驗榻榻米、蒲團與公共浴池，享受道地的日本風情。</p>
        
        <h2>文化禮儀</h2>
        <p>了解日本的文化禮儀能大幅提升旅行體驗。見面時鞠躬、進入民宅或餐廳需脫鞋、避免邊走邊吃——這些小細節都展現對當地文化的尊重。</p>
      `},{id:4,title:"阿爾卑斯山的登山冒險",description:"體驗壯麗的阿爾卑斯山峰，探索令人屏息的健行步道。",image:"https://images.unsplash.com/photo-1464822759844-d150baec0494?...",date:"2024年12月08日",readTime:"閱讀時間 10 分鐘",rating:4.7,slug:"mountain-adventures-alps",author:"Elena Schmidt",content:`
        <p>阿爾卑斯山橫跨八個國家，擁有世界上最壯觀的山景。從著名的馬特洪峰到奧地利的純淨湖泊，這片山脈為冒險者與大自然愛好者提供無窮選擇。</p>
        
        <h2>經典健行路線</h2>
        <p>勃朗峰環山步道（Tour du Mont Blanc）是阿爾卑斯最著名的長程健行路線，全長 170 公里，橫跨法國、義大利與瑞士，沿途風光從冰河谷地到高山草原。</p>
        
        <p>想挑戰短程卻同樣值得的路線，可以選擇霞慕尼至策馬特的高山路線（Haute Route），沿途可欣賞壯麗的冰河美景與高難度地形。</p>
        
        <h2>阿爾卑斯湖泊與山村</h2>
        <p>阿爾卑斯擁有無數絕美湖泊，如斯洛維尼亞的布萊德湖（Bled），島上教堂宛如童話；法國的安錫湖則被稱為「法國阿爾卑斯的明珠」。</p>
        
        <p>別錯過奧地利的哈修塔特（Hallstatt）或瑞士的金梅瓦爾德（Gimmelwald），這些山村至今仍保留傳統的阿爾卑斯文化。</p>
        
        <h2>最佳旅遊時機</h2>
        <p>夏季（6 月至 9 月）適合健行與戶外活動；冬季則化身滑雪與單板的天堂。春秋季人潮較少，色彩繽紛也別具魅力。</p>
      `},{id:5,title:"世界街頭藝術之都",description:"從柏林到布宜諾斯艾利斯，探索充滿活力的街頭藝術與牆上的故事。",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?...",date:"2024年12月05日",readTime:"閱讀時間 7 分鐘",rating:4.5,slug:"street-art-capitals",author:"Diego Martinez",content:`
        <p>街頭藝術已從地下反叛文化轉變為主流藝術表達，重塑全球城市風貌。這些城市擁抱街頭藝術，將其視為合法藝術，並打造露天美術館，呈現文化、政治與人性的故事。</p>
        
        <h2>柏林：塗鴉之都</h2>
        <p>柏林的街頭藝術聞名全球，其中東邊畫廊是柏林圍牆僅存的最長段落，如今覆滿國際藝術家的壁畫。自由開放的態度讓克羅伊茨貝格與弗里德里希斯海因等區域化身為「活的畫布」。</p>
        
        <p>參加導覽，探索隱藏的藝術作品，了解背後的政治與社會意涵。</p>
        
        <h2>布宜諾斯艾利斯：南美的藝術表達</h2>
        <p>布宜諾斯艾利斯擁有南美最具活力的街頭藝術場景。經濟困境催生出強烈的政治壁畫，而巴勒莫與聖太摩等街區則展現多彩的阿根廷文化藝術。</p>
        
        <p>當地甚至推出官方街頭藝術導覽，顯示政府已將其視為文化資產。</p>
        
        <h2>墨爾本：巷弄文化</h2>
        <p>墨爾本著名的巷弄如同街頭藝術迷宮，從大幅壁畫到精緻的模板噴畫應有盡有。這些藝術作品不斷更新，霍西爾巷與 AC/DC 巷是必訪之地。</p>
      `},{id:6,title:"地中海跳島之旅",description:"航行於碧藍海水間，發現最美麗的地中海島嶼與祕密海灣。",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?...",date:"2024年12月03日",readTime:"閱讀時間 9 分鐘",rating:4.6,slug:"mediterranean-island-hopping",author:"Sofia Papadopoulos",content:`
        <p>地中海上散落著數千座島嶼，每座島都有獨特的歷史、文化與自然景觀。跳島旅行就像穿越時光，從史前遺跡到中世紀堡壘，再到現代度假勝地。</p>
        
        <h2>希臘群島：基克拉迪風情</h2>
        <p>基克拉迪群島展現經典的希臘風格：白牆藍頂教堂、懸崖村莊。先到聖托里尼欣賞日落，再去米克諾斯享受夜生活，然後探索隱藏版的佛雷甘德羅斯與西弗諾斯。</p>
        
        <p>每座島都有不同性格——從伊奧斯的派對氛圍，到依舊用驢子運貨的藝術島嶼希德拉。</p>
        
        <h2>巴利阿里群島：西班牙天堂</h2>
        <p>西班牙的巴利阿里群島融合海灘放鬆與文化探索。伊比薩雖以電子音樂著名，但也有世界文化遺產與純淨海灘。馬略卡結合美麗海岸線、山中村莊與絕佳健行路線。</p>
        
        <p>別錯過梅諾卡，它是聯合國教科文組織生物圈保護區，擁有地中海最原始的海灘。</p>
        
        <h2>行程規劃</h2>
        <p>最佳跳島時機為晚春至初秋，渡輪航班最為頻繁。建議購買跳島套票以節省開支，夏季旺季務必提前預訂住宿。</p>
      `},{id:7,title:"極光攝影：攝影師的夢想",description:"捕捉極光魔力，專家技巧與最佳取景地完整指南。",image:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?...",date:"2024年11月28日",readTime:"閱讀時間 11 分鐘",rating:4.9,slug:"northern-lights-photography",author:"Lars Andersen",content:`
        <p>北極光是大自然最壯麗的奇觀之一。這些舞動的光幕數千年來吸引人類目光，只要掌握正確知識與設備，你也能捕捉到它的神秘之美。</p>
        
        <h2>認識極光</h2>
        <p>極光是太陽帶電粒子與地球磁場、大氣層互動的結果。最佳觀賞期為 9 月至 3 月的黑夜季，春分與秋分前後活動最頻繁。</p>
        
        <p>極光活動遵循 11 年太陽週期，目前正接近太陽極大期，是拍攝極光的絕佳時機。</p>
        
        <h2>最佳拍攝地點</h2>
        <p>冰島是最方便的極光觀賞地，雷克雅維克是北部探險的良好基地，冰河湖提供壯麗的前景。</p>
        
        <p>挪威特羅姆瑟周邊極光機率極高，峽灣倒映的光景令人驚嘆。芬蘭拉普蘭與瑞典北部則有純淨的荒野，光害極少。</p>
        
        <h2>攝影技巧</h2>
        <p>使用穩固的腳架，手動模式搭配廣角鏡頭。建議 ISO 1600–3200、光圈 f/2.8 或更大、曝光 10–25 秒。手動對焦至無限遠，並使用快門線或定時器避免晃動。</p>
        
        <p>在構圖中加入樹木、山脈或建築物，能讓照片更具故事性。天地之間的對比會帶來強烈的視覺效果。</p>
      `},{id:8,title:"沙漠探險之旅",description:"從撒哈拉到阿拉伯半島金色沙丘，體驗沙漠的驚險與美麗。",image:"https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9?...",date:"2024年11月25日",readTime:"閱讀時間 8 分鐘",rating:4.4,slug:"desert-safari-adventures",author:"Amira Hassan",content:`
        <p>沙漠探險融合冒險、文化與自然之美。從廣袤的撒哈拉到阿拉伯半島的高聳沙丘，這些景觀帶來難忘的體驗，讓我們與地球最極端的環境產生連結。</p>
        
        <h2>撒哈拉：世界最大熱沙漠</h2>
        <p>摩洛哥的撒哈拉沙漠可從馬拉喀什與非斯出發，其中靠近梅祖卡的謝比沙丘高達 150 公尺，日出與日落景色壯觀。</p>
        
        <p>騎駱駝前往柏柏爾營地，體驗遊牧民族的生活。夜晚仰望滿天繁星，清晨伴隨悠揚的祈禱聲醒來。</p>
        
        <h2>阿拉伯半島：奢華沙漠體驗</h2>
        <p>阿聯酋的沙漠探險結合傳統貝都因文化與現代奢華。杜拜與阿布達比提供從四驅車衝沙到高級沙漠度假村的各種選擇。</p>
        
        <p>別錯過滑沙、獵鷹表演與指甲花彩繪。現代城市與永恆沙漠的對比，營造獨特的文化體驗。</p>
        
        <h2>必備小技巧</h2>
        <p>白天穿輕薄衣物，夜晚帶保暖衣。隨身攜帶足夠的水、防曬乳與帽子。尊重當地文化與脆弱的沙漠生態，僅留下足跡，帶走照片。</p>
        
        <p>最佳旅遊時段為涼爽的 10 月至 3 月，白天氣溫較舒適。</p>
      `},{id:9,title:"城市探索：現代建築之美",description:"發現世界最具創新城市的建築奇蹟與設計故事。",image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?...",date:"2024年11月22日",readTime:"閱讀時間 6 分鐘",rating:4.3,slug:"urban-exploration-architecture",author:"Alexander Chen",content:`
        <p>現代建築重塑了全球城市天際線，這些地標不僅是建築，更是人類野心、科技進步與藝術視野的象徵。</p>
        
        <h2>杜拜：未來沙漠都市</h2>
        <p>杜拜的天際線展現了無限的建築企圖心。哈里發塔高達 828 公尺，刷新摩天樓的極限。設計靈感來自伊斯蘭建築與沙漠之花，體現了文化與現代的融合。</p>
        
        <p>未來博物館的環形建築外覆阿拉伯書法，象徵創新，挑戰傳統建築概念。</p>
        
        <h2>新加坡：綠色建築先驅</h2>
        <p>新加坡以永續都市建築聞名，例如柏克萊精選飯店（Parkroyal Collection Pickering），綠意面積甚至超越公園。親自然設計改善空氣品質並降低溫度。</p>
        
        <p>濱海灣花園的超級樹結合藝術、建築與環保科技，高達 50 公尺，可收集雨水、產生太陽能並為冷室通風。</p>
        
        <h2>哥本哈根：以人為本的設計</h2>
        <p>哥本哈根建築強調人類福祉與環境永續。由 BIG 建築事務所設計的「8 字樓」讓居民能騎腳踏車從一樓到 11 樓，重新定義城市生活。</p>
        
        <p>該市計劃在 2025 年實現碳中和，驅動建築創新，兼顧美學與永續責任。</p>
      `}];return R.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"分享攝影"}),R.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(e=>R.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[R.jsxs("div",{className:"relative",children:[R.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),R.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-full px-2 py-1 flex items-center shadow-sm",children:[R.jsx("span",{className:"text-yellow-500 text-sm",children:"★"}),R.jsx("span",{className:"text-sm font-medium ml-1",children:e.rating})]})]}),R.jsxs("div",{className:"p-6",children:[R.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors",children:R.jsx(Sr,{to:`/blog/${e.slug}`,children:e.title})}),R.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),R.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs("span",{className:"flex items-center",children:[R.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.date]}),R.jsxs("span",{className:"flex items-center",children:[R.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.readTime]})]})}),R.jsx("div",{className:"mt-4",children:R.jsxs(Sr,{to:`/blog/${e.slug}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors",children:["Read More",R.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]},e.id))})]})})},jP=!(typeof navigator>"u")&&navigator.product==="ReactNative",$P={timeout:jP?6e4:12e4},wU=function(n){const e={...$P,...typeof n=="string"?{url:n}:n};if(e.timeout=FP(e.timeout),e.query){const{url:t,searchParams:r}=function(i){const o=i.indexOf("?");if(o===-1)return{url:i,searchParams:new URLSearchParams};const l=i.slice(0,o),u=i.slice(o+1);if(!jP)return{url:l,searchParams:new URLSearchParams(u)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const h=new URLSearchParams;for(const d of u.split("&")){const[m,y]=d.split("=");m&&h.append(bx(m),bx(y||""))}return{url:l,searchParams:h}}(e.url);for(const[i,o]of Object.entries(e.query)){if(o!==void 0)if(Array.isArray(o))for(const u of o)r.append(i,u);else r.append(i,o);const l=r.toString();l&&(e.url=`${t}?${l}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function bx(n){return decodeURIComponent(n.replace(/\+/g," "))}function FP(n){if(n===!1||n===0)return!1;if(n.connect||n.socket)return n;const e=Number(n);return isNaN(e)?FP($P.timeout):{connect:e,socket:e}}const _U=/^https?:\/\//i,EU=function(n){if(!_U.test(n.url))throw new Error(`"${n.url}" is not a valid URL`)};function UP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}const TU=["request","response","progress","error","abort"],Sx=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function BP(n,e){const t=[],r=Sx.reduce((o,l)=>(o[l]=o[l]||[],o),{processOptions:[wU],validateOptions:[EU]});function i(o){const l=TU.reduce((E,b)=>(E[b]=function(){const x=Object.create(null);let k=0;return{publish:function(P){for(const D in x)x[D](P)},subscribe:function(P){const D=k++;return x[D]=P,function(){delete x[D]}}}}(),E),{}),u=(E=>function(b,x,...k){const P=b==="onError";let D=x;for(let M=0;M<E[b].length&&(D=(0,E[b][M])(D,...k),!P||D);M++);return D})(r),h=u("processOptions",o);u("validateOptions",h);const d={options:h,channels:l,applyMiddleware:u};let m;const y=l.request.subscribe(E=>{m=e(E,(b,x)=>((k,P,D)=>{let M=k,W=P;if(!M)try{W=u("onResponse",P,D)}catch(X){W=null,M=X}M=M&&u("onError",M,D),M?l.error.publish(M):W&&l.response.publish(W)})(b,x,E))});l.abort.subscribe(()=>{y(),m&&m.abort()});const _=u("onReturn",l,d);return _===l&&l.request.publish(d),_}return i.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Sx.forEach(l=>{o[l]&&r[l].push(o[l])}),t.push(o),i},i.clone=()=>BP(t,e),n.forEach(i.use),i}var Ix,Cx,xU=UP(function(){if(Cx)return Ix;Cx=1;var n=function(t){return t.replace(/^\s+|\s+$/g,"")},e=function(t){return Object.prototype.toString.call(t)==="[object Array]"};return Ix=function(t){if(!t)return{};for(var r=Object.create(null),i=n(t).split(`
`),o=0;o<i.length;o++){var l=i[o],u=l.indexOf(":"),h=n(l.slice(0,u)).toLowerCase(),d=n(l.slice(u+1));typeof r[h]>"u"?r[h]=d:e(r[h])?r[h].push(d):r[h]=[r[h],d]}return r}}()),bh,Sh,Hl,Ih,Ai,Ch,Ah,AS;let Ov=(AS=class{constructor(){le(this,"onabort");le(this,"onerror");le(this,"onreadystatechange");le(this,"ontimeout");le(this,"readyState",0);le(this,"response");le(this,"responseText","");le(this,"responseType","");le(this,"status");le(this,"statusText");le(this,"withCredentials");ge(this,bh);ge(this,Sh);ge(this,Hl);ge(this,Ih,{});ge(this,Ai);ge(this,Ch,{});ge(this,Ah)}open(e,t,r){var i;pe(this,bh,e),pe(this,Sh,t),pe(this,Hl,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),pe(this,Ai,void 0)}abort(){L(this,Ai)&&L(this,Ai).abort()}getAllResponseHeaders(){return L(this,Hl)}setRequestHeader(e,t){L(this,Ih)[e]=t}setInit(e,t=!0){pe(this,Ch,e),pe(this,Ah,t)}send(e){const t=this.responseType!=="arraybuffer",r={...L(this,Ch),method:L(this,bh),headers:L(this,Ih),body:e};typeof AbortController=="function"&&L(this,Ah)&&(pe(this,Ai,new AbortController),typeof EventTarget<"u"&&L(this,Ai).signal instanceof EventTarget&&(r.signal=L(this,Ai).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(L(this,Sh),r).then(i=>{var o;return i.headers.forEach((l,u)=>{pe(this,Hl,L(this,Hl)+`${u}: ${l}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(o=this.onreadystatechange)==null||o.call(this),t?i.text():i.arrayBuffer()}).then(i=>{var o;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(o=this.onreadystatechange)==null||o.call(this)}).catch(i=>{var o,l;i.name!=="AbortError"?(o=this.onerror)==null||o.call(this,i):(l=this.onabort)==null||l.call(this)})}},bh=new WeakMap,Sh=new WeakMap,Hl=new WeakMap,Ih=new WeakMap,Ai=new WeakMap,Ch=new WeakMap,Ah=new WeakMap,AS);const Nv=typeof XMLHttpRequest=="function"?"xhr":"fetch",bU=Nv==="xhr"?XMLHttpRequest:Ov,SU=(n,e)=>{const t=n.options,r=n.applyMiddleware("finalizeOptions",t),i={},o=n.applyMiddleware("interceptRequest",void 0,{adapter:Nv,context:n});if(o){const x=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(x)}}let l=new bU;l instanceof Ov&&typeof r.fetch=="object"&&l.setInit(r.fetch,r.useAbortSignal??!0);const u=r.headers,h=r.timeout;let d=!1,m=!1,y=!1;if(l.onerror=x=>{b(l instanceof Ov?x instanceof Error?x:new Error(`Request error while attempting to reach is ${r.url}`,{cause:x}):new Error(`Request error while attempting to reach is ${r.url}${x.lengthComputable?`(${x.loaded} of ${x.total} bytes transferred)`:""}`))},l.ontimeout=x=>{b(new Error(`Request timeout while attempting to reach ${r.url}${x.lengthComputable?`(${x.loaded} of ${x.total} bytes transferred)`:""}`))},l.onabort=()=>{E(!0),d=!0},l.onreadystatechange=function(){h&&(E(),i.socket=setTimeout(()=>_("ESOCKETTIMEDOUT"),h.socket)),!d&&l&&l.readyState===4&&l.status!==0&&function(){if(!(d||m||y)){if(l.status===0)return void b(new Error("Unknown XHR error"));E(),m=!0,e(null,{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:r.url,method:r.method,headers:xU(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText})}}()},l.open(r.method,r.url,!0),l.withCredentials=!!r.withCredentials,u&&l.setRequestHeader)for(const x in u)u.hasOwnProperty(x)&&l.setRequestHeader(x,u[x]);return r.rawBody&&(l.responseType="arraybuffer"),n.applyMiddleware("onRequest",{options:r,adapter:Nv,request:l,context:n}),l.send(r.body||null),h&&(i.connect=setTimeout(()=>_("ETIMEDOUT"),h.connect)),{abort:function(){d=!0,l&&l.abort()}};function _(x){y=!0,l.abort();const k=new Error(x==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);k.code=x,n.channels.error.publish(k)}function E(x){(x||d||l&&l.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function b(x){if(m)return;E(!0),m=!0,l=null;const k=x||new Error(`Network error while attempting to reach ${r.url}`);k.isNetworkError=!0,k.request=r,e(k)}},IU=(n=[],e=SU)=>BP(n,e);var CU={},Ax,Px,Rx,kx,Ox,Ly={exports:{}};Ox||(Ox=1,function(n,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,l=0;r[0].replace(/%[a-zA-Z%]/g,u=>{u!=="%%"&&(o++,u==="%c"&&(l=o))}),r.splice(l,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=CU.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),n.exports=(kx?Rx:(kx=1,Rx=function(r){function i(u){let h,d,m,y=null;function _(...E){if(!_.enabled)return;const b=_,x=Number(new Date),k=x-(h||x);b.diff=k,b.prev=h,b.curr=x,h=x,E[0]=i.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let P=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(D,M)=>{if(D==="%%")return"%";P++;const W=i.formatters[M];if(typeof W=="function"){const X=E[P];D=W.call(b,X),E.splice(P,1),P--}return D}),i.formatArgs.call(b,E),(b.log||i.log).apply(b,E)}return _.namespace=u,_.useColors=i.useColors(),_.color=i.selectColor(u),_.extend=o,_.destroy=i.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(d!==i.namespaces&&(d=i.namespaces,m=i.enabled(u)),m),set:E=>{y=E}}),typeof i.init=="function"&&i.init(_),_}function o(u,h){const d=i(this.namespace+(typeof h>"u"?":":h)+u);return d.log=this.log,d}function l(u,h){let d=0,m=0,y=-1,_=0;for(;d<u.length;)if(m<h.length&&(h[m]===u[d]||h[m]==="*"))h[m]==="*"?(y=m,_=d,m++):(d++,m++);else{if(y===-1)return!1;m=y+1,_++,d=_}for(;m<h.length&&h[m]==="*";)m++;return m===h.length}return i.debug=i,i.default=i,i.coerce=function(u){return u instanceof Error?u.stack||u.message:u},i.disable=function(){const u=[...i.names,...i.skips.map(h=>"-"+h)].join(",");return i.enable(""),u},i.enable=function(u){i.save(u),i.namespaces=u,i.names=[],i.skips=[];const h=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of h)d[0]==="-"?i.skips.push(d.slice(1)):i.names.push(d)},i.enabled=function(u){for(const h of i.skips)if(l(u,h))return!1;for(const h of i.names)if(l(u,h))return!0;return!1},i.humanize=function(){if(Px)return Ax;Px=1;var u=1e3,h=60*u,d=60*h,m=24*d,y=7*m;function _(E,b,x,k){var P=b>=1.5*x;return Math.round(E/x)+" "+k+(P?"s":"")}return Ax=function(E,b){b=b||{};var x,k,P=typeof E;if(P==="string"&&E.length>0)return function(D){if(!((D=String(D)).length>100)){var M=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(D);if(M){var W=parseFloat(M[1]);switch((M[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*W;case"weeks":case"week":case"w":return W*y;case"days":case"day":case"d":return W*m;case"hours":case"hour":case"hrs":case"hr":case"h":return W*d;case"minutes":case"minute":case"mins":case"min":case"m":return W*h;case"seconds":case"second":case"secs":case"sec":case"s":return W*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return W;default:return}}}}(E);if(P==="number"&&isFinite(E))return b.long?(x=E,(k=Math.abs(x))>=m?_(x,k,m,"day"):k>=d?_(x,k,d,"hour"):k>=h?_(x,k,h,"minute"):k>=u?_(x,k,u,"second"):x+" ms"):function(D){var M=Math.abs(D);return M>=m?Math.round(D/m)+"d":M>=d?Math.round(D/d)+"h":M>=h?Math.round(D/h)+"m":M>=u?Math.round(D/u)+"s":D+"ms"}(E);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(E))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(u=>{i[u]=r[u]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return i.colors[Math.abs(h)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:t}=n.exports;t.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(Ly,Ly.exports)),Ly.exports;const AU=typeof Buffer>"u"?()=>!1:n=>Buffer.isBuffer(n);function Nx(n){return Object.prototype.toString.call(n)==="[object Object]"}function PU(n){if(Nx(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Nx(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}const RU=["boolean","string","number"];function kU(){return{processOptions:n=>{const e=n.body;return!e||typeof e.pipe=="function"||AU(e)||RU.indexOf(typeof e)===-1&&!Array.isArray(e)&&!PU(e)?n:Object.assign({},n,{body:JSON.stringify(n.body),headers:Object.assign({},n.headers,{"Content-Type":"application/json"})})}}}function OU(n){return{onResponse:t=>{const r=t.headers["content-type"]||"",i=n&&n.force||r.indexOf("application/json")!==-1;return t.body&&r&&i?Object.assign({},t,{body:e(t.body)}):t},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})};function e(t){try{return JSON.parse(t)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Rc={};typeof globalThis<"u"?Rc=globalThis:typeof window<"u"?Rc=window:typeof global<"u"?Rc=global:typeof self<"u"&&(Rc=self);var NU=Rc;function DU(n={}){const e=n.implementation||NU.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,r)=>new e(i=>(t.error.subscribe(o=>i.error(o)),t.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),t.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),t.request.publish(r),()=>t.abort.publish()))}}function LU(){return{onRequest:n=>{if(n.adapter!=="xhr")return;const e=n.request,t=n.context;function r(i){return o=>{const l=o.lengthComputable?o.loaded/o.total*100:-1;t.channels.progress.publish({stage:i,percent:l,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var zP=(n,e,t)=>(t.method==="GET"||t.method==="HEAD")&&(n.isNetworkError||!1);function VU(n){return 100*Math.pow(2,n)+100*Math.random()}const dw=(n={})=>(e=>{const t=e.maxRetries||5,r=e.retryDelay||VU,i=e.shouldRetry;return{onError:(o,l)=>{const u=l.options,h=u.maxRetries||t,d=u.retryDelay||r,m=u.shouldRetry||i,y=u.attemptNumber||0;if((_=u.body)!==null&&typeof _=="object"&&typeof _.pipe=="function"||!m(o,y,u)||y>=h)return o;var _;const E=Object.assign({},l,{options:Object.assign({},u,{attemptNumber:y+1})});return setTimeout(()=>l.channels.request.publish(E),d(y)),null}}})({shouldRetry:zP,...n});dw.shouldRetry=zP;function ht(n){return typeof n=="function"}function fw(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Vy=fw(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Lp(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var rd=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,o;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=Zl(l),h=u.next();!h.done;h=u.next()){var d=h.value;d.remove(this)}}catch(x){e={error:x}}finally{try{h&&!h.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else l.remove(this);var m=this.initialTeardown;if(ht(m))try{m()}catch(x){o=x instanceof Vy?x.errors:[x]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var _=Zl(y),E=_.next();!E.done;E=_.next()){var b=E.value;try{Dx(b)}catch(x){o=o??[],x instanceof Vy?o=qi(qi([],zi(o)),zi(x.errors)):o.push(x)}}}catch(x){r={error:x}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}}if(o)throw new Vy(o)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Dx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Lp(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&Lp(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),qP=rd.EMPTY;function HP(n){return n instanceof rd||n&&"closed"in n&&ht(n.remove)&&ht(n.add)&&ht(n.unsubscribe)}function Dx(n){ht(n)?n():n.unsubscribe()}var MU={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},WP={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,qi([n,e],zi(t)))},clearTimeout:function(n){var e=WP.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function GP(n){WP.setTimeout(function(){throw n})}function Lx(){}function rp(n){n()}var pw=function(n){Zi(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,HP(t)&&t.add(r)):r.destination=FU,r}return e.create=function(t,r,i){return new sh(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(rd),jU=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){jf(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){jf(r)}else jf(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){jf(t)}},n}(),sh=function(n){Zi(e,n);function e(t,r,i){var o=n.call(this)||this,l;return ht(t)||!t?l={next:t??void 0,error:r??void 0,complete:i??void 0}:l=t,o.destination=new jU(l),o}return e}(pw);function jf(n){GP(n)}function $U(n){throw n}var FU={closed:!0,next:Lx,error:$U,complete:Lx},mw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Am(n){return n}function UU(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return KP(n)}function KP(n){return n.length===0?Am:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var Et=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,o=zU(e)?e:new sh(e,t,r);return rp(function(){var l=i,u=l.operator,h=l.source;o.add(u?u.call(o,h):h?i._subscribe(o):i._trySubscribe(o))}),o},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=Vx(t),new t(function(i,o){var l=new sh({next:function(u){try{e(u)}catch(h){o(h),l.unsubscribe()}},error:o,complete:i});r.subscribe(l)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[mw]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return KP(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=Vx(e),new e(function(r,i){var o;t.subscribe(function(l){return o=l},function(l){return i(l)},function(){return r(o)})})},n.create=function(e){return new n(e)},n}();function Vx(n){var e;return(e=n??MU.Promise)!==null&&e!==void 0?e:Promise}function BU(n){return n&&ht(n.next)&&ht(n.error)&&ht(n.complete)}function zU(n){return n&&n instanceof pw||BU(n)&&HP(n)}function qU(n){return ht(n==null?void 0:n.lift)}function ni(n){return function(e){if(qU(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lo(n,e,t,r,i){return new HU(n,e,t,r,i)}var HU=function(n){Zi(e,n);function e(t,r,i,o,l,u){var h=n.call(this,t)||this;return h.onFinalize=l,h.shouldUnsubscribe=u,h._next=r?function(d){try{r(d)}catch(m){t.error(m)}}:n.prototype._next,h._error=o?function(d){try{o(d)}catch(m){t.error(m)}finally{this.unsubscribe()}}:n.prototype._error,h._complete=i?function(){try{i()}catch(d){t.error(d)}finally{this.unsubscribe()}}:n.prototype._complete,h}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(pw),WU=fw(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gw=function(n){Zi(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new Mx(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new WU},e.prototype.next=function(t){var r=this;rp(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=Zl(r.currentObservers),u=l.next();!u.done;u=l.next()){var h=u.value;h.next(t)}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;rp(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;rp(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=this,o=i.hasError,l=i.isStopped,u=i.observers;return o||l?qP:(this.currentObservers=null,u.push(t),new rd(function(){r.currentObservers=null,Lp(u,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,o=r.thrownError,l=r.isStopped;i?t.error(o):l&&t.complete()},e.prototype.asObservable=function(){var t=new Et;return t.source=this,t},e.create=function(t,r){return new Mx(t,r)},e}(Et),Mx=function(n){Zi(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:qP},e}(gw),yw={now:function(){return(yw.delegate||Date).now()},delegate:void 0},GU=function(n){Zi(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=yw);var o=n.call(this)||this;return o._bufferSize=t,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,r),o}return e.prototype.next=function(t){var r=this,i=r.isStopped,o=r._buffer,l=r._infiniteTimeWindow,u=r._timestampProvider,h=r._windowTime;i||(o.push(t),!l&&o.push(u.now()+h)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,o=i._infiniteTimeWindow,l=i._buffer,u=l.slice(),h=0;h<u.length&&!t.closed;h+=o?1:2)t.next(u[h]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,o=t._buffer,l=t._infiniteTimeWindow,u=(l?1:2)*r;if(r<1/0&&u<o.length&&o.splice(0,o.length-u),!l){for(var h=i.now(),d=0,m=1;m<o.length&&o[m]<=h;m+=2)d=m;d&&o.splice(0,d+1)}},e}(gw),KU=function(n){Zi(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(rd),jx={setInterval:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setInterval.apply(void 0,qi([n,e],zi(t)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},QU=function(n){Zi(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var o=this.id,l=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(l,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(l,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),jx.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&jx.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,o;try{this.work(t)}catch(l){i=!0,o=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Lp(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(KU),$x=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=yw.now,n}(),YU=function(n){Zi(e,n);function e(t,r){r===void 0&&(r=$x.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}($x),XU=new YU(QU),JU=XU,QP=new Et(function(n){return n.complete()});function ZU(n){return n&&ht(n.schedule)}function vw(n){return n[n.length-1]}function e5(n){return ht(vw(n))?n.pop():void 0}function ww(n){return ZU(vw(n))?n.pop():void 0}function t5(n,e){return typeof vw(n)=="number"?n.pop():e}var YP=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function XP(n){return ht(n==null?void 0:n.then)}function JP(n){return ht(n[mw])}function ZP(n){return Symbol.asyncIterator&&ht(n==null?void 0:n[Symbol.asyncIterator])}function eR(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function n5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tR=n5();function nR(n){return ht(n==null?void 0:n[tR])}function rR(n){return i4(this,arguments,function(){var t,r,i,o;return RC(this,function(l){switch(l.label){case 0:t=n.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,Ol(t.read())];case 3:return r=l.sent(),i=r.value,o=r.done,o?[4,Ol(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,Ol(i)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function iR(n){return ht(n==null?void 0:n.getReader)}function ri(n){if(n instanceof Et)return n;if(n!=null){if(JP(n))return r5(n);if(YP(n))return i5(n);if(XP(n))return s5(n);if(ZP(n))return sR(n);if(nR(n))return o5(n);if(iR(n))return a5(n)}throw eR(n)}function r5(n){return new Et(function(e){var t=n[mw]();if(ht(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function i5(n){return new Et(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function s5(n){return new Et(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,GP)})}function o5(n){return new Et(function(e){var t,r;try{for(var i=Zl(n),o=i.next();!o.done;o=i.next()){var l=o.value;if(e.next(l),e.closed)return}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function sR(n){return new Et(function(e){l5(n,e).catch(function(t){return e.error(t)})})}function a5(n){return sR(rR(n))}function l5(n,e){var t,r,i,o;return r4(this,void 0,void 0,function(){var l,u;return RC(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),t=s4(n),h.label=1;case 1:return[4,t.next()];case 2:if(r=h.sent(),!!r.done)return[3,4];if(l=r.value,e.next(l),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=h.sent(),i={error:u},[3,11];case 6:return h.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function aa(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function oR(n,e){return e===void 0&&(e=0),ni(function(t,r){t.subscribe(lo(r,function(i){return aa(r,n,function(){return r.next(i)},e)},function(){return aa(r,n,function(){return r.complete()},e)},function(i){return aa(r,n,function(){return r.error(i)},e)}))})}function aR(n,e){return e===void 0&&(e=0),ni(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function u5(n,e){return ri(n).pipe(aR(e),oR(e))}function c5(n,e){return ri(n).pipe(aR(e),oR(e))}function h5(n,e){return new Et(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function d5(n,e){return new Et(function(t){var r;return aa(t,e,function(){r=n[tR](),aa(t,e,function(){var i,o,l;try{i=r.next(),o=i.value,l=i.done}catch(u){t.error(u);return}l?t.complete():t.next(o)},0,!0)}),function(){return ht(r==null?void 0:r.return)&&r.return()}})}function lR(n,e){if(!n)throw new Error("Iterable cannot be null");return new Et(function(t){aa(t,e,function(){var r=n[Symbol.asyncIterator]();aa(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function f5(n,e){return lR(rR(n),e)}function p5(n,e){if(n!=null){if(JP(n))return u5(n,e);if(YP(n))return h5(n,e);if(XP(n))return c5(n,e);if(ZP(n))return lR(n,e);if(nR(n))return d5(n,e);if(iR(n))return f5(n,e)}throw eR(n)}function id(n,e){return e?p5(n,e):ri(n)}function Pm(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=ww(n);return id(n,t)}function uR(n,e){var t=ht(n)?n:function(){return n},r=function(i){return i.error(t())};return new Et(r)}function m5(n){return!!n&&(n instanceof Et||ht(n.lift)&&ht(n.subscribe))}var g5=fw(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function Vt(n,e){return new Promise(function(t,r){var i=!1,o;n.subscribe({next:function(l){o=l,i=!0},error:r,complete:function(){i?t(o):r(new g5)}})})}function y5(n){return n instanceof Date&&!isNaN(n)}function wn(n,e){return ni(function(t,r){var i=0;t.subscribe(lo(r,function(o){r.next(n.call(e,o,i++))}))})}var v5=Array.isArray;function w5(n,e){return v5(e)?n.apply(void 0,qi([],zi(e))):n(e)}function _5(n){return wn(function(e){return w5(n,e)})}function E5(n,e,t){return t===void 0&&(t=Am),function(r){Fx(e,function(){for(var i=n.length,o=new Array(i),l=i,u=i,h=function(m){Fx(e,function(){var y=id(n[m],e),_=!1;y.subscribe(lo(r,function(E){o[m]=E,_||(_=!0,u--),u||r.next(t(o.slice()))},function(){--l||r.complete()}))},r)},d=0;d<i;d++)h(d)})}}function Fx(n,e,t){e()}function T5(n,e,t,r,i,o,l,u){var h=[],d=0,m=0,y=!1,_=function(){y&&!h.length&&!d&&e.complete()},E=function(x){return d<r?b(x):h.push(x)},b=function(x){d++;var k=!1;ri(t(x,m++)).subscribe(lo(e,function(P){e.next(P)},function(){k=!0},void 0,function(){if(k)try{d--;for(var P=function(){var D=h.shift();l||b(D)};h.length&&d<r;)P();_()}catch(D){e.error(D)}}))};return n.subscribe(lo(e,E,function(){y=!0,_()})),function(){}}function sd(n,e,t){return t===void 0&&(t=1/0),ht(e)?sd(function(r,i){return wn(function(o,l){return e(r,o,i,l)})(ri(n(r,i)))},t):(typeof e=="number"&&(t=e),ni(function(r,i){return T5(r,i,n,t)}))}function cR(n){return n===void 0&&(n=1/0),sd(Am,n)}function x5(){return cR(1)}function hR(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return x5()(id(n,ww(n)))}function dR(n){return new Et(function(e){ri(n()).subscribe(e)})}function b5(n,e,t){return t===void 0&&(t=JU),new Et(function(r){var i=y5(n)?1e3-t.now():n;i<0&&(i=0);var o=0;return t.schedule(function(){r.closed||(r.next(o++),r.complete())},i)})}function S5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=ww(n),r=t5(n,1/0),i=n;return i.length?i.length===1?ri(i[0]):cR(r)(id(i,t)):QP}var I5=Array.isArray;function C5(n){return n.length===1&&I5(n[0])?n[0]:n}function Eu(n,e){return ni(function(t,r){var i=0;t.subscribe(lo(r,function(o){return n.call(e,o,i++)&&r.next(o)}))})}function _w(n){return ni(function(e,t){var r=null,i=!1,o;r=e.subscribe(lo(t,void 0,void 0,function(l){o=ri(n(l,_w(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function fR(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=e5(n);return t?UU(fR.apply(void 0,qi([],zi(n))),_5(t)):ni(function(r,i){E5(qi([r],zi(C5(n))))(i)})}function A5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return fR.apply(void 0,qi([],zi(n)))}function pR(n){return ni(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}function mR(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new gw}:e,r=n.resetOnError,i=r===void 0?!0:r,o=n.resetOnComplete,l=o===void 0?!0:o,u=n.resetOnRefCountZero,h=u===void 0?!0:u;return function(d){var m,y,_,E=0,b=!1,x=!1,k=function(){y==null||y.unsubscribe(),y=void 0},P=function(){k(),m=_=void 0,b=x=!1},D=function(){var M=m;P(),M==null||M.unsubscribe()};return ni(function(M,W){E++,!x&&!b&&k();var X=_=_??t();W.add(function(){E--,E===0&&!x&&!b&&(y=My(D,h))}),X.subscribe(W),!m&&E>0&&(m=new sh({next:function(J){return X.next(J)},error:function(J){x=!0,k(),y=My(P,i,J),X.error(J)},complete:function(){b=!0,k(),y=My(P,l),X.complete()}}),ri(M).subscribe(m))})(d)}}function My(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(e===!0){n();return}if(e!==!1){var i=new sh({next:function(){i.unsubscribe(),n()}});return ri(e.apply(void 0,qi([],zi(t)))).subscribe(i)}}function P5(n,e,t){var r,i=!1;return r=n,mR({connector:function(){return new GU(r,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function R5(n,e,t){var r=ht(n)||e||t?{next:n,error:e,complete:t}:n;return r?ni(function(i,o){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var u=!0;i.subscribe(lo(o,function(h){var d;(d=r.next)===null||d===void 0||d.call(r,h),o.next(h)},function(){var h;u=!1,(h=r.complete)===null||h===void 0||h.call(r),o.complete()},function(h){var d;u=!1,(d=r.error)===null||d===void 0||d.call(r,h),o.error(h)},function(){var h,d;u&&((h=r.unsubscribe)===null||h===void 0||h.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Am}var gR={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Ew={0:8203,1:8204,2:8205,3:65279},k5=new Array(4).fill(String.fromCodePoint(Ew[0])).join("");function O5(n){let e=JSON.stringify(n);return`${k5}${Array.from(e).map(t=>{let r=t.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${t} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Ew[i])).join("")}).join("")}`}function N5(n){return!Number.isNaN(Number(n))||/[a-z]/i.test(n)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(n)?!1:!!Date.parse(n)}function D5(n){try{new URL(n,n.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function MG(n,e,t="auto"){return t===!0||t==="auto"&&(N5(n)||D5(n))?n:`${n}${O5(e)}`}Object.fromEntries(Object.entries(Ew).map(n=>n.reverse()));Object.fromEntries(Object.entries(gR).map(n=>n.reverse()));var L5=`${Object.values(gR).map(n=>`\\u{${n.toString(16)}}`).join("")}`,Ux=new RegExp(`[${L5}]{4,}`,"gu");function V5(n){var e;return{cleaned:n.replace(Ux,""),encoded:((e=n.match(Ux))==null?void 0:e[0])||""}}function M5(n){return n&&JSON.parse(V5(JSON.stringify(n)).cleaned)}function j5(n){return M5(n)}class $5 extends Error{constructor(t){const r=yR(t);super(r.message);le(this,"response");le(this,"statusCode",400);le(this,"responseBody");le(this,"details");Object.assign(this,r)}}class F5 extends Error{constructor(t){const r=yR(t);super(r.message);le(this,"response");le(this,"statusCode",500);le(this,"responseBody");le(this,"details");Object.assign(this,r)}}function yR(n){const e=n.body,t={response:n,statusCode:n.statusCode,responseBody:q5(e,n),message:"",details:void 0};if(e.error&&e.message)return t.message=`${e.error} - ${e.message}`,t;if(U5(e)||B5(e)){const r=e.error.items||[],i=r.slice(0,5).map(l=>{var u;return(u=l.error)==null?void 0:u.description}).filter(Boolean);let o=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(o+=`
...and ${r.length-5} more`),t.message=`${e.error.description}${o}`,t.details=e.error,t}return e.error&&e.error.description?(t.message=e.error.description,t.details=e.error,t):(t.message=e.error||e.message||z5(n),t)}function U5(n){return Vp(n)&&Vp(n.error)&&n.error.type==="mutationError"&&typeof n.error.description=="string"}function B5(n){return Vp(n)&&Vp(n.error)&&n.error.type==="actionError"&&typeof n.error.description=="string"}function Vp(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function z5(n){const e=n.statusMessage?` ${n.statusMessage}`:"";return`${n.method}-request to ${n.url} resulted in HTTP ${n.statusCode}${e}`}function q5(n,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(n,null,2):n}class H5 extends Error{constructor({projectId:t}){super("CorsOriginError");le(this,"projectId");le(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=t;const r=new URL(`https://sanity.io/manage/project/${t}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const W5={onResponse:n=>{if(n.statusCode>=500)throw new F5(n);if(n.statusCode>=400)throw new $5(n);return n}};function G5(){const n={};return{onResponse:e=>{const t=e.headers["x-sanity-warning"],r=Array.isArray(t)?t:[t];for(const i of r)!i||n[i]||(n[i]=!0,console.warn(i));return e}}}function Bx(n){return IU([dw({shouldRetry:K5}),...n,G5(),kU(),OU(),LU(),W5,DU({implementation:Et})])}function K5(n,e,t){if(t.maxRetries===0)return!1;const r=t.method==="GET"||t.method==="HEAD",i=(t.uri||t.url).startsWith("/data/query"),o=n.response&&(n.response.statusCode===429||n.response.statusCode===502||n.response.statusCode===503);return(r||i)&&o?!0:dw.shouldRetry(n,e,t)}const Q5="https://www.sanity.io/help/";function Tw(n){return Q5+n}const zx=["image","file"],qx=["before","after","replace"],vR=n=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(n))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Y5=n=>{if(!/^[-a-z0-9]+$/i.test(n))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},X5=n=>{if(zx.indexOf(n)===-1)throw new Error(`Invalid asset type: ${n}. Must be one of ${zx.join(", ")}`)},zc=(n,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${n}() takes an object of properties`)},wR=(n,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${n}(): "${e}" is not a valid document ID`)},Mp=(n,e)=>{if(!e._id)throw new Error(`${n}() requires that the document contains an ID ("_id" property)`);wR(n,e._id)},J5=(n,e,t)=>{const r="insert(at, selector, items)";if(qx.indexOf(n)===-1){const i=qx.map(o=>`"${o}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(t))throw new Error(`${r} takes an "items"-argument which must be an array`)},_R=n=>{if(!n.dataset)throw new Error("`dataset` must be provided to perform queries");return n.dataset||""},ER=n=>{if(typeof n!="string"||!/^[a-z0-9._-]{1,75}$/i.test(n))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return n},TR=n=>{if(!n["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=n["~experimental_resource"];switch(e){case"dataset":{if(t.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},Ur=(n,e)=>{if(e["~experimental_resource"])throw new Error(`\`${n}\` does not support resource-based operations`)};function Z5(n){let e=!1,t;return(...r)=>(e||(t=n(...r),e=!0),t)}const Ta=n=>Z5((...e)=>console.warn(n.join(" "),...e)),eB=Ta(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),tB=Ta(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),nB=Ta(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),rB=Ta(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),iB=Ta(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Tw("js-client-browser-token")} for more information and how to hide this warning.`]),sB=Ta(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),oB=Ta(["Using the Sanity client without specifying an API version is deprecated.",`See ${Tw("js-client-api-version")}`]),aB="apicdn.sanity.io",qc={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},lB=["localhost","127.0.0.1","0.0.0.0"],uB=n=>lB.indexOf(n)!==-1;function cB(n){if(n==="1"||n==="X")return;const e=new Date(n);if(!(/^\d{4}-\d{2}-\d{2}$/.test(n)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function xR(n){if(Array.isArray(n)&&n.length>1&&n.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const bR=(n,e)=>{const t={...e,...n,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||qc.stega,...typeof n.stega=="boolean"?{enabled:n.stega}:n.stega||{}}};t.apiVersion||oB();const r={...qc,...t},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const _=Tw("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${_}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&TR(r),typeof r.perspective<"u"&&xR(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,l=o&&uB(window.location.hostname),u=!!r.token;r.withCredentials&&u&&(sB(),r.withCredentials=!1),o&&l&&u&&r.ignoreBrowserTokenWarning!==!0?iB():typeof r.useCdn>"u"&&tB(),i&&Y5(r.projectId),r.dataset&&vR(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?ER(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===qc.apiHost,r.useCdn===!0&&r.withCredentials&&eB(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,cB(r.apiVersion);const h=r.apiHost.split("://",2),d=h[0],m=h[1],y=r.isDefaultApi?aB:m;return i?(r.url=`${d}://${r.projectId}.${m}/v${r.apiVersion}`,r.cdnUrl=`${d}://${r.projectId}.${y}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class SR extends Error{constructor(){super(...arguments);le(this,"name","ConnectionFailedError")}}class hB extends Error{constructor(t,r,i={}){super(t,i);le(this,"name","DisconnectError");le(this,"reason");this.reason=r}}class dB extends Error{constructor(t,r){super(t);le(this,"name","ChannelError");le(this,"data");this.data=r}}class fB extends Error{constructor(t,r,i={}){super(t,i);le(this,"name","MessageError");le(this,"data");this.data=r}}class Hx extends Error{constructor(){super(...arguments);le(this,"name","MessageParseError")}}const pB=["channelError","disconnect"];function IR(n,e){return dR(()=>{const t=n();return m5(t)?t:Pm(t)}).pipe(sd(t=>mB(t,e)))}function mB(n,e){return new Et(t=>{const r=e.includes("open"),i=e.includes("reconnect");function o(d){if("data"in d){const[m,y]=Wx(d);t.error(m?new Hx("Unable to parse EventSource error message",{cause:y}):new fB((y==null?void 0:y.data).message,y));return}n.readyState===n.CLOSED?t.error(new SR("EventSource connection failed")):i&&t.next({type:"reconnect"})}function l(){t.next({type:"open"})}function u(d){var _;const[m,y]=Wx(d);if(m){t.error(new Hx("Unable to parse EventSource message",{cause:m}));return}if(d.type==="channelError"){t.error(new dB(gB(y==null?void 0:y.data),y.data));return}if(d.type==="disconnect"){t.error(new hB(`Server disconnected client: ${((_=y.data)==null?void 0:_.reason)||"unknown error"}`));return}t.next({type:d.type,id:d.lastEventId,...y.data?{data:y.data}:{}})}n.addEventListener("error",o),r&&n.addEventListener("open",l);const h=[...new Set([...pB,...e])].filter(d=>d!=="error"&&d!=="open"&&d!=="reconnect");return h.forEach(d=>n.addEventListener(d,u)),()=>{n.removeEventListener("error",o),r&&n.removeEventListener("open",l),h.forEach(d=>n.removeEventListener(d,u)),n.close()}})}function Wx(n){try{const e=typeof n.data=="string"&&JSON.parse(n.data);return[null,{type:n.type,id:n.lastEventId,...yB(e)?{}:{data:e}}]}catch(e){return[e,null]}}function gB(n){return n.error?n.error.description?n.error.description:typeof n.error=="string"?n.error:JSON.stringify(n.error,null,2):n.message||"Unknown listener error"}function yB(n){for(const e in n)return!1;return!0}function CR(n){if(typeof n=="string")return{id:n};if(Array.isArray(n))return{query:"*[_id in $ids]",params:{ids:n}};if(typeof n=="object"&&n!==null&&"query"in n&&typeof n.query=="string")return"params"in n&&typeof n.params=="object"&&n.params!==null?{query:n.query,params:n.params}:{query:n.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class AR{constructor(e,t={}){le(this,"selection");le(this,"operations");this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return zc("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,r){return J5(e,t,r),this._assign("insert",{[e]:t,items:r})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,r,i){const o=typeof r>"u"||r===-1,l=t<0?t-1:t,u=o?-1:Math.max(0,t+r),h=l<0&&u>=0?"":u,d=`${e}[${l}:${h}]`;return this.insert("replace",d,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...CR(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,r=!0){return zc(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}var na;const s_=class s_ extends AR{constructor(t,r,i){super(t,r);ge(this,na);pe(this,na,i)}clone(){return new s_(this.selection,{...this.operations},L(this,na))}commit(t){if(!L(this,na))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},t);return L(this,na).mutate({patch:this.serialize()},i)}};na=new WeakMap;let la=s_;var ra;const o_=class o_ extends AR{constructor(t,r,i){super(t,r);ge(this,ra);pe(this,ra,i)}clone(){return new o_(this.selection,{...this.operations},L(this,ra))}commit(t){if(!L(this,ra))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},t);return L(this,ra).mutate({patch:this.serialize()},i)}};ra=new WeakMap;let Qs=o_;const PR={returnDocuments:!1};class RR{constructor(e=[],t){le(this,"operations");le(this,"trxId");this.operations=e,this.trxId=t}create(e){return zc("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return zc(t,e),Mp(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return zc(t,e),Mp(t,e),this._add({[t]:e})}delete(e){return wR("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var Pi;const a_=class a_ extends RR{constructor(t,r,i){super(t,i);ge(this,Pi);pe(this,Pi,r)}clone(){return new a_([...this.operations],L(this,Pi),this.trxId)}commit(t){if(!L(this,Pi))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return L(this,Pi).mutate(this.serialize(),Object.assign({transactionId:this.trxId},PR,t||{}))}patch(t,r){const i=typeof r=="function",o=typeof t!="string"&&t instanceof Qs,l=typeof t=="object"&&("query"in t||"id"in t);if(o)return this._add({patch:t.serialize()});if(i){const u=r(new Qs(t,{},L(this,Pi)));if(!(u instanceof Qs))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:u.serialize()})}if(l){const u=new Qs(t,r||{},L(this,Pi));return this._add({patch:u.serialize()})}return this._add({patch:{id:t,...r}})}};Pi=new WeakMap;let jp=a_;var Us;const l_=class l_ extends RR{constructor(t,r,i){super(t,i);ge(this,Us);pe(this,Us,r)}clone(){return new l_([...this.operations],L(this,Us),this.trxId)}commit(t){if(!L(this,Us))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return L(this,Us).mutate(this.serialize(),Object.assign({transactionId:this.trxId},PR,t||{}))}patch(t,r){const i=typeof r=="function";if(typeof t!="string"&&t instanceof la)return this._add({patch:t.serialize()});if(i){const o=r(new la(t,{},L(this,Us)));if(!(o instanceof la))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:t,...r}})}};Us=new WeakMap;let $p=l_;const vB="X-Sanity-Project-ID";function wB(n,e={}){const t={},r=e.token||n.token;r&&(t.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!n.useProjectHostname&&n.projectId&&(t[vB]=n.projectId);const i=!!(typeof e.withCredentials>"u"?n.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?n.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},t,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||n.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof n.fetch=="object"?{...n.fetch,...e.fetch}:e.fetch||n.fetch})}const kR=({query:n,params:e={},options:t={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:l,...u}=t;i&&r.append("tag",i),r.append("query",n);for(const[h,d]of Object.entries(e))r.append(`$${h}`,JSON.stringify(d));for(const[h,d]of Object.entries(u))d&&r.append(h,`${d}`);return l===!1&&r.append("returnQuery","false"),o===!1&&r.append("includeMutations","false"),`?${r}`},_B=(n,e)=>n===!1?void 0:typeof n>"u"?e:n,EB=(n={})=>({dryRun:n.dryRun,returnIds:!0,returnDocuments:_B(n.returnDocuments,!0),visibility:n.visibility||"sync",autoGenerateArrayKeys:n.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:n.skipCrossDatasetReferenceValidation}),xw=n=>n.type==="response",TB=n=>n.body,xB=(n,e)=>n.reduce((t,r)=>(t[e(r)]=r,t),Object.create(null)),bB=11264;function OR(n,e,t,r,i={},o={}){const l="stega"in o?{...t||{},...typeof o.stega=="boolean"?{enabled:o.stega}:o.stega||{}}:t,u=l.enabled?j5(i):i,h=o.filterResponse===!1?b=>b:b=>b.result,{cache:d,next:m,...y}={useAbortSignal:typeof o.signal<"u",resultSourceMap:l.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:o.filterResponse===!1&&o.returnQuery!==!1},_=typeof d<"u"||typeof m<"u"?{...y,fetch:{cache:d,next:m}}:y,E=Tu(n,e,"query",{query:r,params:u},_);return l.enabled?E.pipe(A5(id(em(()=>import("./stegaEncodeSourceMap-CyX5hFh9.js"),[]).then(function(b){return b.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:b})=>b))),wn(([b,x])=>{const k=x(b.result,b.resultSourceMap,l);return h({...b,result:k})})):E.pipe(wn(h))}function NR(n,e,t,r={}){const i={uri:ar(n,"doc",t),json:!0,tag:r.tag,signal:r.signal};return ad(n,e,i).pipe(Eu(xw),wn(o=>o.body.documents&&o.body.documents[0]))}function DR(n,e,t,r={}){const i={uri:ar(n,"doc",t.join(",")),json:!0,tag:r.tag,signal:r.signal};return ad(n,e,i).pipe(Eu(xw),wn(o=>{const l=xB(o.body.documents||[],u=>u._id);return t.map(u=>l[u]||null)}))}function LR(n,e,t,r){return Mp("createIfNotExists",t),Rm(n,e,t,"createIfNotExists",r)}function VR(n,e,t,r){return Mp("createOrReplace",t),Rm(n,e,t,"createOrReplace",r)}function MR(n,e,t,r){return Tu(n,e,"mutate",{mutations:[{delete:CR(t)}]},r)}function jR(n,e,t,r){let i;t instanceof Qs||t instanceof la?i={patch:t.serialize()}:t instanceof jp||t instanceof $p?i=t.serialize():i=t;const o=Array.isArray(i)?i:[i],l=r&&r.transactionId||void 0;return Tu(n,e,"mutate",{mutations:o,transactionId:l},r)}function $R(n,e,t,r){const i=Array.isArray(t)?t:[t],o=r&&r.transactionId||void 0,l=r&&r.skipCrossDatasetReferenceValidation||void 0,u=r&&r.dryRun||void 0;return Tu(n,e,"actions",{actions:i,transactionId:o,skipCrossDatasetReferenceValidation:l,dryRun:u},r)}function Tu(n,e,t,r,i={}){const o=t==="mutate",l=t==="actions",u=t==="query",h=o||l?"":kR(r),d=!o&&!l&&h.length<bB,m=d?h:"",y=i.returnFirst,{timeout:_,token:E,tag:b,headers:x,returnQuery:k,lastLiveEventId:P,cacheMode:D}=i,M=ar(n,t,m),W={method:d?"GET":"POST",uri:M,json:!0,body:d?void 0:r,query:o&&EB(i),timeout:_,headers:x,token:E,tag:b,returnQuery:k,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(P)?P[0]:P,cacheMode:D,canUseCdn:u,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return ad(n,e,W).pipe(Eu(xw),wn(TB),wn(X=>{if(!o)return X;const J=X.results||[];if(i.returnDocuments)return y?J[0]&&J[0].document:J.map(V=>V.document);const j=y?"documentId":"documentIds",O=y?J[0]&&J[0].id:J.map(V=>V.id);return{transactionId:X.transactionId,results:J,[j]:O}}))}function Rm(n,e,t,r,i={}){const o={[r]:t},l=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Tu(n,e,"mutate",{mutations:[o]},l)}const od=n=>n.config().dataset!==void 0&&n.config().projectId!==void 0||n.config()["~experimental_resource"]!==void 0,FR=(n,e)=>od(n)&&e.startsWith(ar(n,"query")),SB=(n,e)=>od(n)&&e.startsWith(ar(n,"mutate")),IB=(n,e)=>od(n)&&e.startsWith(ar(n,"doc","")),CB=(n,e)=>od(n)&&e.startsWith(ar(n,"listen")),AB=(n,e)=>od(n)&&e.startsWith(ar(n,"history","")),PB=(n,e)=>e.startsWith("/data/")||FR(n,e)||SB(n,e)||IB(n,e)||CB(n,e)||AB(n,e);function ad(n,e,t){const r=t.url||t.uri,i=n.config(),o=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&PB(n,r):t.canUseCdn;let l=(t.useCdn??i.useCdn)&&o;const u=t.tag&&i.requestTagPrefix?[i.requestTagPrefix,t.tag].join("."):t.tag||i.requestTagPrefix;if(u&&t.tag!==null&&(t.query={tag:ER(u),...t.query}),["GET","HEAD","POST"].indexOf(t.method||"GET")>=0&&FR(n,r)){const m=t.resultSourceMap??i.resultSourceMap;m!==void 0&&m!==!1&&(t.query={resultSourceMap:m,...t.query});const y=t.perspective||i.perspective;typeof y<"u"&&(y==="previewDrafts"&&rB(),xR(y),t.query={perspective:Array.isArray(y)?y.join(","):y,...t.query},(Array.isArray(y)&&y.length>0||y==="previewDrafts"||y==="drafts")&&l&&(l=!1,nB())),t.lastLiveEventId&&(t.query={...t.query,lastLiveEventId:t.lastLiveEventId}),t.returnQuery===!1&&(t.query={returnQuery:"false",...t.query}),l&&t.cacheMode=="noStale"&&(t.query={cacheMode:"noStale",...t.query})}const h=wB(i,Object.assign({},t,{url:bw(n,r,l)})),d=new Et(m=>e(h,i.requester).subscribe(m));return t.signal?d.pipe(RB(t.signal)):d}function Cr(n,e,t){return ad(n,e,t).pipe(Eu(r=>r.type==="response"),wn(r=>r.body))}function ar(n,e,t){const r=n.config();if(r["~experimental_resource"]){TR(r);const l=NB(r),u=t!==void 0?`${e}/${t}`:e;return`${l}/${u}`.replace(/\/($|\?)/,"$1")}const i=_R(r),o=`/${e}/${i}`;return`/data${t!==void 0?`${o}/${t}`:o}`.replace(/\/($|\?)/,"$1")}function bw(n,e,t=!1){const{url:r,cdnUrl:i}=n.config();return`${t?i:r}/${e.replace(/^\//,"")}`}function RB(n){return e=>new Et(t=>{const r=()=>t.error(OB(n));if(n&&n.aborted){r();return}const i=e.subscribe(t);return n.addEventListener("abort",r),()=>{n.removeEventListener("abort",r),i.unsubscribe()}})}const kB=!!globalThis.DOMException;function OB(n){if(kB)return new DOMException((n==null?void 0:n.reason)??"The operation was aborted.","AbortError");const e=new Error((n==null?void 0:n.reason)??"The operation was aborted.");return e.name="AbortError",e}const NB=n=>{if(!n["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=n["~experimental_resource"];switch(e){case"dataset":{const r=t.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${t}`;case"media-library":return`/media-libraries/${t}`;case"dashboard":return`/dashboards/${t}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};var Ph,Rh;class DB{constructor(e,t){ge(this,Ph);ge(this,Rh);pe(this,Ph,e),pe(this,Rh,t)}upload(e,t,r){return UR(L(this,Ph),L(this,Rh),e,t,r)}}Ph=new WeakMap,Rh=new WeakMap;var kh,Oh;class LB{constructor(e,t){ge(this,kh);ge(this,Oh);pe(this,kh,e),pe(this,Oh,t)}upload(e,t,r){const i=UR(L(this,kh),L(this,Oh),e,t,r);return Vt(i.pipe(Eu(o=>o.type==="response"),wn(o=>o.body.document)))}}kh=new WeakMap,Oh=new WeakMap;function UR(n,e,t,r,i={}){X5(t);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const l=n.config(),u=MB(i,r),{tag:h,label:d,title:m,description:y,creditLine:_,filename:E,source:b}=u,x={label:d,title:m,description:y,filename:E,meta:o,creditLine:_};return b&&(x.sourceId=b.id,x.sourceName=b.name,x.sourceUrl=b.url),ad(n,e,{tag:h,method:"POST",timeout:u.timeout||0,uri:VB(l,t),headers:u.contentType?{"Content-Type":u.contentType}:{},query:x,body:r})}function VB(n,e){const t=e==="image"?"images":"files";if(n["~experimental_resource"]){const{type:i,id:o}=n["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${o}/assets/${t}`;case"media-library":return`/media-libraries/${o}/upload`;case"dashboard":return`/dashboards/${o}/assets/${t}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=_R(n);return`assets/${t}/${r}`}function MB(n,e){return typeof File>"u"||!(e instanceof File)?n:Object.assign({filename:n.preserveFilename===!1?void 0:e.name,contentType:e.type},n)}var jB=(n,e)=>Object.keys(e).concat(Object.keys(n)).reduce((t,r)=>(t[r]=typeof n[r]>"u"?e[r]:n[r],t),{});const $B=(n,e)=>e.reduce((t,r)=>(typeof n[r]>"u"||(t[r]=n[r]),t),{}),BR=dR(()=>em(()=>import("./browser-C36NO6h6.js").then(n=>n.b),[])).pipe(wn(({default:n})=>n),P5(1));function zR(){return function(n){return n.pipe(_w((e,t)=>e instanceof SR?hR(Pm({type:"reconnect"}),b5(1e3).pipe(sd(()=>t))):uR(()=>e)))}}const FB=14800,UB=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],BB={includeResult:!0};function qR(n,e,t={}){const{url:r,token:i,withCredentials:o,requestTagPrefix:l}=this.config(),u=t.tag&&l?[l,t.tag].join("."):t.tag,h={...jB(t,BB),tag:u},d=$B(h,UB),m=kR({query:n,params:e,options:{tag:u,...d}}),y=`${r}${ar(this,"listen",m)}`;if(y.length>FB)return uR(()=>new Error("Query too large for listener"));const _=h.events?h.events:["mutation"],E={};return o&&(E.withCredentials=!0),i&&(E.headers={Authorization:`Bearer ${i}`}),IR(()=>(typeof EventSource>"u"||E.headers?BR:Pm(EventSource)).pipe(wn(b=>new b(y,E))),_).pipe(zR(),Eu(b=>_.includes(b.type)),wn(b=>({type:b.type,..."data"in b?b.data:{}})))}function zB(n,e){return qB(typeof n=="function"?{predicate:n,...e}:n)}function qB(n){return e=>{let t,r=!1;const{predicate:i,...o}=n,l=e.pipe(R5(h=>{n.predicate(h)&&(r=!0,t=h)}),pR(()=>{r=!1,t=void 0}),mR(o)),u=new Et(h=>{r&&h.next(t),h.complete()});return S5(l,u)}}const Gx="2021-03-25";var Bs;class HR{constructor(e){ge(this,Bs);pe(this,Bs,e)}events({includeDrafts:e=!1,tag:t}={}){Ur("live",L(this,Bs).config());const{projectId:r,apiVersion:i,token:o,withCredentials:l,requestTagPrefix:u}=L(this,Bs).config(),h=i.replace(/^v/,"");if(h!=="X"&&h<Gx)throw new Error(`The live events API requires API version ${Gx} or later. The current API version is ${h}. Please update your API version to use this feature.`);if(e&&!o&&!l)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const d=ar(L(this,Bs),"live/events"),m=new URL(L(this,Bs).getUrl(d,!1)),y=t&&u?[u,t].join("."):t;y&&m.searchParams.set("tag",y),e&&m.searchParams.set("includeDrafts","true");const _={};e&&o&&(_.headers={Authorization:`Bearer ${o}`}),e&&l&&(_.withCredentials=!0);const E=`${m.href}::${JSON.stringify(_)}`,b=jy.get(E);if(b)return b;const x=IR(()=>(typeof EventSource>"u"||_.headers?BR:Pm(EventSource)).pipe(wn(D=>new D(m.href,_))),["message","restart","welcome","reconnect","goaway"]).pipe(zR(),wn(D=>{if(D.type==="message"){const{data:M,...W}=D;return{...W,tags:M.tags}}return D})),k=HB(m,{method:"OPTIONS",mode:"cors",credentials:_.withCredentials?"include":"omit",headers:_.headers}).pipe(sd(()=>QP),_w(()=>{throw new H5({projectId:r})})),P=hR(k,x).pipe(pR(()=>jy.delete(E)),zB({predicate:D=>D.type==="welcome"}));return jy.set(E,P),P}}Bs=new WeakMap;function HB(n,e){return new Et(t=>{const r=new AbortController,i=r.signal;return fetch(n,{...e,signal:r.signal}).then(o=>{t.next(o),t.complete()},o=>{i.aborted||t.error(o)}),()=>r.abort()})}const jy=new Map;var zs,qs;class WB{constructor(e,t){ge(this,zs);ge(this,qs);pe(this,zs,e),pe(this,qs,t)}create(e,t){return Ml(L(this,zs),L(this,qs),"PUT",e,t)}edit(e,t){return Ml(L(this,zs),L(this,qs),"PATCH",e,t)}delete(e){return Ml(L(this,zs),L(this,qs),"DELETE",e)}list(){return Cr(L(this,zs),L(this,qs),{uri:"/datasets",tag:null})}}zs=new WeakMap,qs=new WeakMap;var nr,Hs;class GB{constructor(e,t){ge(this,nr);ge(this,Hs);pe(this,nr,e),pe(this,Hs,t)}create(e,t){return Ur("dataset",L(this,nr).config()),Vt(Ml(L(this,nr),L(this,Hs),"PUT",e,t))}edit(e,t){return Ur("dataset",L(this,nr).config()),Vt(Ml(L(this,nr),L(this,Hs),"PATCH",e,t))}delete(e){return Ur("dataset",L(this,nr).config()),Vt(Ml(L(this,nr),L(this,Hs),"DELETE",e))}list(){return Ur("dataset",L(this,nr).config()),Vt(Cr(L(this,nr),L(this,Hs),{uri:"/datasets",tag:null}))}}nr=new WeakMap,Hs=new WeakMap;function Ml(n,e,t,r,i){return Ur("dataset",n.config()),vR(r),Cr(n,e,{method:t,uri:`/datasets/${r}`,body:i,tag:null})}var Ws,Wl;class KB{constructor(e,t){ge(this,Ws);ge(this,Wl);pe(this,Ws,e),pe(this,Wl,t)}list(e){Ur("projects",L(this,Ws).config());const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Cr(L(this,Ws),L(this,Wl),{uri:t})}getById(e){return Ur("projects",L(this,Ws).config()),Cr(L(this,Ws),L(this,Wl),{uri:`/projects/${e}`})}}Ws=new WeakMap,Wl=new WeakMap;var Gs,Gl;class QB{constructor(e,t){ge(this,Gs);ge(this,Gl);pe(this,Gs,e),pe(this,Gl,t)}list(e){Ur("projects",L(this,Gs).config());const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Vt(Cr(L(this,Gs),L(this,Gl),{uri:t}))}getById(e){return Ur("projects",L(this,Gs).config()),Vt(Cr(L(this,Gs),L(this,Gl),{uri:`/projects/${e}`}))}}Gs=new WeakMap,Gl=new WeakMap;var Nh,Dh;class YB{constructor(e,t){ge(this,Nh);ge(this,Dh);pe(this,Nh,e),pe(this,Dh,t)}getById(e){return Cr(L(this,Nh),L(this,Dh),{uri:`/users/${e}`})}}Nh=new WeakMap,Dh=new WeakMap;var Lh,Vh;class XB{constructor(e,t){ge(this,Lh);ge(this,Vh);pe(this,Lh,e),pe(this,Vh,t)}getById(e){return Vt(Cr(L(this,Lh),L(this,Vh),{uri:`/users/${e}`}))}}Lh=new WeakMap,Vh=new WeakMap;var Ri,Rt;const Qp=class Qp{constructor(e,t=qc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");ge(this,Ri);ge(this,Rt);le(this,"listen",qR);this.config(t),pe(this,Rt,e),this.assets=new DB(this,L(this,Rt)),this.datasets=new WB(this,L(this,Rt)),this.live=new HR(this),this.projects=new KB(this,L(this,Rt)),this.users=new YB(this,L(this,Rt))}clone(){return new Qp(L(this,Rt),this.config())}config(e){if(e===void 0)return{...L(this,Ri)};if(L(this,Ri)&&L(this,Ri).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return pe(this,Ri,bR(e,L(this,Ri)||{})),this}withConfig(e){const t=this.config();return new Qp(L(this,Rt),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,r){return OR(this,L(this,Rt),L(this,Ri).stega,e,t,r)}getDocument(e,t){return NR(this,L(this,Rt),e,t)}getDocuments(e,t){return DR(this,L(this,Rt),e,t)}create(e,t){return Rm(this,L(this,Rt),e,"create",t)}createIfNotExists(e,t){return LR(this,L(this,Rt),e,t)}createOrReplace(e,t){return VR(this,L(this,Rt),e,t)}delete(e,t){return MR(this,L(this,Rt),e,t)}mutate(e,t){return jR(this,L(this,Rt),e,t)}patch(e,t){return new la(e,t,this)}transaction(e){return new $p(e,this)}action(e,t){return $R(this,L(this,Rt),e,t)}request(e){return Cr(this,L(this,Rt),e)}getUrl(e,t){return bw(this,e,t)}getDataUrl(e,t){return ar(this,e,t)}};Ri=new WeakMap,Rt=new WeakMap;let Dv=Qp;var ki,bt;const Yp=class Yp{constructor(e,t=qc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");le(this,"observable");ge(this,ki);ge(this,bt);le(this,"listen",qR);this.config(t),pe(this,bt,e),this.assets=new LB(this,L(this,bt)),this.datasets=new GB(this,L(this,bt)),this.live=new HR(this),this.projects=new QB(this,L(this,bt)),this.users=new XB(this,L(this,bt)),this.observable=new Dv(e,t)}clone(){return new Yp(L(this,bt),this.config())}config(e){if(e===void 0)return{...L(this,ki)};if(L(this,ki)&&L(this,ki).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),pe(this,ki,bR(e,L(this,ki)||{})),this}withConfig(e){const t=this.config();return new Yp(L(this,bt),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,r){return Vt(OR(this,L(this,bt),L(this,ki).stega,e,t,r))}getDocument(e,t){return Vt(NR(this,L(this,bt),e,t))}getDocuments(e,t){return Vt(DR(this,L(this,bt),e,t))}create(e,t){return Vt(Rm(this,L(this,bt),e,"create",t))}createIfNotExists(e,t){return Vt(LR(this,L(this,bt),e,t))}createOrReplace(e,t){return Vt(VR(this,L(this,bt),e,t))}delete(e,t){return Vt(MR(this,L(this,bt),e,t))}mutate(e,t){return Vt(jR(this,L(this,bt),e,t))}patch(e,t){return new Qs(e,t,this)}transaction(e){return new jp(e,this)}action(e,t){return Vt($R(this,L(this,bt),e,t))}request(e){return Vt(Cr(this,L(this,bt),e))}dataRequest(e,t,r){return Vt(Tu(this,L(this,bt),e,t,r))}getUrl(e,t){return bw(this,e,t)}getDataUrl(e,t){return ar(this,e,t)}};ki=new WeakMap,bt=new WeakMap;let Lv=Yp;function JB(n,e){return{requester:Bx(n),createClient:t=>{const r=Bx(n);return new e((i,o)=>(o||r)({maxRedirects:0,maxRetries:t.maxRetries,retryDelay:t.retryDelay,...i}),t)}}}var ZB=[];const ez=JB(ZB,Lv),tz=ez.createClient;var ip={exports:{}},nz=ip.exports,Kx;function rz(){return Kx||(Kx=1,function(n,e){(function(t,r){n.exports=r()})(nz,function(){function t(){return t=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&(S[$]=I[$])}return S},t.apply(this,arguments)}function r(S,A){if(S){if(typeof S=="string")return i(S,A);var I=Object.prototype.toString.call(S).slice(8,-1);if(I==="Object"&&S.constructor&&(I=S.constructor.name),I==="Map"||I==="Set")return Array.from(S);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return i(S,A)}}function i(S,A){(A==null||A>S.length)&&(A=S.length);for(var I=0,$=new Array(A);I<A;I++)$[I]=S[I];return $}function o(S,A){var I=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(I)return(I=I.call(S)).next.bind(I);if(Array.isArray(S)||(I=r(S))||A){I&&(S=I);var $=0;return function(){return $>=S.length?{done:!0}:{done:!1,value:S[$++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function u(S){var A=S.split("-"),I=A[1],$=A[2],me=A[3];if(!I||!$||!me)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');var ee=$.split("x"),ie=ee[0],te=ee[1],fe=+ie,ae=+te,q=isFinite(fe)&&isFinite(ae);if(!q)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');return{id:I,width:fe,height:ae,format:me}}var h=function(A){var I=A;return I?typeof I._ref=="string":!1},d=function(A){var I=A;return I?typeof I._id=="string":!1},m=function(A){var I=A;return I&&I.asset?typeof I.asset.url=="string":!1};function y(S){if(!S)return null;var A;if(typeof S=="string"&&_(S))A={asset:{_ref:E(S)}};else if(typeof S=="string")A={asset:{_ref:S}};else if(h(S))A={asset:S};else if(d(S))A={asset:{_ref:S._id||""}};else if(m(S))A={asset:{_ref:E(S.asset.url)}};else if(typeof S.asset=="object")A=t({},S);else return null;var I=S;return I.crop&&(A.crop=I.crop),I.hotspot&&(A.hotspot=I.hotspot),b(A)}function _(S){return/^https?:\/\//.test(""+S)}function E(S){var A=S.split("/").slice(-1);return("image-"+A[0]).replace(/\.([a-z]+)$/,"-$1")}function b(S){if(S.crop&&S.hotspot)return S;var A=t({},S);return A.crop||(A.crop={left:0,top:0,bottom:0,right:0}),A.hotspot||(A.hotspot={x:.5,y:.5,height:1,width:1}),A}var x=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function k(S){var A=t({},S||{}),I=A.source;delete A.source;var $=y(I);if(!$)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var me=$.asset._ref||$.asset._id||"",ee=u(me),ie=Math.round($.crop.left*ee.width),te=Math.round($.crop.top*ee.height),fe={left:ie,top:te,width:Math.round(ee.width-$.crop.right*ee.width-ie),height:Math.round(ee.height-$.crop.bottom*ee.height-te)},ae=$.hotspot.height*ee.height/2,q=$.hotspot.width*ee.width/2,ne=$.hotspot.x*ee.width,ye=$.hotspot.y*ee.height,xe={left:ne-q,top:ye-ae,right:ne+q,bottom:ye+ae};return A.rect||A.focalPoint||A.ignoreImageParams||A.crop||(A=t({},A,D({crop:fe,hotspot:xe},A))),P(t({},A,{asset:ee}))}function P(S){var A=(S.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=S.vanityName?"/"+S.vanityName:"",$=S.asset.id+"-"+S.asset.width+"x"+S.asset.height+"."+S.asset.format+I,me=A+"/images/"+S.projectId+"/"+S.dataset+"/"+$,ee=[];if(S.rect){var ie=S.rect,te=ie.left,fe=ie.top,ae=ie.width,q=ie.height,ne=te!==0||fe!==0||q!==S.asset.height||ae!==S.asset.width;ne&&ee.push("rect="+te+","+fe+","+ae+","+q)}S.bg&&ee.push("bg="+S.bg),S.focalPoint&&(ee.push("fp-x="+S.focalPoint.x),ee.push("fp-y="+S.focalPoint.y));var ye=[S.flipHorizontal&&"h",S.flipVertical&&"v"].filter(Boolean).join("");return ye&&ee.push("flip="+ye),x.forEach(function(xe){var Re=xe[0],Se=xe[1];typeof S[Re]<"u"?ee.push(Se+"="+encodeURIComponent(S[Re])):typeof S[Se]<"u"&&ee.push(Se+"="+encodeURIComponent(S[Se]))}),ee.length===0?me:me+"?"+ee.join("&")}function D(S,A){var I,$=A.width,me=A.height;if(!($&&me))return{width:$,height:me,rect:S.crop};var ee=S.crop,ie=S.hotspot,te=$/me,fe=ee.width/ee.height;if(fe>te){var ae=Math.round(ee.height),q=Math.round(ae*te),ne=Math.max(0,Math.round(ee.top)),ye=Math.round((ie.right-ie.left)/2+ie.left),xe=Math.max(0,Math.round(ye-q/2));xe<ee.left?xe=ee.left:xe+q>ee.left+ee.width&&(xe=ee.left+ee.width-q),I={left:xe,top:ne,width:q,height:ae}}else{var Re=ee.width,Se=Math.round(Re/te),ze=Math.max(0,Math.round(ee.left)),qe=Math.round((ie.bottom-ie.top)/2+ie.top),je=Math.max(0,Math.round(qe-Se/2));je<ee.top?je=ee.top:je+Se>ee.top+ee.height&&(je=ee.top+ee.height-Se),I={left:ze,top:je,width:Re,height:Se}}return{width:$,height:me,rect:I}}var M=["clip","crop","fill","fillmax","max","scale","min"],W=["top","bottom","left","right","center","focalpoint","entropy"],X=["format"];function J(S){return S&&"config"in S?typeof S.config=="function":!1}function j(S){return S&&"clientConfig"in S?typeof S.clientConfig=="object":!1}function O(S){for(var A=x,I=o(A),$;!($=I()).done;){var me=$.value,ee=me[0],ie=me[1];if(S===ee||S===ie)return ee}return S}function V(S){if(J(S)){var A=S.config(),I=A.apiHost,$=A.projectId,me=A.dataset,ee=I||"https://api.sanity.io";return new B(null,{baseUrl:ee.replace(/^https:\/\/api\./,"https://cdn."),projectId:$,dataset:me})}if(j(S)){var ie=S.clientConfig,te=ie.apiHost,fe=ie.projectId,ae=ie.dataset,q=te||"https://api.sanity.io";return new B(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:fe,dataset:ae})}return new B(null,S||{})}var B=function(){function S(I,$){this.options=void 0,this.options=I?t({},I.options||{},$||{}):t({},$||{})}var A=S.prototype;return A.withOptions=function($){var me=$.baseUrl||this.options.baseUrl,ee={baseUrl:me};for(var ie in $)if($.hasOwnProperty(ie)){var te=O(ie);ee[te]=$[ie]}return new S(this,t({baseUrl:me},ee))},A.image=function($){return this.withOptions({source:$})},A.dataset=function($){return this.withOptions({dataset:$})},A.projectId=function($){return this.withOptions({projectId:$})},A.bg=function($){return this.withOptions({bg:$})},A.dpr=function($){return this.withOptions($&&$!==1?{dpr:$}:{})},A.width=function($){return this.withOptions({width:$})},A.height=function($){return this.withOptions({height:$})},A.focalPoint=function($,me){return this.withOptions({focalPoint:{x:$,y:me}})},A.maxWidth=function($){return this.withOptions({maxWidth:$})},A.minWidth=function($){return this.withOptions({minWidth:$})},A.maxHeight=function($){return this.withOptions({maxHeight:$})},A.minHeight=function($){return this.withOptions({minHeight:$})},A.size=function($,me){return this.withOptions({width:$,height:me})},A.blur=function($){return this.withOptions({blur:$})},A.sharpen=function($){return this.withOptions({sharpen:$})},A.rect=function($,me,ee,ie){return this.withOptions({rect:{left:$,top:me,width:ee,height:ie}})},A.format=function($){return this.withOptions({format:$})},A.invert=function($){return this.withOptions({invert:$})},A.orientation=function($){return this.withOptions({orientation:$})},A.quality=function($){return this.withOptions({quality:$})},A.forceDownload=function($){return this.withOptions({download:$})},A.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},A.flipVertical=function(){return this.withOptions({flipVertical:!0})},A.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},A.fit=function($){if(M.indexOf($)===-1)throw new Error('Invalid fit mode "'+$+'"');return this.withOptions({fit:$})},A.crop=function($){if(W.indexOf($)===-1)throw new Error('Invalid crop mode "'+$+'"');return this.withOptions({crop:$})},A.saturation=function($){return this.withOptions({saturation:$})},A.auto=function($){if(X.indexOf($)===-1)throw new Error('Invalid auto mode "'+$+'"');return this.withOptions({auto:$})},A.pad=function($){return this.withOptions({pad:$})},A.vanityName=function($){return this.withOptions({vanityName:$})},A.frame=function($){if($!==1)throw new Error('Invalid frame value "'+$+'"');return this.withOptions({frame:$})},A.url=function(){return k(this.options)},A.toString=function(){return this.url()},S}();return V})}(ip)),ip.exports}var iz=rz();const sz=du(iz),WR=tz({projectId:"yn77xan2",dataset:"production",useCdn:!0,apiVersion:"2023-05-03"}),oz=sz(WR),$y=n=>oz.image(n),GR=()=>{const[n,e]=U.useState([]),[t,r]=U.useState(!0),[i,o]=U.useState(null),[l,u]=U.useState("all");U.useEffect(()=>{(async()=>{try{const M=await WR.fetch(`*[_type == "gallery"] | order(order asc, _createdAt desc) {
          _id,
          title,
          description,
          image,
          alt,
          category,
          featured,
          order
        }`);console.log("Fetched images from Sanity:",M),M&&M.length>0?e(M):(console.log("No images found in Sanity, using fallback data"),e(h))}catch(D){console.error("Error fetching gallery images:",D),e(h)}finally{r(!1)}})()},[]);const h=[{_id:"1",title:"Cycling Action Shot 1",description:"Intense cycling moment captured at the track",image:{asset:{url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}},alt:"Cyclists racing on track",category:"cycling",featured:!0},{_id:"2",title:"Cycling Action Shot 2",description:"Close competition between riders",image:{asset:{url:"https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}},alt:"Multiple cyclists racing",category:"cycling",featured:!1},{_id:"3",title:"Motorbike Detail 1",description:"Beautiful motorcycle engineering",image:{asset:{url:"https://images.unsplash.com/photo-1583121274602-3e2820c69888?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}},alt:"Detailed view of motorcycle",category:"motorbikes",featured:!1}],d=l==="all"?n:n.filter(P=>P.category===l),m=["all",...new Set(n.map(P=>P.category).filter(Boolean))],y=P=>{o(P),document.body.style.overflow="hidden"},_=()=>{o(null),document.body.style.overflow="unset"},E=()=>{const D=(d.findIndex(M=>M._id===i._id)+1)%d.length;o(d[D])},b=()=>{const P=d.findIndex(M=>M._id===i._id),D=P===0?d.length-1:P-1;o(d[D])};U.useEffect(()=>{const P=D=>{i&&(D.key==="Escape"&&_(),D.key==="ArrowRight"&&E(),D.key==="ArrowLeft"&&b())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[i,d]);const x=P=>{var M;if(console.log("Processing image for URL:",P),P!=null&&P.asset)try{const W=$y(P).width(800).height(600).fit("crop").url();return console.log("Generated Sanity URL:",W),W}catch(W){console.error("Error generating Sanity URL:",W)}const D=((M=P==null?void 0:P.asset)==null?void 0:M.url)||(P==null?void 0:P.url)||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80";return console.log("Using fallback URL:",D),D},k=P=>{var D,M,W;return(D=P==null?void 0:P.asset)!=null&&D._ref||(M=P==null?void 0:P.asset)!=null&&M._id?$y(P).width(1200).height(900).fit("crop").url():((W=P==null?void 0:P.asset)==null?void 0:W.url)||(P==null?void 0:P.url)||""};return t?R.jsx("div",{className:"min-h-screen flex items-center justify-center",children:R.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):R.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"分享攝影"}),R.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"})]}),R.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:m.map(P=>R.jsx("button",{onClick:()=>u(P),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${l===P?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-blue-50 hover:text-blue-600 shadow-md"}`,children:P.charAt(0).toUpperCase()+P.slice(1).replace("-"," ")},P))}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(P=>R.jsxs("div",{className:"group cursor-pointer bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",onClick:()=>y(P),children:[R.jsxs("div",{className:"relative overflow-hidden",children:[R.jsx("img",{src:x(P.image),alt:P.alt||P.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",onError:D=>{console.log("Image failed to load:",D.target.src),D.target.src=" ://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),R.jsx("div",{className:"absolute inset-0  bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:R.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:R.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})}),P.featured&&R.jsx("div",{className:"absolute top-4 left-4",children:R.jsx("span",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Featured"})})]}),R.jsxs("div",{className:"p-6",children:[R.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:P.title}),P.description&&R.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:P.description}),P.category&&R.jsx("div",{className:"mt-3",children:R.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:P.category.replace("-"," ")})})]})]},P._id))}),d.length===0&&R.jsx("div",{className:"text-center py-12",children:R.jsx("p",{className:"text-gray-500 text-lg",children:"No images found for the selected category."})})]}),i&&R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:R.jsxs("div",{className:"relative max-w-5xl max-h-full",children:[R.jsx("button",{onClick:_,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:R.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),R.jsx("button",{onClick:b,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",children:R.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),R.jsx("button",{onClick:E,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",children:R.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),R.jsx("img",{src:k(i.image),alt:i.alt||i.title,className:"max-w-full max-h-full object-contain"}),R.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6",children:[R.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:i.title}),i.description&&R.jsx("p",{className:"text-gray-300 text-sm",children:i.description})]})]})})]})},az=()=>R.jsxs("div",{children:[R.jsx(vU,{}),R.jsx(MP,{}),R.jsx(GR,{})]});function lz(n){return fo({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(n)}const KR=U.createContext({});function uz(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const Sw=U.createContext(null),QR=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function cz(n=!0){const e=U.useContext(Sw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,o=U.useId();U.useEffect(()=>{n&&i(o)},[n]);const l=U.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const Iw=typeof window<"u",hz=Iw?U.useLayoutEffect:U.useEffect,Fn=n=>n;let Vv=Fn;function Cw(n){let e;return()=>(e===void 0&&(e=n()),e)}const uu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},ji=n=>n*1e3,$i=n=>n/1e3,dz={skipAnimations:!1,useManualTiming:!1};function fz(n){let e=new Set,t=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(d){o.has(d)&&(h.schedule(d),n()),d(l)}const h={schedule:(d,m=!1,y=!1)=>{const E=y&&r?e:t;return m&&o.add(d),E.has(d)||E.add(d),d},cancel:d=>{t.delete(d),o.delete(d)},process:d=>{if(l=d,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,h.process(d))}};return h}const $f=["read","resolveKeyframes","update","preRender","render","postRender"],pz=40;function YR(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=$f.reduce((P,D)=>(P[D]=fz(o),P),{}),{read:u,resolveKeyframes:h,update:d,preRender:m,render:y,postRender:_}=l,E=()=>{const P=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,pz),1),i.timestamp=P,i.isProcessing=!0,u.process(i),h.process(i),d.process(i),m.process(i),y.process(i),_.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(E))},b=()=>{t=!0,r=!0,i.isProcessing||n(E)};return{schedule:$f.reduce((P,D)=>{const M=l[D];return P[D]=(W,X=!1,J=!1)=>(t||b(),M.schedule(W,X,J)),P},{}),cancel:P=>{for(let D=0;D<$f.length;D++)l[$f[D]].cancel(P)},state:i,steps:l}}const{schedule:at,cancel:uo,state:Xt,steps:Fy}=YR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0),XR=U.createContext({strict:!1}),Qx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const n in Qx)cu[n]={isEnabled:e=>Qx[n].some(t=>!!e[t])};function mz(n){for(const e in n)cu[e]={...cu[e],...n[e]}}const gz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||gz.has(n)}let JR=n=>!Fp(n);function yz(n){n&&(JR=e=>e.startsWith("on")?!Fp(e):n(e))}try{yz(require("@emotion/is-prop-valid").default)}catch{}function vz(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(JR(i)||t===!0&&Fp(i)||!e&&!Fp(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function wz(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const km=U.createContext({});function oh(n){return typeof n=="string"||Array.isArray(n)}function Om(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Aw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pw=["initial",...Aw];function Nm(n){return Om(n.animate)||Pw.some(e=>oh(n[e]))}function ZR(n){return!!(Nm(n)||n.variants)}function _z(n,e){if(Nm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||oh(t)?t:void 0,animate:oh(r)?r:void 0}}return n.inherit!==!1?e:{}}function Ez(n){const{initial:e,animate:t}=_z(n,U.useContext(km));return U.useMemo(()=>({initial:e,animate:t}),[Yx(e),Yx(t)])}function Yx(n){return Array.isArray(n)?n.join(" "):n}const Tz=Symbol.for("motionComponentSymbol");function Sl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function xz(n,e,t){return U.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Sl(t)&&(t.current=r))},[e])}const Rw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bz="framerAppearId",e2="data-"+Rw(bz),{schedule:kw,cancel:jG}=YR(queueMicrotask,!1),t2=U.createContext({});function Sz(n,e,t,r,i){var o,l;const{visualElement:u}=U.useContext(km),h=U.useContext(XR),d=U.useContext(Sw),m=U.useContext(QR).reducedMotion,y=U.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(n,{visualState:e,parent:u,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const _=y.current,E=U.useContext(t2);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&Iz(y.current,t,i,E);const b=U.useRef(!1);U.useInsertionEffect(()=>{_&&b.current&&_.update(t,d)});const x=t[e2],k=U.useRef(!!x&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,x))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,x)));return hz(()=>{_&&(b.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),kw.render(_.render),k.current&&_.animationState&&_.animationState.animateChanges())}),U.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,x)}),k.current=!1))}),_}function Iz(n,e,t,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:n2(n.parent)),n.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Sl(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:d})}function n2(n){if(n)return n.options.allowProjection!==!1?n.projection:n2(n.parent)}function Cz({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var o,l;n&&mz(n);function u(d,m){let y;const _={...U.useContext(QR),...d,layoutId:Az(d)},{isStatic:E}=_,b=Ez(d),x=r(d,E);if(!E&&Iw){Pz();const k=Rz(_);y=k.MeasureLayout,b.visualElement=Sz(i,x,_,e,k.ProjectionNode)}return R.jsxs(km.Provider,{value:b,children:[y&&b.visualElement?R.jsx(y,{visualElement:b.visualElement,..._}):null,t(i,d,xz(x,b.visualElement,m),x,E,b.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&l!==void 0?l:""})`}`;const h=U.forwardRef(u);return h[Tz]=i,h}function Az({layoutId:n}){const e=U.useContext(KR).id;return e&&n!==void 0?e+"-"+n:n}function Pz(n,e){U.useContext(XR).strict}function Rz(n){const{drag:e,layout:t}=cu;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const kz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ow(n){return typeof n!="string"||n.includes("-")?!1:!!(kz.indexOf(n)>-1||/[A-Z]/u.test(n))}function Xx(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Nw(n,e,t,r){if(typeof e=="function"){const[i,o]=Xx(r);e=e(t!==void 0?t:n.custom,i,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,o]=Xx(r);e=e(t!==void 0?t:n.custom,i,o)}return e}const Mv=n=>Array.isArray(n),Oz=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Nz=n=>Mv(n)?n[n.length-1]||0:n,cn=n=>!!(n&&n.getVelocity);function sp(n){const e=cn(n)?n.get():n;return Oz(e)?e.toValue():e}function Dz({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,o){const l={latestValues:Lz(r,i,o,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const r2=n=>(e,t)=>{const r=U.useContext(km),i=U.useContext(Sw),o=()=>Dz(n,e,r,i);return t?o():uz(o)};function Lz(n,e,t,r){const i={},o=r(n,{});for(const _ in o)i[_]=sp(o[_]);let{initial:l,animate:u}=n;const h=Nm(n),d=ZR(n);e&&d&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!Om(y)){const _=Array.isArray(y)?y:[y];for(let E=0;E<_.length;E++){const b=Nw(n,_[E]);if(b){const{transitionEnd:x,transition:k,...P}=b;for(const D in P){let M=P[D];if(Array.isArray(M)){const W=m?M.length-1:0;M=M[W]}M!==null&&(i[D]=M)}for(const D in x)i[D]=x[D]}}}return i}const xu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xa=new Set(xu),i2=n=>e=>typeof e=="string"&&e.startsWith(n),s2=i2("--"),Vz=i2("var(--"),Dw=n=>Vz(n)?Mz.test(n.split("/*")[0].trim()):!1,Mz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,o2=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Qi=(n,e,t)=>t>e?e:t<n?n:t,bu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ah={...bu,transform:n=>Qi(0,1,n)},Ff={...bu,default:1},ld=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),As=ld("deg"),Wr=ld("%"),ke=ld("px"),jz=ld("vh"),$z=ld("vw"),Jx={...Wr,parse:n=>Wr.parse(n)/100,transform:n=>Wr.transform(n*100)},Fz={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke},Uz={rotate:As,rotateX:As,rotateY:As,rotateZ:As,scale:Ff,scaleX:Ff,scaleY:Ff,scaleZ:Ff,skew:As,skewX:As,skewY:As,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:ah,originX:Jx,originY:Jx,originZ:ke},Zx={...bu,transform:Math.round},Lw={...Fz,...Uz,zIndex:Zx,size:ke,fillOpacity:ah,strokeOpacity:ah,numOctaves:Zx},Bz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zz=xu.length;function qz(n,e,t){let r="",i=!0;for(let o=0;o<zz;o++){const l=xu[o],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const d=o2(u,Lw[l]);if(!h){i=!1;const m=Bz[l]||l;r+=`${m}(${d}) `}t&&(e[l]=d)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Vw(n,e,t){const{style:r,vars:i,transformOrigin:o}=n;let l=!1,u=!1;for(const h in e){const d=e[h];if(xa.has(h)){l=!0;continue}else if(s2(h)){i[h]=d;continue}else{const m=o2(d,Lw[h]);h.startsWith("origin")?(u=!0,o[h]=m):r[h]=m}}if(e.transform||(l||t?r.transform=qz(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${d} ${m}`}}const Hz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wz={offset:"strokeDashoffset",array:"strokeDasharray"};function Gz(n,e,t=1,r=0,i=!0){n.pathLength=1;const o=i?Hz:Wz;n[o.offset]=ke.transform(-r);const l=ke.transform(e),u=ke.transform(t);n[o.array]=`${l} ${u}`}function eb(n,e,t){return typeof n=="string"?n:ke.transform(e+t*n)}function Kz(n,e,t){const r=eb(e,n.x,n.width),i=eb(t,n.y,n.height);return`${r} ${i}`}function Mw(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...d},m,y){if(Vw(n,d,y),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:E,dimensions:b}=n;_.transform&&(b&&(E.transform=_.transform),delete _.transform),b&&(i!==void 0||o!==void 0||E.transform)&&(E.transformOrigin=Kz(b,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),l!==void 0&&Gz(_,l,u,h,!1)}const jw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),a2=()=>({...jw(),attrs:{}}),$w=n=>typeof n=="string"&&n.toLowerCase()==="svg";function l2(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const u2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c2(n,e,t,r){l2(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(u2.has(i)?i:Rw(i),e.attrs[i])}const Up={};function Qz(n){Object.assign(Up,n)}function h2(n,{layout:e,layoutId:t}){return xa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Up[n]||n==="opacity")}function Fw(n,e,t){var r;const{style:i}=n,o={};for(const l in i)(cn(i[l])||e.style&&cn(e.style[l])||h2(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=i[l]);return o}function d2(n,e,t){const r=Fw(n,e,t);for(const i in n)if(cn(n[i])||cn(e[i])){const o=xu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=n[i]}return r}function Yz(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const tb=["x","y","width","height","cx","cy","r"],Xz={useVisualState:r2({scrapeMotionValuesFromProps:d2,createRenderState:a2,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in i)if(xa.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<tb.length;u++){const h=tb[u];n[h]!==e[h]&&(l=!0)}l&&at.read(()=>{Yz(t,r),at.render(()=>{Mw(r,i,$w(t.tagName),n.transformTemplate),c2(t,r)})})}})},Jz={useVisualState:r2({scrapeMotionValuesFromProps:Fw,createRenderState:jw})};function f2(n,e,t){for(const r in e)!cn(e[r])&&!h2(r,t)&&(n[r]=e[r])}function Zz({transformTemplate:n},e){return U.useMemo(()=>{const t=jw();return Vw(t,e,n),Object.assign({},t.vars,t.style)},[e])}function e8(n,e){const t=n.style||{},r={};return f2(r,t,n),Object.assign(r,Zz(n,e)),r}function t8(n,e){const t={},r=e8(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function n8(n,e,t,r){const i=U.useMemo(()=>{const o=a2();return Mw(o,e,$w(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};f2(o,n.style,n),i.style={...o,...i.style}}return i}function r8(n=!1){return(t,r,i,{latestValues:o},l)=>{const h=(Ow(t)?n8:t8)(r,o,l,t),d=vz(r,typeof t=="string",n),m=t!==U.Fragment?{...d,...h,ref:i}:{},{children:y}=r,_=U.useMemo(()=>cn(y)?y.get():y,[y]);return U.createElement(t,{...m,children:_})}}function i8(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Ow(r)?Xz:Jz,preloadedFeatures:n,useRender:r8(i),createVisualElement:e,Component:r};return Cz(l)}}function p2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Dm(n,e,t){const r=n.getProps();return Nw(r,e,t!==void 0?t:r.custom,n)}const s8=Cw(()=>window.ScrollTimeline!==void 0);class o8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(s8()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class a8 extends o8{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Uw(n,e){return n?n[e]||n.default||n:void 0}const jv=2e4;function m2(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<jv;)e+=t,r=n.next(e);return e>=jv?1/0:e}function Bw(n){return typeof n=="function"}function nb(n,e){n.timeline=e,n.onfinish=null}const zw=n=>Array.isArray(n)&&typeof n[0]=="number",l8={linearEasing:void 0};function u8(n,e){const t=Cw(n);return()=>{var r;return(r=l8[e])!==null&&r!==void 0?r:t()}}const Bp=u8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),g2=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let o=0;o<i;o++)r+=n(uu(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function y2(n){return!!(typeof n=="function"&&Bp()||!n||typeof n=="string"&&(n in $v||Bp())||zw(n)||Array.isArray(n)&&n.every(y2))}const kc=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,$v={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function v2(n,e){if(n)return typeof n=="function"&&Bp()?g2(n,e):zw(n)?kc(n):Array.isArray(n)?n.map(t=>v2(t,e)||$v.easeOut):$v[n]}const xr={x:!1,y:!1};function w2(){return xr.x||xr.y}function c8(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function _2(n,e){const t=c8(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function rb(n){return e=>{e.pointerType==="touch"||w2()||n(e)}}function h8(n,e,t={}){const[r,i,o]=_2(n,t),l=rb(u=>{const{target:h}=u,d=e(u);if(typeof d!="function"||!h)return;const m=rb(y=>{d(y),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}const E2=(n,e)=>e?n===e?!0:E2(n,e.parentElement):!1,qw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,d8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f8(n){return d8.has(n.tagName)||n.tabIndex!==-1}const Oc=new WeakSet;function ib(n){return e=>{e.key==="Enter"&&n(e)}}function Uy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p8=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=ib(()=>{if(Oc.has(t))return;Uy(t,"down");const i=ib(()=>{Uy(t,"up")}),o=()=>Uy(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function sb(n){return qw(n)&&!w2()}function m8(n,e,t={}){const[r,i,o]=_2(n,t),l=u=>{const h=u.currentTarget;if(!sb(u)||Oc.has(h))return;Oc.add(h);const d=e(u),m=(E,b)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!sb(E)||!Oc.has(h))&&(Oc.delete(h),typeof d=="function"&&d(E,{success:b}))},y=E=>{m(E,t.useGlobalTarget||E2(h,E.target))},_=E=>{m(E,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",_,i)};return r.forEach(u=>{!f8(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",d=>p8(d,i),i)}),o}function g8(n){return n==="x"||n==="y"?xr[n]?null:(xr[n]=!0,()=>{xr[n]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}const T2=new Set(["width","height","top","left","right","bottom",...xu]);let op;function y8(){op=void 0}const Gr={now:()=>(op===void 0&&Gr.set(Xt.isProcessing||dz.useManualTiming?Xt.timestamp:performance.now()),op),set:n=>{op=n,queueMicrotask(y8)}};function Hw(n,e){n.indexOf(e)===-1&&n.push(e)}function Ww(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Gw{constructor(){this.subscriptions=[]}add(e){return Hw(this.subscriptions,e),()=>Ww(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function x2(n,e){return e?n*(1e3/e):0}const ob=30,v8=n=>!isNaN(parseFloat(n));class w8{constructor(e,t={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Gr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Gr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Gw);const r=this.events[e].add(t);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ob)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ob);return x2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lh(n,e){return new w8(n,e)}function _8(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,lh(t))}function E8(n,e){const t=Dm(n,e);let{transitionEnd:r={},transition:i={},...o}=t||{};o={...o,...r};for(const l in o){const u=Nz(o[l]);_8(n,l,u)}}function T8(n){return!!(cn(n)&&n.add)}function Fv(n,e){const t=n.getValue("willChange");if(T8(t))return t.add(e)}function b2(n){return n.props[e2]}const S2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,x8=1e-7,b8=12;function S8(n,e,t,r,i){let o,l,u=0;do l=e+(t-e)/2,o=S2(l,r,i)-n,o>0?t=l:e=l;while(Math.abs(o)>x8&&++u<b8);return l}function ud(n,e,t,r){if(n===e&&t===r)return Fn;const i=o=>S8(o,0,1,n,t);return o=>o===0||o===1?o:S2(i(o),e,r)}const I2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,C2=n=>e=>1-n(1-e),A2=ud(.33,1.53,.69,.99),Kw=C2(A2),P2=I2(Kw),R2=n=>(n*=2)<1?.5*Kw(n):.5*(2-Math.pow(2,-10*(n-1))),Qw=n=>1-Math.sin(Math.acos(n)),k2=C2(Qw),O2=I2(Qw),N2=n=>/^0[^.\s]+$/u.test(n);function I8(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||N2(n):!0}const Hc=n=>Math.round(n*1e5)/1e5,Yw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C8(n){return n==null}const A8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xw=(n,e)=>t=>!!(typeof t=="string"&&A8.test(t)&&t.startsWith(n)||e&&!C8(t)&&Object.prototype.hasOwnProperty.call(t,e)),D2=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(Yw);return{[n]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},P8=n=>Qi(0,255,n),By={...bu,transform:n=>Math.round(P8(n))},Xo={test:Xw("rgb","red"),parse:D2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+By.transform(n)+", "+By.transform(e)+", "+By.transform(t)+", "+Hc(ah.transform(r))+")"};function R8(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Uv={test:Xw("#"),parse:R8,transform:Xo.transform},Il={test:Xw("hsl","hue"),parse:D2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Wr.transform(Hc(e))+", "+Wr.transform(Hc(t))+", "+Hc(ah.transform(r))+")"},an={test:n=>Xo.test(n)||Uv.test(n)||Il.test(n),parse:n=>Xo.test(n)?Xo.parse(n):Il.test(n)?Il.parse(n):Uv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Xo.transform(n):Il.transform(n)},k8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O8(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Yw))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(k8))===null||t===void 0?void 0:t.length)||0)>0}const L2="number",V2="color",N8="var",D8="var(",ab="${}",L8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(L8,h=>(an.test(h)?(r.color.push(o),i.push(V2),t.push(an.parse(h))):h.startsWith(D8)?(r.var.push(o),i.push(N8),t.push(h)):(r.number.push(o),i.push(L2),t.push(parseFloat(h))),++o,ab)).split(ab);return{values:t,split:u,indexes:r,types:i}}function M2(n){return uh(n).values}function j2(n){const{split:e,types:t}=uh(n),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const u=t[l];u===L2?o+=Hc(i[l]):u===V2?o+=an.transform(i[l]):o+=i[l]}return o}}const V8=n=>typeof n=="number"?0:n;function M8(n){const e=M2(n);return j2(n)(e.map(V8))}const co={test:O8,parse:M2,createTransformer:j2,getAnimatableNone:M8},j8=new Set(["brightness","contrast","saturate","opacity"]);function $8(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Yw)||[];if(!r)return n;const i=t.replace(r,"");let o=j8.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+i+")"}const F8=/\b([a-z-]*)\(.*?\)/gu,Bv={...co,getAnimatableNone:n=>{const e=n.match(F8);return e?e.map($8).join(" "):n}},U8={...Lw,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Bv,WebkitFilter:Bv},Jw=n=>U8[n];function $2(n,e){let t=Jw(n);return t!==Bv&&(t=co),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const B8=new Set(["auto","none","0"]);function z8(n,e,t){let r=0,i;for(;r<n.length&&!i;){const o=n[r];typeof o=="string"&&!B8.has(o)&&uh(o).values.length&&(i=n[r]),r++}if(i&&t)for(const o of e)n[o]=$2(t,i)}const lb=n=>n===bu||n===ke,ub=(n,e)=>parseFloat(n.split(", ")[e]),cb=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ub(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?ub(o[1],n):0}},q8=new Set(["x","y","z"]),H8=xu.filter(n=>!q8.has(n));function W8(n){const e=[];return H8.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const hu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:cb(4,13),y:cb(5,14)};hu.translateX=hu.x;hu.translateY=hu.y;const ua=new Set;let zv=!1,qv=!1;function F2(){if(qv){const n=Array.from(ua).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=W8(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qv=!1,zv=!1,ua.forEach(n=>n.complete()),ua.clear()}function U2(){ua.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(qv=!0)})}function G8(){U2(),F2()}class Zw{constructor(e,t,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ua.add(this),zv||(zv=!0,at.read(U2),at.resolveKeyframes(F2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const h=r.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ua.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ua.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const B2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),K8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q8(n){const e=K8.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function z2(n,e,t=1){const[r,i]=Q8(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return B2(l)?parseFloat(l):l}return Dw(i)?z2(i,e,t+1):i}const q2=n=>e=>e.test(n),Y8={test:n=>n==="auto",parse:n=>n},H2=[bu,ke,Wr,As,$z,jz,Y8],hb=n=>H2.find(q2(n));class W2 extends Zw{constructor(e,t,r,i,o){super(e,t,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),Dw(d))){const m=z2(d,t.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!T2.has(r)||e.length!==2)return;const[i,o]=e,l=hb(i),u=hb(o);if(l!==u)if(lb(l)&&lb(u))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)I8(e[i])&&r.push(i);r.length&&z8(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=hu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const db=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(co.test(n)||n==="0")&&!n.startsWith("url("));function X8(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function J8(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=db(i,e),u=db(o,e);return!l||!u?!1:X8(n)||(t==="spring"||Bw(t))&&r}const Z8=n=>n!==null;function Lm(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Z8),o=e&&t!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const e7=40;class G2{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gr.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>e7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&G8(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:d}=this.options;if(!d&&!J8(e,r,i,o))if(l)this.options.duration=0;else{h==null||h(Lm(e,this.options,t)),u==null||u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const mt=(n,e,t)=>n+(e-n)*t;function zy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function t7({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,o=0,l=0;if(!e)i=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;i=zy(h,u,n+1/3),o=zy(h,u,n),l=zy(h,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function zp(n,e){return t=>t>0?e:n}const qy=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},n7=[Uv,Xo,Il],r7=n=>n7.find(e=>e.test(n));function fb(n){const e=r7(n);if(!e)return!1;let t=e.parse(n);return e===Il&&(t=t7(t)),t}const pb=(n,e)=>{const t=fb(n),r=fb(e);if(!t||!r)return zp(n,e);const i={...t};return o=>(i.red=qy(t.red,r.red,o),i.green=qy(t.green,r.green,o),i.blue=qy(t.blue,r.blue,o),i.alpha=mt(t.alpha,r.alpha,o),Xo.transform(i))},i7=(n,e)=>t=>e(n(t)),cd=(...n)=>n.reduce(i7),Hv=new Set(["none","hidden"]);function s7(n,e){return Hv.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function o7(n,e){return t=>mt(n,e,t)}function e_(n){return typeof n=="number"?o7:typeof n=="string"?Dw(n)?zp:an.test(n)?pb:u7:Array.isArray(n)?K2:typeof n=="object"?an.test(n)?pb:a7:zp}function K2(n,e){const t=[...n],r=t.length,i=n.map((o,l)=>e_(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=i[l](o);return t}}function a7(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=e_(n[i])(n[i],e[i]));return i=>{for(const o in r)t[o]=r[o](i);return t}}function l7(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=n.indexes[l][i[l]],h=(t=n.values[u])!==null&&t!==void 0?t:0;r[o]=h,i[l]++}return r}const u7=(n,e)=>{const t=co.createTransformer(e),r=uh(n),i=uh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Hv.has(n)&&!i.values.length||Hv.has(e)&&!r.values.length?s7(n,e):cd(K2(l7(r,i),i.values),t):zp(n,e)};function Q2(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?mt(n,e,t):e_(n)(n,e)}const c7=5;function Y2(n,e,t){const r=Math.max(e-c7,0);return x2(t-n(r),e-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mb=.001;function h7({duration:n=vt.duration,bounce:e=vt.bounce,velocity:t=vt.velocity,mass:r=vt.mass}){let i,o,l=1-e;l=Qi(vt.minDamping,vt.maxDamping,l),n=Qi(vt.minDuration,vt.maxDuration,$i(n)),l<1?(i=d=>{const m=d*l,y=m*n,_=m-t,E=Wv(d,l),b=Math.exp(-y);return mb-_/E*b},o=d=>{const y=d*l*n,_=y*t+t,E=Math.pow(l,2)*Math.pow(d,2)*n,b=Math.exp(-y),x=Wv(Math.pow(d,2),l);return(-i(d)+mb>0?-1:1)*((_-E)*b)/x}):(i=d=>{const m=Math.exp(-d*n),y=(d-t)*n+1;return-.001+m*y},o=d=>{const m=Math.exp(-d*n),y=(t-d)*(n*n);return m*y});const u=5/n,h=f7(i,o,u);if(n=ji(n),isNaN(h))return{stiffness:vt.stiffness,damping:vt.damping,duration:n};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:n}}}const d7=12;function f7(n,e,t){let r=t;for(let i=1;i<d7;i++)r=r-n(r)/e(r);return r}function Wv(n,e){return n*Math.sqrt(1-e*e)}const p7=["duration","bounce"],m7=["stiffness","damping","mass"];function gb(n,e){return e.some(t=>n[t]!==void 0)}function g7(n){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...n};if(!gb(n,m7)&&gb(n,p7))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,o=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:vt.mass,stiffness:i,damping:o}}else{const t=h7(n);e={...e,...t,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function X2(n=vt.visualDuration,e=vt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:d,mass:m,duration:y,velocity:_,isResolvedFromDuration:E}=g7({...t,velocity:-$i(t.velocity||0)}),b=_||0,x=d/(2*Math.sqrt(h*m)),k=l-o,P=$i(Math.sqrt(h/m)),D=Math.abs(k)<5;r||(r=D?vt.restSpeed.granular:vt.restSpeed.default),i||(i=D?vt.restDelta.granular:vt.restDelta.default);let M;if(x<1){const X=Wv(P,x);M=J=>{const j=Math.exp(-x*P*J);return l-j*((b+x*P*k)/X*Math.sin(X*J)+k*Math.cos(X*J))}}else if(x===1)M=X=>l-Math.exp(-P*X)*(k+(b+P*k)*X);else{const X=P*Math.sqrt(x*x-1);M=J=>{const j=Math.exp(-x*P*J),O=Math.min(X*J,300);return l-j*((b+x*P*k)*Math.sinh(O)+X*k*Math.cosh(O))/X}}const W={calculatedDuration:E&&y||null,next:X=>{const J=M(X);if(E)u.done=X>=y;else{let j=0;x<1&&(j=X===0?ji(b):Y2(M,X,J));const O=Math.abs(j)<=r,V=Math.abs(l-J)<=i;u.done=O&&V}return u.value=u.done?l:J,u},toString:()=>{const X=Math.min(m2(W),jv),J=g2(j=>W.next(X*j).value,X,30);return X+"ms "+J}};return W}function yb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:d=.5,restSpeed:m}){const y=n[0],_={done:!1,value:y},E=O=>u!==void 0&&O<u||h!==void 0&&O>h,b=O=>u===void 0?h:h===void 0||Math.abs(u-O)<Math.abs(h-O)?u:h;let x=t*e;const k=y+x,P=l===void 0?k:l(k);P!==k&&(x=P-y);const D=O=>-x*Math.exp(-O/r),M=O=>P+D(O),W=O=>{const V=D(O),B=M(O);_.done=Math.abs(V)<=d,_.value=_.done?P:B};let X,J;const j=O=>{E(_.value)&&(X=O,J=X2({keyframes:[_.value,b(_.value)],velocity:Y2(M,O,_.value),damping:i,stiffness:o,restDelta:d,restSpeed:m}))};return j(0),{calculatedDuration:null,next:O=>{let V=!1;return!J&&X===void 0&&(V=!0,W(O),j(O)),X!==void 0&&O>=X?J.next(O-X):(!V&&W(O),_)}}}const y7=ud(.42,0,1,1),v7=ud(0,0,.58,1),J2=ud(.42,0,.58,1),w7=n=>Array.isArray(n)&&typeof n[0]!="number",vb={linear:Fn,easeIn:y7,easeInOut:J2,easeOut:v7,circIn:Qw,circInOut:O2,circOut:k2,backIn:Kw,backInOut:P2,backOut:A2,anticipate:R2},wb=n=>{if(zw(n)){Vv(n.length===4);const[e,t,r,i]=n;return ud(e,t,r,i)}else if(typeof n=="string")return Vv(vb[n]!==void 0),vb[n];return n};function _7(n,e,t){const r=[],i=t||Q2,o=n.length-1;for(let l=0;l<o;l++){let u=i(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||Fn:e;u=cd(h,u)}r.push(u)}return r}function E7(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const o=n.length;if(Vv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=_7(e,r,i),h=u.length,d=m=>{if(l&&m<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(m<n[y+1]);y++);const _=uu(n[y],n[y+1],m);return u[y](_)};return t?m=>d(Qi(n[0],n[o-1],m)):d}function T7(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=uu(0,e,r);n.push(mt(t,1,i))}}function x7(n){const e=[0];return T7(e,n.length-1),e}function b7(n,e){return n.map(t=>t*e)}function S7(n,e){return n.map(()=>e||J2).splice(0,n.length-1)}function qp({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=w7(r)?r.map(wb):wb(r),o={done:!1,value:e[0]},l=b7(t&&t.length===e.length?t:x7(e),n),u=E7(l,e,{ease:Array.isArray(i)?i:S7(e,i)});return{calculatedDuration:n,next:h=>(o.value=u(h),o.done=h>=n,o)}}const I7=n=>{const e=({timestamp:t})=>n(t);return{start:()=>at.update(e,!0),stop:()=>uo(e),now:()=>Xt.isProcessing?Xt.timestamp:Gr.now()}},C7={decay:yb,inertia:yb,tween:qp,keyframes:qp,spring:X2},A7=n=>n/100;class t_ extends G2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Zw,u=(h,d)=>this.onKeyframesResolved(h,d);this.resolver=new l(o,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,u=Bw(t)?t:C7[t]||qp;let h,d;u!==qp&&typeof e[0]!="number"&&(h=cd(A7,Q2(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(d=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=m2(m));const{calculatedDuration:y}=m,_=y+i,E=_*(r+1)-i;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:O}=this.options;return{done:!0,value:O[O.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:d,totalDuration:m,resolvedDuration:y}=r;if(this.startTime===null)return o.next(0);const{delay:_,repeat:E,repeatType:b,repeatDelay:x,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-_*(this.speed>=0?1:-1),D=this.speed>=0?P<0:P>m;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let M=this.currentTime,W=o;if(E){const O=Math.min(this.currentTime,m)/y;let V=Math.floor(O),B=O%1;!B&&O>=1&&(B=1),B===1&&V--,V=Math.min(V,E+1),!!(V%2)&&(b==="reverse"?(B=1-B,x&&(B-=x/y)):b==="mirror"&&(W=l)),M=Qi(0,1,B)*y}const X=D?{done:!1,value:h[0]}:W.next(M);u&&(X.value=u(X.value));let{done:J}=X;!D&&d!==null&&(J=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return j&&i!==void 0&&(X.value=Lm(h,this.options,i)),k&&k(X.value),j&&this.finish(),X}get duration(){const{resolved:e}=this;return e?$i(e.calculatedDuration):0}get time(){return $i(this.currentTime)}set time(e){e=ji(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=$i(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=I7,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const P7=new Set(["opacity","clipPath","filter","transform"]);function R7(n,e,t,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const d={[e]:t};h&&(d.offset=h);const m=v2(u,i);return Array.isArray(m)&&(d.easing=m),n.animate(d,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const k7=Cw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hp=10,O7=2e4;function N7(n){return Bw(n.type)||n.type==="spring"||!y2(n.ease)}function D7(n,e){const t=new t_({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let o=0;for(;!r.done&&o<O7;)r=t.sample(o),i.push(r.value),o+=Hp;return{times:void 0,keyframes:i,duration:o-Hp,ease:"linear"}}const Z2={anticipate:R2,backInOut:P2,circInOut:O2};function L7(n){return n in Z2}class _b extends G2{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new W2(o,(l,u)=>this.onKeyframesResolved(l,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){var r;let{duration:i=300,times:o,ease:l,type:u,motionValue:h,name:d,startTime:m}=this.options;if(!(!((r=h.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&Bp()&&L7(l)&&(l=Z2[l]),N7(this.options)){const{onComplete:_,onUpdate:E,motionValue:b,element:x,...k}=this.options,P=D7(e,k);e=P.keyframes,e.length===1&&(e[1]=e[0]),i=P.duration,o=P.times,l=P.ease,u="keyframes"}const y=R7(h.owner.current,d,e,{...this.options,duration:i,times:o,ease:l});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(nb(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;h.set(Lm(e,this.options,t)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:o,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return $i(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return $i(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=ji(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Fn;const{animation:r}=t;nb(r,e)}return Fn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:y,element:_,...E}=this.options,b=new t_({...E,keyframes:r,duration:i,type:o,ease:l,times:u,isGenerator:!0}),x=ji(this.time);d.setWithVelocity(b.sample(x-Hp).value,b.sample(x).value,Hp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:o,damping:l,type:u}=e;return k7()&&r&&P7.has(r)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}}const V7={type:"spring",stiffness:500,damping:25,restSpeed:10},M7=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),j7={type:"keyframes",duration:.8},$7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F7=(n,{keyframes:e})=>e.length>2?j7:xa.has(n)?n.startsWith("scale")?M7(e[1]):V7:$7;function U7({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const n_=(n,e,t,r={},i,o)=>l=>{const u=Uw(r,n)||{},h=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ji(h);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:i};U7(u)||(m={...m,...F7(n,m)}),m.duration&&(m.duration=ji(m.duration)),m.repeatDelay&&(m.repeatDelay=ji(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const _=Lm(m.keyframes,u);if(_!==void 0)return at.update(()=>{m.onUpdate(_),m.onComplete()}),new a8([])}return!o&&_b.supports(m)?new _b(m):new t_(m)};function B7({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function ek(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],m=i&&n.animationState&&n.animationState.getState()[i];for(const y in h){const _=n.getValue(y,(o=n.latestValues[y])!==null&&o!==void 0?o:null),E=h[y];if(E===void 0||m&&B7(m,y))continue;const b={delay:t,...Uw(l||{},y)};let x=!1;if(window.MotionHandoffAnimation){const P=b2(n);if(P){const D=window.MotionHandoffAnimation(P,y,at);D!==null&&(b.startTime=D,x=!0)}}Fv(n,y),_.start(n_(y,_,E,n.shouldReduceMotion&&T2.has(y)?{type:!1}:b,n,x));const k=_.animation;k&&d.push(k)}return u&&Promise.all(d).then(()=>{at.update(()=>{u&&E8(n,u)})}),d}function Gv(n,e,t={}){var r;const i=Dm(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(o=t.transitionOverride);const l=i?()=>Promise.all(ek(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=o;return z7(n,e,m+d,y,_,t)}:()=>Promise.resolve(),{when:h}=o;if(h){const[d,m]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(t.delay)])}function z7(n,e,t=0,r=0,i=1,o){const l=[],u=(n.variantChildren.size-1)*r,h=i===1?(d=0)=>d*r:(d=0)=>u-d*r;return Array.from(n.variantChildren).sort(q7).forEach((d,m)=>{d.notify("AnimationStart",e),l.push(Gv(d,e,{...o,delay:t+h(m)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(l)}function q7(n,e){return n.sortNodePosition(e)}function H7(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Gv(n,o,t));r=Promise.all(i)}else if(typeof e=="string")r=Gv(n,e,t);else{const i=typeof e=="function"?Dm(n,e,t.custom):e;r=Promise.all(ek(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const W7=Pw.length;function tk(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?tk(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<W7;t++){const r=Pw[t],i=n.props[r];(oh(i)||i===!1)&&(e[r]=i)}return e}const G7=[...Aw].reverse(),K7=Aw.length;function Q7(n){return e=>Promise.all(e.map(({animation:t,options:r})=>H7(n,t,r)))}function Y7(n){let e=Q7(n),t=Eb(),r=!0;const i=h=>(d,m)=>{var y;const _=Dm(n,m,h==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:E,transitionEnd:b,...x}=_;d={...d,...x,...b}}return d};function o(h){e=h(n)}function l(h){const{props:d}=n,m=tk(n.parent)||{},y=[],_=new Set;let E={},b=1/0;for(let k=0;k<K7;k++){const P=G7[k],D=t[P],M=d[P]!==void 0?d[P]:m[P],W=oh(M),X=P===h?D.isActive:null;X===!1&&(b=k);let J=M===m[P]&&M!==d[P]&&W;if(J&&r&&n.manuallyAnimateOnMount&&(J=!1),D.protectedKeys={...E},!D.isActive&&X===null||!M&&!D.prevProp||Om(M)||typeof M=="boolean")continue;const j=X7(D.prevProp,M);let O=j||P===h&&D.isActive&&!J&&W||k>b&&W,V=!1;const B=Array.isArray(M)?M:[M];let S=B.reduce(i(P),{});X===!1&&(S={});const{prevResolvedValues:A={}}=D,I={...A,...S},$=ie=>{O=!0,_.has(ie)&&(V=!0,_.delete(ie)),D.needsAnimating[ie]=!0;const te=n.getValue(ie);te&&(te.liveStyle=!1)};for(const ie in I){const te=S[ie],fe=A[ie];if(E.hasOwnProperty(ie))continue;let ae=!1;Mv(te)&&Mv(fe)?ae=!p2(te,fe):ae=te!==fe,ae?te!=null?$(ie):_.add(ie):te!==void 0&&_.has(ie)?$(ie):D.protectedKeys[ie]=!0}D.prevProp=M,D.prevResolvedValues=S,D.isActive&&(E={...E,...S}),r&&n.blockInitialAnimation&&(O=!1),O&&(!(J&&j)||V)&&y.push(...B.map(ie=>({animation:ie,options:{type:P}})))}if(_.size){const k={};_.forEach(P=>{const D=n.getBaseTarget(P),M=n.getValue(P);M&&(M.liveStyle=!0),k[P]=D??null}),y.push({animation:k})}let x=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(y):Promise.resolve()}function u(h,d){var m;if(t[h].isActive===d)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(_=>{var E;return(E=_.animationState)===null||E===void 0?void 0:E.setActive(h,d)}),t[h].isActive=d;const y=l(h);for(const _ in t)t[_].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Eb(),r=!0}}}function X7(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!p2(e,n):!1}function zo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Eb(){return{animate:zo(!0),whileInView:zo(),whileHover:zo(),whileTap:zo(),whileDrag:zo(),whileFocus:zo(),exit:zo()}}class po{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J7 extends po{constructor(e){super(e),e.animationState||(e.animationState=Y7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Z7=0;class eq extends po{constructor(){super(...arguments),this.id=Z7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tq={animation:{Feature:J7},exit:{Feature:eq}};function ch(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function hd(n){return{point:{x:n.pageX,y:n.pageY}}}const nq=n=>e=>qw(e)&&n(e,hd(e));function Wc(n,e,t,r){return ch(n,e,nq(t),r)}const Tb=(n,e)=>Math.abs(n-e);function rq(n,e){const t=Tb(n.x,e.x),r=Tb(n.y,e.y);return Math.sqrt(t**2+r**2)}class nk{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Wy(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=rq(y.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:b}=y,{timestamp:x}=Xt;this.history.push({...b,timestamp:x});const{onStart:k,onMove:P}=this.handlers;_||(k&&k(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Hy(_,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:E,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Wy(y.type==="pointercancel"?this.lastMoveEventInfo:Hy(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,k),b&&b(y,k)},!qw(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=hd(e),u=Hy(l,this.transformPagePoint),{point:h}=u,{timestamp:d}=Xt;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=t;m&&m(e,Wy(u,this.history)),this.removeListeners=cd(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uo(this.updatePoint)}}function Hy(n,e){return e?{point:e(n.point)}:n}function xb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Wy({point:n},e){return{point:n,delta:xb(n,rk(e)),offset:xb(n,iq(e)),velocity:sq(e,.1)}}function iq(n){return n[0]}function rk(n){return n[n.length-1]}function sq(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=rk(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ji(e)));)t--;if(!r)return{x:0,y:0};const o=$i(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const ik=1e-4,oq=1-ik,aq=1+ik,sk=.01,lq=0-sk,uq=0+sk;function Bn(n){return n.max-n.min}function cq(n,e,t){return Math.abs(n-e)<=t}function bb(n,e,t,r=.5){n.origin=r,n.originPoint=mt(e.min,e.max,n.origin),n.scale=Bn(t)/Bn(e),n.translate=mt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=oq&&n.scale<=aq||isNaN(n.scale))&&(n.scale=1),(n.translate>=lq&&n.translate<=uq||isNaN(n.translate))&&(n.translate=0)}function Gc(n,e,t,r){bb(n.x,e.x,t.x,r?r.originX:void 0),bb(n.y,e.y,t.y,r?r.originY:void 0)}function Sb(n,e,t){n.min=t.min+e.min,n.max=n.min+Bn(e)}function hq(n,e,t){Sb(n.x,e.x,t.x),Sb(n.y,e.y,t.y)}function Ib(n,e,t){n.min=e.min-t.min,n.max=n.min+Bn(e)}function Kc(n,e,t){Ib(n.x,e.x,t.x),Ib(n.y,e.y,t.y)}function dq(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?mt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?mt(t,n,r.max):Math.min(n,t)),n}function Cb(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function fq(n,{top:e,left:t,bottom:r,right:i}){return{x:Cb(n.x,t,i),y:Cb(n.y,e,r)}}function Ab(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function pq(n,e){return{x:Ab(n.x,e.x),y:Ab(n.y,e.y)}}function mq(n,e){let t=.5;const r=Bn(n),i=Bn(e);return i>r?t=uu(e.min,e.max-r,n.min):r>i&&(t=uu(n.min,n.max-i,e.min)),Qi(0,1,t)}function gq(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Kv=.35;function yq(n=Kv){return n===!1?n=0:n===!0&&(n=Kv),{x:Pb(n,"left","right"),y:Pb(n,"top","bottom")}}function Pb(n,e,t){return{min:Rb(n,e),max:Rb(n,t)}}function Rb(n,e){return typeof n=="number"?n:n[e]||0}const kb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:kb(),y:kb()}),Ob=()=>({min:0,max:0}),St=()=>({x:Ob(),y:Ob()});function er(n){return[n("x"),n("y")]}function ok({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function vq({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function wq(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Gy(n){return n===void 0||n===1}function Qv({scale:n,scaleX:e,scaleY:t}){return!Gy(n)||!Gy(e)||!Gy(t)}function Wo(n){return Qv(n)||ak(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function ak(n){return Nb(n.x)||Nb(n.y)}function Nb(n){return n&&n!=="0%"}function Wp(n,e,t){const r=n-t,i=e*r;return t+i}function Db(n,e,t,r,i){return i!==void 0&&(n=Wp(n,i,r)),Wp(n,t,r)+e}function Yv(n,e=0,t=1,r,i){n.min=Db(n.min,e,t,r,i),n.max=Db(n.max,e,t,r,i)}function lk(n,{x:e,y:t}){Yv(n.x,e.translate,e.scale,e.originPoint),Yv(n.y,t.translate,t.scale,t.originPoint)}const Lb=.999999999999,Vb=1.0000000000001;function _q(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=t[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,lk(n,l)),r&&Wo(o.latestValues)&&Pl(n,o.latestValues))}e.x<Vb&&e.x>Lb&&(e.x=1),e.y<Vb&&e.y>Lb&&(e.y=1)}function Al(n,e){n.min=n.min+e,n.max=n.max+e}function Mb(n,e,t,r,i=.5){const o=mt(n.min,n.max,i);Yv(n,e,t,o,r)}function Pl(n,e){Mb(n.x,e.x,e.scaleX,e.scale,e.originX),Mb(n.y,e.y,e.scaleY,e.scale,e.originY)}function uk(n,e){return ok(wq(n.getBoundingClientRect(),e))}function Eq(n,e,t){const r=uk(n,t),{scroll:i}=e;return i&&(Al(r.x,i.offset.x),Al(r.y,i.offset.y)),r}const ck=({current:n})=>n?n.ownerDocument.defaultView:null,Tq=new WeakMap;class xq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(hd(m).point)},o=(m,y)=>{const{drag:_,dragPropagation:E,onDragStart:b}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=g8(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(k=>{let P=this.getAxisMotionValue(k).get()||0;if(Wr.test(P)){const{projection:D}=this.visualElement;if(D&&D.layout){const M=D.layout.layoutBox[k];M&&(P=Bn(M)*(parseFloat(P)/100))}}this.originPoint[k]=P}),b&&at.postRender(()=>b(m,y)),Fv(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:b,onDrag:x}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=y;if(E&&this.currentDirection===null){this.currentDirection=bq(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,k),this.updateAxis("y",y.point,k),this.visualElement.render(),x&&x(m,y)},u=(m,y)=>this.stop(m,y),h=()=>er(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new nk(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:ck(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&at.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Uf(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=dq(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Sl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=fq(i.layoutBox,t):this.constraints=!1,this.elastic=yq(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&er(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=gq(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Eq(r,i.root,this.visualElement.getTransformPagePoint());let l=pq(i.layout.layoutBox,o);if(t){const u=t(vq(l));this.hasMutatedConstraints=!!u,u&&(l=ok(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=er(m=>{if(!Uf(m,t,this.currentDirection))return;let y=h[m]||{};l&&(y={min:0,max:0});const _=i?200:1e6,E=i?40:1e7,b={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,b)});return Promise.all(d).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Fv(this.visualElement,e),r.start(n_(e,r,0,t,this.visualElement,!1))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(t=>{const{drag:r}=this.getProps();if(!Uf(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];o.set(e[t]-mt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Sl(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};er(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=mq({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(l=>{if(!Uf(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];u.set(mt(h,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;Tq.set(this.visualElement,this);const e=this.visualElement.current,t=Wc(e,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Sl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const l=ch(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(er(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Kv,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Uf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function bq(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Sq extends po{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new xq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const jb=n=>(e,t)=>{n&&at.postRender(()=>n(e,t))};class Iq extends po{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new nk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ck(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jb(e),onStart:jb(t),onMove:r,onEnd:(o,l)=>{delete this.session,i&&at.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ap={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $b(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const xc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ke.test(n))n=parseFloat(n);else return n;const t=$b(n,e.target.x),r=$b(n,e.target.y);return`${t}% ${r}%`}},Cq={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=co.parse(n);if(i.length>5)return r;const o=co.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const d=mt(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),o(i)}};class Aq extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Qz(Pq),o&&(t.group&&t.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ap.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||at.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hk(n){const[e,t]=cz(),r=U.useContext(KR);return R.jsx(Aq,{...n,layoutGroup:r,switchLayoutGroup:U.useContext(t2),isPresent:e,safeToRemove:t})}const Pq={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:Cq};function Rq(n,e,t){const r=cn(n)?n:lh(n);return r.start(n_("",r,e,t)),r.animation}function kq(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Oq=(n,e)=>n.depth-e.depth;class Nq{constructor(){this.children=[],this.isDirty=!1}add(e){Hw(this.children,e),this.isDirty=!0}remove(e){Ww(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Oq),this.isDirty=!1,this.children.forEach(e)}}function Dq(n,e){const t=Gr.now(),r=({timestamp:i})=>{const o=i-t;o>=e&&(uo(r),n(o-e))};return at.read(r,!0),()=>uo(r)}const dk=["TopLeft","TopRight","BottomLeft","BottomRight"],Lq=dk.length,Fb=n=>typeof n=="string"?parseFloat(n):n,Ub=n=>typeof n=="number"||ke.test(n);function Vq(n,e,t,r,i,o){i?(n.opacity=mt(0,t.opacity!==void 0?t.opacity:1,Mq(r)),n.opacityExit=mt(e.opacity!==void 0?e.opacity:1,0,jq(r))):o&&(n.opacity=mt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<Lq;l++){const u=`border${dk[l]}Radius`;let h=Bb(e,u),d=Bb(t,u);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||Ub(h)===Ub(d)?(n[u]=Math.max(mt(Fb(h),Fb(d),r),0),(Wr.test(d)||Wr.test(h))&&(n[u]+="%")):n[u]=d}(e.rotate||t.rotate)&&(n.rotate=mt(e.rotate||0,t.rotate||0,r))}function Bb(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Mq=fk(0,.5,k2),jq=fk(.5,.95,Fn);function fk(n,e,t){return r=>r<n?0:r>e?1:t(uu(n,e,r))}function zb(n,e){n.min=e.min,n.max=e.max}function Zn(n,e){zb(n.x,e.x),zb(n.y,e.y)}function qb(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Hb(n,e,t,r,i){return n-=e,n=Wp(n,1/t,r),i!==void 0&&(n=Wp(n,1/i,r)),n}function $q(n,e=0,t=1,r=.5,i,o=n,l=n){if(Wr.test(e)&&(e=parseFloat(e),e=mt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=mt(o.min,o.max,r);n===o&&(u-=e),n.min=Hb(n.min,e,t,u,i),n.max=Hb(n.max,e,t,u,i)}function Wb(n,e,[t,r,i],o,l){$q(n,e[t],e[r],e[i],e.scale,o,l)}const Fq=["x","scaleX","originX"],Uq=["y","scaleY","originY"];function Gb(n,e,t,r){Wb(n.x,e,Fq,t?t.x:void 0,r?r.x:void 0),Wb(n.y,e,Uq,t?t.y:void 0,r?r.y:void 0)}function Kb(n){return n.translate===0&&n.scale===1}function pk(n){return Kb(n.x)&&Kb(n.y)}function Qb(n,e){return n.min===e.min&&n.max===e.max}function Bq(n,e){return Qb(n.x,e.x)&&Qb(n.y,e.y)}function Yb(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function mk(n,e){return Yb(n.x,e.x)&&Yb(n.y,e.y)}function Xb(n){return Bn(n.x)/Bn(n.y)}function Jb(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class zq{constructor(){this.members=[]}add(e){Hw(this.members,e),e.scheduleRender()}remove(e){if(Ww(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qq(n,e,t){let r="";const i=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:m,rotateX:y,rotateY:_,skewX:E,skewY:b}=t;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),E&&(r+=`skewX(${E}deg) `),b&&(r+=`skewY(${b}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Go={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Nc=typeof window<"u"&&window.MotionDebug!==void 0,Ky=["","X","Y","Z"],Hq={visibility:"hidden"},Zb=1e3;let Wq=0;function Qy(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function gk(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=b2(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",at,!(i||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&gk(r)}function yk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=Wq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nc&&(Go.totalNodes=Go.resolvedTargetDeltas=Go.recalculatedProjection=0),this.nodes.forEach(Qq),this.nodes.forEach(eH),this.nodes.forEach(tH),this.nodes.forEach(Yq),Nc&&window.MotionDebug.record(Go)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nq)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kq(l),this.instance=l;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(d||h)&&(this.isLayoutDirty=!0),n){let y;const _=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=Dq(_,250),ap.hasAnimatedSinceResize&&(ap.hasAnimatedSinceResize=!1,this.nodes.forEach(tS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeTargetChanged:E,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||m.getDefaultTransition()||oH,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=m.getProps(),D=!this.targetLayout||!mk(this.targetLayout,b)||E,M=!_&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||_&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,M);const W={...Uw(x,"layout"),onPlay:k,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||tS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nH),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eS);return}this.isUpdating||this.nodes.forEach(Jq),this.isUpdating=!1,this.nodes.forEach(Zq),this.nodes.forEach(Gq),this.nodes.forEach(Kq),this.clearAllSnapshots();const u=Gr.now();Xt.delta=Qi(0,1e3/60,u-Xt.timestamp),Xt.timestamp=u,Xt.isProcessing=!0,Fy.update.process(Xt),Fy.preRender.process(Xt),Fy.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xq),this.sharedNodes.forEach(rH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!pk(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;l&&(u||Wo(this.latestValues)||m)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),aH(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return St();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(lH))){const{scroll:m}=this.root;m&&(Al(h.x,m.offset.x),Al(h.y,m.offset.y))}return h}removeElementScroll(l){var u;const h=St();if(Zn(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Zn(h,l),Al(h.x,y.offset.x),Al(h.y,y.offset.y))}return h}applyTransform(l,u=!1){const h=St();Zn(h,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Pl(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Wo(m.latestValues)&&Pl(h,m.latestValues)}return Wo(this.latestValues)&&Pl(h,this.latestValues),h}removeTransform(l){const u=St();Zn(u,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Wo(d.latestValues))continue;Qv(d.latestValues)&&d.updateSnapshot();const m=St(),y=d.measurePageBox();Zn(m,y),Gb(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Wo(this.latestValues)&&Gb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Kc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),lk(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Kc(this.relativeTargetOrigin,this.target,E.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nc&&Go.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qv(this.parent.latestValues)||ak(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Zn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;_q(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=St());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qb(this.prevProjectionDelta.x,this.projectionDelta.x),qb(this.prevProjectionDelta.y,this.projectionDelta.y)),Gc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Jb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Nc&&Go.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},y=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=St(),E=h?h.source:void 0,b=this.layout?this.layout.source:void 0,x=E!==b,k=this.getStack(),P=!k||k.members.length<=1,D=!!(x&&!P&&this.options.crossfade===!0&&!this.path.some(sH));this.animationProgress=0;let M;this.mixTargetDelta=W=>{const X=W/1e3;nS(y.x,l.x,X),nS(y.y,l.y,X),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iH(this.relativeTarget,this.relativeTargetOrigin,_,X),M&&Bq(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=St()),Zn(M,this.relativeTarget)),x&&(this.animationValues=m,Vq(m,d,this.latestValues,X,D,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{ap.hasAnimatedSinceResize=!0,this.currentAnimation=Rq(0,Zb,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:d,latestValues:m}=l;if(!(!u||!h||!d)){if(this!==l&&this.layout&&d&&vk(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||St();const y=Bn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=Bn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}Zn(u,h),Pl(u,m),Gc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new zq),this.sharedNodes.get(l).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const d={};h.z&&Qy("z",l,d,this.animationValues);for(let m=0;m<Ky.length;m++)Qy(`rotate${Ky[m]}`,l,d,this.animationValues),Qy(`skew${Ky[m]}`,l,d,this.animationValues);l.render();for(const m in d)l.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Hq;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sp(l==null?void 0:l.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=sp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Wo(this.latestValues)&&(x.transform=m?m({},""):"none",this.hasProjected=!1),x}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),d.transform=qq(this.projectionDeltaWithTransform,this.treeScale,_),m&&(d.transform=m(_,d.transform));const{x:E,y:b}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${b.origin*100}% 0`,y.animationValues?d.opacity=y===this?(h=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:d.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const x in Up){if(_[x]===void 0)continue;const{correct:k,applyTo:P}=Up[x],D=d.transform==="none"?_[x]:k(_[x],y);if(P){const M=P.length;for(let W=0;W<M;W++)d[P[W]]=D}else d[x]=D}return this.options.layoutId&&(d.pointerEvents=y===this?sp(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(eS),this.root.sharedNodes.clear()}}}function Gq(n){n.updateLayout()}function Kq(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?er(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=Bn(_);_.min=r[y].min,_.max=_.min+E}):vk(o,t.layoutBox,r)&&er(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=Bn(r[y]);_.max=_.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=Cl();Gc(u,r,t.layoutBox);const h=Cl();l?Gc(h,n.applyTransform(i,!0),t.measuredBox):Gc(h,r,t.layoutBox);const d=!pk(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const b=St();Kc(b,t.layoutBox,_.layoutBox);const x=St();Kc(x,r,E.layoutBox),mk(b,x)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=b,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Qq(n){Nc&&Go.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Yq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Xq(n){n.clearSnapshot()}function eS(n){n.clearMeasurements()}function Jq(n){n.isLayoutDirty=!1}function Zq(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function tS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function eH(n){n.resolveTargetDelta()}function tH(n){n.calcProjection()}function nH(n){n.resetSkewAndRotation()}function rH(n){n.removeLeadSnapshot()}function nS(n,e,t){n.translate=mt(e.translate,0,t),n.scale=mt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function rS(n,e,t,r){n.min=mt(e.min,t.min,r),n.max=mt(e.max,t.max,r)}function iH(n,e,t,r){rS(n.x,e.x,t.x,r),rS(n.y,e.y,t.y,r)}function sH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const oH={duration:.45,ease:[.4,0,.1,1]},iS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),sS=iS("applewebkit/")&&!iS("chrome/")?Math.round:Fn;function oS(n){n.min=sS(n.min),n.max=sS(n.max)}function aH(n){oS(n.x),oS(n.y)}function vk(n,e,t){return n==="position"||n==="preserve-aspect"&&!cq(Xb(e),Xb(t),.2)}function lH(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const uH=yk({attachResizeListener:(n,e)=>ch(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},wk=yk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Yy.current){const n=new uH({});n.mount(window),n.setOptions({layoutScroll:!0}),Yy.current=n}return Yy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),cH={pan:{Feature:Iq},drag:{Feature:Sq,ProjectionNode:wk,MeasureLayout:hk}};function aS(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,o=r[i];o&&at.postRender(()=>o(e,hd(e)))}class hH extends po{mount(){const{current:e}=this.node;e&&(this.unmount=h8(e,t=>(aS(this.node,t,"Start"),r=>aS(this.node,r,"End"))))}unmount(){}}class dH extends po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cd(ch(this.node.current,"focus",()=>this.onFocus()),ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lS(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),o=r[i];o&&at.postRender(()=>o(e,hd(e)))}class fH extends po{mount(){const{current:e}=this.node;e&&(this.unmount=m8(e,t=>(lS(this.node,t,"Start"),(r,{success:i})=>lS(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xv=new WeakMap,Xy=new WeakMap,pH=n=>{const e=Xv.get(n.target);e&&e(n)},mH=n=>{n.forEach(pH)};function gH({root:n,...e}){const t=n||document;Xy.has(t)||Xy.set(t,{});const r=Xy.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mH,{root:n,...e})),r[i]}function yH(n,e,t){const r=gH(e);return Xv.set(n,t),r.observe(n),()=>{Xv.delete(n),r.unobserve(n)}}const vH={some:0,all:1};class wH extends po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vH[i]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=d?m:y;_&&_(h)};return yH(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(_H(e,t))&&this.startObserver()}unmount(){}}function _H({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const EH={inView:{Feature:wH},tap:{Feature:fH},focus:{Feature:dH},hover:{Feature:hH}},TH={layout:{ProjectionNode:wk,MeasureLayout:hk}},Jv={current:null},_k={current:!1};function xH(){if(_k.current=!0,!!Iw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jv.current=n.matches;n.addListener(e),e()}else Jv.current=!1}const bH=[...H2,an,co],SH=n=>bH.find(q2(n)),uS=new WeakMap;function IH(n,e,t){for(const r in e){const i=e[r],o=t[r];if(cn(i))n.addValue(r,i);else if(cn(o))n.addValue(r,lh(i,{owner:n}));else if(o!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,lh(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const cS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CH{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Gr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,at.render(this.render,!1,!0))};const{latestValues:h,renderState:d,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Nm(t),this.isVariantNode=ZR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in _){const b=_[E];h[E]!==void 0&&cn(b)&&b.set(h[E],!1)}}mount(e){this.current=e,uS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),_k.current||xH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uS.delete(this.current),this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xa.has(e),i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cu){const t=cu[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<cS.length;r++){const i=cS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=IH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=lh(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(B2(i)||N2(i))?i=parseFloat(i):!SH(i)&&co.test(t)&&(i=$2(e,t)),this.setBaseTarget(e,cn(i)?i.get():i)),cn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Nw(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!cn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Gw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Ek extends CH{constructor(){super(...arguments),this.KeyframeResolver=W2}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function AH(n){return window.getComputedStyle(n)}class PH extends Ek{constructor(){super(...arguments),this.type="html",this.renderInstance=l2}readValueFromInstance(e,t){if(xa.has(t)){const r=Jw(t);return r&&r.default||0}else{const r=AH(e),i=(s2(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return uk(e,t)}build(e,t,r){Vw(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Fw(e,t,r)}}class RH extends Ek{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(xa.has(t)){const r=Jw(t);return r&&r.default||0}return t=u2.has(t)?t:Rw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return d2(e,t,r)}build(e,t,r){Mw(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){c2(e,t,r,i)}mount(e){this.isSVGTag=$w(e.tagName),super.mount(e)}}const kH=(n,e)=>Ow(n)?new RH(e):new PH(e,{allowProjection:n!==U.Fragment}),OH=i8({...tq,...EH,...cH,...TH},kH),ir=wz(OH);var Jy,hS;function NH(){if(hS)return Jy;hS=1;function n(e,t,r){var i,o,l,u,h;t==null&&(t=100);function d(){var y=Date.now()-u;y<t&&y>=0?i=setTimeout(d,t-y):(i=null,r||(h=e.apply(l,o),l=o=null))}var m=function(){l=this,o=arguments,u=Date.now();var y=r&&!i;return i||(i=setTimeout(d,t)),y&&(h=e.apply(l,o),l=o=null),h};return m.clear=function(){i&&(clearTimeout(i),i=null)},m.flush=function(){i&&(h=e.apply(l,o),l=o=null,clearTimeout(i),i=null)},m}return n.debounce=n,Jy=n,Jy}var DH=NH();const dS=du(DH);function LH(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1};const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,u]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),d=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,y=U.useRef(!1);U.useEffect(()=>(y.current=!0,()=>void(y.current=!1)));const[_,E,b]=U.useMemo(()=>{const D=()=>{if(!h.current.element)return;const{left:M,top:W,width:X,height:J,bottom:j,right:O,x:V,y:B}=h.current.element.getBoundingClientRect(),S={left:M,top:W,width:X,height:J,bottom:j,right:O,x:V,y:B};h.current.element instanceof HTMLElement&&i&&(S.height=h.current.element.offsetHeight,S.width=h.current.element.offsetWidth),Object.freeze(S),y.current&&!$H(h.current.lastBounds,S)&&u(h.current.lastBounds=S)};return[D,m?dS(D,m):D,d?dS(D,d):D]},[u,i,d,m]);function x(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(D=>D.removeEventListener("scroll",b,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function k(){h.current.element&&(h.current.resizeObserver=new o(b),h.current.resizeObserver.observe(h.current.element),t&&h.current.scrollContainers&&h.current.scrollContainers.forEach(D=>D.addEventListener("scroll",b,{capture:!0,passive:!0})))}const P=D=>{!D||D===h.current.element||(x(),h.current.element=D,h.current.scrollContainers=Tk(D),k())};return MH(b,!!t),VH(E),U.useEffect(()=>{x(),k()},[t,b,E]),U.useEffect(()=>x,[]),[P,l,_]}function VH(n){U.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function MH(n,e){U.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Tk(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...Tk(n.parentElement)]}const jH=["x","y","top","bottom","left","right","width","height"],$H=(n,e)=>jH.every(t=>n[t]===e[t]),FH=({title:n,children:e,defaultOpen:t=!1})=>{const[r,{height:i}]=LH(),[o,l]=U.useState(t);return R.jsxs(ir.div,{animate:o?"open":"closed",className:"border-b-[1px] border-b-slate-300",children:[R.jsxs("button",{onClick:()=>l(u=>!u),className:"flex w-full items-center justify-between gap-4 py-6",children:[R.jsx(ir.span,{variants:{open:{color:"rgba(3, 6, 23, 1)"},closed:{color:"rgba(3, 6, 23, 0.8)"}},className:"bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-left text-lg font-medium",children:n}),R.jsx(ir.span,{variants:{open:{rotate:"180deg",color:"rgb(124 58 237)"},closed:{rotate:"0deg",color:"#030617"}},children:R.jsx(lz,{className:"text-2xl"})})]}),R.jsx(ir.div,{initial:!1,animate:{height:o?i:"0px",marginBottom:o?"24px":"0px"},className:"overflow-hidden text-slate-600",children:R.jsx("div",{ref:r,children:e})})]})},UH=({images:n})=>{const[e,t]=U.useState(0);return!n||n.length===0?R.jsx("div",{className:"h-96 bg-gray-100 flex items-center justify-center",children:"無圖片"}):R.jsxs("div",{className:"flex flex-col",children:[R.jsx("div",{className:"relative overflow-hidden min-h-[100px] flex items-center justify-center",children:R.jsx("img",{src:n[e],alt:"Product",className:"max-w-[60%]  object-contain",onDragStart:r=>r.preventDefault()})}),n.length>1&&R.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2",children:n.map((r,i)=>R.jsx("button",{onClick:()=>t(i),className:`flex-shrink-0 h-20 w-20 rounded-md overflow-hidden border-2 ${e===i?"border-blue-500":"border-transparent"}`,children:R.jsx("img",{src:r,alt:`Thumbnail ${i+1}`,className:"h-full w-full object-cover",onDragStart:o=>o.preventDefault()})},i))})]})},BH=()=>{const{slug:n}=FS(),[e,t]=U.useState(null),[r,i]=U.useState(!0),[o,l]=U.useState(null);return U.useEffect(()=>{const u=d=>{d.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")};document.addEventListener("contextmenu",u);const h=d=>{d.preventDefault()};return document.addEventListener("dragstart",h),()=>{document.removeEventListener("contextmenu",u),document.removeEventListener("dragstart",h)}},[]),U.useEffect(()=>{(async()=>{try{i(!0),l(null);const d=await pp.fetch(`*[_type == "product" && slug.current == $slug][0] {
          _id,
          "images": images[].asset->url,
          name,
          price,
          description,
          "slug": slug.current,
          "categoryName": category->name
        }`,{slug:n});if(!d)throw new Error("Product not found");t(d)}catch(h){l(h.message)}finally{i(!1)}})()},[n]),r?R.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):o?R.jsxs("div",{className:"flex justify-center items-center h-64 text-red-500",children:["Error: ",o]}):R.jsxs("div",{className:"bg-white -mt-6",children:[R.jsx("div",{className:"w-full px-4",children:R.jsx(UH,{images:e.images})}),R.jsxs("div",{className:"mx-auto max-w-screen-xl px-4 md:px-8",children:[R.jsxs("div",{className:"mb-8",children:[R.jsxs("div",{className:"mb-4",children:[R.jsx("span",{className:"mb-1 inline-block text-gray-500",children:e.categoryName}),R.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:e.name})]}),R.jsx("div",{className:"mb-6 flex items-center gap-3",children:R.jsx("span",{className:"text-sm text-gray-500 transition duration-100",children:"56 Ratings"})}),R.jsxs("div",{className:"mb-6",children:[R.jsxs("div",{className:"flex items-end gap-2",children:[R.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["$",e.price]}),R.jsxs("span",{className:"mb-0.5 text-red-500 line-through",children:["$",e.price+30]})]}),R.jsx("span",{className:"text-sm text-gray-500",children:"不含運費"})]}),R.jsx("div",{className:"mb-8",children:R.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"加入購物車"})})]}),R.jsxs("div",{className:"py-8 border-t border-gray-200",children:[R.jsx("h3",{className:"mb-6 text-xl font-semibold",children:"產品描述"}),R.jsx(FH,{title:"特色",defaultOpen:!0,children:R.jsx("p",{children:e.description})})]})]})]})};var Zy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var fS;function zH(){return fS||(fS=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Zy)),Zy.exports}var qH=zH();const ba=du(qH);function Zv(){return Zv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zv.apply(null,arguments)}function xk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function pS(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function HH(n){var e=WH(n,"string");return typeof e=="symbol"?e:String(e)}function WH(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function GH(n,e,t){var r=U.useRef(n!==void 0),i=U.useState(e),o=i[0],l=i[1],u=n!==void 0,h=r.current;return r.current=u,!u&&h&&o!==e&&l(e),[u?n:o,U.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),_=1;_<m;_++)y[_-1]=arguments[_];t&&t.apply(void 0,[d].concat(y)),l(d)},[t])]}function KH(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[pS(r)],u=o[r],h=xk(o,[pS(r),r].map(HH)),d=e[r],m=GH(u,l,n[d]),y=m[0],_=m[1];return Zv({},h,(i={},i[r]=y,i[d]=_,i))},n)}function e0(n,e){return e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},e0(n,e)}function QH(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,e0(n,e)}const YH=["xxl","xl","lg","md","sm","xs"],XH="xs",JH=U.createContext({prefixes:{},breakpoints:YH,minBreakpoint:XH});function Su(n,e){const{prefixes:t}=U.useContext(JH);return n||t[e]||e}function ZH(n){return n&&n.ownerDocument||document}function eW(n){var e=ZH(n);return e&&e.defaultView||window}function tW(n,e){return eW(n).getComputedStyle(n,e)}var nW=/([A-Z])/g;function rW(n){return n.replace(nW,"-$1").toLowerCase()}var iW=/^ms-/;function Bf(n){return rW(n).replace(iW,"-ms-")}var sW=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function oW(n){return!!(n&&sW.test(n))}function Gp(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Bf(e))||tW(n).getPropertyValue(Bf(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(Bf(i)):oW(i)?r+=i+"("+o+") ":t+=Bf(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}const mS={disabled:!1},bk=Me.createContext(null);var aW=function(e){return e.scrollTop},Dc="unmounted",Ps="exited",Rs="entering",Ko="entered",Kp="exiting",es=function(n){QH(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,h;return o.appearStatus=null,r.in?u?(h=Ps,o.appearStatus=Rs):h=Ko:r.unmountOnExit||r.mountOnEnter?h=Dc:h=Ps,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Dc?{status:Ps}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Rs&&l!==Ko&&(o=Rs):(l===Rs||l===Ko)&&(o=Kp)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Rs){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Sc.findDOMNode(this);l&&aW(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ps&&this.setState({status:Dc})},t.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,h=this.props.nodeRef?[u]:[Sc.findDOMNode(this),u],d=h[0],m=h[1],y=this.getTimeouts(),_=u?y.appear:y.enter;if(!i&&!l||mS.disabled){this.safeSetState({status:Ko},function(){o.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Rs},function(){o.props.onEntering(d,m),o.onTransitionEnd(_,function(){o.safeSetState({status:Ko},function(){o.props.onEntered(d,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Sc.findDOMNode(this);if(!o||mS.disabled){this.safeSetState({status:Ps},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Kp},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Ps},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Sc.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Dc)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=xk(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Me.createElement(bk.Provider,{value:null},typeof l=="function"?l(i,u):Me.cloneElement(Me.Children.only(l),u))},e}(Me.Component);es.contextType=bk;es.propTypes={};function yl(){}es.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yl,onEntering:yl,onEntered:yl,onExit:yl,onExiting:yl,onExited:yl};es.UNMOUNTED=Dc;es.EXITED=Ps;es.ENTERING=Rs;es.ENTERED=Ko;es.EXITING=Kp;function lW(){const n=U.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function uW(n){if(!n||typeof n=="function")return null;const{major:e}=lW();return e>=19?n.props.ref:n.ref}const cW=!!(typeof window<"u"&&window.document&&window.document.createElement);var t0=!1,n0=!1;try{var ev={get passive(){return t0=!0},get once(){return n0=t0=!0}};cW&&(window.addEventListener("test",ev,ev),window.removeEventListener("test",ev,!0))}catch{}function hW(n,e,t,r){if(r&&typeof r!="boolean"&&!n0){var i=r.once,o=r.capture,l=t;!n0&&i&&(l=t.__once||function u(h){this.removeEventListener(e,u,o),t.call(this,h)},t.__once=l),n.addEventListener(e,l,t0?r:o)}n.addEventListener(e,t,r)}function dW(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Sk(n,e,t,r){return hW(n,e,t,r),function(){dW(n,e,t,r)}}function fW(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function pW(n){var e=Gp(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function mW(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||fW(n,"transitionend",!0)},e+t),o=Sk(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function gW(n,e,t,r){t==null&&(t=pW(n)||0);var i=mW(n,t,r),o=Sk(n,"transitionend",e);return function(){i(),o()}}function gS(n,e){const t=Gp(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function yW(n,e){const t=gS(n,"transitionDuration"),r=gS(n,"transitionDelay"),i=gW(n,o=>{o.target===n&&(i(),e(o))},t+r)}function bc(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function vW(n){n.offsetHeight}const yS=n=>!n||typeof n=="function"?n:e=>{n.current=e};function wW(n,e){const t=yS(n),r=yS(e);return i=>{t&&t(i),r&&r(i)}}function _W(n,e){return U.useMemo(()=>wW(n,e),[n,e])}function EW(n){return n&&"setState"in n?Sc.findDOMNode(n):n??null}const TW=Me.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:l,children:u,childRef:h,...d},m)=>{const y=U.useRef(null),_=_W(y,h),E=J=>{_(EW(J))},b=J=>j=>{J&&y.current&&J(y.current,j)},x=U.useCallback(b(n),[n]),k=U.useCallback(b(e),[e]),P=U.useCallback(b(t),[t]),D=U.useCallback(b(r),[r]),M=U.useCallback(b(i),[i]),W=U.useCallback(b(o),[o]),X=U.useCallback(b(l),[l]);return R.jsx(es,{ref:m,...d,onEnter:x,onEntered:P,onEntering:k,onExit:D,onExited:W,onExiting:M,addEndListener:X,nodeRef:y,children:typeof u=="function"?(J,j)=>u(J,{...j,ref:E}):Me.cloneElement(u,{ref:E})})}),xW={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function bW(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=xW[n];return r+parseInt(Gp(e,i[0]),10)+parseInt(Gp(e,i[1]),10)}const SW={[Ps]:"collapse",[Kp]:"collapsing",[Rs]:"collapsing",[Ko]:"collapse show"},IW=Me.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:o,children:l,dimension:u="height",in:h=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:_=!1,getDimensionValue:E=bW,...b},x)=>{const k=typeof u=="function"?u():u,P=U.useMemo(()=>bc(J=>{J.style[k]="0"},n),[k,n]),D=U.useMemo(()=>bc(J=>{const j=`scroll${k[0].toUpperCase()}${k.slice(1)}`;J.style[k]=`${J[j]}px`},e),[k,e]),M=U.useMemo(()=>bc(J=>{J.style[k]=null},t),[k,t]),W=U.useMemo(()=>bc(J=>{J.style[k]=`${E(k,J)}px`,vW(J)},r),[r,E,k]),X=U.useMemo(()=>bc(J=>{J.style[k]=null},i),[k,i]);return R.jsx(TW,{ref:x,addEndListener:yW,...b,"aria-expanded":b.role?h:null,onEnter:P,onEntering:D,onEntered:M,onExit:W,onExiting:X,childRef:uW(l),in:h,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:_,children:(J,j)=>Me.cloneElement(l,{...j,className:ba(o,l.props.className,SW[J],k==="width"&&"collapse-horizontal")})})});function Ik(n,e){return Array.isArray(n)?n.includes(e):n===e}const dd=U.createContext({});dd.displayName="AccordionContext";const r_=U.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...o},l)=>{const{activeEventKey:u}=U.useContext(dd);return e=Su(e,"accordion-collapse"),R.jsx(IW,{ref:l,in:Ik(u,i),...o,className:ba(t,e),children:R.jsx(n,{children:U.Children.only(r)})})});r_.displayName="AccordionCollapse";const Vm=U.createContext({eventKey:""});Vm.displayName="AccordionItemContext";const Ck=U.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:h,...d},m)=>{e=Su(e,"accordion-body");const{eventKey:y}=U.useContext(Vm);return R.jsx(r_,{eventKey:y,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:h,children:R.jsx(n,{ref:m,...d,className:ba(t,e)})})});Ck.displayName="AccordionBody";function CW(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=U.useContext(dd);return o=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(u=>u!==n):l=[...t,n]:l=[n]),r==null||r(l,o),e==null||e(o)}}const i_=U.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},o)=>{e=Su(e,"accordion-button");const{eventKey:l}=U.useContext(Vm),u=CW(l,r),{activeEventKey:h}=U.useContext(dd);return n==="button"&&(i.type="button"),R.jsx(n,{ref:o,onClick:u,...i,"aria-expanded":Array.isArray(h)?h.includes(l):l===h,className:ba(t,e,!Ik(h,l)&&"collapsed")})});i_.displayName="AccordionButton";const Ak=U.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:o,...l},u)=>(t=Su(t,"accordion-header"),R.jsx(n,{ref:u,...l,className:ba(r,t),children:R.jsx(i_,{onClick:o,"aria-controls":e,children:i})})));Ak.displayName="AccordionHeader";const Pk=U.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},o)=>{e=Su(e,"accordion-item");const l=U.useMemo(()=>({eventKey:r}),[r]);return R.jsx(Vm.Provider,{value:l,children:R.jsx(n,{ref:o,...i,className:ba(t,e)})})});Pk.displayName="AccordionItem";const Rk=U.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:o,onSelect:l,flush:u,alwaysOpen:h,...d}=KH(n,{activeKey:"onSelect"}),m=Su(i,"accordion"),y=U.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:h}),[r,l,h]);return R.jsx(dd.Provider,{value:y,children:R.jsx(t,{ref:e,...d,className:ba(o,m,u&&`${m}-flush`)})})});Rk.displayName="Accordion";const qo=Object.assign(Rk,{Button:i_,Collapse:r_,Item:Pk,Header:Ak,Body:Ck});function AW(){return R.jsx("div",{className:" ",children:R.jsxs(qo,{className:"mb-7",defaultActiveKey:"0",children:[R.jsxs(qo.Item,{eventKey:"0",children:[R.jsx(qo.Header,{children:"喜歡拍攝什麼題材？"}),R.jsx(qo.Body,{children:"喜歡拍攝人像與風景:人像能捕捉情感的瞬間，而風景則呈現自然的壯麗與寧靜。"})]}),R.jsxs(qo.Item,{eventKey:"1",children:[R.jsx(qo.Header,{children:"拍攝的靈感來源是什麼？"}),R.jsx(qo.Body,{children:"靈感來自生活中的每個細節——眼神、表情、光線變化，或是大自然的景色。每一次拍攝都是觀察世界、發現美的過程。"})]})]})})}function PW(n){return fo({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const RW=()=>{const n=$S(),{user:e,setUser:t}=U.useContext(hw),r=async()=>{try{await q4(np,ZC);const o=await f3(np,T6);t(o.user),n("/")}catch(o){console.error("Error during Google login:",o.message)}},i=async()=>{try{await K4(np),t(null),n("/")}catch(o){console.error("Error during logout:",o.message)}};return R.jsx("div",{className:"flex items-center gap-4",children:e?R.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"登出"}):R.jsx("div",{className:"relative w-full h-screen",children:R.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 max-w-sm w-full p-6 rounded-lg shadow-lg text-center",children:[R.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Log into Your Account"}),R.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sign in to your account with your social profile"}),R.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 w-full mt-4 bg-red-500 text-white py-3 rounded-full text-lg font-semibold shadow-md hover:bg-red-600 transition",children:[R.jsx(PW,{className:"text-2xl bg-white rounded-full p-1"}),"Sign in with Google"]})]})})})},kW=()=>{const{slug:n}=FS(),e=[{id:1,title:"東南亞的隱藏寶藏",description:"探索那些鮮為人知的絕美目的地，改變你對旅行的觀點。",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?...",date:"2024年12月15日",readTime:"閱讀時間 8 分鐘",rating:4,slug:"hidden-gems-southeast-asia",author:"Sarah Johnson",content:`
        <p>東南亞一直是尋找冒險、文化和自然美景旅人的磁石。雖然曼谷、峇里島和新加坡等熱門地點每年吸引數百萬遊客，但仍有許多隱藏的秘境等待勇於探索的人發現。</p>
        
        <h2>拉賈安帕特的未受破壞群島</h2>
        <p>位於印尼西巴布亞省的拉賈安帕特，被譽為「海洋生物多樣性的皇冠明珠」。這個偏遠的群島由四座主要島嶼和無數小島組成，提供世界上最純淨的潛水與浮潛體驗。</p>
        
        <p>這片海域孕育超過 1,500 種魚類及 75% 已知的珊瑚品種。拉賈安帕特真正特別之處在於其對保育的承諾 —— 當地社群已建立海洋保護區，確保這些水下寶藏能保存給未來世代。</p>
        
        <h2>蒲甘的古老寺廟</h2>
        <p>雖然吳哥窟最受矚目，但緬甸的蒲甘也提供同樣壯麗卻人潮稀少的寺廟體驗。這座古城擁有超過 2,000 座佛教寺廟與佛塔，遍布廣闊的平原。</p>
        
        <p>最佳體驗方式是清晨搭乘熱氣球，當伊洛瓦底江上升起薄霧，金色寺廟逐漸從晨霧中浮現，那畫面將永生難忘。</p>
        
        <h2>芹苴的水上市場</h2>
        <p>越南湄公河三角洲以水上市場聞名，但大多數遊客只會去胡志明市附近的觀光化市場。若想體驗更真實的氛圍，前往芹苴的蔡楊水上市場吧，當地農民世世代代在此以小船交易水果與蔬菜。</p>
        
        <p>清晨抵達是最佳時機，你將看到滿載鳳梨、火龍果等熱帶水果的船隻，交織出水面上一幅繽紛的馬賽克畫。</p>
      `},{id:2,title:"歐洲美食市集：一場味覺之旅",description:"從巴塞隆納的博克利亞市場到伊斯坦堡的大市集，探索世界上最熱鬧的美食場景。",image:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?...",date:"2024年12月12日",readTime:"閱讀時間 6 分鐘",rating:4.8,slug:"european-food-markets",author:"Marco Rodriguez",content:`
        <p>歐洲的美食市集不只是購物的地方，更是滋養社群數百年的文化象徵。每一個市集都承載著當地傳統、時令食材，以及世代相傳的飲食文化。</p>
        
        <h2>巴塞隆納 ─ 博克利亞市場</h2>
        <p>或許是歐洲最著名的市集，博克利亞市場自 13 世紀起就服務著巴塞隆納。位於蘭布拉大道旁，這裡是感官的盛宴。</p>
        
        <p>千萬別錯過新鮮果汁、西班牙伊比利火腿，以及種類繁多的海鮮。繽紛的水果蔬菜攤位雖然適合拍照，但真正的魔力來自於那些令人驚豔的味道。</p>
        
        <h2>倫敦 ─ 博羅市場</h2>
        <p>倫敦的博羅市場是美食愛好者的天堂，匯聚英國及國際料理的精華。始於 13 世紀，它是倫敦最古老的美食市集之一。</p>
        
        <p>別錯過手工起司、新鮮出爐的麵包，以及來自世界各地的街頭美食。維多利亞式的建築更為你的美食冒險增添了壯麗背景。</p>
      `},{id:3,title:"日本單人旅行：完整指南",description:"自信暢遊日出之國，首次單人旅行的必備技巧。",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?...",date:"2024年12月10日",readTime:"閱讀時間 12 分鐘",rating:4.9,slug:"solo-travel-japan",author:"Yuki Tanaka",content:`
        <p>日本是世界上最適合單人旅行的國家之一。安全、便利與獨特的文化，讓它成為獨自探索的理想選擇。以下是首次單人暢遊日本所需知道的一切。</p>
        
        <h2>交通：JR 周遊券</h2>
        <p>日本鐵路周遊券（JR Pass）是高效且實惠的交通方式。持此票可無限搭乘大部分 JR 列車，包括著名的新幹線。</p>
        
        <p>建議在抵達日本前購買，可享最佳價格。7 日票非常適合首次造訪東京、京都、大阪的旅客。</p>
        
        <h2>住宿選擇：膠囊旅館與旅館（Ryokan）</h2>
        <p>日本提供多樣化的住宿選擇，特別適合單人旅行者。膠囊旅館位於市中心，價位親民、安全又乾淨；傳統旅館則能體驗榻榻米、蒲團與公共浴池，享受道地的日本風情。</p>
        
        <h2>文化禮儀</h2>
        <p>了解日本的文化禮儀能大幅提升旅行體驗。見面時鞠躬、進入民宅或餐廳需脫鞋、避免邊走邊吃——這些小細節都展現對當地文化的尊重。</p>
      `},{id:4,title:"阿爾卑斯山的登山冒險",description:"體驗壯麗的阿爾卑斯山峰，探索令人屏息的健行步道。",image:"https://images.unsplash.com/photo-1464822759844-d150baec0494?...",date:"2024年12月08日",readTime:"閱讀時間 10 分鐘",rating:4.7,slug:"mountain-adventures-alps",author:"Elena Schmidt",content:`
        <p>阿爾卑斯山橫跨八個國家，擁有世界上最壯觀的山景。從著名的馬特洪峰到奧地利的純淨湖泊，這片山脈為冒險者與大自然愛好者提供無窮選擇。</p>
        
        <h2>經典健行路線</h2>
        <p>勃朗峰環山步道（Tour du Mont Blanc）是阿爾卑斯最著名的長程健行路線，全長 170 公里，橫跨法國、義大利與瑞士，沿途風光從冰河谷地到高山草原。</p>
        
        <p>想挑戰短程卻同樣值得的路線，可以選擇霞慕尼至策馬特的高山路線（Haute Route），沿途可欣賞壯麗的冰河美景與高難度地形。</p>
        
        <h2>阿爾卑斯湖泊與山村</h2>
        <p>阿爾卑斯擁有無數絕美湖泊，如斯洛維尼亞的布萊德湖（Bled），島上教堂宛如童話；法國的安錫湖則被稱為「法國阿爾卑斯的明珠」。</p>
        
        <p>別錯過奧地利的哈修塔特（Hallstatt）或瑞士的金梅瓦爾德（Gimmelwald），這些山村至今仍保留傳統的阿爾卑斯文化。</p>
        
        <h2>最佳旅遊時機</h2>
        <p>夏季（6 月至 9 月）適合健行與戶外活動；冬季則化身滑雪與單板的天堂。春秋季人潮較少，色彩繽紛也別具魅力。</p>
      `},{id:5,title:"世界街頭藝術之都",description:"從柏林到布宜諾斯艾利斯，探索充滿活力的街頭藝術與牆上的故事。",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?...",date:"2024年12月05日",readTime:"閱讀時間 7 分鐘",rating:4.5,slug:"street-art-capitals",author:"Diego Martinez",content:`
        <p>街頭藝術已從地下反叛文化轉變為主流藝術表達，重塑全球城市風貌。這些城市擁抱街頭藝術，將其視為合法藝術，並打造露天美術館，呈現文化、政治與人性的故事。</p>
        
        <h2>柏林：塗鴉之都</h2>
        <p>柏林的街頭藝術聞名全球，其中東邊畫廊是柏林圍牆僅存的最長段落，如今覆滿國際藝術家的壁畫。自由開放的態度讓克羅伊茨貝格與弗里德里希斯海因等區域化身為「活的畫布」。</p>
        
        <p>參加導覽，探索隱藏的藝術作品，了解背後的政治與社會意涵。</p>
        
        <h2>布宜諾斯艾利斯：南美的藝術表達</h2>
        <p>布宜諾斯艾利斯擁有南美最具活力的街頭藝術場景。經濟困境催生出強烈的政治壁畫，而巴勒莫與聖太摩等街區則展現多彩的阿根廷文化藝術。</p>
        
        <p>當地甚至推出官方街頭藝術導覽，顯示政府已將其視為文化資產。</p>
        
        <h2>墨爾本：巷弄文化</h2>
        <p>墨爾本著名的巷弄如同街頭藝術迷宮，從大幅壁畫到精緻的模板噴畫應有盡有。這些藝術作品不斷更新，霍西爾巷與 AC/DC 巷是必訪之地。</p>
      `},{id:6,title:"地中海跳島之旅",description:"航行於碧藍海水間，發現最美麗的地中海島嶼與祕密海灣。",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?...",date:"2024年12月03日",readTime:"閱讀時間 9 分鐘",rating:4.6,slug:"mediterranean-island-hopping",author:"Sofia Papadopoulos",content:`
        <p>地中海上散落著數千座島嶼，每座島都有獨特的歷史、文化與自然景觀。跳島旅行就像穿越時光，從史前遺跡到中世紀堡壘，再到現代度假勝地。</p>
        
        <h2>希臘群島：基克拉迪風情</h2>
        <p>基克拉迪群島展現經典的希臘風格：白牆藍頂教堂、懸崖村莊。先到聖托里尼欣賞日落，再去米克諾斯享受夜生活，然後探索隱藏版的佛雷甘德羅斯與西弗諾斯。</p>
        
        <p>每座島都有不同性格——從伊奧斯的派對氛圍，到依舊用驢子運貨的藝術島嶼希德拉。</p>
        
        <h2>巴利阿里群島：西班牙天堂</h2>
        <p>西班牙的巴利阿里群島融合海灘放鬆與文化探索。伊比薩雖以電子音樂著名，但也有世界文化遺產與純淨海灘。馬略卡結合美麗海岸線、山中村莊與絕佳健行路線。</p>
        
        <p>別錯過梅諾卡，它是聯合國教科文組織生物圈保護區，擁有地中海最原始的海灘。</p>
        
        <h2>行程規劃</h2>
        <p>最佳跳島時機為晚春至初秋，渡輪航班最為頻繁。建議購買跳島套票以節省開支，夏季旺季務必提前預訂住宿。</p>
      `},{id:7,title:"極光攝影：攝影師的夢想",description:"捕捉極光魔力，專家技巧與最佳取景地完整指南。",image:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?...",date:"2024年11月28日",readTime:"閱讀時間 11 分鐘",rating:4.9,slug:"northern-lights-photography",author:"Lars Andersen",content:`
        <p>北極光是大自然最壯麗的奇觀之一。這些舞動的光幕數千年來吸引人類目光，只要掌握正確知識與設備，你也能捕捉到它的神秘之美。</p>
        
        <h2>認識極光</h2>
        <p>極光是太陽帶電粒子與地球磁場、大氣層互動的結果。最佳觀賞期為 9 月至 3 月的黑夜季，春分與秋分前後活動最頻繁。</p>
        
        <p>極光活動遵循 11 年太陽週期，目前正接近太陽極大期，是拍攝極光的絕佳時機。</p>
        
        <h2>最佳拍攝地點</h2>
        <p>冰島是最方便的極光觀賞地，雷克雅維克是北部探險的良好基地，冰河湖提供壯麗的前景。</p>
        
        <p>挪威特羅姆瑟周邊極光機率極高，峽灣倒映的光景令人驚嘆。芬蘭拉普蘭與瑞典北部則有純淨的荒野，光害極少。</p>
        
        <h2>攝影技巧</h2>
        <p>使用穩固的腳架，手動模式搭配廣角鏡頭。建議 ISO 1600–3200、光圈 f/2.8 或更大、曝光 10–25 秒。手動對焦至無限遠，並使用快門線或定時器避免晃動。</p>
        
        <p>在構圖中加入樹木、山脈或建築物，能讓照片更具故事性。天地之間的對比會帶來強烈的視覺效果。</p>
      `},{id:8,title:"沙漠探險之旅",description:"從撒哈拉到阿拉伯半島金色沙丘，體驗沙漠的驚險與美麗。",image:"https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9?...",date:"2024年11月25日",readTime:"閱讀時間 8 分鐘",rating:4.4,slug:"desert-safari-adventures",author:"Amira Hassan",content:`
        <p>沙漠探險融合冒險、文化與自然之美。從廣袤的撒哈拉到阿拉伯半島的高聳沙丘，這些景觀帶來難忘的體驗，讓我們與地球最極端的環境產生連結。</p>
        
        <h2>撒哈拉：世界最大熱沙漠</h2>
        <p>摩洛哥的撒哈拉沙漠可從馬拉喀什與非斯出發，其中靠近梅祖卡的謝比沙丘高達 150 公尺，日出與日落景色壯觀。</p>
        
        <p>騎駱駝前往柏柏爾營地，體驗遊牧民族的生活。夜晚仰望滿天繁星，清晨伴隨悠揚的祈禱聲醒來。</p>
        
        <h2>阿拉伯半島：奢華沙漠體驗</h2>
        <p>阿聯酋的沙漠探險結合傳統貝都因文化與現代奢華。杜拜與阿布達比提供從四驅車衝沙到高級沙漠度假村的各種選擇。</p>
        
        <p>別錯過滑沙、獵鷹表演與指甲花彩繪。現代城市與永恆沙漠的對比，營造獨特的文化體驗。</p>
        
        <h2>必備小技巧</h2>
        <p>白天穿輕薄衣物，夜晚帶保暖衣。隨身攜帶足夠的水、防曬乳與帽子。尊重當地文化與脆弱的沙漠生態，僅留下足跡，帶走照片。</p>
        
        <p>最佳旅遊時段為涼爽的 10 月至 3 月，白天氣溫較舒適。</p>
      `},{id:9,title:"城市探索：現代建築之美",description:"發現世界最具創新城市的建築奇蹟與設計故事。",image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?...",date:"2024年11月22日",readTime:"閱讀時間 6 分鐘",rating:4.3,slug:"urban-exploration-architecture",author:"Alexander Chen",content:`
        <p>現代建築重塑了全球城市天際線，這些地標不僅是建築，更是人類野心、科技進步與藝術視野的象徵。</p>
        
        <h2>杜拜：未來沙漠都市</h2>
        <p>杜拜的天際線展現了無限的建築企圖心。哈里發塔高達 828 公尺，刷新摩天樓的極限。設計靈感來自伊斯蘭建築與沙漠之花，體現了文化與現代的融合。</p>
        
        <p>未來博物館的環形建築外覆阿拉伯書法，象徵創新，挑戰傳統建築概念。</p>
        
        <h2>新加坡：綠色建築先驅</h2>
        <p>新加坡以永續都市建築聞名，例如柏克萊精選飯店（Parkroyal Collection Pickering），綠意面積甚至超越公園。親自然設計改善空氣品質並降低溫度。</p>
        
        <p>濱海灣花園的超級樹結合藝術、建築與環保科技，高達 50 公尺，可收集雨水、產生太陽能並為冷室通風。</p>
        
        <h2>哥本哈根：以人為本的設計</h2>
        <p>哥本哈根建築強調人類福祉與環境永續。由 BIG 建築事務所設計的「8 字樓」讓居民能騎腳踏車從一樓到 11 樓，重新定義城市生活。</p>
        
        <p>該市計劃在 2025 年實現碳中和，驅動建築創新，兼顧美學與永續責任。</p>
      `}],t=e.find(r=>r.slug===n);return t?R.jsxs("div",{className:"min-h-screen bg-gray-50",children:[R.jsxs("div",{className:"relative h-96 overflow-hidden",children:[R.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),R.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:R.jsxs("div",{className:"text-center text-white max-w-4xl px-4",children:[R.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t.title}),R.jsx("p",{className:"text-xl opacity-90",children:t.description})]})})]}),R.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[R.jsx("div",{className:"mb-8",children:R.jsxs(Sr,{to:"/blog",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[R.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Blog"]})}),R.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:R.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[R.jsxs("div",{className:"flex items-center space-x-6",children:[R.jsxs("div",{className:"flex items-center",children:[R.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:t.author.split(" ").map(r=>r[0]).join("")}),R.jsxs("div",{className:"ml-3",children:[R.jsx("p",{className:"font-medium text-gray-900",children:t.author}),R.jsx("p",{className:"text-sm text-gray-500",children:t.date})]})]}),R.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[R.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.readTime]})]}),R.jsxs("div",{className:"flex items-center bg-yellow-50 rounded-full px-3 py-1",children:[R.jsx("span",{className:"text-yellow-500",children:"★"}),R.jsx("span",{className:"text-sm font-medium ml-1",children:t.rating})]})]})}),R.jsx("article",{className:"bg-white rounded-lg shadow-sm p-8",children:R.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:t.content}})}),R.jsxs("div",{className:"mt-12",children:[R.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Adventures"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(r=>r.id!==t.id).slice(0,3).map(r=>R.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[R.jsx("img",{src:r.image,alt:r.title,className:"w-full h-32 object-cover"}),R.jsxs("div",{className:"p-4",children:[R.jsx("h4",{className:"font-bold text-gray-900 mb-2 hover:text-blue-600",children:R.jsx(Sr,{to:`/blog/${r.slug}`,children:r.title})}),R.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:r.description}),R.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[R.jsx("span",{children:r.date}),R.jsx("span",{children:r.readTime})]})]})]},r.id))})]})]})]}):R.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog Post Not Found"}),R.jsx("p",{className:"text-gray-600 mb-8",children:"The blog post you're looking for doesn't exist."}),R.jsx(Sr,{to:"/blog",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Blog"})]})})},OW=()=>R.jsxs("div",{className:"min-h-screen bg-gray-50",children:[R.jsxs("div",{className:"relative bg-gradient-to-r from-gray-900 to-gray-700 text-white",children:[R.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),R.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"關於我"}),R.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto",children:"從第一次拿起相機開始，我就深深著迷於「按下快門」的那一刻。 攝影對我而言，不只是紀錄影像，而是一種將情感與故事凝結在畫面中的方式。"})]})})]}),R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"aspect-w-4 aspect-h-5 rounded-lg overflow-hidden shadow-2xl"}),R.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-blue-500 rounded-full opacity-20"}),R.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-purple-500 rounded-full opacity-20"})]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Hi, 我是Kevin"}),R.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"歡迎來到我的網站"})]}),R.jsx("div",{children:R.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"分享攝影拍攝作品"})})]})]}),R.jsxs("div",{className:"mt-20",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"我特別熱愛 人像攝影與風景攝影。"}),R.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{title:"人像攝影",description:"人像裡，我喜歡捕捉最自然的神情 —— 一個不經意的微笑、一個安靜的眼神，都能展現最真實的自我。",icon:"📸"},{title:"風景拍攝",description:"每一次快門，都是與大自然的一場深刻對話。我希望觀者能透過我的照片，感受到當下的空氣、氛圍與情緒",icon:"🌄"}].map((n,e)=>R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center hover:shadow-xl transition-shadow duration-300",children:[R.jsx("div",{className:"text-4xl mb-4",children:n.icon}),R.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.title}),R.jsx("p",{className:"text-gray-600",children:n.description})]},e))})]}),R.jsx("div",{className:"mt-20 bg-white rounded-2xl shadow-lg p-8 md:p-12",children:R.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[R.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"攝影"}),R.jsx("blockquote",{className:"text-xl text-gray-600 italic leading-relaxed",children:"在人像中，我追求真實情感的流露；在風景裡，我探索自然的壯麗與寧靜。 我希望讓影像不只是記錄，而是一股能量，能觸動人心、引發共鳴。"}),R.jsx("div",{className:"mt-6",children:R.jsx("div",{className:"w-16 h-1 bg-blue-500 mx-auto"})})]})})]})]}),NW=()=>R.jsxs("div",{className:"p-8",children:[R.jsx("h1",{className:"text-3xl font-bold",children:"Service Page"}),R.jsx("p",{children:"Service content will go here."})]}),DW=()=>R.jsxs("div",{className:"p-8",children:[R.jsx("h1",{className:"text-3xl font-bold",children:"Resume Page"}),R.jsx("p",{children:"Resume content will go here."})]}),LW=()=>R.jsxs("div",{className:"p-8",children:[R.jsx("h1",{className:"text-3xl font-bold",children:"Portfolio Page"}),R.jsx("p",{children:"Portfolio content will go here."})]}),VW=()=>R.jsxs("div",{className:"p-8",children:[R.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials Page"}),R.jsx("p",{children:"Testimonials content will go here."})]}),MW=()=>R.jsxs("div",{className:"p-8",children:[R.jsx("h1",{className:"text-3xl font-bold",children:"Contact Page"}),R.jsx("p",{children:"Contact content will go here."})]}),jW=()=>vN([{path:"/",element:R.jsx(az,{})},{path:"/problem",element:R.jsx(AW,{})},{path:"/login",element:R.jsx(RW,{})},{path:"/product/:slug",element:R.jsx(BH,{})},{path:"/blog",element:R.jsx(MP,{})},{path:"/blog/:slug",element:R.jsx(kW,{})},{path:"/gallery",element:R.jsx(GR,{})},{path:"/about",element:R.jsx(OW,{})},{path:"/service",element:R.jsx(NW,{})},{path:"/resume",element:R.jsx(DW,{})},{path:"/portfolio",element:R.jsx(LW,{})},{path:"/testimonials",element:R.jsx(VW,{})},{path:"/contact",element:R.jsx(MW,{})}]),$W=()=>{const[n,e]=U.useState(!1),t=Yi(),r=t.pathname==="/"||t.pathname==="/portfolio"||t.pathname==="/about"||t.pathname==="/service"||t.pathname==="/resume"||t.pathname==="/testimonials"||t.pathname==="/contact",i=t.pathname==="/"||t.pathname==="/portfolio"||t.pathname==="/about"||t.pathname==="/service"||t.pathname==="/resume"||t.pathname==="/testimonials"||t.pathname==="/contact"||t.pathname==="/blog"||t.pathname==="/problem"||t.pathname==="/gallery";return R.jsxs("div",{className:`${r?"bg-teal-400":""} overflow-x-hidden relative`,children:[R.jsx(FW,{isMenuOpen:n,setIsMenuOpen:e}),r&&R.jsx(UW,{}),n&&R.jsx("div",{className:`absolute top-[80px] left-0 right-0 ${i?"bg-slate-600":"bg-white border-b border-gray-200"} md:hidden z-[9999] shadow-lg`,children:R.jsxs("div",{className:"flex flex-col space-y-4 px-6 py-4",children:[R.jsx(Cs,{to:"/",text:"首頁",isPortfolioPage:i}),R.jsx(Cs,{to:"/blog",text:"Blog",isPortfolioPage:i}),R.jsx(Cs,{to:"/problem",text:"問與答Q&A",isPortfolioPage:i}),R.jsx(Cs,{to:"/about",text:"About",isPortfolioPage:i}),R.jsx(Cs,{to:"/gallery",text:"攝影照片",isPortfolioPage:i}),R.jsx(Cs,{to:"/resume",text:"Resume",isPortfolioPage:i}),R.jsx(Cs,{to:"/portfolio",text:"Portfolio",isPortfolioPage:i}),R.jsx(Cs,{to:"/testimonials",text:"Testimonials",isPortfolioPage:i}),R.jsx(zW,{text:"Contact",isPortfolioPage:i})]})})]})},FW=({isMenuOpen:n,setIsMenuOpen:e})=>{const t=Yi(),r=t.pathname==="/"||t.pathname==="/portfolio"||t.pathname==="/about"||t.pathname==="/service"||t.pathname==="/resume"||t.pathname==="/testimonials"||t.pathname==="/contact"||t.pathname==="/blog"||t.pathname==="/problem"||t.pathname==="/gallery";return R.jsxs("nav",{className:`${r?"bg-slate-600":"bg-white border-b border-gray-200"} px-6 py-4 flex items-center justify-between relative w-full max-w-full overflow-x-hidden`,children:[R.jsx(Sr,{to:"/",className:`${r?"text-white hover:text-gray-300":"text-gray-800 hover:text-indigo-600"} font-bold text-xl tracking-wider transition-colors duration-200`,children:"Kevin攝影"}),R.jsxs("div",{className:"hidden md:flex items-center space-x-4 lg:space-x-8 flex-wrap",children:[R.jsx(vl,{to:"/",text:"首頁",isPortfolioPage:r}),R.jsx(vl,{to:"/blog",text:"Blog",isPortfolioPage:r}),R.jsx(vl,{to:"/problem",text:"問與答Q&A",isPortfolioPage:r}),R.jsx(vl,{to:"/about",text:"About",isPortfolioPage:r}),R.jsx(vl,{to:"/gallery",text:"攝影照片",isPortfolioPage:r}),R.jsx(vl,{to:"/portfolio",text:"Portfolio",isPortfolioPage:r}),R.jsx(BW,{text:"Contact",isPortfolioPage:r})]}),R.jsx("button",{className:`md:hidden flex items-center justify-center p-2 ${r?"text-white":"text-gray-800"}`,onClick:()=>e(!n),children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})},UW=()=>R.jsxs("div",{className:"flex items-center justify-between px-6 lg:px-20 py-20 min-h-[calc(100vh-80px)] w-full max-w-full overflow-x-hidden",children:[R.jsx("div",{className:"flex-1 max-w-2xl",children:R.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[R.jsx("p",{className:"text-black text-lg mb-4",children:"嗨~"}),R.jsx("h1",{className:"text-black text-5xl lg:text-6xl font-bold mb-4",children:"我是Kevin"}),R.jsx("h2",{className:"text-black text-2xl lg:text-3xl font-semibold mb-6",children:"分享攝影照片"}),R.jsx("p",{className:"text-black text-lg mb-8 leading-relaxed max-w-xl"}),R.jsx(ir.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-black text-white px-8 py-3 rounded-md font-medium hover:bg-gray-800 transition-colors",children:"Contact Me"})]})}),R.jsx("div",{className:"hidden lg:block flex-1 flex justify-center",children:R.jsx(ir.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"relative",children:R.jsx("div",{className:"w-80 h-80 rounded-full overflow-hidden border-4 border-black shadow-2xl",children:R.jsx("img",{src:"https://res.cloudinary.com/dtbj43yha/image/upload/v1753798709/mountain_jdi9k6.jpg",alt:"Lorenzo Fellon",className:"w-full h-full object-cover"})})})})]}),vl=({to:n,text:e,isPortfolioPage:t})=>R.jsx(Sr,{to:n,className:`${t?"text-white hover:text-gray-300":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),Cs=({to:n,text:e,isPortfolioPage:t})=>R.jsx(Sr,{to:n,className:`${t?"text-white hover:text-gray-300":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),BW=({text:n,isPortfolioPage:e})=>{const t=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return R.jsx("button",{onClick:t,className:`${e?"text-white hover:text-gray-300":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:n})},zW=({text:n,isPortfolioPage:e})=>{const t=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return R.jsx("button",{onClick:t,className:`${e?"text-white hover:text-gray-300":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:n})};class Mm{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const qW=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},xl={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:qW()},HW=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},WW=async(n,e,t={})=>{const r=await fetch(xl.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),o=new Mm(r.status,i);if(r.ok)return o;throw o},GW=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},KW=n=>n.webdriver||!n.languages||n.languages.length===0,QW=()=>new Mm(451,"Unavailable For Headless Browser"),YW=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},XW=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},JW=(n,e)=>n instanceof FormData?n.get(e):n[e],ZW=(n,e)=>{if(XW(n))return!1;YW(n.list,n.watchVariable);const t=JW(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},eG=()=>new Mm(403,"Forbidden"),tG=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},nG=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},rG=async(n,e,t)=>{if(!e.throttle||!t)return!1;tG(e.throttle,e.id);const r=e.id||n;return await nG(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},iG=()=>new Mm(429,"Too Many Requests"),sG=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},oG=n=>typeof n=="string"?document.querySelector(n):n,aG=async(n,e,t,r)=>{const i=HW(r),o=i.publicKey||xl.publicKey,l=i.blockHeadless||xl.blockHeadless,u=xl.storageProvider||i.storageProvider,h={...xl.blockList,...i.blockList},d={...xl.limitRate,...i.limitRate};if(l&&KW(navigator))return Promise.reject(QW());const m=oG(t);GW(o,n,e),sG(m);const y=new FormData(m);return ZW(h,y)?Promise.reject(eG()):await rG(location.pathname,d,u)?Promise.reject(iG()):(y.append("lib_version","4.4.1"),y.append("service_id",n),y.append("template_id",e),y.append("user_id",o),WW("/api/v1.0/email/send-form",y))},lG=()=>{const[n,e]=U.useState({name:"",phone:"",email:"",message:""}),[t,r]=U.useState(!1),i=U.useRef(),o=u=>{e({...n,[u.target.name]:u.target.value})},l=async u=>{u.preventDefault(),r(!0);try{await aG("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",i.current,"YOUR_PUBLIC_KEY"),Qe.success("訊息已成功發送！我們會盡快回覆您。",{position:"top-right",autoClose:3e3}),e({name:"",phone:"",email:"",message:""})}catch(h){console.error("EmailJS error:",h),Qe.error("發送失敗，請稍後再試或直接聯繫我們。",{position:"top-right",autoClose:3e3})}finally{r(!1)}};return R.jsxs("footer",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:[R.jsx("div",{className:"container mx-auto px-6 py-16",children:R.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[R.jsxs(ir.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"space-y-8",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent"}),R.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"聯絡我"})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx(yU,{className:"text-teal-400 text-xl"}),R.jsx("span",{className:"text-gray-300",children:" "})]}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx(pU,{className:"text-teal-400 text-xl"}),R.jsx("span",{className:"text-gray-300",children:"a411758@gmail.com"})]}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx(gU,{className:"text-teal-400 text-xl"}),R.jsx("span",{className:"text-gray-300",children:"台灣 台北市"})]})]}),R.jsxs("div",{className:"flex space-x-6",children:[R.jsx(ir.a,{href:"https://instagram.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-gradient-to-r from-pink-500 to-purple-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:R.jsx(fU,{className:"text-2xl text-white"})}),R.jsx(ir.a,{href:"https://facebook.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-blue-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:R.jsx(dU,{className:"text-2xl text-white"})})]})]}),R.jsxs(ir.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700",children:[R.jsx("h3",{className:"text-2xl font-semibold mb-6 text-center",children:"發送訊息"}),R.jsxs("form",{ref:i,onSubmit:l,className:"space-y-6",children:[R.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"姓名 *"}),R.jsx("input",{type:"text",name:"name",value:n.name,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的姓名"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電話"}),R.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:o,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電話"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電子信箱 *"}),R.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電子信箱"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"訊息內容 *"}),R.jsx("textarea",{name:"message",value:n.message,onChange:o,required:!0,rows:"5",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300 resize-none",placeholder:""})]}),R.jsx(ir.button,{type:"submit",disabled:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:t?"發送中...":"發送訊息"})]})]})]})}),R.jsx("div",{className:"border-t border-gray-700",children:R.jsx("div",{className:"container mx-auto px-6 py-6",children:R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[R.jsx("div",{className:"text-gray-400 text-sm",children:"© 2025 Kevin攝影. All rights reserved."}),R.jsxs("div",{className:"flex space-x-6 text-sm text-gray-400",children:[R.jsx("a",{href:"/privacy",className:"hover:text-teal-400 transition-colors",children:"隱私政策"}),R.jsx("a",{href:"/terms",className:"hover:text-teal-400 transition-colors",children:"服務條款"})]})]})})})]})},uG=()=>R.jsx(x6,{children:R.jsxs(tD,{children:[R.jsx($W,{})," ",R.jsx(iU,{}),R.jsx(jW,{}),R.jsx(lG,{}),"  "]})});BO.createRoot(document.getElementById("root")).render(R.jsx(U.StrictMode,{children:R.jsx(uG,{})}));export{MG as C,dG as a,du as g,CI as i};
