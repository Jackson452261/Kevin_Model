var BP=Object.defineProperty;var E_=t=>{throw TypeError(t)};var zP=(t,e,n)=>e in t?BP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Te=(t,e,n)=>zP(t,typeof e!="symbol"?e+"":e,n),T_=(t,e,n)=>e.has(t)||E_("Cannot "+n);var $=(t,e,n)=>(T_(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?E_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ve=(t,e,n,r)=>(T_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Cc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jm={exports:{}},Iu={},Um={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function $P(){if(S_)return Fe;S_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,x={};function b(z,ee,ge){this.props=z,this.context=ee,this.refs=x,this.updater=ge||T}b.prototype.isReactComponent={},b.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=b.prototype;function V(z,ee,ge){this.props=z,this.context=ee,this.refs=x,this.updater=ge||T}var j=V.prototype=new D;j.constructor=V,I(j,b.prototype),j.isPureReactComponent=!0;var G=Array.isArray,J=Object.prototype.hasOwnProperty,Z={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function A(z,ee,ge){var xe,De={},Ne=null,Ke=null;if(ee!=null)for(xe in ee.ref!==void 0&&(Ke=ee.ref),ee.key!==void 0&&(Ne=""+ee.key),ee)J.call(ee,xe)&&!O.hasOwnProperty(xe)&&(De[xe]=ee[xe]);var Ge=arguments.length-2;if(Ge===1)De.children=ge;else if(1<Ge){for(var Xe=Array(Ge),Ft=0;Ft<Ge;Ft++)Xe[Ft]=arguments[Ft+2];De.children=Xe}if(z&&z.defaultProps)for(xe in Ge=z.defaultProps,Ge)De[xe]===void 0&&(De[xe]=Ge[xe]);return{$$typeof:t,type:z,key:Ne,ref:Ke,props:De,_owner:Z.current}}function N(z,ee){return{$$typeof:t,type:z.type,key:ee,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function P(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return ee[ge]})}var k=/\/+/g;function C(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):ee.toString(36)}function X(z,ee,ge,xe,De){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var Ke=!1;if(z===null)Ke=!0;else switch(Ne){case"string":case"number":Ke=!0;break;case"object":switch(z.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=z,De=De(Ke),z=xe===""?"."+C(Ke,0):xe,G(De)?(ge="",z!=null&&(ge=z.replace(k,"$&/")+"/"),X(De,ee,ge,"",function(Ft){return Ft})):De!=null&&(F(De)&&(De=N(De,ge+(!De.key||Ke&&Ke.key===De.key?"":(""+De.key).replace(k,"$&/")+"/")+z)),ee.push(De)),1;if(Ke=0,xe=xe===""?".":xe+":",G(z))for(var Ge=0;Ge<z.length;Ge++){Ne=z[Ge];var Xe=xe+C(Ne,Ge);Ke+=X(Ne,ee,ge,Xe,De)}else if(Xe=w(z),typeof Xe=="function")for(z=Xe.call(z),Ge=0;!(Ne=z.next()).done;)Ne=Ne.value,Xe=xe+C(Ne,Ge++),Ke+=X(Ne,ee,ge,Xe,De);else if(Ne==="object")throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ke}function Ae(z,ee,ge){if(z==null)return z;var xe=[],De=0;return X(z,xe,"","",function(Ne){return ee.call(ge,Ne,De++)}),xe}function he(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var ce={current:null},ne={transition:null},de={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Ae,forEach:function(z,ee,ge){Ae(z,function(){ee.apply(this,arguments)},ge)},count:function(z){var ee=0;return Ae(z,function(){ee++}),ee},toArray:function(z){return Ae(z,function(ee){return ee})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Fe.Component=b,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=V,Fe.StrictMode=r,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Fe.act=le,Fe.cloneElement=function(z,ee,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var xe=I({},z.props),De=z.key,Ne=z.ref,Ke=z._owner;if(ee!=null){if(ee.ref!==void 0&&(Ne=ee.ref,Ke=Z.current),ee.key!==void 0&&(De=""+ee.key),z.type&&z.type.defaultProps)var Ge=z.type.defaultProps;for(Xe in ee)J.call(ee,Xe)&&!O.hasOwnProperty(Xe)&&(xe[Xe]=ee[Xe]===void 0&&Ge!==void 0?Ge[Xe]:ee[Xe])}var Xe=arguments.length-2;if(Xe===1)xe.children=ge;else if(1<Xe){Ge=Array(Xe);for(var Ft=0;Ft<Xe;Ft++)Ge[Ft]=arguments[Ft+2];xe.children=Ge}return{$$typeof:t,type:z.type,key:De,ref:Ne,props:xe,_owner:Ke}},Fe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Fe.createElement=A,Fe.createFactory=function(z){var ee=A.bind(null,z);return ee.type=z,ee},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:c,render:z}},Fe.isValidElement=F,Fe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:he}},Fe.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},Fe.startTransition=function(z){var ee=ne.transition;ne.transition={};try{z()}finally{ne.transition=ee}},Fe.unstable_act=le,Fe.useCallback=function(z,ee){return ce.current.useCallback(z,ee)},Fe.useContext=function(z){return ce.current.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z){return ce.current.useDeferredValue(z)},Fe.useEffect=function(z,ee){return ce.current.useEffect(z,ee)},Fe.useId=function(){return ce.current.useId()},Fe.useImperativeHandle=function(z,ee,ge){return ce.current.useImperativeHandle(z,ee,ge)},Fe.useInsertionEffect=function(z,ee){return ce.current.useInsertionEffect(z,ee)},Fe.useLayoutEffect=function(z,ee){return ce.current.useLayoutEffect(z,ee)},Fe.useMemo=function(z,ee){return ce.current.useMemo(z,ee)},Fe.useReducer=function(z,ee,ge){return ce.current.useReducer(z,ee,ge)},Fe.useRef=function(z){return ce.current.useRef(z)},Fe.useState=function(z){return ce.current.useState(z)},Fe.useSyncExternalStore=function(z,ee,ge){return ce.current.useSyncExternalStore(z,ee,ge)},Fe.useTransition=function(){return ce.current.useTransition()},Fe.version="18.3.1",Fe}var I_;function Sy(){return I_||(I_=1,Um.exports=$P()),Um.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function qP(){if(x_)return Iu;x_=1;var t=Sy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,_={},w=null,T=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:c,key:w,ref:T,props:_,_owner:i.current}}return Iu.Fragment=n,Iu.jsx=l,Iu.jsxs=l,Iu}var C_;function HP(){return C_||(C_=1,jm.exports=qP()),jm.exports}var q=HP(),M=Sy();const Me=Cc(M);var mf={},Bm={exports:{}},Tn={},zm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function WP(){return A_||(A_=1,function(t){function e(ne,de){var le=ne.length;ne.push(de);e:for(;0<le;){var z=le-1>>>1,ee=ne[z];if(0<i(ee,de))ne[z]=de,ne[le]=ee,le=z;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var de=ne[0],le=ne.pop();if(le!==de){ne[0]=le;e:for(var z=0,ee=ne.length,ge=ee>>>1;z<ge;){var xe=2*(z+1)-1,De=ne[xe],Ne=xe+1,Ke=ne[Ne];if(0>i(De,le))Ne<ee&&0>i(Ke,De)?(ne[z]=Ke,ne[Ne]=le,z=Ne):(ne[z]=De,ne[xe]=le,z=xe);else if(Ne<ee&&0>i(Ke,le))ne[z]=Ke,ne[Ne]=le,z=Ne;else break e}}return de}function i(ne,de){var le=ne.sortIndex-de.sortIndex;return le!==0?le:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,_=null,w=3,T=!1,I=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ne){for(var de=n(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ne)r(p),de.sortIndex=de.expirationTime,e(h,de);else break;de=n(p)}}function G(ne){if(x=!1,j(ne),!I)if(n(h)!==null)I=!0,he(J);else{var de=n(p);de!==null&&ce(G,de.startTime-ne)}}function J(ne,de){I=!1,x&&(x=!1,D(A),A=-1),T=!0;var le=w;try{for(j(de),_=n(h);_!==null&&(!(_.expirationTime>de)||ne&&!P());){var z=_.callback;if(typeof z=="function"){_.callback=null,w=_.priorityLevel;var ee=z(_.expirationTime<=de);de=t.unstable_now(),typeof ee=="function"?_.callback=ee:_===n(h)&&r(h),j(de)}else r(h);_=n(h)}if(_!==null)var ge=!0;else{var xe=n(p);xe!==null&&ce(G,xe.startTime-de),ge=!1}return ge}finally{_=null,w=le,T=!1}}var Z=!1,O=null,A=-1,N=5,F=-1;function P(){return!(t.unstable_now()-F<N)}function k(){if(O!==null){var ne=t.unstable_now();F=ne;var de=!0;try{de=O(!0,ne)}finally{de?C():(Z=!1,O=null)}}else Z=!1}var C;if(typeof V=="function")C=function(){V(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Ae=X.port2;X.port1.onmessage=k,C=function(){Ae.postMessage(null)}}else C=function(){b(k,0)};function he(ne){O=ne,Z||(Z=!0,C())}function ce(ne,de){A=b(function(){ne(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,he(J))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var le=w;w=de;try{return ne()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=w;w=ne;try{return de()}finally{w=le}},t.unstable_scheduleCallback=function(ne,de,le){var z=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,ne={id:g++,callback:de,priorityLevel:ne,startTime:le,expirationTime:ee,sortIndex:-1},le>z?(ne.sortIndex=le,e(p,ne),n(h)===null&&ne===n(p)&&(x?(D(A),A=-1):x=!0,ce(G,le-z))):(ne.sortIndex=ee,e(h,ne),I||T||(I=!0,he(J))),ne},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ne){var de=w;return function(){var le=w;w=de;try{return ne.apply(this,arguments)}finally{w=le}}}}($m)),$m}var P_;function KP(){return P_||(P_=1,zm.exports=WP()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function GP(){if(R_)return Tn;R_=1;var t=Sy(),e=KP();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(s){return h.call(_,s)?!0:h.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function T(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,o,u,d){if(o===null||typeof o>"u"||T(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(s,o,u,d,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new x(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(D,V);b[o]=new x(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(D,V);b[o]=new x(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(D,V);b[o]=new x(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,o,u,d){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,u,m,d)&&(u=null),d||m===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Z=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,z;function ee(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var ge=!1;function xe(s,o){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var d=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){d=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=d.stack.split(`
`),S=m.length-1,L=v.length-1;1<=S&&0<=L&&m[S]!==v[L];)L--;for(;1<=S&&0<=L;S--,L--)if(m[S]!==v[L]){if(S!==1||L!==1)do if(S--,L--,0>L||m[S]!==v[L]){var U=`
`+m[S].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=S&&0<=L);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function De(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case Z:return"Portal";case N:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case P:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case k:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case he:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function Ke(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ft(s){var o=Xe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Wr(s){s._valueTracker||(s._valueTracker=Ft(s))}function qo(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Xe(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function Ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ls(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ho(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Ge(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function bl(s,o){o=o.checked,o!=null&&j(s,"checked",o,!1)}function kl(s,o){bl(s,o);var u=Ge(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Wo(s,o.type,u):o.hasOwnProperty("defaultValue")&&Wo(s,o.type,Ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Zc(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Wo(s,o,u){(o!=="number"||Ni(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Kr=Array.isArray;function Gr(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Ge(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Dl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ko(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Kr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ge(u)}}function Go(s,o){var u=Ge(o.value),d=Ge(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function Nl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Rt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Rt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qr,Ol=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Qr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Oi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fs=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(s){Fs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ms[o]=Ms[s]})});function Vl(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ms.hasOwnProperty(s)&&Ms[s]?(""+o).trim():o+"px"}function Ll(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Vl(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var Ml=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(s,o){if(o){if(Ml[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function jl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function Qo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xo=null,jn=null,_r=null;function Yo(s){if(s=uu(s)){if(typeof Xo!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Rh(o),Xo(s.stateNode,s.type,o))}}function wr(s){jn?_r?_r.push(s):_r=[s]:jn=s}function Ul(){if(jn){var s=jn,o=_r;if(_r=jn=null,Yo(s),o)for(s=0;s<o.length;s++)Yo(o[s])}}function Us(s,o){return s(o)}function Bl(){}var Xr=!1;function zl(s,o,u){if(Xr)return s(o,u);Xr=!0;try{return Us(s,o,u)}finally{Xr=!1,(jn!==null||_r!==null)&&(Bl(),Ul())}}function Et(s,o){var u=s.stateNode;if(u===null)return null;var d=Rh(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Jo=!1;if(c)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Jo=!1}function Bs(s,o,u,d,m,v,S,L,U){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(ie){this.onError(ie)}}var zs=!1,Zo=null,nr=!1,$l=null,dp={onError:function(s){zs=!0,Zo=s}};function ea(s,o,u,d,m,v,S,L,U){zs=!1,Zo=null,Bs.apply(dp,arguments)}function eh(s,o,u,d,m,v,S,L,U){if(ea.apply(this,arguments),zs){if(zs){var Q=Zo;zs=!1,Zo=null}else throw Error(n(198));nr||(nr=!0,$l=Q)}}function rr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function $s(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ir(s){if(rr(s)!==s)throw Error(n(188))}function th(s){var o=s.alternate;if(!o){if(o=rr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return ir(m),s;if(v===d)return ir(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var S=!1,L=m.child;L;){if(L===u){S=!0,u=m,d=v;break}if(L===d){S=!0,d=m,u=v;break}L=L.sibling}if(!S){for(L=v.child;L;){if(L===u){S=!0,u=v,d=m;break}if(L===d){S=!0,d=v,u=m;break}L=L.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function ql(s){return s=th(s),s!==null?ta(s):null}function ta(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ta(s);if(o!==null)return o;s=s.sibling}return null}var na=e.unstable_scheduleCallback,Hl=e.unstable_cancelCallback,nh=e.unstable_shouldYield,pp=e.unstable_requestPaint,nt=e.unstable_now,rh=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,Vi=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,Wl=e.unstable_LowPriority,ih=e.unstable_IdlePriority,Hs=null,Rn=null;function sh(s){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Hs,s,void 0,(s.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:ah,Kl=Math.log,oh=Math.LN2;function ah(s){return s>>>=0,s===0?32:31-(Kl(s)/oh|0)|0}var ra=64,ia=4194304;function Li(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ws(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes,S=u&268435455;if(S!==0){var L=S&~m;L!==0?d=Li(L):(v&=S,v!==0&&(d=Li(v)))}else S=u&~m,S!==0?d=Li(S):v!==0&&(d=Li(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(d&4&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-cn(o),m=1<<u,d|=s[u],o&=~m;return d}function mp(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var S=31-cn(v),L=1<<S,U=m[S];U===-1?(!(L&u)||L&d)&&(m[S]=mp(L,o)):U<=o&&(s.expiredLanes|=L),v&=~L}}function bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ks(){var s=ra;return ra<<=1,!(ra&4194240)&&(ra=64),s}function Mi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Fi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-cn(o),s[o]=u}function et(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-cn(u),v=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~v}}function ji(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-cn(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var Be=0;function Ui(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var lh,sa,uh,ch,hh,Gl=!1,Er=[],qt=null,sr=null,or=null,Bi=new Map,Bn=new Map,Tr=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fh(s,o){switch(s){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(o.pointerId)}}function mn(s,o,u,d,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=uu(o),o!==null&&sa(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function yp(s,o,u,d,m){switch(o){case"focusin":return qt=mn(qt,s,o,u,d,m),!0;case"dragenter":return sr=mn(sr,s,o,u,d,m),!0;case"mouseover":return or=mn(or,s,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Bi.set(v,mn(Bi.get(v)||null,s,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Bn.set(v,mn(Bn.get(v)||null,s,o,u,d,m)),!0}return!1}function dh(s){var o=Js(s.target);if(o!==null){var u=rr(o);if(u!==null){if(o=u.tag,o===13){if(o=$s(u),o!==null){s.blockedOn=o,hh(s.priority,function(){uh(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=oa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);js=d,u.target.dispatchEvent(d),js=null}else return o=uu(u),o!==null&&sa(o),s.blockedOn=u,!1;o.shift()}return!0}function Gs(s,o,u){Jr(s)&&u.delete(o)}function ph(){Gl=!1,qt!==null&&Jr(qt)&&(qt=null),sr!==null&&Jr(sr)&&(sr=null),or!==null&&Jr(or)&&(or=null),Bi.forEach(Gs),Bn.forEach(Gs)}function ar(s,o){s.blockedOn===o&&(s.blockedOn=null,Gl||(Gl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ph)))}function lr(s){function o(m){return ar(m,s)}if(0<Er.length){ar(Er[0],s);for(var u=1;u<Er.length;u++){var d=Er[u];d.blockedOn===s&&(d.blockedOn=null)}}for(qt!==null&&ar(qt,s),sr!==null&&ar(sr,s),or!==null&&ar(or,s),Bi.forEach(o),Bn.forEach(o),u=0;u<Tr.length;u++)d=Tr[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<Tr.length&&(u=Tr[0],u.blockedOn===null);)dh(u),u.blockedOn===null&&Tr.shift()}var Zr=G.ReactCurrentBatchConfig,zi=!0;function lt(s,o,u,d){var m=Be,v=Zr.transition;Zr.transition=null;try{Be=1,Ql(s,o,u,d)}finally{Be=m,Zr.transition=v}}function vp(s,o,u,d){var m=Be,v=Zr.transition;Zr.transition=null;try{Be=4,Ql(s,o,u,d)}finally{Be=m,Zr.transition=v}}function Ql(s,o,u,d){if(zi){var m=oa(s,o,u,d);if(m===null)Rp(s,o,d,Qs,u),fh(s,d);else if(yp(m,s,o,u,d))d.stopPropagation();else if(fh(s,d),o&4&&-1<gp.indexOf(s)){for(;m!==null;){var v=uu(m);if(v!==null&&lh(v),v=oa(s,o,u,d),v===null&&Rp(s,o,d,Qs,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else Rp(s,o,d,null,u)}}var Qs=null;function oa(s,o,u,d){if(Qs=null,s=Qo(d),s=Js(s),s!==null)if(o=rr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=$s(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Qs=s,null}function Xl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rh()){case qs:return 1;case Vi:return 4;case Un:case Wl:return 16;case ih:return 536870912;default:return 16}default:return 16}}var kn=null,aa=null,gn=null;function Yl(){if(gn)return gn;var s,o=aa,u=o.length,d,m="value"in kn?kn.value:kn.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var S=u-s;for(d=1;d<=S&&o[u-d]===m[v-d];d++);return gn=m.slice(s,1<d?1-d:void 0)}function la(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Sr(){return!0}function Jl(){return!1}function Ht(s){function o(u,d,m,v,S){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Sr:Jl,this.isPropagationStopped=Jl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Ht(ur),Ir=le({},ur,{view:0,detail:0}),_p=Ht(Ir),ca,ei,$i,Xs=le({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(ca=s.screenX-$i.screenX,ei=s.screenY-$i.screenY):ei=ca=0,$i=s),ca)},movementY:function(s){return"movementY"in s?s.movementY:ei}}),ha=Ht(Xs),Zl=le({},Xs,{dataTransfer:0}),mh=Ht(Zl),fa=le({},Ir,{relatedTarget:0}),da=Ht(fa),gh=le({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),ti=Ht(gh),yh=le({},ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vh=Ht(yh),_h=le({},ur,{data:0}),eu=Ht(_h),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=wh[s])?!!o[s]:!1}function xr(){return Eh}var f=le({},Ir,{key:function(s){if(s.key){var o=pa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=la(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(s){return s.type==="keypress"?la(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?la(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Ht(f),E=le({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Ht(E),H=le({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Y=Ht(H),ue=le({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Ht(ue),kt=le({},Xs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Ht(kt),jt=[9,13,27,32],xt=c&&"CompositionEvent"in window,zn=null;c&&"documentMode"in document&&(zn=document.documentMode);var Dn=c&&"TextEvent"in window&&!zn,Ys=c&&(!xt||zn&&8<zn&&11>=zn),ma=" ",m0=!1;function g0(s,o){switch(s){case"keyup":return jt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ga=!1;function jA(s,o){switch(s){case"compositionend":return y0(o);case"keypress":return o.which!==32?null:(m0=!0,ma);case"textInput":return s=o.data,s===ma&&m0?null:s;default:return null}}function UA(s,o){if(ga)return s==="compositionend"||!xt&&g0(s,o)?(s=Yl(),gn=aa=kn=null,ga=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ys&&o.locale!=="ko"?null:o.data;default:return null}}var BA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!BA[s.type]:o==="textarea"}function _0(s,o,u,d){wr(d),o=Ch(o,"onChange"),0<o.length&&(u=new ua("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var tu=null,nu=null;function zA(s){M0(s,0)}function Th(s){var o=Ea(s);if(qo(o))return s}function $A(s,o){if(s==="change")return o}var w0=!1;if(c){var wp;if(c){var Ep="oninput"in document;if(!Ep){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),Ep=typeof E0.oninput=="function"}wp=Ep}else wp=!1;w0=wp&&(!document.documentMode||9<document.documentMode)}function T0(){tu&&(tu.detachEvent("onpropertychange",S0),nu=tu=null)}function S0(s){if(s.propertyName==="value"&&Th(nu)){var o=[];_0(o,nu,s,Qo(s)),zl(zA,o)}}function qA(s,o,u){s==="focusin"?(T0(),tu=o,nu=u,tu.attachEvent("onpropertychange",S0)):s==="focusout"&&T0()}function HA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Th(nu)}function WA(s,o){if(s==="click")return Th(o)}function KA(s,o){if(s==="input"||s==="change")return Th(o)}function GA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var cr=typeof Object.is=="function"?Object.is:GA;function ru(s,o){if(cr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!h.call(o,m)||!cr(s[m],o[m]))return!1}return!0}function I0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function x0(s,o){var u=I0(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=I0(u)}}function C0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?C0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function A0(){for(var s=window,o=Ni();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Ni(s.document)}return o}function Tp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function QA(s){var o=A0(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&C0(u.ownerDocument.documentElement,u)){if(d!==null&&Tp(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!s.extend&&v>d&&(m=d,d=v,v=m),m=x0(u,v);var S=x0(u,d);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var XA=c&&"documentMode"in document&&11>=document.documentMode,ya=null,Sp=null,iu=null,Ip=!1;function P0(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ip||ya==null||ya!==Ni(d)||(d=ya,"selectionStart"in d&&Tp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),iu&&ru(iu,d)||(iu=d,d=Ch(Sp,"onSelect"),0<d.length&&(o=new ua("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=ya)))}function Sh(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var va={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},xp={},R0={};c&&(R0=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ih(s){if(xp[s])return xp[s];if(!va[s])return s;var o=va[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in R0)return xp[s]=o[u];return s}var b0=Ih("animationend"),k0=Ih("animationiteration"),D0=Ih("animationstart"),N0=Ih("transitionend"),O0=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(s,o){O0.set(s,o),a(o,[s])}for(var Cp=0;Cp<V0.length;Cp++){var Ap=V0[Cp],YA=Ap.toLowerCase(),JA=Ap[0].toUpperCase()+Ap.slice(1);qi(YA,"on"+JA)}qi(b0,"onAnimationEnd"),qi(k0,"onAnimationIteration"),qi(D0,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(N0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("cancel close invalid load scroll toggle".split(" ").concat(su));function L0(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,eh(d,o,void 0,s),s.currentTarget=null}function M0(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var L=d[S],U=L.instance,Q=L.currentTarget;if(L=L.listener,U!==v&&m.isPropagationStopped())break e;L0(m,L,Q),v=U}else for(S=0;S<d.length;S++){if(L=d[S],U=L.instance,Q=L.currentTarget,L=L.listener,U!==v&&m.isPropagationStopped())break e;L0(m,L,Q),v=U}}}if(nr)throw s=$l,nr=!1,$l=null,s}function st(s,o){var u=o[Vp];u===void 0&&(u=o[Vp]=new Set);var d=s+"__bubble";u.has(d)||(F0(o,s,2,!1),u.add(d))}function Pp(s,o,u){var d=0;o&&(d|=4),F0(u,s,d,o)}var xh="_reactListening"+Math.random().toString(36).slice(2);function ou(s){if(!s[xh]){s[xh]=!0,r.forEach(function(u){u!=="selectionchange"&&(ZA.has(u)||Pp(u,!1,s),Pp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[xh]||(o[xh]=!0,Pp("selectionchange",!1,o))}}function F0(s,o,u,d){switch(Xl(o)){case 1:var m=lt;break;case 4:m=vp;break;default:m=Ql}u=m.bind(null,o,u,s),m=void 0,!Jo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Rp(s,o,u,d,m){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var L=d.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;S=S.return}for(;L!==null;){if(S=Js(L),S===null)return;if(U=S.tag,U===5||U===6){d=v=S;continue e}L=L.parentNode}}d=d.return}zl(function(){var Q=v,ie=Qo(u),se=[];e:{var re=O0.get(s);if(re!==void 0){var fe=ua,ye=s;switch(s){case"keypress":if(la(u)===0)break e;case"keydown":case"keyup":fe=y;break;case"focusin":ye="focus",fe=da;break;case"focusout":ye="blur",fe=da;break;case"beforeblur":case"afterblur":fe=da;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Y;break;case b0:case k0:case D0:fe=ti;break;case N0:fe=Ze;break;case"scroll":fe=_p;break;case"wheel":fe=$e;break;case"copy":case"cut":case"paste":fe=vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=R}var ve=(o&4)!==0,Tt=!ve&&s==="scroll",W=ve?re!==null?re+"Capture":null:re;ve=[];for(var B=Q,K;B!==null;){K=B;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,W!==null&&(ae=Et(B,W),ae!=null&&ve.push(au(B,ae,K)))),Tt)break;B=B.return}0<ve.length&&(re=new fe(re,ye,null,u,ie),se.push({event:re,listeners:ve}))}}if(!(o&7)){e:{if(re=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",re&&u!==js&&(ye=u.relatedTarget||u.fromElement)&&(Js(ye)||ye[ni]))break e;if((fe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(ye=u.relatedTarget||u.toElement,fe=Q,ye=ye?Js(ye):null,ye!==null&&(Tt=rr(ye),ye!==Tt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=Q),fe!==ye)){if(ve=ha,ae="onMouseLeave",W="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(ve=R,ae="onPointerLeave",W="onPointerEnter",B="pointer"),Tt=fe==null?re:Ea(fe),K=ye==null?re:Ea(ye),re=new ve(ae,B+"leave",fe,u,ie),re.target=Tt,re.relatedTarget=K,ae=null,Js(ie)===Q&&(ve=new ve(W,B+"enter",ye,u,ie),ve.target=K,ve.relatedTarget=Tt,ae=ve),Tt=ae,fe&&ye)t:{for(ve=fe,W=ye,B=0,K=ve;K;K=_a(K))B++;for(K=0,ae=W;ae;ae=_a(ae))K++;for(;0<B-K;)ve=_a(ve),B--;for(;0<K-B;)W=_a(W),K--;for(;B--;){if(ve===W||W!==null&&ve===W.alternate)break t;ve=_a(ve),W=_a(W)}ve=null}else ve=null;fe!==null&&j0(se,re,fe,ve,!1),ye!==null&&Tt!==null&&j0(se,Tt,ye,ve,!0)}}e:{if(re=Q?Ea(Q):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var _e=$A;else if(v0(re))if(w0)_e=KA;else{_e=HA;var we=qA}else(fe=re.nodeName)&&fe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=WA);if(_e&&(_e=_e(s,Q))){_0(se,_e,u,ie);break e}we&&we(s,re,Q),s==="focusout"&&(we=re._wrapperState)&&we.controlled&&re.type==="number"&&Wo(re,"number",re.value)}switch(we=Q?Ea(Q):window,s){case"focusin":(v0(we)||we.contentEditable==="true")&&(ya=we,Sp=Q,iu=null);break;case"focusout":iu=Sp=ya=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,P0(se,u,ie);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":P0(se,u,ie)}var Ee;if(xt)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ga?g0(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ys&&u.locale!=="ko"&&(ga||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ga&&(Ee=Yl()):(kn=ie,aa="value"in kn?kn.value:kn.textContent,ga=!0)),we=Ch(Q,Pe),0<we.length&&(Pe=new eu(Pe,s,null,u,ie),se.push({event:Pe,listeners:we}),Ee?Pe.data=Ee:(Ee=y0(u),Ee!==null&&(Pe.data=Ee)))),(Ee=Dn?jA(s,u):UA(s,u))&&(Q=Ch(Q,"onBeforeInput"),0<Q.length&&(ie=new eu("onBeforeInput","beforeinput",null,u,ie),se.push({event:ie,listeners:Q}),ie.data=Ee))}M0(se,o)})}function au(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Ch(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Et(s,u),v!=null&&d.unshift(au(s,v,m)),v=Et(s,o),v!=null&&d.push(au(s,v,m))),s=s.return}return d}function _a(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function j0(s,o,u,d,m){for(var v=o._reactName,S=[];u!==null&&u!==d;){var L=u,U=L.alternate,Q=L.stateNode;if(U!==null&&U===d)break;L.tag===5&&Q!==null&&(L=Q,m?(U=Et(u,v),U!=null&&S.unshift(au(u,U,L))):m||(U=Et(u,v),U!=null&&S.push(au(u,U,L)))),u=u.return}S.length!==0&&s.push({event:o,listeners:S})}var eP=/\r\n?/g,tP=/\u0000|\uFFFD/g;function U0(s){return(typeof s=="string"?s:""+s).replace(eP,`
`).replace(tP,"")}function Ah(s,o,u){if(o=U0(o),U0(s)!==o&&u)throw Error(n(425))}function Ph(){}var bp=null,kp=null;function Dp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,nP=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,rP=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(s){return B0.resolve(null).then(s).catch(iP)}:Np;function iP(s){setTimeout(function(){throw s})}function Op(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),lr(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);lr(o)}function Hi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function z0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Cr="__reactFiber$"+wa,lu="__reactProps$"+wa,ni="__reactContainer$"+wa,Vp="__reactEvents$"+wa,sP="__reactListeners$"+wa,oP="__reactHandles$"+wa;function Js(s){var o=s[Cr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ni]||u[Cr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=z0(s);s!==null;){if(u=s[Cr])return u;s=z0(s)}return o}s=u,u=s.parentNode}return null}function uu(s){return s=s[Cr]||s[ni],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Rh(s){return s[lu]||null}var Lp=[],Ta=-1;function Wi(s){return{current:s}}function ot(s){0>Ta||(s.current=Lp[Ta],Lp[Ta]=null,Ta--)}function rt(s,o){Ta++,Lp[Ta]=s.current,s.current=o}var Ki={},Jt=Wi(Ki),yn=Wi(!1),Zs=Ki;function Sa(s,o){var u=s.type.contextTypes;if(!u)return Ki;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function vn(s){return s=s.childContextTypes,s!=null}function bh(){ot(yn),ot(Jt)}function $0(s,o,u){if(Jt.current!==Ki)throw Error(n(168));rt(Jt,o),rt(yn,u)}function q0(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,Ke(s)||"Unknown",m));return le({},u,d)}function kh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ki,Zs=Jt.current,rt(Jt,s),rt(yn,yn.current),!0}function H0(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=q0(s,o,Zs),d.__reactInternalMemoizedMergedChildContext=s,ot(yn),ot(Jt),rt(Jt,s)):ot(yn),rt(yn,u)}var ri=null,Dh=!1,Mp=!1;function W0(s){ri===null?ri=[s]:ri.push(s)}function aP(s){Dh=!0,W0(s)}function Gi(){if(!Mp&&ri!==null){Mp=!0;var s=0,o=Be;try{var u=ri;for(Be=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}ri=null,Dh=!1}catch(m){throw ri!==null&&(ri=ri.slice(s+1)),na(qs,Gi),m}finally{Be=o,Mp=!1}}return null}var Ia=[],xa=0,Nh=null,Oh=0,$n=[],qn=0,eo=null,ii=1,si="";function to(s,o){Ia[xa++]=Oh,Ia[xa++]=Nh,Nh=s,Oh=o}function K0(s,o,u){$n[qn++]=ii,$n[qn++]=si,$n[qn++]=eo,eo=s;var d=ii;s=si;var m=32-cn(d)-1;d&=~(1<<m),u+=1;var v=32-cn(o)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,ii=1<<32-cn(o)+m|u<<m|d,si=v+s}else ii=1<<v|u<<m|d,si=s}function Fp(s){s.return!==null&&(to(s,1),K0(s,1,0))}function jp(s){for(;s===Nh;)Nh=Ia[--xa],Ia[xa]=null,Oh=Ia[--xa],Ia[xa]=null;for(;s===eo;)eo=$n[--qn],$n[qn]=null,si=$n[--qn],$n[qn]=null,ii=$n[--qn],$n[qn]=null}var Nn=null,On=null,ut=!1,hr=null;function G0(s,o){var u=Gn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Q0(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Nn=s,On=Hi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Nn=s,On=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=eo!==null?{id:ii,overflow:si}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Gn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Nn=s,On=null,!0):!1;default:return!1}}function Up(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bp(s){if(ut){var o=On;if(o){var u=o;if(!Q0(s,o)){if(Up(s))throw Error(n(418));o=Hi(u.nextSibling);var d=Nn;o&&Q0(s,o)?G0(d,u):(s.flags=s.flags&-4097|2,ut=!1,Nn=s)}}else{if(Up(s))throw Error(n(418));s.flags=s.flags&-4097|2,ut=!1,Nn=s}}}function X0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nn=s}function Vh(s){if(s!==Nn)return!1;if(!ut)return X0(s),ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Dp(s.type,s.memoizedProps)),o&&(o=On)){if(Up(s))throw Y0(),Error(n(418));for(;o;)G0(s,o),o=Hi(o.nextSibling)}if(X0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){On=Hi(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}On=null}}else On=Nn?Hi(s.stateNode.nextSibling):null;return!0}function Y0(){for(var s=On;s;)s=Hi(s.nextSibling)}function Ca(){On=Nn=null,ut=!1}function zp(s){hr===null?hr=[s]:hr.push(s)}var lP=G.ReactCurrentBatchConfig;function cu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var L=m.refs;S===null?delete L[v]:L[v]=S},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Lh(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function J0(s){var o=s._init;return o(s._payload)}function Z0(s){function o(W,B){if(s){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function u(W,B){if(!s)return null;for(;B!==null;)o(W,B),B=B.sibling;return null}function d(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function m(W,B){return W=ns(W,B),W.index=0,W.sibling=null,W}function v(W,B,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function S(W){return s&&W.alternate===null&&(W.flags|=2),W}function L(W,B,K,ae){return B===null||B.tag!==6?(B=Nm(K,W.mode,ae),B.return=W,B):(B=m(B,K),B.return=W,B)}function U(W,B,K,ae){var _e=K.type;return _e===O?ie(W,B,K.props.children,ae,K.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===he&&J0(_e)===B.type)?(ae=m(B,K.props),ae.ref=cu(W,B,K),ae.return=W,ae):(ae=af(K.type,K.key,K.props,null,W.mode,ae),ae.ref=cu(W,B,K),ae.return=W,ae)}function Q(W,B,K,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Om(K,W.mode,ae),B.return=W,B):(B=m(B,K.children||[]),B.return=W,B)}function ie(W,B,K,ae,_e){return B===null||B.tag!==7?(B=uo(K,W.mode,ae,_e),B.return=W,B):(B=m(B,K),B.return=W,B)}function se(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Nm(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case J:return K=af(B.type,B.key,B.props,null,W.mode,K),K.ref=cu(W,null,B),K.return=W,K;case Z:return B=Om(B,W.mode,K),B.return=W,B;case he:var ae=B._init;return se(W,ae(B._payload),K)}if(Kr(B)||de(B))return B=uo(B,W.mode,K,null),B.return=W,B;Lh(W,B)}return null}function re(W,B,K,ae){var _e=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return _e!==null?null:L(W,B,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case J:return K.key===_e?U(W,B,K,ae):null;case Z:return K.key===_e?Q(W,B,K,ae):null;case he:return _e=K._init,re(W,B,_e(K._payload),ae)}if(Kr(K)||de(K))return _e!==null?null:ie(W,B,K,ae,null);Lh(W,K)}return null}function fe(W,B,K,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(K)||null,L(B,W,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case J:return W=W.get(ae.key===null?K:ae.key)||null,U(B,W,ae,_e);case Z:return W=W.get(ae.key===null?K:ae.key)||null,Q(B,W,ae,_e);case he:var we=ae._init;return fe(W,B,K,we(ae._payload),_e)}if(Kr(ae)||de(ae))return W=W.get(K)||null,ie(B,W,ae,_e,null);Lh(B,ae)}return null}function ye(W,B,K,ae){for(var _e=null,we=null,Ee=B,Pe=B=0,zt=null;Ee!==null&&Pe<K.length;Pe++){Ee.index>Pe?(zt=Ee,Ee=null):zt=Ee.sibling;var Ye=re(W,Ee,K[Pe],ae);if(Ye===null){Ee===null&&(Ee=zt);break}s&&Ee&&Ye.alternate===null&&o(W,Ee),B=v(Ye,B,Pe),we===null?_e=Ye:we.sibling=Ye,we=Ye,Ee=zt}if(Pe===K.length)return u(W,Ee),ut&&to(W,Pe),_e;if(Ee===null){for(;Pe<K.length;Pe++)Ee=se(W,K[Pe],ae),Ee!==null&&(B=v(Ee,B,Pe),we===null?_e=Ee:we.sibling=Ee,we=Ee);return ut&&to(W,Pe),_e}for(Ee=d(W,Ee);Pe<K.length;Pe++)zt=fe(Ee,W,Pe,K[Pe],ae),zt!==null&&(s&&zt.alternate!==null&&Ee.delete(zt.key===null?Pe:zt.key),B=v(zt,B,Pe),we===null?_e=zt:we.sibling=zt,we=zt);return s&&Ee.forEach(function(rs){return o(W,rs)}),ut&&to(W,Pe),_e}function ve(W,B,K,ae){var _e=de(K);if(typeof _e!="function")throw Error(n(150));if(K=_e.call(K),K==null)throw Error(n(151));for(var we=_e=null,Ee=B,Pe=B=0,zt=null,Ye=K.next();Ee!==null&&!Ye.done;Pe++,Ye=K.next()){Ee.index>Pe?(zt=Ee,Ee=null):zt=Ee.sibling;var rs=re(W,Ee,Ye.value,ae);if(rs===null){Ee===null&&(Ee=zt);break}s&&Ee&&rs.alternate===null&&o(W,Ee),B=v(rs,B,Pe),we===null?_e=rs:we.sibling=rs,we=rs,Ee=zt}if(Ye.done)return u(W,Ee),ut&&to(W,Pe),_e;if(Ee===null){for(;!Ye.done;Pe++,Ye=K.next())Ye=se(W,Ye.value,ae),Ye!==null&&(B=v(Ye,B,Pe),we===null?_e=Ye:we.sibling=Ye,we=Ye);return ut&&to(W,Pe),_e}for(Ee=d(W,Ee);!Ye.done;Pe++,Ye=K.next())Ye=fe(Ee,W,Pe,Ye.value,ae),Ye!==null&&(s&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Pe:Ye.key),B=v(Ye,B,Pe),we===null?_e=Ye:we.sibling=Ye,we=Ye);return s&&Ee.forEach(function(UP){return o(W,UP)}),ut&&to(W,Pe),_e}function Tt(W,B,K,ae){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case J:e:{for(var _e=K.key,we=B;we!==null;){if(we.key===_e){if(_e=K.type,_e===O){if(we.tag===7){u(W,we.sibling),B=m(we,K.props.children),B.return=W,W=B;break e}}else if(we.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===he&&J0(_e)===we.type){u(W,we.sibling),B=m(we,K.props),B.ref=cu(W,we,K),B.return=W,W=B;break e}u(W,we);break}else o(W,we);we=we.sibling}K.type===O?(B=uo(K.props.children,W.mode,ae,K.key),B.return=W,W=B):(ae=af(K.type,K.key,K.props,null,W.mode,ae),ae.ref=cu(W,B,K),ae.return=W,W=ae)}return S(W);case Z:e:{for(we=K.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){u(W,B.sibling),B=m(B,K.children||[]),B.return=W,W=B;break e}else{u(W,B);break}else o(W,B);B=B.sibling}B=Om(K,W.mode,ae),B.return=W,W=B}return S(W);case he:return we=K._init,Tt(W,B,we(K._payload),ae)}if(Kr(K))return ye(W,B,K,ae);if(de(K))return ve(W,B,K,ae);Lh(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(u(W,B.sibling),B=m(B,K),B.return=W,W=B):(u(W,B),B=Nm(K,W.mode,ae),B.return=W,W=B),S(W)):u(W,B)}return Tt}var Aa=Z0(!0),e1=Z0(!1),Mh=Wi(null),Fh=null,Pa=null,$p=null;function qp(){$p=Pa=Fh=null}function Hp(s){var o=Mh.current;ot(Mh),s._currentValue=o}function Wp(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function Ra(s,o){Fh=s,$p=Pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(_n=!0),s.firstContext=null)}function Hn(s){var o=s._currentValue;if($p!==s)if(s={context:s,memoizedValue:o,next:null},Pa===null){if(Fh===null)throw Error(n(308));Pa=s,Fh.dependencies={lanes:0,firstContext:s}}else Pa=Pa.next=s;return o}var no=null;function Kp(s){no===null?no=[s]:no.push(s)}function t1(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Kp(o)):(u.next=m.next,m.next=u),o.interleaved=u,oi(s,d)}function oi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Qi=!1;function Gp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n1(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ai(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Xi(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,Qe&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,oi(s,u)}return m=d.interleaved,m===null?(o.next=o,Kp(d)):(o.next=m.next,m.next=o),d.interleaved=o,oi(s,u)}function jh(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ji(s,u)}}function r1(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Uh(s,o,u,d){var m=s.updateQueue;Qi=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var U=L,Q=U.next;U.next=null,S===null?v=Q:S.next=Q,S=U;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==S&&(L===null?ie.firstBaseUpdate=Q:L.next=Q,ie.lastBaseUpdate=U))}if(v!==null){var se=m.baseState;S=0,ie=Q=U=null,L=v;do{var re=L.lane,fe=L.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ye=s,ve=L;switch(re=o,fe=u,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){se=ye.call(fe,se,re);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,re=typeof ye=="function"?ye.call(fe,se,re):ye,re==null)break e;se=le({},se,re);break e;case 2:Qi=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,re=m.effects,re===null?m.effects=[L]:re.push(L))}else fe={eventTime:fe,lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(Q=ie=fe,U=se):ie=ie.next=fe,S|=re;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;re=L,L=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ie===null&&(U=se),m.baseState=U,m.firstBaseUpdate=Q,m.lastBaseUpdate=ie,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);so|=S,s.lanes=S,s.memoizedState=se}}function i1(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var hu={},Ar=Wi(hu),fu=Wi(hu),du=Wi(hu);function ro(s){if(s===hu)throw Error(n(174));return s}function Qp(s,o){switch(rt(du,o),rt(fu,s),rt(Ar,hu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:bt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=bt(o,s)}ot(Ar),rt(Ar,o)}function ba(){ot(Ar),ot(fu),ot(du)}function s1(s){ro(du.current);var o=ro(Ar.current),u=bt(o,s.type);o!==u&&(rt(fu,s),rt(Ar,u))}function Xp(s){fu.current===s&&(ot(Ar),ot(fu))}var ht=Wi(0);function Bh(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yp=[];function Jp(){for(var s=0;s<Yp.length;s++)Yp[s]._workInProgressVersionPrimary=null;Yp.length=0}var zh=G.ReactCurrentDispatcher,Zp=G.ReactCurrentBatchConfig,io=0,ft=null,Dt=null,Ut=null,$h=!1,pu=!1,mu=0,uP=0;function Zt(){throw Error(n(321))}function em(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!cr(s[u],o[u]))return!1;return!0}function tm(s,o,u,d,m,v){if(io=v,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,zh.current=s===null||s.memoizedState===null?dP:pP,s=u(d,m),pu){v=0;do{if(pu=!1,mu=0,25<=v)throw Error(n(301));v+=1,Ut=Dt=null,o.updateQueue=null,zh.current=mP,s=u(d,m)}while(pu)}if(zh.current=Wh,o=Dt!==null&&Dt.next!==null,io=0,Ut=Dt=ft=null,$h=!1,o)throw Error(n(300));return s}function nm(){var s=mu!==0;return mu=0,s}function Pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ft.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function Wn(){if(Dt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var o=Ut===null?ft.memoizedState:Ut.next;if(o!==null)Ut=o,Dt=s;else{if(s===null)throw Error(n(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?ft.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function gu(s,o){return typeof o=="function"?o(s):o}function rm(s){var o=Wn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=Dt,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var L=S=null,U=null,Q=v;do{var ie=Q.lane;if((io&ie)===ie)U!==null&&(U=U.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var se={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};U===null?(L=U=se,S=d):U=U.next=se,ft.lanes|=ie,so|=ie}Q=Q.next}while(Q!==null&&Q!==v);U===null?S=d:U.next=L,cr(d,o.memoizedState)||(_n=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=U,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do v=m.lane,ft.lanes|=v,so|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function im(s){var o=Wn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do v=s(v,S.action),S=S.next;while(S!==m);cr(v,o.memoizedState)||(_n=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function o1(){}function a1(s,o){var u=ft,d=Wn(),m=o(),v=!cr(d.memoizedState,m);if(v&&(d.memoizedState=m,_n=!0),d=d.queue,sm(c1.bind(null,u,d,s),[s]),d.getSnapshot!==o||v||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,yu(9,u1.bind(null,u,d,m,o),void 0,null),Bt===null)throw Error(n(349));io&30||l1(u,o,m)}return m}function l1(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function u1(s,o,u,d){o.value=u,o.getSnapshot=d,h1(o)&&f1(s)}function c1(s,o,u){return u(function(){h1(o)&&f1(s)})}function h1(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!cr(s,u)}catch{return!0}}function f1(s){var o=oi(s,1);o!==null&&mr(o,s,1,-1)}function d1(s){var o=Pr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:s},o.queue=s,s=s.dispatch=fP.bind(null,ft,s),[o.memoizedState,s]}function yu(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function p1(){return Wn().memoizedState}function qh(s,o,u,d){var m=Pr();ft.flags|=s,m.memoizedState=yu(1|o,u,void 0,d===void 0?null:d)}function Hh(s,o,u,d){var m=Wn();d=d===void 0?null:d;var v=void 0;if(Dt!==null){var S=Dt.memoizedState;if(v=S.destroy,d!==null&&em(d,S.deps)){m.memoizedState=yu(o,u,v,d);return}}ft.flags|=s,m.memoizedState=yu(1|o,u,v,d)}function m1(s,o){return qh(8390656,8,s,o)}function sm(s,o){return Hh(2048,8,s,o)}function g1(s,o){return Hh(4,2,s,o)}function y1(s,o){return Hh(4,4,s,o)}function v1(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function _1(s,o,u){return u=u!=null?u.concat([s]):null,Hh(4,4,v1.bind(null,o,s),u)}function om(){}function w1(s,o){var u=Wn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&em(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function E1(s,o){var u=Wn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&em(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function T1(s,o,u){return io&21?(cr(u,o)||(u=Ks(),ft.lanes|=u,so|=u,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,_n=!0),s.memoizedState=u)}function cP(s,o){var u=Be;Be=u!==0&&4>u?u:4,s(!0);var d=Zp.transition;Zp.transition={};try{s(!1),o()}finally{Be=u,Zp.transition=d}}function S1(){return Wn().memoizedState}function hP(s,o,u){var d=es(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},I1(s))x1(o,u);else if(u=t1(s,o,u,d),u!==null){var m=dn();mr(u,s,d,m),C1(u,o,d)}}function fP(s,o,u){var d=es(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(I1(s))x1(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,L=v(S,u);if(m.hasEagerState=!0,m.eagerState=L,cr(L,S)){var U=o.interleaved;U===null?(m.next=m,Kp(o)):(m.next=U.next,U.next=m),o.interleaved=m;return}}catch{}finally{}u=t1(s,o,m,d),u!==null&&(m=dn(),mr(u,s,d,m),C1(u,o,d))}}function I1(s){var o=s.alternate;return s===ft||o!==null&&o===ft}function x1(s,o){pu=$h=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function C1(s,o,u){if(u&4194240){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ji(s,u)}}var Wh={readContext:Hn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},dP={readContext:Hn,useCallback:function(s,o){return Pr().memoizedState=[s,o===void 0?null:o],s},useContext:Hn,useEffect:m1,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,qh(4194308,4,v1.bind(null,o,s),u)},useLayoutEffect:function(s,o){return qh(4194308,4,s,o)},useInsertionEffect:function(s,o){return qh(4,2,s,o)},useMemo:function(s,o){var u=Pr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Pr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=hP.bind(null,ft,s),[d.memoizedState,s]},useRef:function(s){var o=Pr();return s={current:s},o.memoizedState=s},useState:d1,useDebugValue:om,useDeferredValue:function(s){return Pr().memoizedState=s},useTransition:function(){var s=d1(!1),o=s[0];return s=cP.bind(null,s[1]),Pr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=ft,m=Pr();if(ut){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Bt===null)throw Error(n(349));io&30||l1(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,m1(c1.bind(null,d,v,s),[s]),d.flags|=2048,yu(9,u1.bind(null,d,v,u,o),void 0,null),u},useId:function(){var s=Pr(),o=Bt.identifierPrefix;if(ut){var u=si,d=ii;u=(d&~(1<<32-cn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=mu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=uP++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},pP={readContext:Hn,useCallback:w1,useContext:Hn,useEffect:sm,useImperativeHandle:_1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:E1,useReducer:rm,useRef:p1,useState:function(){return rm(gu)},useDebugValue:om,useDeferredValue:function(s){var o=Wn();return T1(o,Dt.memoizedState,s)},useTransition:function(){var s=rm(gu)[0],o=Wn().memoizedState;return[s,o]},useMutableSource:o1,useSyncExternalStore:a1,useId:S1,unstable_isNewReconciler:!1},mP={readContext:Hn,useCallback:w1,useContext:Hn,useEffect:sm,useImperativeHandle:_1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:E1,useReducer:im,useRef:p1,useState:function(){return im(gu)},useDebugValue:om,useDeferredValue:function(s){var o=Wn();return Dt===null?o.memoizedState=s:T1(o,Dt.memoizedState,s)},useTransition:function(){var s=im(gu)[0],o=Wn().memoizedState;return[s,o]},useMutableSource:o1,useSyncExternalStore:a1,useId:S1,unstable_isNewReconciler:!1};function fr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function am(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Kh={isMounted:function(s){return(s=s._reactInternals)?rr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=dn(),m=es(s),v=ai(d,m);v.payload=o,u!=null&&(v.callback=u),o=Xi(s,v,m),o!==null&&(mr(o,s,m,d),jh(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=dn(),m=es(s),v=ai(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Xi(s,v,m),o!==null&&(mr(o,s,m,d),jh(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=dn(),d=es(s),m=ai(u,d);m.tag=2,o!=null&&(m.callback=o),o=Xi(s,m,d),o!==null&&(mr(o,s,d,u),jh(o,s,d))}};function A1(s,o,u,d,m,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!ru(u,d)||!ru(m,v):!0}function P1(s,o,u){var d=!1,m=Ki,v=o.contextType;return typeof v=="object"&&v!==null?v=Hn(v):(m=vn(o)?Zs:Jt.current,d=o.contextTypes,v=(d=d!=null)?Sa(s,m):Ki),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Kh,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function R1(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&Kh.enqueueReplaceState(o,o.state,null)}function lm(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Gp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Hn(v):(v=vn(o)?Zs:Jt.current,m.context=Sa(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(am(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Kh.enqueueReplaceState(m,m.state,null),Uh(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ka(s,o){try{var u="",d=o;do u+=De(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function um(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function cm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var gP=typeof WeakMap=="function"?WeakMap:Map;function b1(s,o,u){u=ai(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){ef||(ef=!0,xm=d),cm(s,o)},u}function k1(s,o,u){u=ai(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){cm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){cm(s,o),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function D1(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new gP;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=bP.bind(null,s,o,u),o.then(s,s))}function N1(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function O1(s,o,u,d,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ai(-1,1),o.tag=2,Xi(u,o,1))),u.lanes|=1),s)}var yP=G.ReactCurrentOwner,_n=!1;function fn(s,o,u,d){o.child=s===null?e1(o,null,u,d):Aa(o,s.child,u,d)}function V1(s,o,u,d,m){u=u.render;var v=o.ref;return Ra(o,m),d=tm(s,o,u,d,v,m),u=nm(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,li(s,o,m)):(ut&&u&&Fp(o),o.flags|=1,fn(s,o,d,m),o.child)}function L1(s,o,u,d,m){if(s===null){var v=u.type;return typeof v=="function"&&!Dm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,M1(s,o,v,d,m)):(s=af(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!(s.lanes&m)){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:ru,u(S,d)&&s.ref===o.ref)return li(s,o,m)}return o.flags|=1,s=ns(v,d),s.ref=o.ref,s.return=o,o.child=s}function M1(s,o,u,d,m){if(s!==null){var v=s.memoizedProps;if(ru(v,d)&&s.ref===o.ref)if(_n=!1,o.pendingProps=d=v,(s.lanes&m)!==0)s.flags&131072&&(_n=!0);else return o.lanes=s.lanes,li(s,o,m)}return hm(s,o,u,d,m)}function F1(s,o,u){var d=o.pendingProps,m=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Na,Vn),Vn|=u;else{if(!(u&1073741824))return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,rt(Na,Vn),Vn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,rt(Na,Vn),Vn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,rt(Na,Vn),Vn|=d;return fn(s,o,m,u),o.child}function j1(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function hm(s,o,u,d,m){var v=vn(u)?Zs:Jt.current;return v=Sa(o,v),Ra(o,m),u=tm(s,o,u,d,v,m),d=nm(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,li(s,o,m)):(ut&&d&&Fp(o),o.flags|=1,fn(s,o,u,m),o.child)}function U1(s,o,u,d,m){if(vn(u)){var v=!0;kh(o)}else v=!1;if(Ra(o,m),o.stateNode===null)Qh(s,o),P1(o,u,d),lm(o,u,d,m),d=!0;else if(s===null){var S=o.stateNode,L=o.memoizedProps;S.props=L;var U=S.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=Hn(Q):(Q=vn(u)?Zs:Jt.current,Q=Sa(o,Q));var ie=u.getDerivedStateFromProps,se=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==d||U!==Q)&&R1(o,S,d,Q),Qi=!1;var re=o.memoizedState;S.state=re,Uh(o,d,S,m),U=o.memoizedState,L!==d||re!==U||yn.current||Qi?(typeof ie=="function"&&(am(o,u,ie,d),U=o.memoizedState),(L=Qi||A1(o,u,L,d,re,U,Q))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=U),S.props=d,S.state=U,S.context=Q,d=L):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,n1(s,o),L=o.memoizedProps,Q=o.type===o.elementType?L:fr(o.type,L),S.props=Q,se=o.pendingProps,re=S.context,U=u.contextType,typeof U=="object"&&U!==null?U=Hn(U):(U=vn(u)?Zs:Jt.current,U=Sa(o,U));var fe=u.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==se||re!==U)&&R1(o,S,d,U),Qi=!1,re=o.memoizedState,S.state=re,Uh(o,d,S,m);var ye=o.memoizedState;L!==se||re!==ye||yn.current||Qi?(typeof fe=="function"&&(am(o,u,fe,d),ye=o.memoizedState),(Q=Qi||A1(o,u,Q,d,re,ye,U)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,ye,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,ye,U)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ye),S.props=d,S.state=ye,S.context=U,d=Q):(typeof S.componentDidUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),d=!1)}return fm(s,o,u,d,v,m)}function fm(s,o,u,d,m,v){j1(s,o);var S=(o.flags&128)!==0;if(!d&&!S)return m&&H0(o,u,!1),li(s,o,v);d=o.stateNode,yP.current=o;var L=S&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&S?(o.child=Aa(o,s.child,null,v),o.child=Aa(o,null,L,v)):fn(s,o,L,v),o.memoizedState=d.state,m&&H0(o,u,!0),o.child}function B1(s){var o=s.stateNode;o.pendingContext?$0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$0(s,o.context,!1),Qp(s,o.containerInfo)}function z1(s,o,u,d,m){return Ca(),zp(m),o.flags|=256,fn(s,o,u,d),o.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function $1(s,o,u){var d=o.pendingProps,m=ht.current,v=!1,S=(o.flags&128)!==0,L;if((L=S)||(L=s!==null&&s.memoizedState===null?!1:(m&2)!==0),L?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),rt(ht,m&1),s===null)return Bp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(S=d.children,s=d.fallback,v?(d=o.mode,v=o.child,S={mode:"hidden",children:S},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=lf(S,d,0,null),s=uo(s,d,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=pm(u),o.memoizedState=dm,s):mm(o,S));if(m=s.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return vP(s,o,S,d,L,m,u);if(v){v=d.fallback,S=o.mode,m=s.child,L=m.sibling;var U={mode:"hidden",children:d.children};return!(S&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=U,o.deletions=null):(d=ns(m,U),d.subtreeFlags=m.subtreeFlags&14680064),L!==null?v=ns(L,v):(v=uo(v,S,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,S=s.child.memoizedState,S=S===null?pm(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=s.childLanes&~u,o.memoizedState=dm,d}return v=s.child,s=v.sibling,d=ns(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function mm(s,o){return o=lf({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Gh(s,o,u,d){return d!==null&&zp(d),Aa(o,s.child,null,u),s=mm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function vP(s,o,u,d,m,v,S){if(u)return o.flags&256?(o.flags&=-257,d=um(Error(n(422))),Gh(s,o,S,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=lf({mode:"visible",children:d.children},m,0,null),v=uo(v,m,S,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&Aa(o,s.child,null,S),o.child.memoizedState=pm(S),o.memoizedState=dm,v);if(!(o.mode&1))return Gh(s,o,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var L=d.dgst;return d=L,v=Error(n(419)),d=um(v,d,void 0),Gh(s,o,S,d)}if(L=(S&s.childLanes)!==0,_n||L){if(d=Bt,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|S)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,oi(s,m),mr(d,s,m,-1))}return km(),d=um(Error(n(421))),Gh(s,o,S,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=kP.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,On=Hi(m.nextSibling),Nn=o,ut=!0,hr=null,s!==null&&($n[qn++]=ii,$n[qn++]=si,$n[qn++]=eo,ii=s.id,si=s.overflow,eo=o),o=mm(o,d.children),o.flags|=4096,o)}function q1(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Wp(s.return,o,u)}function gm(s,o,u,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function H1(s,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(fn(s,o,d.children,u),d=ht.current,d&2)d=d&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&q1(s,u,o);else if(s.tag===19)q1(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(rt(ht,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Bh(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),gm(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Bh(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}gm(o,!0,u,null,v);break;case"together":gm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qh(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function li(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,!(u&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=ns(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ns(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function _P(s,o,u){switch(o.tag){case 3:B1(o),Ca();break;case 5:s1(o);break;case 1:vn(o.type)&&kh(o);break;case 4:Qp(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;rt(Mh,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(rt(ht,ht.current&1),o.flags|=128,null):u&o.child.childLanes?$1(s,o,u):(rt(ht,ht.current&1),s=li(s,o,u),s!==null?s.sibling:null);rt(ht,ht.current&1);break;case 19:if(d=(u&o.childLanes)!==0,s.flags&128){if(d)return H1(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(ht,ht.current),d)break;return null;case 22:case 23:return o.lanes=0,F1(s,o,u)}return li(s,o,u)}var W1,ym,K1,G1;W1=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ym=function(){},K1=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,ro(Ar.current);var v=null;switch(u){case"input":m=Ls(s,m),d=Ls(s,d),v=[];break;case"select":m=le({},m,{value:void 0}),d=le({},d,{value:void 0}),v=[];break;case"textarea":m=Dl(s,m),d=Dl(s,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Ph)}Fl(u,d);var S;u=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var L=m[Q];for(S in L)L.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var U=d[Q];if(L=m!=null?m[Q]:void 0,d.hasOwnProperty(Q)&&U!==L&&(U!=null||L!=null))if(Q==="style")if(L){for(S in L)!L.hasOwnProperty(S)||U&&U.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in U)U.hasOwnProperty(S)&&L[S]!==U[S]&&(u||(u={}),u[S]=U[S])}else u||(v||(v=[]),v.push(Q,u)),u=U;else Q==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,L=L?L.__html:void 0,U!=null&&L!==U&&(v=v||[]).push(Q,U)):Q==="children"?typeof U!="string"&&typeof U!="number"||(v=v||[]).push(Q,""+U):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(U!=null&&Q==="onScroll"&&st("scroll",s),v||L===U||(v=[])):(v=v||[]).push(Q,U))}u&&(v=v||[]).push("style",u);var Q=v;(o.updateQueue=Q)&&(o.flags|=4)}},G1=function(s,o,u,d){u!==d&&(o.flags|=4)};function vu(s,o){if(!ut)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function en(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function wP(s,o,u){var d=o.pendingProps;switch(jp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return vn(o.type)&&bh(),en(o),null;case 3:return d=o.stateNode,ba(),ot(yn),ot(Jt),Jp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Vh(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,hr!==null&&(Pm(hr),hr=null))),ym(s,o),en(o),null;case 5:Xp(o);var m=ro(du.current);if(u=o.type,s!==null&&o.stateNode!=null)K1(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return en(o),null}if(s=ro(Ar.current),Vh(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Cr]=o,d[lu]=v,s=(o.mode&1)!==0,u){case"dialog":st("cancel",d),st("close",d);break;case"iframe":case"object":case"embed":st("load",d);break;case"video":case"audio":for(m=0;m<su.length;m++)st(su[m],d);break;case"source":st("error",d);break;case"img":case"image":case"link":st("error",d),st("load",d);break;case"details":st("toggle",d);break;case"input":Ho(d,v),st("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},st("invalid",d);break;case"textarea":Ko(d,v),st("invalid",d)}Fl(u,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var L=v[S];S==="children"?typeof L=="string"?d.textContent!==L&&(v.suppressHydrationWarning!==!0&&Ah(d.textContent,L,s),m=["children",L]):typeof L=="number"&&d.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Ah(d.textContent,L,s),m=["children",""+L]):i.hasOwnProperty(S)&&L!=null&&S==="onScroll"&&st("scroll",d)}switch(u){case"input":Wr(d),Zc(d,v,!0);break;case"textarea":Wr(d),Nl(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Ph)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=S.createElement(u,{is:d.is}):(s=S.createElement(u),u==="select"&&(S=s,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):s=S.createElementNS(s,u),s[Cr]=o,s[lu]=d,W1(s,o,!1,!1),o.stateNode=s;e:{switch(S=jl(u,d),u){case"dialog":st("cancel",s),st("close",s),m=d;break;case"iframe":case"object":case"embed":st("load",s),m=d;break;case"video":case"audio":for(m=0;m<su.length;m++)st(su[m],s);m=d;break;case"source":st("error",s),m=d;break;case"img":case"image":case"link":st("error",s),st("load",s),m=d;break;case"details":st("toggle",s),m=d;break;case"input":Ho(s,d),m=Ls(s,d),st("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=le({},d,{value:void 0}),st("invalid",s);break;case"textarea":Ko(s,d),m=Dl(s,d),st("invalid",s);break;default:m=d}Fl(u,m),L=m;for(v in L)if(L.hasOwnProperty(v)){var U=L[v];v==="style"?Ll(s,U):v==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Ol(s,U)):v==="children"?typeof U=="string"?(u!=="textarea"||U!=="")&&Oi(s,U):typeof U=="number"&&Oi(s,""+U):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?U!=null&&v==="onScroll"&&st("scroll",s):U!=null&&j(s,v,U,S))}switch(u){case"input":Wr(s),Zc(s,d,!1);break;case"textarea":Wr(s),Nl(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ge(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?Gr(s,!!d.multiple,v,!1):d.defaultValue!=null&&Gr(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ph)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(s&&o.stateNode!=null)G1(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=ro(du.current),ro(Ar.current),Vh(o)){if(d=o.stateNode,u=o.memoizedProps,d[Cr]=o,(v=d.nodeValue!==u)&&(s=Nn,s!==null))switch(s.tag){case 3:Ah(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ah(d.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Cr]=o,o.stateNode=d}return en(o),null;case 13:if(ot(ht),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&On!==null&&o.mode&1&&!(o.flags&128))Y0(),Ca(),o.flags|=98560,v=!1;else if(v=Vh(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Cr]=o}else Ca(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;en(o),v=!1}else hr!==null&&(Pm(hr),hr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(s===null||ht.current&1?Nt===0&&(Nt=3):km())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return ba(),ym(s,o),s===null&&ou(o.stateNode.containerInfo),en(o),null;case 10:return Hp(o.type._context),en(o),null;case 17:return vn(o.type)&&bh(),en(o),null;case 19:if(ot(ht),v=o.memoizedState,v===null)return en(o),null;if(d=(o.flags&128)!==0,S=v.rendering,S===null)if(d)vu(v,!1);else{if(Nt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(S=Bh(s),S!==null){for(o.flags|=128,vu(v,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,s=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,s=S.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return rt(ht,ht.current&1|2),o.child}s=s.sibling}v.tail!==null&&nt()>Oa&&(o.flags|=128,d=!0,vu(v,!1),o.lanes=4194304)}else{if(!d)if(s=Bh(S),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),vu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ut)return en(o),null}else 2*nt()-v.renderingStartTime>Oa&&u!==1073741824&&(o.flags|=128,d=!0,vu(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(u=v.last,u!==null?u.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=nt(),o.sibling=null,u=ht.current,rt(ht,d?u&1|2:u&1),o):(en(o),null);case 22:case 23:return bm(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Vn&1073741824&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function EP(s,o){switch(jp(o),o.tag){case 1:return vn(o.type)&&bh(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ba(),ot(yn),ot(Jt),Jp(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Xp(o),null;case 13:if(ot(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ca()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ot(ht),null;case 4:return ba(),null;case 10:return Hp(o.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Xh=!1,tn=!1,TP=typeof WeakSet=="function"?WeakSet:Set,me=null;function Da(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){gt(s,o,d)}else u.current=null}function vm(s,o,u){try{u()}catch(d){gt(s,o,d)}}var Q1=!1;function SP(s,o){if(bp=zi,s=A0(),Tp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,L=-1,U=-1,Q=0,ie=0,se=s,re=null;t:for(;;){for(var fe;se!==u||m!==0&&se.nodeType!==3||(L=S+m),se!==v||d!==0&&se.nodeType!==3||(U=S+d),se.nodeType===3&&(S+=se.nodeValue.length),(fe=se.firstChild)!==null;)re=se,se=fe;for(;;){if(se===s)break t;if(re===u&&++Q===m&&(L=S),re===v&&++ie===d&&(U=S),(fe=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=fe}u=L===-1||U===-1?null:{start:L,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(kp={focusedElem:s,selectionRange:u},zi=!1,me=o;me!==null;)if(o=me,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,me=s;else for(;me!==null;){o=me;try{var ye=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,Tt=ye.memoizedState,W=o.stateNode,B=W.getSnapshotBeforeUpdate(o.elementType===o.type?ve:fr(o.type,ve),Tt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){gt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,me=s;break}me=o.return}return ye=Q1,Q1=!1,ye}function _u(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&vm(o,u,v)}m=m.next}while(m!==d)}}function Yh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function _m(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function X1(s){var o=s.alternate;o!==null&&(s.alternate=null,X1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Cr],delete o[lu],delete o[Vp],delete o[sP],delete o[oP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Y1(s){return s.tag===5||s.tag===3||s.tag===4}function J1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Y1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wm(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ph));else if(d!==4&&(s=s.child,s!==null))for(wm(s,o,u),s=s.sibling;s!==null;)wm(s,o,u),s=s.sibling}function Em(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Em(s,o,u),s=s.sibling;s!==null;)Em(s,o,u),s=s.sibling}var Wt=null,dr=!1;function Yi(s,o,u){for(u=u.child;u!==null;)Z1(s,o,u),u=u.sibling}function Z1(s,o,u){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Hs,u)}catch{}switch(u.tag){case 5:tn||Da(u,o);case 6:var d=Wt,m=dr;Wt=null,Yi(s,o,u),Wt=d,dr=m,Wt!==null&&(dr?(s=Wt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(dr?(s=Wt,u=u.stateNode,s.nodeType===8?Op(s.parentNode,u):s.nodeType===1&&Op(s,u),lr(s)):Op(Wt,u.stateNode));break;case 4:d=Wt,m=dr,Wt=u.stateNode.containerInfo,dr=!0,Yi(s,o,u),Wt=d,dr=m;break;case 0:case 11:case 14:case 15:if(!tn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&vm(u,o,S),m=m.next}while(m!==d)}Yi(s,o,u);break;case 1:if(!tn&&(Da(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(L){gt(u,o,L)}Yi(s,o,u);break;case 21:Yi(s,o,u);break;case 22:u.mode&1?(tn=(d=tn)||u.memoizedState!==null,Yi(s,o,u),tn=d):Yi(s,o,u);break;default:Yi(s,o,u)}}function e_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new TP),o.forEach(function(d){var m=DP.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function pr(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=s,S=o,L=S;e:for(;L!==null;){switch(L.tag){case 5:Wt=L.stateNode,dr=!1;break e;case 3:Wt=L.stateNode.containerInfo,dr=!0;break e;case 4:Wt=L.stateNode.containerInfo,dr=!0;break e}L=L.return}if(Wt===null)throw Error(n(160));Z1(v,S,m),Wt=null,dr=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(Q){gt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)t_(o,s),o=o.sibling}function t_(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pr(o,s),Rr(s),d&4){try{_u(3,s,s.return),Yh(3,s)}catch(ve){gt(s,s.return,ve)}try{_u(5,s,s.return)}catch(ve){gt(s,s.return,ve)}}break;case 1:pr(o,s),Rr(s),d&512&&u!==null&&Da(u,u.return);break;case 5:if(pr(o,s),Rr(s),d&512&&u!==null&&Da(u,u.return),s.flags&32){var m=s.stateNode;try{Oi(m,"")}catch(ve){gt(s,s.return,ve)}}if(d&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,S=u!==null?u.memoizedProps:v,L=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&bl(m,v),jl(L,S);var Q=jl(L,v);for(S=0;S<U.length;S+=2){var ie=U[S],se=U[S+1];ie==="style"?Ll(m,se):ie==="dangerouslySetInnerHTML"?Ol(m,se):ie==="children"?Oi(m,se):j(m,ie,se,Q)}switch(L){case"input":kl(m,v);break;case"textarea":Go(m,v);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var fe=v.value;fe!=null?Gr(m,!!v.multiple,fe,!1):re!==!!v.multiple&&(v.defaultValue!=null?Gr(m,!!v.multiple,v.defaultValue,!0):Gr(m,!!v.multiple,v.multiple?[]:"",!1))}m[lu]=v}catch(ve){gt(s,s.return,ve)}}break;case 6:if(pr(o,s),Rr(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(ve){gt(s,s.return,ve)}}break;case 3:if(pr(o,s),Rr(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{lr(o.containerInfo)}catch(ve){gt(s,s.return,ve)}break;case 4:pr(o,s),Rr(s);break;case 13:pr(o,s),Rr(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Im=nt())),d&4&&e_(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(tn=(Q=tn)||ie,pr(o,s),tn=Q):pr(o,s),Rr(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!ie&&s.mode&1)for(me=s,ie=s.child;ie!==null;){for(se=me=ie;me!==null;){switch(re=me,fe=re.child,re.tag){case 0:case 11:case 14:case 15:_u(4,re,re.return);break;case 1:Da(re,re.return);var ye=re.stateNode;if(typeof ye.componentWillUnmount=="function"){d=re,u=re.return;try{o=d,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){gt(d,u,ve)}}break;case 5:Da(re,re.return);break;case 22:if(re.memoizedState!==null){i_(se);continue}}fe!==null?(fe.return=re,me=fe):i_(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{m=se.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=se.stateNode,U=se.memoizedProps.style,S=U!=null&&U.hasOwnProperty("display")?U.display:null,L.style.display=Vl("display",S))}catch(ve){gt(s,s.return,ve)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(ve){gt(s,s.return,ve)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:pr(o,s),Rr(s),d&4&&e_(s);break;case 21:break;default:pr(o,s),Rr(s)}}function Rr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Y1(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Oi(m,""),d.flags&=-33);var v=J1(s);Em(s,v,m);break;case 3:case 4:var S=d.stateNode.containerInfo,L=J1(s);wm(s,L,S);break;default:throw Error(n(161))}}catch(U){gt(s,s.return,U)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function IP(s,o,u){me=s,n_(s)}function n_(s,o,u){for(var d=(s.mode&1)!==0;me!==null;){var m=me,v=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||Xh;if(!S){var L=m.alternate,U=L!==null&&L.memoizedState!==null||tn;L=Xh;var Q=tn;if(Xh=S,(tn=U)&&!Q)for(me=m;me!==null;)S=me,U=S.child,S.tag===22&&S.memoizedState!==null?s_(m):U!==null?(U.return=S,me=U):s_(m);for(;v!==null;)me=v,n_(v),v=v.sibling;me=m,Xh=L,tn=Q}r_(s)}else m.subtreeFlags&8772&&v!==null?(v.return=m,me=v):r_(s)}}function r_(s){for(;me!==null;){var o=me;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:tn||Yh(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!tn)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:fr(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&i1(o,v,d);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}i1(o,S,u)}break;case 5:var L=o.stateNode;if(u===null&&o.flags&4){u=L;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&u.focus();break;case"img":U.src&&(u.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&lr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tn||o.flags&512&&_m(o)}catch(re){gt(o,o.return,re)}}if(o===s){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function i_(s){for(;me!==null;){var o=me;if(o===s){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function s_(s){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Yh(4,o)}catch(U){gt(o,u,U)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(U){gt(o,m,U)}}var v=o.return;try{_m(o)}catch(U){gt(o,v,U)}break;case 5:var S=o.return;try{_m(o)}catch(U){gt(o,S,U)}}}catch(U){gt(o,o.return,U)}if(o===s){me=null;break}var L=o.sibling;if(L!==null){L.return=o.return,me=L;break}me=o.return}}var xP=Math.ceil,Jh=G.ReactCurrentDispatcher,Tm=G.ReactCurrentOwner,Kn=G.ReactCurrentBatchConfig,Qe=0,Bt=null,Ct=null,Kt=0,Vn=0,Na=Wi(0),Nt=0,wu=null,so=0,Zh=0,Sm=0,Eu=null,wn=null,Im=0,Oa=1/0,ui=null,ef=!1,xm=null,Ji=null,tf=!1,Zi=null,nf=0,Tu=0,Cm=null,rf=-1,sf=0;function dn(){return Qe&6?nt():rf!==-1?rf:rf=nt()}function es(s){return s.mode&1?Qe&2&&Kt!==0?Kt&-Kt:lP.transition!==null?(sf===0&&(sf=Ks()),sf):(s=Be,s!==0||(s=window.event,s=s===void 0?16:Xl(s.type)),s):1}function mr(s,o,u,d){if(50<Tu)throw Tu=0,Cm=null,Error(n(185));Fi(s,u,d),(!(Qe&2)||s!==Bt)&&(s===Bt&&(!(Qe&2)&&(Zh|=u),Nt===4&&ts(s,Kt)),En(s,d),u===1&&Qe===0&&!(o.mode&1)&&(Oa=nt()+500,Dh&&Gi()))}function En(s,o){var u=s.callbackNode;Yr(s,o);var d=Ws(s,s===Bt?Kt:0);if(d===0)u!==null&&Hl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Hl(u),o===1)s.tag===0?aP(a_.bind(null,s)):W0(a_.bind(null,s)),rP(function(){!(Qe&6)&&Gi()}),u=null;else{switch(Ui(d)){case 1:u=qs;break;case 4:u=Vi;break;case 16:u=Un;break;case 536870912:u=ih;break;default:u=Un}u=m_(u,o_.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function o_(s,o){if(rf=-1,sf=0,Qe&6)throw Error(n(327));var u=s.callbackNode;if(Va()&&s.callbackNode!==u)return null;var d=Ws(s,s===Bt?Kt:0);if(d===0)return null;if(d&30||d&s.expiredLanes||o)o=of(s,d);else{o=d;var m=Qe;Qe|=2;var v=u_();(Bt!==s||Kt!==o)&&(ui=null,Oa=nt()+500,ao(s,o));do try{PP();break}catch(L){l_(s,L)}while(!0);qp(),Jh.current=v,Qe=m,Ct!==null?o=0:(Bt=null,Kt=0,o=Nt)}if(o!==0){if(o===2&&(m=bn(s),m!==0&&(d=m,o=Am(s,m))),o===1)throw u=wu,ao(s,0),ts(s,d),En(s,nt()),u;if(o===6)ts(s,d);else{if(m=s.current.alternate,!(d&30)&&!CP(m)&&(o=of(s,d),o===2&&(v=bn(s),v!==0&&(d=v,o=Am(s,v))),o===1))throw u=wu,ao(s,0),ts(s,d),En(s,nt()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:lo(s,wn,ui);break;case 3:if(ts(s,d),(d&130023424)===d&&(o=Im+500-nt(),10<o)){if(Ws(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){dn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Np(lo.bind(null,s,wn,ui),o);break}lo(s,wn,ui);break;case 4:if(ts(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var S=31-cn(d);v=1<<S,S=o[S],S>m&&(m=S),d&=~v}if(d=m,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*xP(d/1960))-d,10<d){s.timeoutHandle=Np(lo.bind(null,s,wn,ui),d);break}lo(s,wn,ui);break;case 5:lo(s,wn,ui);break;default:throw Error(n(329))}}}return En(s,nt()),s.callbackNode===u?o_.bind(null,s):null}function Am(s,o){var u=Eu;return s.current.memoizedState.isDehydrated&&(ao(s,o).flags|=256),s=of(s,o),s!==2&&(o=wn,wn=u,o!==null&&Pm(o)),s}function Pm(s){wn===null?wn=s:wn.push.apply(wn,s)}function CP(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!cr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ts(s,o){for(o&=~Sm,o&=~Zh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-cn(o),d=1<<u;s[u]=-1,o&=~d}}function a_(s){if(Qe&6)throw Error(n(327));Va();var o=Ws(s,0);if(!(o&1))return En(s,nt()),null;var u=of(s,o);if(s.tag!==0&&u===2){var d=bn(s);d!==0&&(o=d,u=Am(s,d))}if(u===1)throw u=wu,ao(s,0),ts(s,o),En(s,nt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,lo(s,wn,ui),En(s,nt()),null}function Rm(s,o){var u=Qe;Qe|=1;try{return s(o)}finally{Qe=u,Qe===0&&(Oa=nt()+500,Dh&&Gi())}}function oo(s){Zi!==null&&Zi.tag===0&&!(Qe&6)&&Va();var o=Qe;Qe|=1;var u=Kn.transition,d=Be;try{if(Kn.transition=null,Be=1,s)return s()}finally{Be=d,Kn.transition=u,Qe=o,!(Qe&6)&&Gi()}}function bm(){Vn=Na.current,ot(Na)}function ao(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,nP(u)),Ct!==null)for(u=Ct.return;u!==null;){var d=u;switch(jp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&bh();break;case 3:ba(),ot(yn),ot(Jt),Jp();break;case 5:Xp(d);break;case 4:ba();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:Hp(d.type._context);break;case 22:case 23:bm()}u=u.return}if(Bt=s,Ct=s=ns(s.current,null),Kt=Vn=o,Nt=0,wu=null,Sm=Zh=so=0,wn=Eu=null,no!==null){for(o=0;o<no.length;o++)if(u=no[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var S=v.next;v.next=m,d.next=S}u.pending=d}no=null}return s}function l_(s,o){do{var u=Ct;try{if(qp(),zh.current=Wh,$h){for(var d=ft.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}$h=!1}if(io=0,Ut=Dt=ft=null,pu=!1,mu=0,Tm.current=null,u===null||u.return===null){Nt=1,wu=o,Ct=null;break}e:{var v=s,S=u.return,L=u,U=o;if(o=Kt,L.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Q=U,ie=L,se=ie.tag;if(!(ie.mode&1)&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=N1(S);if(fe!==null){fe.flags&=-257,O1(fe,S,L,v,o),fe.mode&1&&D1(v,Q,o),o=fe,U=Q;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(U),o.updateQueue=ve}else ye.add(U);break e}else{if(!(o&1)){D1(v,Q,o),km();break e}U=Error(n(426))}}else if(ut&&L.mode&1){var Tt=N1(S);if(Tt!==null){!(Tt.flags&65536)&&(Tt.flags|=256),O1(Tt,S,L,v,o),zp(ka(U,L));break e}}v=U=ka(U,L),Nt!==4&&(Nt=2),Eu===null?Eu=[v]:Eu.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=b1(v,U,o);r1(v,W);break e;case 1:L=U;var B=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ji===null||!Ji.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=k1(v,L,o);r1(v,ae);break e}}v=v.return}while(v!==null)}h_(u)}catch(_e){o=_e,Ct===u&&u!==null&&(Ct=u=u.return);continue}break}while(!0)}function u_(){var s=Jh.current;return Jh.current=Wh,s===null?Wh:s}function km(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Bt===null||!(so&268435455)&&!(Zh&268435455)||ts(Bt,Kt)}function of(s,o){var u=Qe;Qe|=2;var d=u_();(Bt!==s||Kt!==o)&&(ui=null,ao(s,o));do try{AP();break}catch(m){l_(s,m)}while(!0);if(qp(),Qe=u,Jh.current=d,Ct!==null)throw Error(n(261));return Bt=null,Kt=0,Nt}function AP(){for(;Ct!==null;)c_(Ct)}function PP(){for(;Ct!==null&&!nh();)c_(Ct)}function c_(s){var o=p_(s.alternate,s,Vn);s.memoizedProps=s.pendingProps,o===null?h_(s):Ct=o,Tm.current=null}function h_(s){var o=s;do{var u=o.alternate;if(s=o.return,o.flags&32768){if(u=EP(u,o),u!==null){u.flags&=32767,Ct=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Nt=6,Ct=null;return}}else if(u=wP(u,o,Vn),u!==null){Ct=u;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=s}while(o!==null);Nt===0&&(Nt=5)}function lo(s,o,u){var d=Be,m=Kn.transition;try{Kn.transition=null,Be=1,RP(s,o,u,d)}finally{Kn.transition=m,Be=d}return null}function RP(s,o,u,d){do Va();while(Zi!==null);if(Qe&6)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(et(s,v),s===Bt&&(Ct=Bt=null,Kt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||tf||(tf=!0,m_(Un,function(){return Va(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=Kn.transition,Kn.transition=null;var S=Be;Be=1;var L=Qe;Qe|=4,Tm.current=null,SP(s,u),t_(u,s),QA(kp),zi=!!bp,kp=bp=null,s.current=u,IP(u),pp(),Qe=L,Be=S,Kn.transition=v}else s.current=u;if(tf&&(tf=!1,Zi=s,nf=m),v=s.pendingLanes,v===0&&(Ji=null),sh(u.stateNode),En(s,nt()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(ef)throw ef=!1,s=xm,xm=null,s;return nf&1&&s.tag!==0&&Va(),v=s.pendingLanes,v&1?s===Cm?Tu++:(Tu=0,Cm=s):Tu=0,Gi(),null}function Va(){if(Zi!==null){var s=Ui(nf),o=Kn.transition,u=Be;try{if(Kn.transition=null,Be=16>s?16:s,Zi===null)var d=!1;else{if(s=Zi,Zi=null,nf=0,Qe&6)throw Error(n(331));var m=Qe;for(Qe|=4,me=s.current;me!==null;){var v=me,S=v.child;if(me.flags&16){var L=v.deletions;if(L!==null){for(var U=0;U<L.length;U++){var Q=L[U];for(me=Q;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:_u(8,ie,v)}var se=ie.child;if(se!==null)se.return=ie,me=se;else for(;me!==null;){ie=me;var re=ie.sibling,fe=ie.return;if(X1(ie),ie===Q){me=null;break}if(re!==null){re.return=fe,me=re;break}me=fe}}}var ye=v.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var Tt=ve.sibling;ve.sibling=null,ve=Tt}while(ve!==null)}}me=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,me=S;else e:for(;me!==null;){if(v=me,v.flags&2048)switch(v.tag){case 0:case 11:case 15:_u(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,me=W;break e}me=v.return}}var B=s.current;for(me=B;me!==null;){S=me;var K=S.child;if(S.subtreeFlags&2064&&K!==null)K.return=S,me=K;else e:for(S=B;me!==null;){if(L=me,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:Yh(9,L)}}catch(_e){gt(L,L.return,_e)}if(L===S){me=null;break e}var ae=L.sibling;if(ae!==null){ae.return=L.return,me=ae;break e}me=L.return}}if(Qe=m,Gi(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Hs,s)}catch{}d=!0}return d}finally{Be=u,Kn.transition=o}}return!1}function f_(s,o,u){o=ka(u,o),o=b1(s,o,1),s=Xi(s,o,1),o=dn(),s!==null&&(Fi(s,1,o),En(s,o))}function gt(s,o,u){if(s.tag===3)f_(s,s,u);else for(;o!==null;){if(o.tag===3){f_(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))){s=ka(u,s),s=k1(o,s,1),o=Xi(o,s,1),s=dn(),o!==null&&(Fi(o,1,s),En(o,s));break}}o=o.return}}function bP(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=dn(),s.pingedLanes|=s.suspendedLanes&u,Bt===s&&(Kt&u)===u&&(Nt===4||Nt===3&&(Kt&130023424)===Kt&&500>nt()-Im?ao(s,0):Sm|=u),En(s,o)}function d_(s,o){o===0&&(s.mode&1?(o=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):o=1);var u=dn();s=oi(s,o),s!==null&&(Fi(s,o,u),En(s,u))}function kP(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),d_(s,u)}function DP(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),d_(s,u)}var p_;p_=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||yn.current)_n=!0;else{if(!(s.lanes&u)&&!(o.flags&128))return _n=!1,_P(s,o,u);_n=!!(s.flags&131072)}else _n=!1,ut&&o.flags&1048576&&K0(o,Oh,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Qh(s,o),s=o.pendingProps;var m=Sa(o,Jt.current);Ra(o,u),m=tm(null,o,d,s,m,u);var v=nm();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,vn(d)?(v=!0,kh(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Gp(o),m.updater=Kh,o.stateNode=m,m._reactInternals=o,lm(o,d,s,u),o=fm(null,o,d,!0,v,u)):(o.tag=0,ut&&v&&Fp(o),fn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Qh(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=OP(d),s=fr(d,s),m){case 0:o=hm(null,o,d,s,u);break e;case 1:o=U1(null,o,d,s,u);break e;case 11:o=V1(null,o,d,s,u);break e;case 14:o=L1(null,o,d,fr(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),hm(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),U1(s,o,d,m,u);case 3:e:{if(B1(o),s===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,n1(s,o),Uh(o,d,null,u);var S=o.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ka(Error(n(423)),o),o=z1(s,o,d,u,m);break e}else if(d!==m){m=ka(Error(n(424)),o),o=z1(s,o,d,u,m);break e}else for(On=Hi(o.stateNode.containerInfo.firstChild),Nn=o,ut=!0,hr=null,u=e1(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ca(),d===m){o=li(s,o,u);break e}fn(s,o,d,u)}o=o.child}return o;case 5:return s1(o),s===null&&Bp(o),d=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,S=m.children,Dp(d,m)?S=null:v!==null&&Dp(d,v)&&(o.flags|=32),j1(s,o),fn(s,o,S,u),o.child;case 6:return s===null&&Bp(o),null;case 13:return $1(s,o,u);case 4:return Qp(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Aa(o,null,d,u):fn(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),V1(s,o,d,m,u);case 7:return fn(s,o,o.pendingProps,u),o.child;case 8:return fn(s,o,o.pendingProps.children,u),o.child;case 12:return fn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,rt(Mh,d._currentValue),d._currentValue=S,v!==null)if(cr(v.value,S)){if(v.children===m.children&&!yn.current){o=li(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){S=v.child;for(var U=L.firstContext;U!==null;){if(U.context===d){if(v.tag===1){U=ai(-1,u&-u),U.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?U.next=U:(U.next=ie.next,ie.next=U),Q.pending=U}}v.lanes|=u,U=v.alternate,U!==null&&(U.lanes|=u),Wp(v.return,u,o),L.lanes|=u;break}U=U.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(n(341));S.lanes|=u,L=S.alternate,L!==null&&(L.lanes|=u),Wp(S,u,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}fn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ra(o,u),m=Hn(m),d=d(m),o.flags|=1,fn(s,o,d,u),o.child;case 14:return d=o.type,m=fr(d,o.pendingProps),m=fr(d.type,m),L1(s,o,d,m,u);case 15:return M1(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),Qh(s,o),o.tag=1,vn(d)?(s=!0,kh(o)):s=!1,Ra(o,u),P1(o,d,m),lm(o,d,m,u),fm(null,o,d,!0,s,u);case 19:return H1(s,o,u);case 22:return F1(s,o,u)}throw Error(n(156,o.tag))};function m_(s,o){return na(s,o)}function NP(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,o,u,d){return new NP(s,o,u,d)}function Dm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function OP(s){if(typeof s=="function")return Dm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===k)return 11;if(s===Ae)return 14}return 2}function ns(s,o){var u=s.alternate;return u===null?(u=Gn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function af(s,o,u,d,m,v){var S=2;if(d=s,typeof s=="function")Dm(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case O:return uo(u.children,m,v,o);case A:S=8,m|=8;break;case N:return s=Gn(12,u,o,m|2),s.elementType=N,s.lanes=v,s;case C:return s=Gn(13,u,o,m),s.elementType=C,s.lanes=v,s;case X:return s=Gn(19,u,o,m),s.elementType=X,s.lanes=v,s;case ce:return lf(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:S=10;break e;case P:S=9;break e;case k:S=11;break e;case Ae:S=14;break e;case he:S=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Gn(S,u,o,m),o.elementType=s,o.type=d,o.lanes=v,o}function uo(s,o,u,d){return s=Gn(7,s,d,o),s.lanes=u,s}function lf(s,o,u,d){return s=Gn(22,s,d,o),s.elementType=ce,s.lanes=u,s.stateNode={isHidden:!1},s}function Nm(s,o,u){return s=Gn(6,s,null,o),s.lanes=u,s}function Om(s,o,u){return o=Gn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function VP(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Vm(s,o,u,d,m,v,S,L,U){return s=new VP(s,o,u,L,U),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Gn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(v),s}function LP(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function g_(s){if(!s)return Ki;s=s._reactInternals;e:{if(rr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(vn(u))return q0(s,u,o)}return o}function y_(s,o,u,d,m,v,S,L,U){return s=Vm(u,d,!0,s,m,v,S,L,U),s.context=g_(null),u=s.current,d=dn(),m=es(u),v=ai(d,m),v.callback=o??null,Xi(u,v,m),s.current.lanes=m,Fi(s,m,d),En(s,d),s}function uf(s,o,u,d){var m=o.current,v=dn(),S=es(m);return u=g_(u),o.context===null?o.context=u:o.pendingContext=u,o=ai(v,S),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Xi(m,o,S),s!==null&&(mr(s,m,S,v),jh(s,m,S)),S}function cf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function v_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Lm(s,o){v_(s,o),(s=s.alternate)&&v_(s,o)}var __=typeof reportError=="function"?reportError:function(s){console.error(s)};function Mm(s){this._internalRoot=s}hf.prototype.render=Mm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));uf(s,o,null,null)},hf.prototype.unmount=Mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oo(function(){uf(null,s,null,null)}),o[ni]=null}};function hf(s){this._internalRoot=s}hf.prototype.unstable_scheduleHydration=function(s){if(s){var o=ch();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Tr.length&&o!==0&&o<Tr[u].priority;u++);Tr.splice(u,0,s),u===0&&dh(s)}};function Fm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ff(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function w_(){}function MP(s,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Q=cf(S);v.call(Q)}}var S=y_(o,d,s,0,null,!1,!1,"",w_);return s._reactRootContainer=S,s[ni]=S.current,ou(s.nodeType===8?s.parentNode:s),oo(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var L=d;d=function(){var Q=cf(U);L.call(Q)}}var U=Vm(s,0,!1,null,null,!1,!1,"",w_);return s._reactRootContainer=U,s[ni]=U.current,ou(s.nodeType===8?s.parentNode:s),oo(function(){uf(o,U,u,d)}),U}function df(s,o,u,d,m){var v=u._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var L=m;m=function(){var U=cf(S);L.call(U)}}uf(o,S,s,m)}else S=MP(u,o,s,m,d);return cf(S)}lh=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Li(o.pendingLanes);u!==0&&(ji(o,u|1),En(o,nt()),!(Qe&6)&&(Oa=nt()+500,Gi()))}break;case 13:oo(function(){var d=oi(s,1);if(d!==null){var m=dn();mr(d,s,1,m)}}),Lm(s,1)}},sa=function(s){if(s.tag===13){var o=oi(s,134217728);if(o!==null){var u=dn();mr(o,s,134217728,u)}Lm(s,134217728)}},uh=function(s){if(s.tag===13){var o=es(s),u=oi(s,o);if(u!==null){var d=dn();mr(u,s,o,d)}Lm(s,o)}},ch=function(){return Be},hh=function(s,o){var u=Be;try{return Be=s,o()}finally{Be=u}},Xo=function(s,o,u){switch(o){case"input":if(kl(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=Rh(d);if(!m)throw Error(n(90));qo(d),kl(d,m)}}}break;case"textarea":Go(s,u);break;case"select":o=u.value,o!=null&&Gr(s,!!u.multiple,o,!1)}},Us=Rm,Bl=oo;var FP={usingClientEntryPoint:!1,Events:[uu,Ea,Rh,wr,Ul,Rm]},Su={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jP={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ql(s),s===null?null:s.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{Hs=pf.inject(jP),Rn=pf}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FP,Tn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(o))throw Error(n(200));return LP(s,o,null,u)},Tn.createRoot=function(s,o){if(!Fm(s))throw Error(n(299));var u=!1,d="",m=__;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Vm(s,1,!1,null,null,u,!1,d,m),s[ni]=o.current,ou(s.nodeType===8?s.parentNode:s),new Mm(o)},Tn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=ql(o),s=s===null?null:s.stateNode,s},Tn.flushSync=function(s){return oo(s)},Tn.hydrate=function(s,o,u){if(!ff(o))throw Error(n(200));return df(null,s,o,!0,u)},Tn.hydrateRoot=function(s,o,u){if(!Fm(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",S=__;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=y_(o,null,s,1,u??null,m,!1,v,S),s[ni]=o.current,ou(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new hf(o)},Tn.render=function(s,o,u){if(!ff(o))throw Error(n(200));return df(null,s,o,!1,u)},Tn.unmountComponentAtNode=function(s){if(!ff(s))throw Error(n(40));return s._reactRootContainer?(oo(function(){df(null,null,s,!1,function(){s._reactRootContainer=null,s[ni]=null})}),!0):!1},Tn.unstable_batchedUpdates=Rm,Tn.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!ff(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return df(s,o,u,!1,d)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var b_;function e2(){if(b_)return Bm.exports;b_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bm.exports=GP(),Bm.exports}var k_;function QP(){if(k_)return mf;k_=1;var t=e2();return mf.createRoot=t.createRoot,mf.hydrateRoot=t.hydrateRoot,mf}var XP=QP(),xu={},D_;function YP(){if(D_)return xu;D_=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.parse=l,xu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const I=new a,x=w.length;if(x<2)return I;const b=(T==null?void 0:T.decode)||g;let D=0;do{const V=w.indexOf("=",D);if(V===-1)break;const j=w.indexOf(";",D),G=j===-1?x:j;if(V>G){D=w.lastIndexOf(";",V-1)+1;continue}const J=c(w,D,V),Z=h(w,V,J),O=w.slice(J,Z);if(I[O]===void 0){let A=c(w,V+1,G),N=h(w,G,A);const F=b(w.slice(A,N));I[O]=F}D=G+1}while(D<x);return I}function c(w,T,I){do{const x=w.charCodeAt(T);if(x!==32&&x!==9)return T}while(++T<I);return I}function h(w,T,I){for(;T>I;){const x=w.charCodeAt(--T);if(x!==32&&x!==9)return T+1}return I}function p(w,T,I){const x=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const b=x(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let D=w+"="+b;if(!I)return D;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);D+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);D+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);D+="; Path="+I.path}if(I.expires){if(!_(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);D+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(D+="; HttpOnly"),I.secure&&(D+="; Secure"),I.partitioned&&(D+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return D}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return i.call(w)==="[object Date]"}return xu}YP();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N_="popstate";function JP(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Ig("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yu(i)}return eR(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZP(){return Math.random().toString(36).substring(2,10)}function O_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ac(e):e,state:n,key:e&&e.key||r||ZP()}}function Yu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let b=g(),D=b==null?null:b-p;p=b,h&&h({action:c,location:x.location,delta:D})}function w(b,D){c="PUSH";let V=Ig(x.location,b,D);p=g()+1;let j=O_(V,p),G=x.createHref(V);try{l.pushState(j,"",G)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(G)}a&&h&&h({action:c,location:x.location,delta:1})}function T(b,D){c="REPLACE";let V=Ig(x.location,b,D);p=g();let j=O_(V,p),G=x.createHref(V);l.replaceState(j,"",G),a&&h&&h({action:c,location:x.location,delta:0})}function I(b){let D=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof b=="string"?b:Yu(b);return V=V.replace(/ $/,"%20"),Vt(D,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,D)}let x={get action(){return c},get location(){return t(i,l)},listen(b){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(N_,_),h=b,()=>{i.removeEventListener(N_,_),h=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let D=I(b);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:T,go(b){return l.go(b)}};return x}function t2(t,e,n="/"){return tR(t,e,n,!1)}function tR(t,e,n,r){let i=typeof e=="string"?Ac(e):e,a=Cs(i.pathname||"/",n);if(a==null)return null;let l=n2(t);nR(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=dR(a);c=hR(l[h],p,r)}return c}function n2(t,e=[],n=[],r=""){let i=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Vt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=_i([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Vt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),n2(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:uR(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of r2(a.path))i(a,l,h)}),e}function r2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=r2(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function nR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rR=/^:[\w-]+$/,iR=3,sR=2,oR=1,aR=10,lR=-2,V_=t=>t==="*";function uR(t,e){let n=t.split("/"),r=n.length;return n.some(V_)&&(r+=lR),e&&(r+=sR),n.filter(i=>!V_(i)).reduce((i,a)=>i+(rR.test(a)?iR:a===""?oR:aR),r)}function cR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hR(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=qf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=qf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:_i([a,_.pathname]),pathnameBase:yR(_i([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=_i([a,_.pathnameBase]))}return l}function qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let I=c[w]||"";l=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const T=c[w];return _&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function fR(t,e=!1,n=!0){Fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ac(t):t;return{pathname:n?n.startsWith("/")?n:mR(n,e):e,search:vR(r),hash:_R(i)}}function mR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function i2(t){let e=gR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function s2(t,e,n,r=!1){let i;typeof t=="string"?i=Ac(t):(i={...t},Vt(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}c=_>=0?e[_]:"/"}let h=pR(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var _i=t=>t.join("/").replace(/\/\/+/g,"/"),yR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_R=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var o2=["POST","PUT","PATCH","DELETE"];new Set(o2);var ER=["GET",...o2];new Set(ER);var _l=M.createContext(null);_l.displayName="DataRouter";var Rd=M.createContext(null);Rd.displayName="DataRouterState";var a2=M.createContext({isTransitioning:!1});a2.displayName="ViewTransition";var TR=M.createContext(new Map);TR.displayName="Fetchers";var SR=M.createContext(null);SR.displayName="Await";var zr=M.createContext(null);zr.displayName="Navigation";var bd=M.createContext(null);bd.displayName="Location";var $r=M.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Iy=M.createContext(null);Iy.displayName="RouteError";function IR(t,{relative:e}={}){Vt(Pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(zr),{hash:i,pathname:a,search:l}=Rc(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:_i([n,a])),r.createHref({pathname:c,search:l,hash:i})}function Pc(){return M.useContext(bd)!=null}function Vo(){return Vt(Pc(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(bd).location}var l2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u2(t){M.useContext(zr).static||M.useLayoutEffect(t)}function c2(){let{isDataRoute:t}=M.useContext($r);return t?FR():xR()}function xR(){Vt(Pc(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(_l),{basename:e,navigator:n}=M.useContext(zr),{matches:r}=M.useContext($r),{pathname:i}=Vo(),a=JSON.stringify(i2(r)),l=M.useRef(!1);return u2(()=>{l.current=!0}),M.useCallback((h,p={})=>{if(Fr(l.current,l2),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=s2(h,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_i([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}M.createContext(null);function CR(){let{matches:t}=M.useContext($r),e=t[t.length-1];return e?e.params:{}}function Rc(t,{relative:e}={}){let{matches:n}=M.useContext($r),{pathname:r}=Vo(),i=JSON.stringify(i2(n));return M.useMemo(()=>s2(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function AR(t,e){return h2(t)}function h2(t,e,n,r){Vt(Pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=M.useContext(zr),{matches:a}=M.useContext($r),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let D=g&&g.path||"";f2(h,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=Vo(),w;w=_;let T=w.pathname||"/",I=T;if(p!=="/"){let D=p.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let x=t2(t,{pathname:I});return Fr(g||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Fr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),DR(x&&x.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:_i([p,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:_i([p,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,n,r)}function PR(){let t=MR(),e=wR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,l)}var RR=M.createElement(PR,null),bR=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement($r.Provider,{value:this.props.routeContext},M.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kR({routeContext:t,match:e,children:n}){let r=M.useContext(_l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement($r.Provider,{value:t},n)}function DR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:_}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let _,w=!1,T=null,I=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||RR,l&&(c<0&&g===0?(f2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):c===g&&(w=!0,I=p.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,g+1)),b=()=>{let D;return _?D=T:w?D=I:p.route.Component?D=M.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,M.createElement(kR,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?M.createElement(bR,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NR(t){let e=M.useContext(_l);return Vt(e,xy(t)),e}function OR(t){let e=M.useContext(Rd);return Vt(e,xy(t)),e}function VR(t){let e=M.useContext($r);return Vt(e,xy(t)),e}function Cy(t){let e=VR(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LR(){return Cy("useRouteId")}function MR(){var r;let t=M.useContext(Iy),e=OR("useRouteError"),n=Cy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function FR(){let{router:t}=NR("useNavigate"),e=Cy("useNavigate"),n=M.useRef(!1);return u2(()=>{n.current=!0}),M.useCallback(async(i,a={})=>{Fr(n.current,l2),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var L_={};function f2(t,e,n){!e&&!L_[t]&&(L_[t]=!0,Fr(!1,n))}M.memo(jR);function jR({routes:t,future:e,state:n}){return h2(t,void 0,n,e)}function UR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Vt(!Pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Ac(n));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:w="default"}=n,T=M.useMemo(()=>{let I=Cs(h,l);return I==null?null:{location:{pathname:I,search:p,hash:g,state:_,key:w},navigationType:r}},[l,h,p,g,_,w,r]);return Fr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:M.createElement(zr.Provider,{value:c},M.createElement(bd.Provider,{children:e,value:T}))}var Pf="get",Rf="application/x-www-form-urlencoded";function kd(t){return t!=null&&typeof t.tagName=="string"}function BR(t){return kd(t)&&t.tagName.toLowerCase()==="button"}function zR(t){return kd(t)&&t.tagName.toLowerCase()==="form"}function $R(t){return kd(t)&&t.tagName.toLowerCase()==="input"}function qR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HR(t,e){return t.button===0&&(!e||e==="_self")&&!qR(t)}var gf=null;function WR(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var KR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(t){return t!=null&&!KR.has(t)?(Fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function GR(t,e){let n,r,i,a,l;if(zR(t)){let c=t.getAttribute("action");r=c?Cs(c,e):null,n=t.getAttribute("method")||Pf,i=Hm(t.getAttribute("enctype"))||Rf,a=new FormData(t)}else if(BR(t)||$R(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?Cs(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Pf,i=Hm(t.getAttribute("formenctype"))||Hm(c.getAttribute("enctype"))||Rf,a=new FormData(c,t),!WR()){let{name:p,type:g,value:_}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(kd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pf,r=null,i=Rf,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function Ay(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function QR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YR(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await QR(a,n);return l.links?l.links():[]}return[]}));return tb(r.flat(1).filter(XR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function M_(t,e,n,r,i,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var _;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function JR(t,e){return ZR(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function ZR(t){return[...new Set(t)]}function eb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tb(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(eb(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function nb(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rb(){let t=M.useContext(_l);return Ay(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ib(){let t=M.useContext(Rd);return Ay(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=M.createContext(void 0);Py.displayName="FrameworkContext";function d2(){let t=M.useContext(Py);return Ay(t,"You must render this element inside a <HydratedRouter> element"),t}function sb(t,e){let n=M.useContext(Py),[r,i]=M.useState(!1),[a,l]=M.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=D=>{D.forEach(V=>{l(V.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[t]),M.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Cu(c,T),onBlur:Cu(h,I),onMouseEnter:Cu(p,T),onMouseLeave:Cu(g,I),onTouchStart:Cu(_,T)}]:[!1,w,{}]}function Cu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ob({page:t,...e}){let{router:n}=rb(),r=M.useMemo(()=>t2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(lb,{page:t,matches:r,...e}):null}function ab(t){let{manifest:e,routeModules:n}=d2(),[r,i]=M.useState([]);return M.useEffect(()=>{let a=!1;return YR(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function lb({page:t,matches:e,...n}){let r=Vo(),{manifest:i,routeModules:a}=d2(),{loaderData:l,matches:c}=ib(),h=M.useMemo(()=>M_(t,e,c,i,r,"data"),[t,e,c,i,r]),p=M.useMemo(()=>M_(t,e,c,i,r,"assets"),[t,e,c,i,r]),g=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(b=>{var V;let D=i.routes[b.route.id];!D||!D.hasLoader||(!h.some(j=>j.route.id===b.route.id)&&b.route.id in l&&((V=a[b.route.id])!=null&&V.shouldRevalidate)||D.hasClientLoader?I=!0:T.add(b.route.id))}),T.size===0)return[];let x=nb(t);return I&&T.size>0&&x.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[l,r,i,h,e,t,a]),_=M.useMemo(()=>JR(p,i),[p,i]),w=ab(p);return M.createElement(M.Fragment,null,g.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:I})=>M.createElement("link",{key:T,...I})))}function ub(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var p2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p2&&(window.__reactRouterVersion="7.1.3")}catch{}function cb({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=JP({window:n,v5Compat:!0}));let i=r.current,[a,l]=M.useState({action:i.action,location:i.location}),c=M.useCallback(h=>{M.startTransition(()=>l(h))},[l]);return M.useLayoutEffect(()=>i.listen(c),[i,c]),M.createElement(UR,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var m2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bc=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:_,...w},T){let{basename:I}=M.useContext(zr),x=typeof p=="string"&&m2.test(p),b,D=!1;if(typeof p=="string"&&x&&(b=p,p2))try{let N=new URL(window.location.href),F=p.startsWith("//")?new URL(N.protocol+p):new URL(p),P=Cs(F.pathname,I);F.origin===N.origin&&P!=null?p=P+F.search+F.hash:D=!0}catch{Fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=IR(p,{relative:i}),[j,G,J]=sb(r,w),Z=pb(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:_});function O(N){e&&e(N),N.defaultPrevented||Z(N)}let A=M.createElement("a",{...w,...J,href:b||V,onClick:D||a?e:O,ref:ub(T,G),target:h,"data-discover":!x&&n==="render"?"true":void 0});return j&&!x?M.createElement(M.Fragment,null,A,M.createElement(ob,{page:V})):A});bc.displayName="Link";var hb=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...p},g){let _=Rc(l,{relative:p.relative}),w=Vo(),T=M.useContext(Rd),{navigator:I,basename:x}=M.useContext(zr),b=T!=null&&_b(_)&&c===!0,D=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,V=w.pathname,j=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(V=V.toLowerCase(),j=j?j.toLowerCase():null,D=D.toLowerCase()),j&&x&&(j=Cs(j,x)||j);const G=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let J=V===D||!i&&V.startsWith(D)&&V.charAt(G)==="/",Z=j!=null&&(j===D||!i&&j.startsWith(D)&&j.charAt(D.length)==="/"),O={isActive:J,isPending:Z,isTransitioning:b},A=J?e:void 0,N;typeof r=="function"?N=r(O):N=[r,J?"active":null,Z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(O):a;return M.createElement(bc,{...p,"aria-current":A,className:N,ref:g,style:F,to:l,viewTransition:c},typeof h=="function"?h(O):h)});hb.displayName="NavLink";var fb=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Pf,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...w},T)=>{let I=yb(),x=vb(c,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&m2.test(c),V=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let G=j.nativeEvent.submitter,J=(G==null?void 0:G.getAttribute("formmethod"))||l;I(G||j.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return M.createElement("form",{ref:T,method:b,action:x,onSubmit:r?h:V,...w,"data-discover":!D&&t==="render"?"true":void 0})});fb.displayName="Form";function db(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(t){let e=M.useContext(_l);return Vt(e,db(t)),e}function pb(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=c2(),h=Vo(),p=Rc(t,{relative:a});return M.useCallback(g=>{if(HR(g,e)){g.preventDefault();let _=n!==void 0?n:Yu(h)===Yu(p);c(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,p,n,r,e,t,i,a,l])}var mb=0,gb=()=>`__${String(++mb)}__`;function yb(){let{router:t}=g2("useSubmit"),{basename:e}=M.useContext(zr),n=LR();return M.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=GR(r,e);if(i.navigate===!1){let g=i.fetcherKey||gb();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function vb(t,{relative:e}={}){let{basename:n}=M.useContext(zr),r=M.useContext($r);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Rc(t||".",{relative:e})},l=Vo();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_i([n,a.pathname])),Yu(a)}function _b(t,e={}){let n=M.useContext(a2);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g2("useViewTransitionState"),i=Rc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qf(i.pathname,l)!=null||qf(i.pathname,a)!=null}new TextEncoder;var wb=e2();const bu=Cc(wb),Eb="modulepreload",Tb=function(t){return"/"+t},F_={},y2=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(h=>{if(h=Tb(h),h in F_)return;F_[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":Eb,p||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((w,T)=>{_.addEventListener("load",w),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},v2=!(typeof navigator>"u")&&navigator.product==="ReactNative",_2={timeout:v2?6e4:12e4},Sb=function(t){const e={..._2,...typeof t=="string"?{url:t}:t};if(e.timeout=w2(e.timeout),e.query){const{url:n,searchParams:r}=function(i){const a=i.indexOf("?");if(a===-1)return{url:i,searchParams:new URLSearchParams};const l=i.slice(0,a),c=i.slice(a+1);if(!v2)return{url:l,searchParams:new URLSearchParams(c)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const h=new URLSearchParams;for(const p of c.split("&")){const[g,_]=p.split("=");g&&h.append(j_(g),j_(_||""))}return{url:l,searchParams:h}}(e.url);for(const[i,a]of Object.entries(e.query)){if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(i,c);else r.append(i,a);const l=r.toString();l&&(e.url=`${n}?${l}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function j_(t){return decodeURIComponent(t.replace(/\+/g," "))}function w2(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?w2(_2.timeout):{connect:e,socket:e}}const Ib=/^https?:\/\//i,xb=function(t){if(!Ib.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function E2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Cb=["request","response","progress","error","abort"],U_=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function T2(t,e){const n=[],r=U_.reduce((a,l)=>(a[l]=a[l]||[],a),{processOptions:[Sb],validateOptions:[xb]});function i(a){const l=Cb.reduce((T,I)=>(T[I]=function(){const x=Object.create(null);let b=0;return{publish:function(D){for(const V in x)x[V](D)},subscribe:function(D){const V=b++;return x[V]=D,function(){delete x[V]}}}}(),T),{}),c=(T=>function(I,x,...b){const D=I==="onError";let V=x;for(let j=0;j<T[I].length&&(V=(0,T[I][j])(V,...b),!D||V);j++);return V})(r),h=c("processOptions",a);c("validateOptions",h);const p={options:h,channels:l,applyMiddleware:c};let g;const _=l.request.subscribe(T=>{g=e(T,(I,x)=>((b,D,V)=>{let j=b,G=D;if(!j)try{G=c("onResponse",D,V)}catch(J){G=null,j=J}j=j&&c("onError",j,V),j?l.error.publish(j):G&&l.response.publish(G)})(I,x,T))});l.abort.subscribe(()=>{_(),g&&g.abort()});const w=c("onReturn",l,p);return w===l&&l.request.publish(p),w}return i.use=function(a){if(!a)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof a=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(a.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return U_.forEach(l=>{a[l]&&r[l].push(a[l])}),n.push(a),i},i.clone=()=>T2(n,e),t.forEach(i.use),i}var B_,z_,Ab=E2(function(){if(z_)return B_;z_=1;var t=function(e){return e.replace(/^\s+|\s+$/g,"")};return B_=function(e){if(!e)return{};for(var n={},r=t(e).split(`
`),i=0;i<r.length;i++){var a=r[i],l=a.indexOf(":"),c=t(a.slice(0,l)).toLowerCase(),h=t(a.slice(l+1));typeof n[c]>"u"?n[c]=h:(p=n[c],Object.prototype.toString.call(p)==="[object Array]"?n[c].push(h):n[c]=[n[c],h])}var p;return n}}()),dc,pc,Za,mc,ci,gc,yc,ZT;let xg=(ZT=class{constructor(){Te(this,"onabort");Te(this,"onerror");Te(this,"onreadystatechange");Te(this,"ontimeout");Te(this,"readyState",0);Te(this,"response");Te(this,"responseText","");Te(this,"responseType","");Te(this,"status");Te(this,"statusText");Te(this,"withCredentials");Le(this,dc);Le(this,pc);Le(this,Za);Le(this,mc,{});Le(this,ci);Le(this,gc,{});Le(this,yc)}open(e,n,r){var i;Ve(this,dc,e),Ve(this,pc,n),Ve(this,Za,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),Ve(this,ci,void 0)}abort(){$(this,ci)&&$(this,ci).abort()}getAllResponseHeaders(){return $(this,Za)}setRequestHeader(e,n){$(this,mc)[e]=n}setInit(e,n=!0){Ve(this,gc,e),Ve(this,yc,n)}send(e){const n=this.responseType!=="arraybuffer",r={...$(this,gc),method:$(this,dc),headers:$(this,mc),body:e};typeof AbortController=="function"&&$(this,yc)&&(Ve(this,ci,new AbortController),typeof EventTarget<"u"&&$(this,ci).signal instanceof EventTarget&&(r.signal=$(this,ci).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch($(this,pc),r).then(i=>{var a;return i.headers.forEach((l,c)=>{Ve(this,Za,$(this,Za)+`${c}: ${l}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(a=this.onreadystatechange)==null||a.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var a;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(a=this.onreadystatechange)==null||a.call(this)}).catch(i=>{var a,l;i.name!=="AbortError"?(a=this.onerror)==null||a.call(this,i):(l=this.onabort)==null||l.call(this)})}},dc=new WeakMap,pc=new WeakMap,Za=new WeakMap,mc=new WeakMap,ci=new WeakMap,gc=new WeakMap,yc=new WeakMap,ZT);const Cg=typeof XMLHttpRequest=="function"?"xhr":"fetch",Pb=Cg==="xhr"?XMLHttpRequest:xg,Rb=(t,e)=>{const n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},a=t.applyMiddleware("interceptRequest",void 0,{adapter:Cg,context:t});if(a){const x=setTimeout(e,0,null,a);return{abort:()=>clearTimeout(x)}}let l=new Pb;l instanceof xg&&typeof r.fetch=="object"&&l.setInit(r.fetch,r.useAbortSignal??!0);const c=r.headers,h=r.timeout;let p=!1,g=!1,_=!1;if(l.onerror=x=>{I(l instanceof xg?x instanceof Error?x:new Error(`Request error while attempting to reach is ${r.url}`,{cause:x}):new Error(`Request error while attempting to reach is ${r.url}${x.lengthComputable?`(${x.loaded} of ${x.total} bytes transferred)`:""}`))},l.ontimeout=x=>{I(new Error(`Request timeout while attempting to reach ${r.url}${x.lengthComputable?`(${x.loaded} of ${x.total} bytes transferred)`:""}`))},l.onabort=()=>{T(!0),p=!0},l.onreadystatechange=function(){h&&(T(),i.socket=setTimeout(()=>w("ESOCKETTIMEDOUT"),h.socket)),!p&&l&&l.readyState===4&&l.status!==0&&function(){if(!(p||g||_)){if(l.status===0)return void I(new Error("Unknown XHR error"));T(),g=!0,e(null,{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:r.url,method:r.method,headers:Ab(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText})}}()},l.open(r.method,r.url,!0),l.withCredentials=!!r.withCredentials,c&&l.setRequestHeader)for(const x in c)c.hasOwnProperty(x)&&l.setRequestHeader(x,c[x]);return r.rawBody&&(l.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:Cg,request:l,context:t}),l.send(r.body||null),h&&(i.connect=setTimeout(()=>w("ETIMEDOUT"),h.connect)),{abort:function(){p=!0,l&&l.abort()}};function w(x){_=!0,l.abort();const b=new Error(x==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);b.code=x,t.channels.error.publish(b)}function T(x){(x||p||l&&l.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function I(x){if(g)return;T(!0),g=!0,l=null;const b=x||new Error(`Network error while attempting to reach ${r.url}`);b.isNetworkError=!0,b.request=r,e(b)}},bb=(t=[],e=Rb)=>T2(t,e);var kb={},$_,q_,H_,W_,K_,Wm={exports:{}};K_||(K_=1,function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let a=0,l=0;r[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(a++,c==="%c"&&(l=a))}),r.splice(l,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=kb.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(W_?H_:(W_=1,H_=function(r){function i(c){let h,p,g,_=null;function w(...T){if(!w.enabled)return;const I=w,x=Number(new Date),b=x-(h||x);I.diff=b,I.prev=h,I.curr=x,h=x,T[0]=i.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let D=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(V,j)=>{if(V==="%%")return"%";D++;const G=i.formatters[j];if(typeof G=="function"){const J=T[D];V=G.call(I,J),T.splice(D,1),D--}return V}),i.formatArgs.call(I,T),(I.log||i.log).apply(I,T)}return w.namespace=c,w.useColors=i.useColors(),w.color=i.selectColor(c),w.extend=a,w.destroy=i.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(p!==i.namespaces&&(p=i.namespaces,g=i.enabled(c)),g),set:T=>{_=T}}),typeof i.init=="function"&&i.init(w),w}function a(c,h){const p=i(this.namespace+(typeof h>"u"?":":h)+c);return p.log=this.log,p}function l(c,h){let p=0,g=0,_=-1,w=0;for(;p<c.length;)if(g<h.length&&(h[g]===c[p]||h[g]==="*"))h[g]==="*"?(_=g,w=p,g++):(p++,g++);else{if(_===-1)return!1;g=_+1,w++,p=w}for(;g<h.length&&h[g]==="*";)g++;return g===h.length}return i.debug=i,i.default=i,i.coerce=function(c){return c instanceof Error?c.stack||c.message:c},i.disable=function(){const c=[...i.names,...i.skips.map(h=>"-"+h)].join(",");return i.enable(""),c},i.enable=function(c){i.save(c),i.namespaces=c,i.names=[],i.skips=[];const h=(typeof c=="string"?c:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of h)p[0]==="-"?i.skips.push(p.slice(1)):i.names.push(p)},i.enabled=function(c){for(const h of i.skips)if(l(c,h))return!1;for(const h of i.names)if(l(c,h))return!0;return!1},i.humanize=function(){if(q_)return $_;q_=1;var c=1e3,h=60*c,p=60*h,g=24*p,_=7*g;function w(T,I,x,b){var D=I>=1.5*x;return Math.round(T/x)+" "+b+(D?"s":"")}return $_=function(T,I){I=I||{};var x,b,D=typeof T;if(D==="string"&&T.length>0)return function(V){if(!((V=String(V)).length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(V);if(j){var G=parseFloat(j[1]);switch((j[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*G;case"weeks":case"week":case"w":return G*_;case"days":case"day":case"d":return G*g;case"hours":case"hour":case"hrs":case"hr":case"h":return G*p;case"minutes":case"minute":case"mins":case"min":case"m":return G*h;case"seconds":case"second":case"secs":case"sec":case"s":return G*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return G;default:return}}}}(T);if(D==="number"&&isFinite(T))return I.long?(x=T,(b=Math.abs(x))>=g?w(x,b,g,"day"):b>=p?w(x,b,p,"hour"):b>=h?w(x,b,h,"minute"):b>=c?w(x,b,c,"second"):x+" ms"):function(V){var j=Math.abs(V);return j>=g?Math.round(V/g)+"d":j>=p?Math.round(V/p)+"h":j>=h?Math.round(V/h)+"m":j>=c?Math.round(V/c)+"s":V+"ms"}(T);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(c=>{i[c]=r[c]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(c){let h=0;for(let p=0;p<c.length;p++)h=(h<<5)-h+c.charCodeAt(p),h|=0;return i.colors[Math.abs(h)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(Wm,Wm.exports)),Wm.exports;const Db=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function G_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Nb(t){if(G_(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(G_(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const Ob=["boolean","string","number"];function Vb(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||Db(e)||Ob.indexOf(typeof e)===-1&&!Array.isArray(e)&&!Nb(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Lb(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:e(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let ku={};typeof globalThis<"u"?ku=globalThis:typeof window<"u"?ku=window:typeof global<"u"?ku=global:typeof self<"u"&&(ku=self);var Mb=ku;function Fb(t={}){const e=t.implementation||Mb.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(a=>i.error(a)),n.progress.subscribe(a=>i.next(Object.assign({type:"progress"},a))),n.response.subscribe(a=>{i.next(Object.assign({type:"response"},a)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function jb(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;function r(i){return a=>{const l=a.lengthComputable?a.loaded/a.total*100:-1;n.channels.progress.publish({stage:i,percent:l,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var S2=(t,e,n)=>(n.method==="GET"||n.method==="HEAD")&&(t.isNetworkError||!1);function Ub(t){return 100*Math.pow(2,t)+100*Math.random()}const Ry=(t={})=>(e=>{const n=e.maxRetries||5,r=e.retryDelay||Ub,i=e.shouldRetry;return{onError:(a,l)=>{const c=l.options,h=c.maxRetries||n,p=c.retryDelay||r,g=c.shouldRetry||i,_=c.attemptNumber||0;if((w=c.body)!==null&&typeof w=="object"&&typeof w.pipe=="function"||!g(a,_,c)||_>=h)return a;var w;const T=Object.assign({},l,{options:Object.assign({},c,{attemptNumber:_+1})});return setTimeout(()=>l.channels.request.publish(T),p(_)),null}}})({shouldRetry:S2,...t});Ry.shouldRetry=S2;var Ag=function(t,e){return Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ag(t,e)};function bi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ag(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Bb(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,h)}p((r=r.apply(t,e||[])).next())})}function I2(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(g){return h([p,g])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(g){p=[6,g],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function nl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ti(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function Si(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Ka(t){return this instanceof Ka?(this.v=t,this):new Ka(t)}function zb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(T){return function(I){return Promise.resolve(I).then(T,_)}}function c(T,I){r[T]&&(i[T]=function(x){return new Promise(function(b,D){a.push([T,x,b,D])>1||h(T,x)})},I&&(i[T]=I(i[T])))}function h(T,I){try{p(r[T](I))}catch(x){w(a[0][3],x)}}function p(T){T.value instanceof Ka?Promise.resolve(T.value.v).then(g,_):w(a[0][2],T)}function g(T){h("next",T)}function _(T){h("throw",T)}function w(T,I){T(I),a.shift(),a.length&&h(a[0][0],a[0][1])}}function $b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nl=="function"?nl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(l){return new Promise(function(c,h){l=t[a](l),i(c,h,l.done,l.value)})}}function i(a,l,c,h){Promise.resolve(h).then(function(p){a({value:p,done:c})},l)}}function ct(t){return typeof t=="function"}function by(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Km=by(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Hf(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var kc=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=nl(l),h=c.next();!h.done;h=c.next()){var p=h.value;p.remove(this)}}catch(x){e={error:x}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}else l.remove(this);var g=this.initialTeardown;if(ct(g))try{g()}catch(x){a=x instanceof Km?x.errors:[x]}var _=this._finalizers;if(_){this._finalizers=null;try{for(var w=nl(_),T=w.next();!T.done;T=w.next()){var I=T.value;try{Q_(I)}catch(x){a=a??[],x instanceof Km?a=Si(Si([],Ti(a)),Ti(x.errors)):a.push(x)}}}catch(x){r={error:x}}finally{try{T&&!T.done&&(i=w.return)&&i.call(w)}finally{if(r)throw r.error}}}if(a)throw new Km(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Q_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Hf(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Hf(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),x2=kc.EMPTY;function C2(t){return t instanceof kc||t&&"closed"in t&&ct(t.remove)&&ct(t.add)&&ct(t.unsubscribe)}function Q_(t){ct(t)?t():t.unsubscribe()}var qb={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},A2={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Si([t,e],Ti(n)))},clearTimeout:function(t){var e=A2.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function P2(t){A2.setTimeout(function(){throw t})}function X_(){}function bf(t){t()}var ky=function(t){bi(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,C2(n)&&n.add(r)):r.destination=Kb,r}return e.create=function(n,r,i){return new rl(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(kc),Hb=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){yf(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){yf(r)}else yf(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){yf(n)}},t}(),rl=function(t){bi(e,t);function e(n,r,i){var a=t.call(this)||this,l;return ct(n)||!n?l={next:n??void 0,error:r??void 0,complete:i??void 0}:l=n,a.destination=new Hb(l),a}return e}(ky);function yf(t){P2(t)}function Wb(t){throw t}var Kb={closed:!0,next:X_,error:Wb,complete:X_},Dy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Dd(t){return t}function Gb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R2(t)}function R2(t){return t.length===0?Dd:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var wt=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,a=Xb(e)?e:new rl(e,n,r);return bf(function(){var l=i,c=l.operator,h=l.source;a.add(c?c.call(a,h):h?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Y_(n),new n(function(i,a){var l=new rl({next:function(c){try{e(c)}catch(h){a(h),l.unsubscribe()}},error:a,complete:i});r.subscribe(l)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Dy]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return R2(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Y_(e),new e(function(r,i){var a;n.subscribe(function(l){return a=l},function(l){return i(l)},function(){return r(a)})})},t.create=function(e){return new t(e)},t}();function Y_(t){var e;return(e=t??qb.Promise)!==null&&e!==void 0?e:Promise}function Qb(t){return t&&ct(t.next)&&ct(t.error)&&ct(t.complete)}function Xb(t){return t&&t instanceof ky||Qb(t)&&C2(t)}function Yb(t){return ct(t==null?void 0:t.lift)}function qr(t){return function(e){if(Yb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function As(t,e,n,r,i){return new Jb(t,e,n,r,i)}var Jb=function(t){bi(e,t);function e(n,r,i,a,l,c){var h=t.call(this,n)||this;return h.onFinalize=l,h.shouldUnsubscribe=c,h._next=r?function(p){try{r(p)}catch(g){n.error(g)}}:t.prototype._next,h._error=a?function(p){try{a(p)}catch(g){n.error(g)}finally{this.unsubscribe()}}:t.prototype._error,h._complete=i?function(){try{i()}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._complete,h}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(ky),Zb=by(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ny=function(t){bi(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new J_(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Zb},e.prototype.next=function(n){var r=this;bf(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=nl(r.currentObservers),c=l.next();!c.done;c=l.next()){var h=c.value;h.next(n)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;bf(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;bf(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,l=i.isStopped,c=i.observers;return a||l?x2:(this.currentObservers=null,c.push(n),new kc(function(){r.currentObservers=null,Hf(c,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,l=r.isStopped;i?n.error(a):l&&n.complete()},e.prototype.asObservable=function(){var n=new wt;return n.source=this,n},e.create=function(n,r){return new J_(n,r)},e}(wt),J_=function(t){bi(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:x2},e}(Ny),Oy={now:function(){return(Oy.delegate||Date).now()},delegate:void 0},e3=function(t){bi(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Oy);var a=t.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return e.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,l=r._infiniteTimeWindow,c=r._timestampProvider,h=r._windowTime;i||(a.push(n),!l&&a.push(c.now()+h)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,l=i._buffer,c=l.slice(),h=0;h<c.length&&!n.closed;h+=a?1:2)n.next(c[h]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,l=n._infiniteTimeWindow,c=(l?1:2)*r;if(r<1/0&&c<a.length&&a.splice(0,a.length-c),!l){for(var h=i.now(),p=0,g=1;g<a.length&&a[g]<=h;g+=2)p=g;p&&a.splice(0,p+1)}},e}(Ny),t3=function(t){bi(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(kc),Z_={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Si([t,e],Ti(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},n3=function(t){bi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,l=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(l,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(l,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Z_.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Z_.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(l){i=!0,a=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Hf(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(t3),ew=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Oy.now,t}(),r3=function(t){bi(e,t);function e(n,r){r===void 0&&(r=ew.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(ew),i3=new r3(n3),s3=i3,b2=new wt(function(t){return t.complete()});function o3(t){return t&&ct(t.schedule)}function Vy(t){return t[t.length-1]}function a3(t){return ct(Vy(t))?t.pop():void 0}function Ly(t){return o3(Vy(t))?t.pop():void 0}function l3(t,e){return typeof Vy(t)=="number"?t.pop():e}var k2=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function D2(t){return ct(t==null?void 0:t.then)}function N2(t){return ct(t[Dy])}function O2(t){return Symbol.asyncIterator&&ct(t==null?void 0:t[Symbol.asyncIterator])}function V2(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function u3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var L2=u3();function M2(t){return ct(t==null?void 0:t[L2])}function F2(t){return zb(this,arguments,function(){var n,r,i,a;return I2(this,function(l){switch(l.label){case 0:n=t.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,Ka(n.read())];case 3:return r=l.sent(),i=r.value,a=r.done,a?[4,Ka(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,Ka(i)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function j2(t){return ct(t==null?void 0:t.getReader)}function Hr(t){if(t instanceof wt)return t;if(t!=null){if(N2(t))return c3(t);if(k2(t))return h3(t);if(D2(t))return f3(t);if(O2(t))return U2(t);if(M2(t))return d3(t);if(j2(t))return p3(t)}throw V2(t)}function c3(t){return new wt(function(e){var n=t[Dy]();if(ct(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function h3(t){return new wt(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function f3(t){return new wt(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,P2)})}function d3(t){return new wt(function(e){var n,r;try{for(var i=nl(t),a=i.next();!a.done;a=i.next()){var l=a.value;if(e.next(l),e.closed)return}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function U2(t){return new wt(function(e){m3(t,e).catch(function(n){return e.error(n)})})}function p3(t){return U2(F2(t))}function m3(t,e){var n,r,i,a;return Bb(this,void 0,void 0,function(){var l,c;return I2(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),n=$b(t),h.label=1;case 1:return[4,n.next()];case 2:if(r=h.sent(),!!r.done)return[3,4];if(l=r.value,e.next(l),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=h.sent(),i={error:c},[3,11];case 6:return h.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Co(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!i)return a}function B2(t,e){return e===void 0&&(e=0),qr(function(n,r){n.subscribe(As(r,function(i){return Co(r,t,function(){return r.next(i)},e)},function(){return Co(r,t,function(){return r.complete()},e)},function(i){return Co(r,t,function(){return r.error(i)},e)}))})}function z2(t,e){return e===void 0&&(e=0),qr(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function g3(t,e){return Hr(t).pipe(z2(e),B2(e))}function y3(t,e){return Hr(t).pipe(z2(e),B2(e))}function v3(t,e){return new wt(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function _3(t,e){return new wt(function(n){var r;return Co(n,e,function(){r=t[L2](),Co(n,e,function(){var i,a,l;try{i=r.next(),a=i.value,l=i.done}catch(c){n.error(c);return}l?n.complete():n.next(a)},0,!0)}),function(){return ct(r==null?void 0:r.return)&&r.return()}})}function $2(t,e){if(!t)throw new Error("Iterable cannot be null");return new wt(function(n){Co(n,e,function(){var r=t[Symbol.asyncIterator]();Co(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function w3(t,e){return $2(F2(t),e)}function E3(t,e){if(t!=null){if(N2(t))return g3(t,e);if(k2(t))return v3(t,e);if(D2(t))return y3(t,e);if(O2(t))return $2(t,e);if(M2(t))return _3(t,e);if(j2(t))return w3(t,e)}throw V2(t)}function Dc(t,e){return e?E3(t,e):Hr(t)}function Nd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ly(t);return Dc(t,n)}function q2(t,e){var n=ct(t)?t:function(){return t},r=function(i){return i.error(n())};return new wt(r)}function T3(t){return!!t&&(t instanceof wt||ct(t.lift)&&ct(t.subscribe))}var H2=by(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function He(t,e){return new Promise(function(n,r){var i=!1,a;t.subscribe({next:function(l){a=l,i=!0},error:r,complete:function(){i?n(a):r(new H2)}})})}function tw(t,e){return new Promise(function(n,r){var i=new rl({next:function(a){n(a),i.unsubscribe()},error:r,complete:function(){r(new H2)}});t.subscribe(i)})}function S3(t){return t instanceof Date&&!isNaN(t)}function ln(t,e){return qr(function(n,r){var i=0;n.subscribe(As(r,function(a){r.next(t.call(e,a,i++))}))})}var I3=Array.isArray;function x3(t,e){return I3(e)?t.apply(void 0,Si([],Ti(e))):t(e)}function C3(t){return ln(function(e){return x3(t,e)})}function A3(t,e,n){return n===void 0&&(n=Dd),function(r){nw(e,function(){for(var i=t.length,a=new Array(i),l=i,c=i,h=function(g){nw(e,function(){var _=Dc(t[g],e),w=!1;_.subscribe(As(r,function(T){a[g]=T,w||(w=!0,c--),c||r.next(n(a.slice()))},function(){--l||r.complete()}))},r)},p=0;p<i;p++)h(p)})}}function nw(t,e,n){e()}function P3(t,e,n,r,i,a,l,c){var h=[],p=0,g=0,_=!1,w=function(){_&&!h.length&&!p&&e.complete()},T=function(x){return p<r?I(x):h.push(x)},I=function(x){p++;var b=!1;Hr(n(x,g++)).subscribe(As(e,function(D){e.next(D)},function(){b=!0},void 0,function(){if(b)try{p--;for(var D=function(){var V=h.shift();l||I(V)};h.length&&p<r;)D();w()}catch(V){e.error(V)}}))};return t.subscribe(As(e,T,function(){_=!0,w()})),function(){}}function Nc(t,e,n){return n===void 0&&(n=1/0),ct(e)?Nc(function(r,i){return ln(function(a,l){return e(r,a,i,l)})(Hr(t(r,i)))},n):(typeof e=="number"&&(n=e),qr(function(r,i){return P3(r,i,t,n)}))}function W2(t){return t===void 0&&(t=1/0),Nc(Dd,t)}function R3(){return W2(1)}function K2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R3()(Dc(t,Ly(t)))}function G2(t){return new wt(function(e){Hr(t()).subscribe(e)})}function b3(t,e,n){return n===void 0&&(n=s3),new wt(function(r){var i=S3(t)?1e3-n.now():t;i<0&&(i=0);var a=0;return n.schedule(function(){r.closed||(r.next(a++),r.complete())},i)})}function k3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ly(t),r=l3(t,1/0),i=t;return i.length?i.length===1?Hr(i[0]):W2(r)(Dc(i,n)):b2}var D3=Array.isArray;function N3(t){return t.length===1&&D3(t[0])?t[0]:t}function wl(t,e){return qr(function(n,r){var i=0;n.subscribe(As(r,function(a){return t.call(e,a,i++)&&r.next(a)}))})}function My(t){return qr(function(e,n){var r=null,i=!1,a;r=e.subscribe(As(n,void 0,void 0,function(l){a=Hr(t(l,My(t)(e))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function Q2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=a3(t);return n?Gb(Q2.apply(void 0,Si([],Ti(t))),C3(n)):qr(function(r,i){A3(Si([r],Ti(N3(t))))(i)})}function O3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Q2.apply(void 0,Si([],Ti(t)))}function X2(t){return qr(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function Y2(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new Ny}:e,r=t.resetOnError,i=r===void 0?!0:r,a=t.resetOnComplete,l=a===void 0?!0:a,c=t.resetOnRefCountZero,h=c===void 0?!0:c;return function(p){var g,_,w,T=0,I=!1,x=!1,b=function(){_==null||_.unsubscribe(),_=void 0},D=function(){b(),g=w=void 0,I=x=!1},V=function(){var j=g;D(),j==null||j.unsubscribe()};return qr(function(j,G){T++,!x&&!I&&b();var J=w=w??n();G.add(function(){T--,T===0&&!x&&!I&&(_=Gm(V,h))}),J.subscribe(G),!g&&T>0&&(g=new rl({next:function(Z){return J.next(Z)},error:function(Z){x=!0,b(),_=Gm(D,i,Z),J.error(Z)},complete:function(){I=!0,b(),_=Gm(D,l),J.complete()}}),Hr(j).subscribe(g))})(p)}}function Gm(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new rl({next:function(){i.unsubscribe(),t()}});return Hr(e.apply(void 0,Si([],Ti(n)))).subscribe(i)}}function V3(t,e,n){var r,i=!1;return r=t,Y2({connector:function(){return new e3(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function L3(t,e,n){var r=ct(t)||e||n?{next:t,error:e,complete:n}:t;return r?qr(function(i,a){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var c=!0;i.subscribe(As(a,function(h){var p;(p=r.next)===null||p===void 0||p.call(r,h),a.next(h)},function(){var h;c=!1,(h=r.complete)===null||h===void 0||h.call(r),a.complete()},function(h){var p;c=!1,(p=r.error)===null||p===void 0||p.call(r,h),a.error(h)},function(){var h,p;c&&((h=r.unsubscribe)===null||h===void 0||h.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):Dd}var J2={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Fy={0:8203,1:8204,2:8205,3:65279},M3=new Array(4).fill(String.fromCodePoint(Fy[0])).join("");function F3(t){let e=JSON.stringify(t);return`${M3}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Fy[i])).join("")}).join("")}`}function j3(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function U3(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function pU(t,e,n="auto"){return n===!0||n==="auto"&&(j3(t)||U3(t))?t:`${t}${F3(e)}`}Object.fromEntries(Object.entries(Fy).map(t=>t.reverse()));Object.fromEntries(Object.entries(J2).map(t=>t.reverse()));var B3=`${Object.values(J2).map(t=>`\\u{${t.toString(16)}}`).join("")}`,rw=new RegExp(`[${B3}]{4,}`,"gu");function z3(t){var e;return{cleaned:t.replace(rw,""),encoded:((e=t.match(rw))==null?void 0:e[0])||""}}function $3(t){return t&&JSON.parse(z3(JSON.stringify(t)).cleaned)}function q3(t){return $3(t)}const H3="drafts",W3="versions",il=".",Wf=`${H3}${il}`,Z2=`${W3}${il}`;function Od(t){return t.startsWith(Wf)}function Vd(t){return t.startsWith(Z2)}function K3(t){if(Vd(t)){const e=Md(t);return Wf+e}return Od(t)?t:Wf+t}function Ld(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${Z2}${e}${il}${Md(t)}`}function eS(t){if(!Vd(t))return;const[e,n,...r]=t.split(il);return n}function Md(t){return Vd(t)?t.split(il).slice(2).join(il):Od(t)?t.slice(Wf.length):t}let G3=t=>crypto.getRandomValues(new Uint8Array(t)),Q3=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(a=e)=>{let l="";for(;;){let c=n(i),h=i|0;for(;h--;)if(l+=t[c[h]&r]||"",l.length===a)return l}}},X3=(t,e=21)=>Q3(t,e,G3);class Y3 extends Error{constructor(n){const r=tS(n);super(r.message);Te(this,"response");Te(this,"statusCode",400);Te(this,"responseBody");Te(this,"details");Object.assign(this,r)}}class J3 extends Error{constructor(n){const r=tS(n);super(r.message);Te(this,"response");Te(this,"statusCode",500);Te(this,"responseBody");Te(this,"details");Object.assign(this,r)}}function tS(t){const e=t.body,n={response:t,statusCode:t.statusCode,responseBody:n4(e,t),message:"",details:void 0};if(e.error&&e.message)return n.message=`${e.error} - ${e.message}`,n;if(Z3(e)||e4(e)){const r=e.error.items||[],i=r.slice(0,5).map(l=>{var c;return(c=l.error)==null?void 0:c.description}).filter(Boolean);let a=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(a+=`
...and ${r.length-5} more`),n.message=`${e.error.description}${a}`,n.details=e.error,n}return e.error&&e.error.description?(n.message=e.error.description,n.details=e.error,n):(n.message=e.error||e.message||t4(t),n)}function Z3(t){return Kf(t)&&Kf(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function e4(t){return Kf(t)&&Kf(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function Kf(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function t4(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function n4(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}class r4 extends Error{constructor({projectId:n}){super("CorsOriginError");Te(this,"projectId");Te(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const i4={onResponse:t=>{if(t.statusCode>=500)throw new J3(t);if(t.statusCode>=400)throw new Y3(t);return t}};function s4(){const t={};return{onResponse:e=>{const n=e.headers["x-sanity-warning"],r=Array.isArray(n)?n:[n];for(const i of r)!i||t[i]||(t[i]=!0,console.warn(i));return e}}}function iw(t){return bb([Ry({shouldRetry:o4}),...t,s4(),Vb(),Lb(),jb(),i4,Fb({implementation:wt})])}function o4(t,e,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),a=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||i)&&a?!0:Ry.shouldRetry(t,e,n)}const a4="https://www.sanity.io/help/";function jy(t){return a4+t}const sw=["image","file"],ow=["before","after","replace"],nS=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},l4=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},u4=t=>{if(sw.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${sw.join(", ")}`)},ju=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},rS=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},sl=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);rS(t,e._id)},c4=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},iS=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);c4(t,e._type)},h4=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},f4=(t,e,n)=>{const r="insert(at, selector, items)";if(ow.indexOf(t)===-1){const i=ow.map(a=>`"${a}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},Oc=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},sS=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},oS=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},kr=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function d4(t){let e=!1,n;return(...r)=>(e||(n=t(...r),e=!0),n)}const Lo=t=>d4((...e)=>console.warn(t.join(" "),...e)),p4=Lo(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),m4=Lo(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),g4=Lo(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),y4=Lo(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),v4=Lo(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${jy("js-client-browser-token")} for more information and how to hide this warning.`]),_4=Lo(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),w4=Lo(["Using the Sanity client without specifying an API version is deprecated.",`See ${jy("js-client-api-version")}`]),E4="apicdn.sanity.io",Uu={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},T4=["localhost","127.0.0.1","0.0.0.0"],S4=t=>T4.indexOf(t)!==-1;function I4(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function aS(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const lS=(t,e)=>{const n={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Uu.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};n.apiVersion||w4();const r={...Uu,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const w=jy("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${w}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&oS(r),typeof r.perspective<"u"&&aS(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const a=typeof window<"u"&&window.location&&window.location.hostname,l=a&&S4(window.location.hostname),c=!!r.token;r.withCredentials&&c&&(_4(),r.withCredentials=!1),a&&l&&c&&r.ignoreBrowserTokenWarning!==!0?v4():typeof r.useCdn>"u"&&m4(),i&&l4(r.projectId),r.dataset&&nS(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?sS(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Uu.apiHost,r.useCdn===!0&&r.withCredentials&&p4(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,I4(r.apiVersion);const h=r.apiHost.split("://",2),p=h[0],g=h[1],_=r.isDefaultApi?E4:g;return i?(r.url=`${p}://${r.projectId}.${g}/v${r.apiVersion}`,r.cdnUrl=`${p}://${r.projectId}.${_}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class uS extends Error{constructor(){super(...arguments);Te(this,"name","ConnectionFailedError")}}class x4 extends Error{constructor(n,r,i={}){super(n,i);Te(this,"name","DisconnectError");Te(this,"reason");this.reason=r}}class C4 extends Error{constructor(n,r){super(n);Te(this,"name","ChannelError");Te(this,"data");this.data=r}}class A4 extends Error{constructor(n,r,i={}){super(n,i);Te(this,"name","MessageError");Te(this,"data");this.data=r}}class aw extends Error{constructor(){super(...arguments);Te(this,"name","MessageParseError")}}const P4=["channelError","disconnect"];function cS(t,e){return G2(()=>{const n=t();return T3(n)?n:Nd(n)}).pipe(Nc(n=>R4(n,e)))}function R4(t,e){return new wt(n=>{const r=e.includes("open"),i=e.includes("reconnect");function a(p){if("data"in p){const[g,_]=lw(p);n.error(g?new aw("Unable to parse EventSource error message",{cause:_}):new A4((_==null?void 0:_.data).message,_));return}t.readyState===t.CLOSED?n.error(new uS("EventSource connection failed")):i&&n.next({type:"reconnect"})}function l(){n.next({type:"open"})}function c(p){var w;const[g,_]=lw(p);if(g){n.error(new aw("Unable to parse EventSource message",{cause:g}));return}if(p.type==="channelError"){n.error(new C4(b4(_==null?void 0:_.data),_.data));return}if(p.type==="disconnect"){n.error(new x4(`Server disconnected client: ${((w=_.data)==null?void 0:w.reason)||"unknown error"}`));return}n.next({type:p.type,id:p.lastEventId,..._.data?{data:_.data}:{}})}t.addEventListener("error",a),r&&t.addEventListener("open",l);const h=[...new Set([...P4,...e])].filter(p=>p!=="error"&&p!=="open"&&p!=="reconnect");return h.forEach(p=>t.addEventListener(p,c)),()=>{t.removeEventListener("error",a),r&&t.removeEventListener("open",l),h.forEach(p=>t.removeEventListener(p,c)),t.close()}})}function lw(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...k4(e)?{}:{data:e}}]}catch(e){return[e,null]}}function b4(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function k4(t){for(const e in t)return!1;return!0}function hS(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class fS{constructor(e,n={}){Te(this,"selection");Te(this,"operations");this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return ju("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return f4(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after",`${e}[-1]`,n)}prepend(e,n){return this.insert("before",`${e}[0]`,n)}splice(e,n,r,i){const a=typeof r>"u"||r===-1,l=n<0?n-1:n,c=a?-1:Math.max(0,n+r),h=l<0&&c>=0?"":c,p=`${e}[${l}:${h}]`;return this.insert("replace",p,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...hS(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n,r=!0){return ju(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}}var wo;const h0=class h0 extends fS{constructor(n,r,i){super(n,r);Le(this,wo);Ve(this,wo,i)}clone(){return new h0(this.selection,{...this.operations},$(this,wo))}commit(n){if(!$(this,wo))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return $(this,wo).mutate({patch:this.serialize()},i)}};wo=new WeakMap;let Ao=h0;var Eo;const f0=class f0 extends fS{constructor(n,r,i){super(n,r);Le(this,Eo);Ve(this,Eo,i)}clone(){return new f0(this.selection,{...this.operations},$(this,Eo))}commit(n){if(!$(this,Eo))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return $(this,Eo).mutate({patch:this.serialize()},i)}};Eo=new WeakMap;let vs=f0;const dS={returnDocuments:!1};class pS{constructor(e=[],n){Te(this,"operations");Te(this,"trxId");this.operations=e,this.trxId=n}create(e){return ju("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return ju(n,e),sl(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return ju(n,e),sl(n,e),this._add({[n]:e})}delete(e){return rS("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var hi;const d0=class d0 extends pS{constructor(n,r,i){super(n,i);Le(this,hi);Ve(this,hi,r)}clone(){return new d0([...this.operations],$(this,hi),this.trxId)}commit(n){if(!$(this,hi))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return $(this,hi).mutate(this.serialize(),Object.assign({transactionId:this.trxId},dS,n||{}))}patch(n,r){const i=typeof r=="function",a=typeof n!="string"&&n instanceof vs,l=typeof n=="object"&&("query"in n||"id"in n);if(a)return this._add({patch:n.serialize()});if(i){const c=r(new vs(n,{},$(this,hi)));if(!(c instanceof vs))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:c.serialize()})}if(l){const c=new vs(n,r||{},$(this,hi));return this._add({patch:c.serialize()})}return this._add({patch:{id:n,...r}})}};hi=new WeakMap;let Gf=d0;var hs;const p0=class p0 extends pS{constructor(n,r,i){super(n,i);Le(this,hs);Ve(this,hs,r)}clone(){return new p0([...this.operations],$(this,hs),this.trxId)}commit(n){if(!$(this,hs))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return $(this,hs).mutate(this.serialize(),Object.assign({transactionId:this.trxId},dS,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof Ao)return this._add({patch:n.serialize()});if(i){const a=r(new Ao(n,{},$(this,hs)));if(!(a instanceof Ao))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}return this._add({patch:{id:n,...r}})}};hs=new WeakMap;let Qf=p0;const D4="X-Sanity-Project-ID";function N4(t,e={}){const n={},r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[D4]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),a=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof a>"u"?5*60*1e3:a,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const mS=({query:t,params:e={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:a,returnQuery:l,...c}=n;i&&r.append("tag",i),r.append("query",t);for(const[h,p]of Object.entries(e))r.append(`$${h}`,JSON.stringify(p));for(const[h,p]of Object.entries(c))p&&r.append(h,`${p}`);return l===!1&&r.append("returnQuery","false"),a===!1&&r.append("includeMutations","false"),`?${r}`},O4=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,V4=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:O4(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),Uy=t=>t.type==="response",L4=t=>t.body,M4=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),F4=11264;function gS(t,e,n,r,i={},a={}){const l="stega"in a?{...n||{},...typeof a.stega=="boolean"?{enabled:a.stega}:a.stega||{}}:n,c=l.enabled?q3(i):i,h=a.filterResponse===!1?I=>I:I=>I.result,{cache:p,next:g,..._}={useAbortSignal:typeof a.signal<"u",resultSourceMap:l.enabled?"withKeyArraySelector":a.resultSourceMap,...a,returnQuery:a.filterResponse===!1&&a.returnQuery!==!1},w=typeof p<"u"||typeof g<"u"?{..._,fetch:{cache:p,next:g}}:_,T=Mo(t,e,"query",{query:r,params:c},w);return l.enabled?T.pipe(O3(Dc(y2(()=>import("./stegaEncodeSourceMap-xyQXToVO.js"),[]).then(function(I){return I.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:I})=>I))),ln(([I,x])=>{const b=x(I.result,I.resultSourceMap,l);return h({...I,result:b})})):T.pipe(ln(h))}function Fd(t,e,n,r={}){const i=(()=>{if(!r.releaseId)return n;const l=eS(n);if(!l){if(Od(n))throw new Error(`The document ID (\`${n}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return Ld(n,r.releaseId)}if(l!==r.releaseId)throw new Error(`The document ID (\`${n}\`) is already a version of \`${l}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return n})(),a={uri:er(t,"doc",i),json:!0,tag:r.tag,signal:r.signal};return Lc(t,e,a).pipe(wl(Uy),ln(l=>l.body.documents&&l.body.documents[0]))}function yS(t,e,n,r={}){const i={uri:er(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return Lc(t,e,i).pipe(wl(Uy),ln(a=>{const l=M4(a.body.documents||[],c=>c._id);return n.map(c=>l[c]||null)}))}function vS(t,e,n,r={}){return Mo(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:n}},r)}function _S(t,e,n,r){return sl("createIfNotExists",n),jd(t,e,n,"createIfNotExists",r)}function wS(t,e,n,r){return sl("createOrReplace",n),jd(t,e,n,"createOrReplace",r)}function ES(t,e,n,r,i){return sl("createVersion",n),iS("createVersion",n),vt(t,e,{actionType:"sanity.action.document.version.create",publishedId:r,document:n},i)}function TS(t,e,n,r){return Mo(t,e,"mutate",{mutations:[{delete:hS(n)}]},r)}function SS(t,e,n,r=!1,i){return vt(t,e,{actionType:"sanity.action.document.version.discard",versionId:n,purge:r},i)}function IS(t,e,n,r){return sl("replaceVersion",n),iS("replaceVersion",n),vt(t,e,{actionType:"sanity.action.document.version.replace",document:n},r)}function xS(t,e,n,r,i){return vt(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:n,publishedId:r},i)}function CS(t,e,n,r){let i;n instanceof vs||n instanceof Ao?i={patch:n.serialize()}:n instanceof Gf||n instanceof Qf?i=n.serialize():i=n;const a=Array.isArray(i)?i:[i],l=r&&r.transactionId||void 0;return Mo(t,e,"mutate",{mutations:a,transactionId:l},r)}function vt(t,e,n,r){const i=Array.isArray(n)?n:[n],a=r&&r.transactionId||void 0,l=r&&r.skipCrossDatasetReferenceValidation||void 0,c=r&&r.dryRun||void 0;return Mo(t,e,"actions",{actions:i,transactionId:a,skipCrossDatasetReferenceValidation:l,dryRun:c},r)}function Mo(t,e,n,r,i={}){const a=n==="mutate",l=n==="actions",c=n==="query",h=a||l?"":mS(r),p=!a&&!l&&h.length<F4,g=p?h:"",_=i.returnFirst,{timeout:w,token:T,tag:I,headers:x,returnQuery:b,lastLiveEventId:D,cacheMode:V}=i,j=er(t,n,g),G={method:p?"GET":"POST",uri:j,json:!0,body:p?void 0:r,query:a&&V4(i),timeout:w,headers:x,token:T,tag:I,returnQuery:b,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(D)?D[0]:D,cacheMode:V,canUseCdn:c,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Lc(t,e,G).pipe(wl(Uy),ln(L4),ln(J=>{if(!a)return J;const Z=J.results||[];if(i.returnDocuments)return _?Z[0]&&Z[0].document:Z.map(N=>N.document);const O=_?"documentId":"documentIds",A=_?Z[0]&&Z[0].id:Z.map(N=>N.id);return{transactionId:J.transactionId,results:Z,[O]:A}}))}function jd(t,e,n,r,i={}){const a={[r]:n},l=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Mo(t,e,"mutate",{mutations:[a]},l)}const Vc=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,AS=(t,e)=>Vc(t)&&e.startsWith(er(t,"query")),j4=(t,e)=>Vc(t)&&e.startsWith(er(t,"mutate")),U4=(t,e)=>Vc(t)&&e.startsWith(er(t,"doc","")),B4=(t,e)=>Vc(t)&&e.startsWith(er(t,"listen")),z4=(t,e)=>Vc(t)&&e.startsWith(er(t,"history","")),$4=(t,e)=>e.startsWith("/data/")||AS(t,e)||j4(t,e)||U4(t,e)||B4(t,e)||z4(t,e);function Lc(t,e,n){const r=n.url||n.uri,i=t.config(),a=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&$4(t,r):n.canUseCdn;let l=(n.useCdn??i.useCdn)&&a;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:sS(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&AS(t,r)){const g=n.resultSourceMap??i.resultSourceMap;g!==void 0&&g!==!1&&(n.query={resultSourceMap:g,...n.query});const _=n.perspective||i.perspective;typeof _<"u"&&(_==="previewDrafts"&&y4(),aS(_),n.query={perspective:Array.isArray(_)?_.join(","):_,...n.query},(Array.isArray(_)&&_.length>0||_==="previewDrafts"||_==="drafts")&&l&&(l=!1,g4())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),l&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const h=N4(i,Object.assign({},n,{url:By(t,r,l)})),p=new wt(g=>e(h,i.requester).subscribe(g));return n.signal?p.pipe(q4(n.signal)):p}function Pn(t,e,n){return Lc(t,e,n).pipe(wl(r=>r.type==="response"),ln(r=>r.body))}function er(t,e,n){const r=t.config();if(r["~experimental_resource"]){oS(r);const l=K4(r),c=n!==void 0?`${e}/${n}`:e;return`${l}/${c}`.replace(/\/($|\?)/,"$1")}const i=Oc(r),a=`/${e}/${i}`;return`/data${n!==void 0?`${a}/${n}`:a}`.replace(/\/($|\?)/,"$1")}function By(t,e,n=!1){const{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}function q4(t){return e=>new wt(n=>{const r=()=>n.error(W4(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const H4=!!globalThis.DOMException;function W4(t){if(H4)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}const K4=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function PS(t,e,n){const r=Oc(t.config());return Pn(t,e,{method:"POST",uri:`/agent/action/generate/${r}`,body:n})}function RS(t,e,n){const r=Oc(t.config());return Pn(t,e,{method:"POST",uri:`/agent/action/transform/${r}`,body:n})}function bS(t,e,n){const r=Oc(t.config());return Pn(t,e,{method:"POST",uri:`/agent/action/translate/${r}`,body:n})}var To,So;class G4{constructor(e,n){Le(this,To);Le(this,So);Ve(this,To,e),Ve(this,So,n)}generate(e){return PS($(this,To),$(this,So),e)}transform(e){return RS($(this,To),$(this,So),e)}translate(e){return bS($(this,To),$(this,So),e)}}To=new WeakMap,So=new WeakMap;var Io,xo;class Q4{constructor(e,n){Le(this,Io);Le(this,xo);Ve(this,Io,e),Ve(this,xo,n)}generate(e){return He(PS($(this,Io),$(this,xo),e))}transform(e){return He(RS($(this,Io),$(this,xo),e))}translate(e){return He(bS($(this,Io),$(this,xo),e))}}Io=new WeakMap,xo=new WeakMap;var vc,_c;class X4{constructor(e,n){Le(this,vc);Le(this,_c);Ve(this,vc,e),Ve(this,_c,n)}upload(e,n,r){return kS($(this,vc),$(this,_c),e,n,r)}}vc=new WeakMap,_c=new WeakMap;var wc,Ec;class Y4{constructor(e,n){Le(this,wc);Le(this,Ec);Ve(this,wc,e),Ve(this,Ec,n)}upload(e,n,r){const i=kS($(this,wc),$(this,Ec),e,n,r);return He(i.pipe(wl(a=>a.type==="response"),ln(a=>a.body.document)))}}wc=new WeakMap,Ec=new WeakMap;function kS(t,e,n,r,i={}){u4(n);let a=i.extract||void 0;a&&!a.length&&(a=["none"]);const l=t.config(),c=Z4(i,r),{tag:h,label:p,title:g,description:_,creditLine:w,filename:T,source:I}=c,x={label:p,title:g,description:_,filename:T,meta:a,creditLine:w};return I&&(x.sourceId=I.id,x.sourceName=I.name,x.sourceUrl=I.url),Lc(t,e,{tag:h,method:"POST",timeout:c.timeout||0,uri:J4(l,n),headers:c.contentType?{"Content-Type":c.contentType}:{},query:x,body:r})}function J4(t,e){const n=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:a}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${a}/assets/${n}`;case"media-library":return`/media-libraries/${a}/upload`;case"dashboard":return`/dashboards/${a}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=Oc(t);return`assets/${n}/${r}`}function Z4(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var ek=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const tk=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),DS=G2(()=>y2(()=>import("./browser-DXxsbdi6.js").then(t=>t.b),[])).pipe(ln(({default:t})=>t),V3(1));function NS(){return function(t){return t.pipe(My((e,n)=>e instanceof uS?K2(Nd({type:"reconnect"}),b3(1e3).pipe(Nc(()=>n))):q2(()=>e)))}}const nk=14800,rk=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],ik={includeResult:!0};function OS(t,e,n={}){const{url:r,token:i,withCredentials:a,requestTagPrefix:l}=this.config(),c=n.tag&&l?[l,n.tag].join("."):n.tag,h={...ek(n,ik),tag:c},p=tk(h,rk),g=mS({query:t,params:e,options:{tag:c,...p}}),_=`${r}${er(this,"listen",g)}`;if(_.length>nk)return q2(()=>new Error("Query too large for listener"));const w=h.events?h.events:["mutation"],T={};return a&&(T.withCredentials=!0),i&&(T.headers={Authorization:`Bearer ${i}`}),cS(()=>(typeof EventSource>"u"||T.headers?DS:Nd(EventSource)).pipe(ln(I=>new I(_,T))),w).pipe(NS(),wl(I=>w.includes(I.type)),ln(I=>({type:I.type,..."data"in I?I.data:{}})))}function sk(t,e){return ok(typeof t=="function"?{predicate:t,...e}:t)}function ok(t){return e=>{let n,r=!1;const{predicate:i,...a}=t,l=e.pipe(L3(h=>{t.predicate(h)&&(r=!0,n=h)}),X2(()=>{r=!1,n=void 0}),Y2(a)),c=new wt(h=>{r&&h.next(n),h.complete()});return k3(l,c)}}const uw="2021-03-25";var fs;class VS{constructor(e){Le(this,fs);Ve(this,fs,e)}events({includeDrafts:e=!1,tag:n}={}){kr("live",$(this,fs).config());const{projectId:r,apiVersion:i,token:a,withCredentials:l,requestTagPrefix:c}=$(this,fs).config(),h=i.replace(/^v/,"");if(h!=="X"&&h<uw)throw new Error(`The live events API requires API version ${uw} or later. The current API version is ${h}. Please update your API version to use this feature.`);if(e&&!a&&!l)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const p=er($(this,fs),"live/events"),g=new URL($(this,fs).getUrl(p,!1)),_=n&&c?[c,n].join("."):n;_&&g.searchParams.set("tag",_),e&&g.searchParams.set("includeDrafts","true");const w={};e&&a&&(w.headers={Authorization:`Bearer ${a}`}),e&&l&&(w.withCredentials=!0);const T=`${g.href}::${JSON.stringify(w)}`,I=Qm.get(T);if(I)return I;const x=cS(()=>(typeof EventSource>"u"||w.headers?DS:Nd(EventSource)).pipe(ln(V=>new V(g.href,w))),["message","restart","welcome","reconnect","goaway"]).pipe(NS(),ln(V=>{if(V.type==="message"){const{data:j,...G}=V;return{...G,tags:j.tags}}return V})),b=ak(g,{method:"OPTIONS",mode:"cors",credentials:w.withCredentials?"include":"omit",headers:w.headers}).pipe(Nc(()=>b2),My(()=>{throw new r4({projectId:r})})),D=K2(b,x).pipe(X2(()=>Qm.delete(T)),sk({predicate:V=>V.type==="welcome"}));return Qm.set(T,D),D}}fs=new WeakMap;function ak(t,e){return new wt(n=>{const r=new AbortController,i=r.signal;return fetch(t,{...e,signal:r.signal}).then(a=>{n.next(a),n.complete()},a=>{i.aborted||n.error(a)}),()=>r.abort()})}const Qm=new Map;var ds,ps;class lk{constructor(e,n){Le(this,ds);Le(this,ps);Ve(this,ds,e),Ve(this,ps,n)}create(e,n){return Ga($(this,ds),$(this,ps),"PUT",e,n)}edit(e,n){return Ga($(this,ds),$(this,ps),"PATCH",e,n)}delete(e){return Ga($(this,ds),$(this,ps),"DELETE",e)}list(){return Pn($(this,ds),$(this,ps),{uri:"/datasets",tag:null})}}ds=new WeakMap,ps=new WeakMap;var Yn,ms;class uk{constructor(e,n){Le(this,Yn);Le(this,ms);Ve(this,Yn,e),Ve(this,ms,n)}create(e,n){return kr("dataset",$(this,Yn).config()),He(Ga($(this,Yn),$(this,ms),"PUT",e,n))}edit(e,n){return kr("dataset",$(this,Yn).config()),He(Ga($(this,Yn),$(this,ms),"PATCH",e,n))}delete(e){return kr("dataset",$(this,Yn).config()),He(Ga($(this,Yn),$(this,ms),"DELETE",e))}list(){return kr("dataset",$(this,Yn).config()),He(Pn($(this,Yn),$(this,ms),{uri:"/datasets",tag:null}))}}Yn=new WeakMap,ms=new WeakMap;function Ga(t,e,n,r,i){return kr("dataset",t.config()),nS(r),Pn(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var gs,el;class ck{constructor(e,n){Le(this,gs);Le(this,el);Ve(this,gs,e),Ve(this,el,n)}list(e){kr("projects",$(this,gs).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Pn($(this,gs),$(this,el),{uri:n})}getById(e){return kr("projects",$(this,gs).config()),Pn($(this,gs),$(this,el),{uri:`/projects/${e}`})}}gs=new WeakMap,el=new WeakMap;var ys,tl;class hk{constructor(e,n){Le(this,ys);Le(this,tl);Ve(this,ys,e),Ve(this,tl,n)}list(e){kr("projects",$(this,ys).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return He(Pn($(this,ys),$(this,tl),{uri:n}))}getById(e){return kr("projects",$(this,ys).config()),He(Pn($(this,ys),$(this,tl),{uri:`/projects/${e}`}))}}ys=new WeakMap,tl=new WeakMap;const cw=X3("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),Xf=(t,e)=>e?Ld(t,e):K3(t);function Yf(t,{releaseId:e,publishedId:n,document:r}){if(n&&r._id){const i=Xf(n,e);return h4(i,r),i}if(r._id){const i=Od(r._id),a=Vd(r._id);if(!i&&!a)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const l=eS(r._id);if(l!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${l}\`).`)}return r._id}if(n)return Xf(n,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}const fk=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){const{releaseId:n=cw(),metadata:r={}}=t;return[n,r,e]}return[cw(),{},t]},LS=(t,e)=>{const[n,r,i]=fk(t,e),a={...r,releaseType:r.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:n,metadata:a},options:i}};var Sn,In;class dk{constructor(e,n){Le(this,Sn);Le(this,In);Ve(this,Sn,e),Ve(this,In,n)}get({releaseId:e},n){return Fd($(this,Sn),$(this,In),`_.releases.${e}`,n)}create(e,n){const{action:r,options:i}=LS(e,n),{releaseId:a,metadata:l}=r;return vt($(this,Sn),$(this,In),r,i).pipe(ln(c=>({...c,releaseId:a,metadata:l})))}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return vt($(this,Sn),$(this,In),i,r)}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return vt($(this,Sn),$(this,In),r,n)}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return vt($(this,Sn),$(this,In),r,n)}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return vt($(this,Sn),$(this,In),r,n)}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return vt($(this,Sn),$(this,In),i,r)}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return vt($(this,Sn),$(this,In),r,n)}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return vt($(this,Sn),$(this,In),r,n)}fetchDocuments({releaseId:e},n){return vS($(this,Sn),$(this,In),e,n)}}Sn=new WeakMap,In=new WeakMap;var xn,Cn;class pk{constructor(e,n){Le(this,xn);Le(this,Cn);Ve(this,xn,e),Ve(this,Cn,n)}get({releaseId:e},n){return He(Fd($(this,xn),$(this,Cn),`_.releases.${e}`,n))}async create(e,n){const{action:r,options:i}=LS(e,n),{releaseId:a,metadata:l}=r;return{...await He(vt($(this,xn),$(this,Cn),r,i)),releaseId:a,metadata:l}}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return He(vt($(this,xn),$(this,Cn),i,r))}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return He(vt($(this,xn),$(this,Cn),r,n))}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return He(vt($(this,xn),$(this,Cn),r,n))}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return He(vt($(this,xn),$(this,Cn),r,n))}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return He(vt($(this,xn),$(this,Cn),i,r))}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return He(vt($(this,xn),$(this,Cn),r,n))}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return He(vt($(this,xn),$(this,Cn),r,n))}fetchDocuments({releaseId:e},n){return He(vS($(this,xn),$(this,Cn),e,n))}}xn=new WeakMap,Cn=new WeakMap;var Tc,Sc;class mk{constructor(e,n){Le(this,Tc);Le(this,Sc);Ve(this,Tc,e),Ve(this,Sc,n)}getById(e){return Pn($(this,Tc),$(this,Sc),{uri:`/users/${e}`})}}Tc=new WeakMap,Sc=new WeakMap;var Ic,xc;class gk{constructor(e,n){Le(this,Ic);Le(this,xc);Ve(this,Ic,e),Ve(this,xc,n)}getById(e){return He(Pn($(this,Ic),$(this,xc),{uri:`/users/${e}`}))}}Ic=new WeakMap,xc=new WeakMap;var fi,it;const Ad=class Ad{constructor(e,n=Uu){Te(this,"assets");Te(this,"datasets");Te(this,"live");Te(this,"projects");Te(this,"users");Te(this,"agent");Te(this,"releases");Le(this,fi);Le(this,it);Te(this,"listen",OS);this.config(n),Ve(this,it,e),this.assets=new X4(this,$(this,it)),this.datasets=new lk(this,$(this,it)),this.live=new VS(this),this.projects=new ck(this,$(this,it)),this.users=new mk(this,$(this,it)),this.agent={action:new G4(this,$(this,it))},this.releases=new dk(this,$(this,it))}clone(){return new Ad($(this,it),this.config())}config(e){if(e===void 0)return{...$(this,fi)};if($(this,fi)&&$(this,fi).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Ve(this,fi,lS(e,$(this,fi)||{})),this}withConfig(e){const n=this.config();return new Ad($(this,it),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return gS(this,$(this,it),$(this,fi).stega,e,n,r)}getDocument(e,n){return Fd(this,$(this,it),e,n)}getDocuments(e,n){return yS(this,$(this,it),e,n)}create(e,n){return jd(this,$(this,it),e,"create",n)}createIfNotExists(e,n){return _S(this,$(this,it),e,n)}createOrReplace(e,n){return wS(this,$(this,it),e,n)}createVersion({document:e,publishedId:n,releaseId:r},i){const a=Yf("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Md(e._id);return ES(this,$(this,it),l,c,i)}delete(e,n){return TS(this,$(this,it),e,n)}discardVersion({releaseId:e,publishedId:n},r,i){const a=Xf(n,e);return SS(this,$(this,it),a,r,i)}replaceVersion({document:e,publishedId:n,releaseId:r},i){const a=Yf("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a};return IS(this,$(this,it),l,i)}unpublishVersion({releaseId:e,publishedId:n},r){const i=Ld(n,e);return xS(this,$(this,it),i,n,r)}mutate(e,n){return CS(this,$(this,it),e,n)}patch(e,n){return new Ao(e,n,this)}transaction(e){return new Qf(e,this)}action(e,n){return vt(this,$(this,it),e,n)}request(e){return Pn(this,$(this,it),e)}getUrl(e,n){return By(this,e,n)}getDataUrl(e,n){return er(this,e,n)}};fi=new WeakMap,it=new WeakMap;let Pg=Ad;var di,tt;const Pd=class Pd{constructor(e,n=Uu){Te(this,"assets");Te(this,"datasets");Te(this,"live");Te(this,"projects");Te(this,"users");Te(this,"agent");Te(this,"releases");Te(this,"observable");Le(this,di);Le(this,tt);Te(this,"listen",OS);this.config(n),Ve(this,tt,e),this.assets=new Y4(this,$(this,tt)),this.datasets=new uk(this,$(this,tt)),this.live=new VS(this),this.projects=new hk(this,$(this,tt)),this.users=new gk(this,$(this,tt)),this.agent={action:new Q4(this,$(this,tt))},this.releases=new pk(this,$(this,tt)),this.observable=new Pg(e,n)}clone(){return new Pd($(this,tt),this.config())}config(e){if(e===void 0)return{...$(this,di)};if($(this,di)&&$(this,di).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),Ve(this,di,lS(e,$(this,di)||{})),this}withConfig(e){const n=this.config();return new Pd($(this,tt),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return He(gS(this,$(this,tt),$(this,di).stega,e,n,r))}getDocument(e,n){return He(Fd(this,$(this,tt),e,n))}getDocuments(e,n){return He(yS(this,$(this,tt),e,n))}create(e,n){return He(jd(this,$(this,tt),e,"create",n))}createIfNotExists(e,n){return He(_S(this,$(this,tt),e,n))}createOrReplace(e,n){return He(wS(this,$(this,tt),e,n))}createVersion({document:e,publishedId:n,releaseId:r},i){const a=Yf("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Md(e._id);return tw(ES(this,$(this,tt),l,c,i))}delete(e,n){return He(TS(this,$(this,tt),e,n))}discardVersion({releaseId:e,publishedId:n},r,i){const a=Xf(n,e);return He(SS(this,$(this,tt),a,r,i))}replaceVersion({document:e,publishedId:n,releaseId:r},i){const a=Yf("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a};return tw(IS(this,$(this,tt),l,i))}unpublishVersion({releaseId:e,publishedId:n},r){const i=Ld(n,e);return He(xS(this,$(this,tt),i,n,r))}mutate(e,n){return He(CS(this,$(this,tt),e,n))}patch(e,n){return new vs(e,n,this)}transaction(e){return new Gf(e,this)}action(e,n){return He(vt(this,$(this,tt),e,n))}request(e){return He(Pn(this,$(this,tt),e))}dataRequest(e,n,r){return He(Mo(this,$(this,tt),e,n,r))}getUrl(e,n){return By(this,e,n)}getDataUrl(e,n){return er(this,e,n)}};di=new WeakMap,tt=new WeakMap;let Rg=Pd;function yk(t,e){return{requester:iw(t),createClient:n=>{const r=iw(t);return new e((i,a)=>(a||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var vk=[];const _k=yk(vk,Rg),wk=_k.createClient;var kf={exports:{}},Ek=kf.exports,hw;function Tk(){return hw||(hw=1,function(t,e){(function(n,r){t.exports=r()})(Ek,function(){function n(){return n=Object.assign||function(P){for(var k=1;k<arguments.length;k++){var C=arguments[k];for(var X in C)Object.prototype.hasOwnProperty.call(C,X)&&(P[X]=C[X])}return P},n.apply(this,arguments)}function r(P,k){if(P){if(typeof P=="string")return i(P,k);var C=Object.prototype.toString.call(P).slice(8,-1);if(C==="Object"&&P.constructor&&(C=P.constructor.name),C==="Map"||C==="Set")return Array.from(P);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return i(P,k)}}function i(P,k){(k==null||k>P.length)&&(k=P.length);for(var C=0,X=new Array(k);C<k;C++)X[C]=P[C];return X}function a(P,k){var C=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(C)return(C=C.call(P)).next.bind(C);if(Array.isArray(P)||(C=r(P))||k){C&&(P=C);var X=0;return function(){return X>=P.length?{done:!0}:{done:!1,value:P[X++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function c(P){var k=P.split("-"),C=k[1],X=k[2],Ae=k[3];if(!C||!X||!Ae)throw new Error("Malformed asset _ref '"+P+`'. Expected an id like "`+l+'".');var he=X.split("x"),ce=he[0],ne=he[1],de=+ce,le=+ne,z=isFinite(de)&&isFinite(le);if(!z)throw new Error("Malformed asset _ref '"+P+`'. Expected an id like "`+l+'".');return{id:C,width:de,height:le,format:Ae}}var h=function(k){var C=k;return C?typeof C._ref=="string":!1},p=function(k){var C=k;return C?typeof C._id=="string":!1},g=function(k){var C=k;return C&&C.asset?typeof C.asset.url=="string":!1};function _(P){if(!P)return null;var k;if(typeof P=="string"&&w(P))k={asset:{_ref:T(P)}};else if(typeof P=="string")k={asset:{_ref:P}};else if(h(P))k={asset:P};else if(p(P))k={asset:{_ref:P._id||""}};else if(g(P))k={asset:{_ref:T(P.asset.url)}};else if(typeof P.asset=="object")k=n({},P);else return null;var C=P;return C.crop&&(k.crop=C.crop),C.hotspot&&(k.hotspot=C.hotspot),I(k)}function w(P){return/^https?:\/\//.test(""+P)}function T(P){var k=P.split("/").slice(-1);return("image-"+k[0]).replace(/\.([a-z]+)$/,"-$1")}function I(P){if(P.crop&&P.hotspot)return P;var k=n({},P);return k.crop||(k.crop={left:0,top:0,bottom:0,right:0}),k.hotspot||(k.hotspot={x:.5,y:.5,height:1,width:1}),k}var x=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function b(P){var k=n({},P||{}),C=k.source;delete k.source;var X=_(C);if(!X)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(C)+")");var Ae=X.asset._ref||X.asset._id||"",he=c(Ae),ce=Math.round(X.crop.left*he.width),ne=Math.round(X.crop.top*he.height),de={left:ce,top:ne,width:Math.round(he.width-X.crop.right*he.width-ce),height:Math.round(he.height-X.crop.bottom*he.height-ne)},le=X.hotspot.height*he.height/2,z=X.hotspot.width*he.width/2,ee=X.hotspot.x*he.width,ge=X.hotspot.y*he.height,xe={left:ee-z,top:ge-le,right:ee+z,bottom:ge+le};return k.rect||k.focalPoint||k.ignoreImageParams||k.crop||(k=n({},k,V({crop:de,hotspot:xe},k))),D(n({},k,{asset:he}))}function D(P){var k=(P.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),C=P.vanityName?"/"+P.vanityName:"",X=P.asset.id+"-"+P.asset.width+"x"+P.asset.height+"."+P.asset.format+C,Ae=k+"/images/"+P.projectId+"/"+P.dataset+"/"+X,he=[];if(P.rect){var ce=P.rect,ne=ce.left,de=ce.top,le=ce.width,z=ce.height,ee=ne!==0||de!==0||z!==P.asset.height||le!==P.asset.width;ee&&he.push("rect="+ne+","+de+","+le+","+z)}P.bg&&he.push("bg="+P.bg),P.focalPoint&&(he.push("fp-x="+P.focalPoint.x),he.push("fp-y="+P.focalPoint.y));var ge=[P.flipHorizontal&&"h",P.flipVertical&&"v"].filter(Boolean).join("");return ge&&he.push("flip="+ge),x.forEach(function(xe){var De=xe[0],Ne=xe[1];typeof P[De]<"u"?he.push(Ne+"="+encodeURIComponent(P[De])):typeof P[Ne]<"u"&&he.push(Ne+"="+encodeURIComponent(P[Ne]))}),he.length===0?Ae:Ae+"?"+he.join("&")}function V(P,k){var C,X=k.width,Ae=k.height;if(!(X&&Ae))return{width:X,height:Ae,rect:P.crop};var he=P.crop,ce=P.hotspot,ne=X/Ae,de=he.width/he.height;if(de>ne){var le=Math.round(he.height),z=Math.round(le*ne),ee=Math.max(0,Math.round(he.top)),ge=Math.round((ce.right-ce.left)/2+ce.left),xe=Math.max(0,Math.round(ge-z/2));xe<he.left?xe=he.left:xe+z>he.left+he.width&&(xe=he.left+he.width-z),C={left:xe,top:ee,width:z,height:le}}else{var De=he.width,Ne=Math.round(De/ne),Ke=Math.max(0,Math.round(he.left)),Ge=Math.round((ce.bottom-ce.top)/2+ce.top),Xe=Math.max(0,Math.round(Ge-Ne/2));Xe<he.top?Xe=he.top:Xe+Ne>he.top+he.height&&(Xe=he.top+he.height-Ne),C={left:Ke,top:Xe,width:De,height:Ne}}return{width:X,height:Ae,rect:C}}var j=["clip","crop","fill","fillmax","max","scale","min"],G=["top","bottom","left","right","center","focalpoint","entropy"],J=["format"];function Z(P){return P&&"config"in P?typeof P.config=="function":!1}function O(P){return P&&"clientConfig"in P?typeof P.clientConfig=="object":!1}function A(P){for(var k=x,C=a(k),X;!(X=C()).done;){var Ae=X.value,he=Ae[0],ce=Ae[1];if(P===he||P===ce)return he}return P}function N(P){if(Z(P)){var k=P.config(),C=k.apiHost,X=k.projectId,Ae=k.dataset,he=C||"https://api.sanity.io";return new F(null,{baseUrl:he.replace(/^https:\/\/api\./,"https://cdn."),projectId:X,dataset:Ae})}if(O(P)){var ce=P.clientConfig,ne=ce.apiHost,de=ce.projectId,le=ce.dataset,z=ne||"https://api.sanity.io";return new F(null,{baseUrl:z.replace(/^https:\/\/api\./,"https://cdn."),projectId:de,dataset:le})}return new F(null,P||{})}var F=function(){function P(C,X){this.options=void 0,this.options=C?n({},C.options||{},X||{}):n({},X||{})}var k=P.prototype;return k.withOptions=function(X){var Ae=X.baseUrl||this.options.baseUrl,he={baseUrl:Ae};for(var ce in X)if(X.hasOwnProperty(ce)){var ne=A(ce);he[ne]=X[ce]}return new P(this,n({baseUrl:Ae},he))},k.image=function(X){return this.withOptions({source:X})},k.dataset=function(X){return this.withOptions({dataset:X})},k.projectId=function(X){return this.withOptions({projectId:X})},k.bg=function(X){return this.withOptions({bg:X})},k.dpr=function(X){return this.withOptions(X&&X!==1?{dpr:X}:{})},k.width=function(X){return this.withOptions({width:X})},k.height=function(X){return this.withOptions({height:X})},k.focalPoint=function(X,Ae){return this.withOptions({focalPoint:{x:X,y:Ae}})},k.maxWidth=function(X){return this.withOptions({maxWidth:X})},k.minWidth=function(X){return this.withOptions({minWidth:X})},k.maxHeight=function(X){return this.withOptions({maxHeight:X})},k.minHeight=function(X){return this.withOptions({minHeight:X})},k.size=function(X,Ae){return this.withOptions({width:X,height:Ae})},k.blur=function(X){return this.withOptions({blur:X})},k.sharpen=function(X){return this.withOptions({sharpen:X})},k.rect=function(X,Ae,he,ce){return this.withOptions({rect:{left:X,top:Ae,width:he,height:ce}})},k.format=function(X){return this.withOptions({format:X})},k.invert=function(X){return this.withOptions({invert:X})},k.orientation=function(X){return this.withOptions({orientation:X})},k.quality=function(X){return this.withOptions({quality:X})},k.forceDownload=function(X){return this.withOptions({download:X})},k.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},k.flipVertical=function(){return this.withOptions({flipVertical:!0})},k.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},k.fit=function(X){if(j.indexOf(X)===-1)throw new Error('Invalid fit mode "'+X+'"');return this.withOptions({fit:X})},k.crop=function(X){if(G.indexOf(X)===-1)throw new Error('Invalid crop mode "'+X+'"');return this.withOptions({crop:X})},k.saturation=function(X){return this.withOptions({saturation:X})},k.auto=function(X){if(J.indexOf(X)===-1)throw new Error('Invalid auto mode "'+X+'"');return this.withOptions({auto:X})},k.pad=function(X){return this.withOptions({pad:X})},k.vanityName=function(X){return this.withOptions({vanityName:X})},k.frame=function(X){if(X!==1)throw new Error('Invalid frame value "'+X+'"');return this.withOptions({frame:X})},k.url=function(){return b(this.options)},k.toString=function(){return this.url()},P}();return N})}(kf)),kf.exports}var Sk=Tk();const Ik=Cc(Sk),Ju=wk({projectId:"ieeje3ev",dataset:"production",apiVersion:"2022-03-25",useCdn:!0}),xk=Ik(Ju),fw=t=>xk.image(t),Ck=()=>{const[t,e]=M.useState(null);return M.useEffect(()=>{async function n(){const i=await Ju.fetch("*[_type == 'heroImage'][0]");e(i)}n()},[]),t?q.jsx("section",{className:"mx-auto max-w-2xl px-4 sm:pb-6 lg:max-w-7xl lg:px-8",children:q.jsxs("div",{className:"mb-8 flex flex-wrap justify-between md:mb-16",children:[q.jsxs("div",{className:"mb-6 flex w-full flex-col justify-center sm:mb-12 lg:mb-0 lg:w-1/3 lg:pb-24 lg:pt-48",children:[q.jsx("h1",{className:"mb-4 text-4xl font-bold text-black sm:text-5xl md:mb-8 md:text-6xl",children:"Adidas"}),q.jsx("p",{className:"max-w-md leading-relaxed text-gray-500 xl:text-lg",children:"販售同步日本最新鞋款、潮流服飾。"})]}),q.jsxs("div",{className:"mb-12 flex w-full md:mb-16 lg:w-2/3",children:[q.jsx("div",{className:"relative left-12 top-12 z-10 -ml-12 overflow-hidden rounded-lg bg-gray-100 shadow-lg md:left-16 md:top-16 lg:ml-0",children:q.jsx("img",{src:fw(t.image1).url(),alt:"Great Photo",className:"h-full w-full object-cover object-center",width:400,height:500})}),q.jsx("div",{className:"overflow-hidden rounded-lg bg-gray-100 shadow-lg",children:q.jsx("img",{src:fw(t.image2).url(),alt:"Great Photo",className:"h-full w-full object-cover object-center",width:500,height:500})})]})]})}):q.jsx("div",{children:"Loading..."})};var dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ak=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,T=p&63;h||(T=64,l||(w=64)),r.push(n[g],n[_],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ak(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new Pk;const w=a<<2|c>>4;if(r.push(w),p!==64){const T=c<<4&240|p>>2;if(r.push(T),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rk=function(t){const e=MS(t);return FS.encodeByteArray(e,!0)},Jf=function(t){return Rk(t).replace(/\./g,"")},jS=function(t){try{return FS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=()=>bk().__FIREBASE_DEFAULTS__,Dk=()=>{if(typeof process>"u"||typeof dw>"u")return;const t=dw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return kk()||Dk()||Nk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},US=t=>{var e,n;return(n=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ok=t=>{const e=US(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BS=()=>{var t;return(t=Ud())===null||t===void 0?void 0:t.config},zS=t=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jf(JSON.stringify(n)),Jf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Fk(){var t;const e=(t=Ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Uk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zk(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $k(){return!Fk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qk(){try{return typeof indexedDB=="object"}catch{return!1}}function Hk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="FirebaseError";class ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wk,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?Kk(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ki(i,c,r)}}function Kk(t,e){return t.replace(Gk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gk=/\{\$([^}]+)}/g;function Qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(pw(a)&&pw(l)){if(!Zf(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xk(t,e){const n=new Yk(t,e);return n.subscribe.bind(n)}class Yk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xm),i.error===void 0&&(i.error=Xm),i.complete===void 0&&(i.complete=Xm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t5(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e5(t){return t===fo?void 0:t}function t5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const r5={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},i5=je.INFO,s5={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},o5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=s5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zy{constructor(e){this.name=e,this._logLevel=i5,this._logHandler=o5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const a5=(t,e)=>e.some(n=>t instanceof n);let mw,gw;function l5(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u5(){return gw||(gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,bg=new WeakMap,qS=new WeakMap,Ym=new WeakMap,$y=new WeakMap;function c5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Es(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function h5(t){if(bg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});bg.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f5(t){kg=t(kg)}function d5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jm(this),e,...n);return qS.set(r,e.sort?e.sort():[e]),Es(r)}:u5().includes(t)?function(...e){return t.apply(Jm(this),e),Es($S.get(this))}:function(...e){return Es(t.apply(Jm(this),e))}}function p5(t){return typeof t=="function"?d5(t):(t instanceof IDBTransaction&&h5(t),a5(t,l5())?new Proxy(t,kg):t)}function Es(t){if(t instanceof IDBRequest)return c5(t);if(Ym.has(t))return Ym.get(t);const e=p5(t);return e!==t&&(Ym.set(t,e),$y.set(e,t)),e}const Jm=t=>$y.get(t);function m5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=Es(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Es(l.result),h.oldVersion,h.newVersion,Es(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const g5=["get","getKey","getAll","getAllKeys","count"],y5=["put","add","delete","clear"],Zm=new Map;function yw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=y5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g5.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&h.done]))[0]};return Zm.set(e,a),a}f5(t=>({...t,get:(e,n,r)=>yw(e,n)||t.get(e,n,r),has:(e,n)=>!!yw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",vw="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new zy("@firebase/app"),w5="@firebase/app-compat",E5="@firebase/analytics-compat",T5="@firebase/analytics",S5="@firebase/app-check-compat",I5="@firebase/app-check",x5="@firebase/auth",C5="@firebase/auth-compat",A5="@firebase/database",P5="@firebase/data-connect",R5="@firebase/database-compat",b5="@firebase/functions",k5="@firebase/functions-compat",D5="@firebase/installations",N5="@firebase/installations-compat",O5="@firebase/messaging",V5="@firebase/messaging-compat",L5="@firebase/performance",M5="@firebase/performance-compat",F5="@firebase/remote-config",j5="@firebase/remote-config-compat",U5="@firebase/storage",B5="@firebase/storage-compat",z5="@firebase/firestore",$5="@firebase/vertexai",q5="@firebase/firestore-compat",H5="firebase",W5="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",K5={[Dg]:"fire-core",[w5]:"fire-core-compat",[T5]:"fire-analytics",[E5]:"fire-analytics-compat",[I5]:"fire-app-check",[S5]:"fire-app-check-compat",[x5]:"fire-auth",[C5]:"fire-auth-compat",[A5]:"fire-rtdb",[P5]:"fire-data-connect",[R5]:"fire-rtdb-compat",[b5]:"fire-fn",[k5]:"fire-fn-compat",[D5]:"fire-iid",[N5]:"fire-iid-compat",[O5]:"fire-fcm",[V5]:"fire-fcm-compat",[L5]:"fire-perf",[M5]:"fire-perf-compat",[F5]:"fire-rc",[j5]:"fire-rc-compat",[U5]:"fire-gcs",[B5]:"fire-gcs-compat",[z5]:"fire-fst",[q5]:"fire-fst-compat",[$5]:"fire-vertex","fire-js":"fire-js",[H5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,G5=new Map,Og=new Map;function _w(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ol(t){const e=t.name;if(Og.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(const n of ed.values())_w(n,t);for(const n of G5.values())_w(n,t);return!0}function qy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Mc("app","Firebase",Q5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=W5;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(n||(n=BS()),!n)throw Ts.create("no-options");const a=ed.get(i);if(a){if(Zf(n,a.options)&&Zf(r,a.config))return a;throw Ts.create("duplicate-app",{appName:i})}const l=new n5(i);for(const h of Og.values())l.addComponent(h);const c=new X5(n,r,l);return ed.set(i,c),c}function WS(t=Ng){const e=ed.get(t);if(!e&&t===Ng&&BS())return HS();if(!e)throw Ts.create("no-app",{appName:t});return e}function Ss(t,e,n){var r;let i=(r=K5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(c.join(" "));return}ol(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="firebase-heartbeat-database",J5=1,Zu="firebase-heartbeat-store";let eg=null;function KS(){return eg||(eg=m5(Y5,J5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),eg}async function Z5(t){try{const n=(await KS()).transaction(Zu),r=await n.objectStore(Zu).get(GS(t));return await n.done,r}catch(e){if(e instanceof ki)Ii.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function ww(t,e){try{const r=(await KS()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,GS(t)),await r.done}catch(n){if(n instanceof ki)Ii.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function GS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=1024,t6=30*24*60*60*1e3;class n6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ew();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=t6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ew(),{heartbeatsToSend:r,unsentEntries:i}=r6(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ii.warn(n),""}}}function Ew(){return new Date().toISOString().substring(0,10)}function r6(t,e=e6){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Tw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qk()?Hk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tw(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){ol(new ko("platform-logger",e=>new v5(e),"PRIVATE")),ol(new ko("heartbeat",e=>new n6(e),"PRIVATE")),Ss(Dg,vw,t),Ss(Dg,vw,"esm2017"),Ss("fire-js","")}s6("");var o6="firebase",a6="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(o6,a6,"app");function Hy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l6=QS,XS=new Mc("auth","Firebase",QS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new zy("@firebase/auth");function u6(t,...e){td.logLevel<=je.WARN&&td.warn(`Auth (${El}): ${t}`,...e)}function Df(t,...e){td.logLevel<=je.ERROR&&td.error(`Auth (${El}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw Ky(t,...e)}function vr(t,...e){return Ky(t,...e)}function Wy(t,e,n){const r=Object.assign(Object.assign({},l6()),{[e]:n});return new Mc("auth","Firebase",r).create(e,{appName:t.name})}function Po(t){return Wy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jr(t,"argument-error"),Wy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ky(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XS.create(t,...e)}function Re(t,e,...n){if(!t)throw Ky(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Df(e),new Error(e)}function xi(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h6(){return Sw()==="http:"||Sw()==="https:"}function Sw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h6()||Uk()||"connection"in navigator)?navigator.onLine:!0}function d6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Mk()||Bk()}get(){return f6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=new jc(3e4,6e4);function Qy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tl(t,e,n,r,i={}){return JS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Fc(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return jk()||(p.referrerPolicy="no-referrer"),YS.fetch()(ZS(t,t.config.apiHost,n,c),p)})}async function JS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},p6),e);try{const i=new y6(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw vf(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw vf(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Wy(t,g,p);jr(t,g)}}catch(i){if(i instanceof ki)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function g6(t,e,n,r,i={}){const a=await Tl(t,e,n,r,i);return"mfaPendingCredential"in a&&jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function ZS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Gy(t.config,i):`${t.config.apiScheme}://${i}`}class y6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),m6.get())})}}function vf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e){return Tl(t,"POST","/v1/accounts:delete",e)}async function eI(t,e){return Tl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _6(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),i=Xy(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Bu(tg(i.auth_time)),issuedAtTime:Bu(tg(i.iat)),expirationTime:Bu(tg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tg(t){return Number(t)*1e3}function Xy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const i=jS(n);return i?JSON.parse(i):(Df("Failed to decode base64 JWT payload"),null)}catch(i){return Df("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Iw(t){const e=Xy(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ki&&w6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function w6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ec(t,eI(n,{idToken:r}));Re(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?tI(a.providerUserInfo):[],c=S6(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function T6(t){const e=Mn(t);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tI(t){return t.map(e=>{var{providerId:n}=e,r=Hy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e){const n=await JS(t,{},async()=>{const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=ZS(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",YS.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x6(t,e){return Tl(t,"POST","/v2/accounts:revokeToken",Qy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await I6(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Qa;return r&&(Re(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Re(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ec(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _6(this,e)}reload(){return T6(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(Po(this.auth));const e=await this.getIdToken();return await ec(this,v6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,h,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,D=(p=n.createdAt)!==null&&p!==void 0?p:void 0,V=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:G,isAnonymous:J,providerData:Z,stsTokenManager:O}=n;Re(j&&O,e,"internal-error");const A=Qa.fromJSON(this.name,O);Re(typeof j=="string",e,"internal-error"),is(_,e.name),is(w,e.name),Re(typeof G=="boolean",e,"internal-error"),Re(typeof J=="boolean",e,"internal-error"),is(T,e.name),is(I,e.name),is(x,e.name),is(b,e.name),is(D,e.name),is(V,e.name);const N=new yi({uid:j,auth:e,email:w,emailVerified:G,displayName:_,isAnonymous:J,photoURL:I,phoneNumber:T,tenantId:x,stsTokenManager:A,createdAt:D,lastLoginAt:V});return Z&&Array.isArray(Z)&&(N.providerData=Z.map(F=>Object.assign({},F))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qa;i.updateFromServerResponse(n);const a=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?tI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Qa;c.updateFromIdToken(r);const h=new yi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Lg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function vi(t){xi(t instanceof Function,"Expected a class definition");let e=xw.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nI.type="NONE";const Cw=nI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Nf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xa(vi(Cw),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||vi(Cw);const l=Nf(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=yi._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Xa(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Xa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lI(e))return"Blackberry";if(uI(e))return"Webos";if(iI(e))return"Safari";if((e.includes("chrome/")||sI(e))&&!e.includes("edge/"))return"Chrome";if(aI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rI(t=un()){return/firefox\//i.test(t)}function iI(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sI(t=un()){return/crios\//i.test(t)}function oI(t=un()){return/iemobile/i.test(t)}function aI(t=un()){return/android/i.test(t)}function lI(t=un()){return/blackberry/i.test(t)}function uI(t=un()){return/webos/i.test(t)}function Yy(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C6(t=un()){var e;return Yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function A6(){return zk()&&document.documentMode===10}function cI(t=un()){return Yy(t)||aI(t)||uI(t)||lI(t)||/windows phone/i.test(t)||oI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e=[]){let n;switch(t){case"Browser":n=Aw(un());break;case"Worker":n=`${Aw(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e={}){return Tl(t,"GET","/v2/passwordPolicy",Qy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=6;class k6{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:b6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pw(this),this.idTokenSubscription=new Pw(this),this.beforeStateQueue=new P6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eI(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(Po(this));const n=e?Mn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(Po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(Po(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R6(this),n=new k6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bd(t){return Mn(t)}class Pw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xk(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N6(t){Jy=t}function O6(t){return Jy.loadJS(t)}function V6(){return Jy.gapiScript}function L6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t,e){const n=qy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Zf(a,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function F6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j6(t,e,n){const r=Bd(t);Re(r._canInitEmulator,r,"emulator-config-failed"),Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=fI(e),{host:l,port:c}=U6(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),B6()}function fI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U6(t){const e=fI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Rw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Rw(l)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e){return g6(t,"POST","/v1/accounts:signInWithIdp",Qy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="http://localhost";class Do extends dI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Hy(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Do(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:z6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Uc{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Do._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Uc{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Uc{constructor(){super("twitter.com")}static credential(e,n){return Do._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await yi._fromIdTokenResponse(e,r,i),l=bw(r);return new al({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bw(r);return new al({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends ki{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rd(e,n,r,i)}}function pI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,a,e,r):a})}async function $6(t,e,n=!1){const r=await ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return al._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e,n=!1){const{auth:r}=t;if(mi(r.app))return Promise.reject(Po(r));const i="reauthenticate";try{const a=await ec(t,pI(r,i,e,t),n);Re(a.idToken,r,"internal-error");const l=Xy(a.idToken);Re(l,r,"internal-error");const{sub:c}=l;return Re(t.uid===c,r,"user-mismatch"),al._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e,n=!1){if(mi(t.app))return Promise.reject(Po(t));const r="signIn",i=await pI(t,r,e),a=await al._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t,e){return Mn(t).setPersistence(e)}function K6(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function G6(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}function Q6(t,e,n,r){return Mn(t).onAuthStateChanged(e,n,r)}function mI(t){return Mn(t).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1e3,Y6=10;class yI extends gI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);A6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yI.type="LOCAL";const vI=yI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I extends gI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_I.type="SESSION";const wI=_I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,a)),h=await J6(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=ev("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function eD(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function tD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rD(){return EI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebaseLocalStorageDb",iD=1,sd="firebaseLocalStorage",SI="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $d(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function sD(){const t=indexedDB.deleteDatabase(TI);return new Bc(t).toPromise()}function Mg(){const t=indexedDB.open(TI,iD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sd,{keyPath:SI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),await sD(),e(await Mg()))})})}async function kw(t,e,n){const r=$d(t,!0).put({[SI]:e,value:n});return new Bc(r).toPromise()}async function oD(t,e){const n=$d(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function Dw(t,e){const n=$d(t,!0).delete(e);return new Bc(n).toPromise()}const aD=800,lD=3;class II{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(rD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tD(),!this.activeServiceWorker)return;this.sender=new Z6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mg();return await kw(e,id,"1"),await Dw(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$d(i,!1).getAll();return new Bc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}II.type="LOCAL";const uD=II;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e){return e?vi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends dI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cD(t){return H6(t.auth,new tv(t),t.bypassAuthState)}function hD(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),q6(n,new tv(t),t.bypassAuthState)}async function fD(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),$6(n,new tv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cD;case"linkViaPopup":case"linkViaRedirect":return fD;case"reauthViaPopup":case"reauthViaRedirect":return hD;default:jr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new jc(2e3,1e4);async function pD(t,e,n){if(mi(t.app))return Promise.reject(vr(t,"operation-not-supported-in-this-environment"));const r=Bd(t);c6(t,e,Zy);const i=xI(r,n);return new yo(r,"signInViaPopup",e,i).executeNotNull()}class yo extends CI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dD.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="pendingRedirect",Of=new Map;class gD extends CI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const r=await yD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yD(t,e){const n=wD(e),r=_D(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vD(t,e){Of.set(t._key(),e)}function _D(t){return vi(t._redirectPersistence)}function wD(t){return Nf(mD,t.config.apiKey,t.name)}async function ED(t,e,n=!1){if(mi(t.app))return Promise.reject(Po(t));const r=Bd(t),i=xI(r,e),l=await new gD(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=10*60*1e3;class SD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ID(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ID(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e={}){return Tl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AD=/^https?/;async function PD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xD(t);for(const n of e)try{if(RD(n))return}catch{}jr(t,"unauthorized-domain")}function RD(t){const e=Vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!AD.test(n))return!1;if(CD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new jc(3e4,6e4);function Ow(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kD(t){return new Promise((e,n)=>{var r,i,a;function l(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(vr(t,"network-request-failed"))},timeout:bD.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Dr().gapi)===null||a===void 0)&&a.load)l();else{const c=L6("iframefcb");return Dr()[c]=()=>{gapi.load?l():n(vr(t,"network-request-failed"))},O6(`${V6()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function DD(t){return Vf=Vf||kD(t),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new jc(5e3,15e3),OD="__/auth/iframe",VD="emulator/auth/iframe",LD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FD(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gy(e,VD):`https://${t.config.authDomain}/${OD}`,r={apiKey:e.apiKey,appName:t.name,v:El},i=MD.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Fc(r).slice(1)}`}async function jD(t){const e=await DD(t),n=Dr().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:FD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LD,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=vr(t,"network-request-failed"),c=Dr().setTimeout(()=>{a(l)},ND.get());function h(){Dr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BD=500,zD=600,$D="_blank",qD="http://localhost";class Vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HD(t,e,n,r=BD,i=zD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},UD),{width:r.toString(),height:i.toString(),top:a,left:l}),p=un().toLowerCase();n&&(c=sI(p)?$D:n),rI(p)&&(e=e||qD,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[T,I])=>`${w}${T}=${I},`,"");if(C6(p)&&c!=="_self")return WD(e||"",c),new Vw(null);const _=window.open(e||"",c,g);Re(_,t,"popup-blocked");try{_.focus()}catch{}return new Vw(_)}function WD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="__/auth/handler",GD="emulator/auth/handler",QD=encodeURIComponent("fac");async function Lw(t,e,n,r,i,a){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:El,eventId:i};if(e instanceof Zy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Qk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Uc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),p=h?`#${QD}=${encodeURIComponent(h)}`:"";return`${XD(t)}?${Fc(c).slice(1)}${p}`}function XD({config:t}){return t.emulator?Gy(t,GD):`https://${t.authDomain}/${KD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class YD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wI,this._completeRedirectFn=ED,this._overrideRedirectResult=vD}async _openPopup(e,n,r,i){var a;xi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Lw(e,n,r,Vg(),i);return HD(e,l,ev())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Lw(e,n,r,Vg(),i);return eD(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jD(e),r=new SD(e);return n.register("authEvent",i=>(Re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[ng];l!==void 0&&n(!!l),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cI()||iI()||Yy()}}const JD=YD;var Mw="@firebase/auth",Fw="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t9(t){ol(new ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Re(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hI(t)},p=new D6(r,i,a,h);return F6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ol(new ko("auth-internal",e=>{const n=Bd(e.getProvider("auth").getImmediate());return(r=>new ZD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(Mw,Fw,e9(t)),Ss(Mw,Fw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=5*60,r9=zS("authIdTokenMaxAge")||n9;let jw=null;const i9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r9)return;const i=n==null?void 0:n.token;jw!==i&&(jw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s9(t=WS()){const e=qy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M6(t,{popupRedirectResolver:JD,persistence:[uD,vI,wI]}),r=zS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=i9(a.toString());G6(n,l,()=>l(n.currentUser)),K6(n,c=>l(c))}}const i=US("auth");return i&&j6(n,`http://${i}`),n}function o9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=vr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",o9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t9("Browser");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,PI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function N(){}N.prototype=A.prototype,O.D=A.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(F,P,k){for(var C=Array(arguments.length-2),X=2;X<arguments.length;X++)C[X-2]=arguments[X];return A.prototype[P].apply(F,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,A,N){N||(N=0);var F=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)F[P]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(P=0;16>P;++P)F[P]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=O.g[0],N=O.g[1],P=O.g[2];var k=O.g[3],C=A+(k^N&(P^k))+F[0]+3614090360&4294967295;A=N+(C<<7&4294967295|C>>>25),C=k+(P^A&(N^P))+F[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=P+(N^k&(A^N))+F[2]+606105819&4294967295,P=k+(C<<17&4294967295|C>>>15),C=N+(A^P&(k^A))+F[3]+3250441966&4294967295,N=P+(C<<22&4294967295|C>>>10),C=A+(k^N&(P^k))+F[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(P^A&(N^P))+F[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=P+(N^k&(A^N))+F[6]+2821735955&4294967295,P=k+(C<<17&4294967295|C>>>15),C=N+(A^P&(k^A))+F[7]+4249261313&4294967295,N=P+(C<<22&4294967295|C>>>10),C=A+(k^N&(P^k))+F[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(P^A&(N^P))+F[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=P+(N^k&(A^N))+F[10]+4294925233&4294967295,P=k+(C<<17&4294967295|C>>>15),C=N+(A^P&(k^A))+F[11]+2304563134&4294967295,N=P+(C<<22&4294967295|C>>>10),C=A+(k^N&(P^k))+F[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(P^A&(N^P))+F[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=P+(N^k&(A^N))+F[14]+2792965006&4294967295,P=k+(C<<17&4294967295|C>>>15),C=N+(A^P&(k^A))+F[15]+1236535329&4294967295,N=P+(C<<22&4294967295|C>>>10),C=A+(P^k&(N^P))+F[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^P&(A^N))+F[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=P+(A^N&(k^A))+F[11]+643717713&4294967295,P=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(P^k))+F[0]+3921069994&4294967295,N=P+(C<<20&4294967295|C>>>12),C=A+(P^k&(N^P))+F[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^P&(A^N))+F[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=P+(A^N&(k^A))+F[15]+3634488961&4294967295,P=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(P^k))+F[4]+3889429448&4294967295,N=P+(C<<20&4294967295|C>>>12),C=A+(P^k&(N^P))+F[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^P&(A^N))+F[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=P+(A^N&(k^A))+F[3]+4107603335&4294967295,P=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(P^k))+F[8]+1163531501&4294967295,N=P+(C<<20&4294967295|C>>>12),C=A+(P^k&(N^P))+F[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^P&(A^N))+F[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=P+(A^N&(k^A))+F[7]+1735328473&4294967295,P=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(P^k))+F[12]+2368359562&4294967295,N=P+(C<<20&4294967295|C>>>12),C=A+(N^P^k)+F[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^P)+F[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=P+(k^A^N)+F[11]+1839030562&4294967295,P=k+(C<<16&4294967295|C>>>16),C=N+(P^k^A)+F[14]+4259657740&4294967295,N=P+(C<<23&4294967295|C>>>9),C=A+(N^P^k)+F[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^P)+F[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=P+(k^A^N)+F[7]+4139469664&4294967295,P=k+(C<<16&4294967295|C>>>16),C=N+(P^k^A)+F[10]+3200236656&4294967295,N=P+(C<<23&4294967295|C>>>9),C=A+(N^P^k)+F[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^P)+F[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=P+(k^A^N)+F[3]+3572445317&4294967295,P=k+(C<<16&4294967295|C>>>16),C=N+(P^k^A)+F[6]+76029189&4294967295,N=P+(C<<23&4294967295|C>>>9),C=A+(N^P^k)+F[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^P)+F[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=P+(k^A^N)+F[15]+530742520&4294967295,P=k+(C<<16&4294967295|C>>>16),C=N+(P^k^A)+F[2]+3299628645&4294967295,N=P+(C<<23&4294967295|C>>>9),C=A+(P^(N|~k))+F[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~P))+F[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=P+(A^(k|~N))+F[14]+2878612391&4294967295,P=k+(C<<15&4294967295|C>>>17),C=N+(k^(P|~A))+F[5]+4237533241&4294967295,N=P+(C<<21&4294967295|C>>>11),C=A+(P^(N|~k))+F[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~P))+F[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=P+(A^(k|~N))+F[10]+4293915773&4294967295,P=k+(C<<15&4294967295|C>>>17),C=N+(k^(P|~A))+F[1]+2240044497&4294967295,N=P+(C<<21&4294967295|C>>>11),C=A+(P^(N|~k))+F[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~P))+F[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=P+(A^(k|~N))+F[6]+2734768916&4294967295,P=k+(C<<15&4294967295|C>>>17),C=N+(k^(P|~A))+F[13]+1309151649&4294967295,N=P+(C<<21&4294967295|C>>>11),C=A+(P^(N|~k))+F[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~P))+F[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=P+(A^(k|~N))+F[2]+718787259&4294967295,P=k+(C<<15&4294967295|C>>>17),C=N+(k^(P|~A))+F[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+k&4294967295}r.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var N=A-this.blockSize,F=this.B,P=this.h,k=0;k<A;){if(P==0)for(;k<=N;)i(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<A;)if(F[P++]=O.charCodeAt(k++),P==this.blockSize){i(this,F),P=0;break}}else for(;k<A;)if(F[P++]=O[k++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var N=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=N&255,N/=256;for(this.u(O),O=Array(16),A=N=0;4>A;++A)for(var F=0;32>F;F+=8)O[N++]=this.g[A]>>>F&255;return O};function a(O,A){var N=c;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=A(O)}function l(O,A){this.h=A;for(var N=[],F=!0,P=O.length-1;0<=P;P--){var k=O[P]|0;F&&k==A||(N[P]=k,F=!1)}this.g=N}var c={};function h(O){return-128<=O&&128>O?a(O,function(A){return new l([A|0],0>A?-1:0)}):new l([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return b(p(-O));for(var A=[],N=1,F=0;O>=N;F++)A[F]=O/N|0,N*=4294967296;return new l(A,0)}function g(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return b(g(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(A,8)),F=_,P=0;P<O.length;P+=8){var k=Math.min(8,O.length-P),C=parseInt(O.substring(P,P+k),A);8>k?(k=p(Math.pow(A,k)),F=F.j(k).add(p(C))):(F=F.j(N),F=F.add(p(C)))}return F}var _=h(0),w=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(x(this))return-b(this).m();for(var O=0,A=1,N=0;N<this.g.length;N++){var F=this.i(N);O+=(0<=F?F:4294967296+F)*A,A*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(x(this))return"-"+b(this).toString(O);for(var A=p(Math.pow(O,6)),N=this,F="";;){var P=G(N,A).g;N=D(N,P.j(A));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=P,I(N))return k+F;for(;6>k.length;)k="0"+k;F=k+F}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function x(O){return O.h==-1}t.l=function(O){return O=D(this,O),x(O)?-1:I(O)?0:1};function b(O){for(var A=O.g.length,N=[],F=0;F<A;F++)N[F]=~O.g[F];return new l(N,~O.h).add(w)}t.abs=function(){return x(this)?b(this):this},t.add=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0,P=0;P<=A;P++){var k=F+(this.i(P)&65535)+(O.i(P)&65535),C=(k>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);F=C>>>16,k&=65535,C&=65535,N[P]=C<<16|k}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(O,A){return O.add(b(A))}t.j=function(O){if(I(this)||I(O))return _;if(x(this))return x(O)?b(this).j(b(O)):b(b(this).j(O));if(x(O))return b(this.j(b(O)));if(0>this.l(T)&&0>O.l(T))return p(this.m()*O.m());for(var A=this.g.length+O.g.length,N=[],F=0;F<2*A;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<O.g.length;P++){var k=this.i(F)>>>16,C=this.i(F)&65535,X=O.i(P)>>>16,Ae=O.i(P)&65535;N[2*F+2*P]+=C*Ae,V(N,2*F+2*P),N[2*F+2*P+1]+=k*Ae,V(N,2*F+2*P+1),N[2*F+2*P+1]+=C*X,V(N,2*F+2*P+1),N[2*F+2*P+2]+=k*X,V(N,2*F+2*P+2)}for(F=0;F<A;F++)N[F]=N[2*F+1]<<16|N[2*F];for(F=A;F<2*A;F++)N[F]=0;return new l(N,0)};function V(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function j(O,A){this.g=O,this.h=A}function G(O,A){if(I(A))throw Error("division by zero");if(I(O))return new j(_,_);if(x(O))return A=G(b(O),A),new j(b(A.g),b(A.h));if(x(A))return A=G(O,b(A)),new j(b(A.g),A.h);if(30<O.g.length){if(x(O)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,F=A;0>=F.l(O);)N=J(N),F=J(F);var P=Z(N,1),k=Z(F,1);for(F=Z(F,2),N=Z(N,2);!I(F);){var C=k.add(F);0>=C.l(O)&&(P=P.add(N),k=C),F=Z(F,1),N=Z(N,1)}return A=D(O,P.j(A)),new j(P,A)}for(P=_;0<=O.l(A);){for(N=Math.max(1,Math.floor(O.m()/A.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),k=p(N),C=k.j(A);x(C)||0<C.l(O);)N-=F,k=p(N),C=k.j(A);I(k)&&(k=w),P=P.add(k),O=D(O,C)}return new j(P,O)}t.A=function(O){return G(this,O).h},t.and=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0;F<A;F++)N[F]=this.i(F)&O.i(F);return new l(N,this.h&O.h)},t.or=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0;F<A;F++)N[F]=this.i(F)|O.i(F);return new l(N,this.h|O.h)},t.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0;F<A;F++)N[F]=this.i(F)^O.i(F);return new l(N,this.h^O.h)};function J(O){for(var A=O.g.length+1,N=[],F=0;F<A;F++)N[F]=O.i(F)<<1|O.i(F-1)>>>31;return new l(N,O.h)}function Z(O,A){var N=A>>5;A%=32;for(var F=O.g.length-N,P=[],k=0;k<F;k++)P[k]=0<A?O.i(k+N)>>>A|O.i(k+N+1)<<32-A:O.i(k+N);return new l(P,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Is=l}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RI,Du,bI,Lf,Fg,kI,DI,NI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,y){if(y)e:{var E=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var H=f[R];if(!(H in E))break e;E=E[H]}f=f[f.length-1],R=E[f],y=y(R),y!=R&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function a(f,y){f instanceof String&&(f+="");var E=0,R=!1,H={next:function(){if(!R&&E<f.length){var Y=E++;return{value:y(Y,f[Y]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(f){return f||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function g(f,y,E){return f.call.apply(f.bind,arguments)}function _(f,y,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),f.apply(y,H)}}return function(){return f.apply(y,arguments)}}function w(f,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function T(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function I(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,H,Y){for(var ue=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ue[Ze-2]=arguments[Ze];return y.prototype[H].apply(R,ue)}}function x(f){const y=f.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=f[R];return E}return[]}function b(f,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(h(R)){const H=f.length||0,Y=R.length||0;f.length=H+Y;for(let ue=0;ue<Y;ue++)f[H+ue]=R[ue]}else f.push(R)}}class D{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function G(f){return G[" "](f),f}G[" "]=function(){};var J=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Z(f,y,E){for(const R in f)y.call(E,f[R],R,f)}function O(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function A(f){const y={};for(const E in f)y[E]=f[E];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(f,y){let E,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(E in R)f[E]=R[E];for(let Y=0;Y<N.length;Y++)E=N[Y],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function P(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function k(f){c.setTimeout(()=>{throw f},0)}function C(){var f=de;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,E){const R=Ae.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Ae=new D(()=>new he,f=>f.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ne=!1,de=new X,le=()=>{const f=c.Promise.resolve(void 0);ce=()=>{f.then(z)}};var z=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(E){k(E)}var y=Ae;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f}();function De(f,y){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(J){e:{try{G(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&De.aa.h.call(this)}}I(De,ge);var Ne={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Xe(f,y,E,R,H){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=H,this.key=++Ge,this.da=this.fa=!1}function Ft(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Wr(f){this.src=f,this.g={},this.h=0}Wr.prototype.add=function(f,y,E,R,H){var Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);var ue=Ni(f,y,R,H);return-1<ue?(y=f[ue],E||(y.fa=!1)):(y=new Xe(y,this.src,Y,!!R,H),y.fa=E,f.push(y)),y};function qo(f,y){var E=y.type;if(E in f.g){var R=f.g[E],H=Array.prototype.indexOf.call(R,y,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(R,H,1),Y&&(Ft(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ni(f,y,E,R){for(var H=0;H<f.length;++H){var Y=f[H];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==R)return H}return-1}var Ls="closure_lm_"+(1e6*Math.random()|0),Ho={};function bl(f,y,E,R,H){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)bl(f,y[Y],E,R,H);return null}return E=Nl(E),f&&f[Ke]?f.K(y,E,p(R)?!!R.capture:!1,H):kl(f,y,E,!1,R,H)}function kl(f,y,E,R,H,Y){if(!y)throw Error("Invalid event type");var ue=p(H)?!!H.capture:!!H,Ze=Ko(f);if(Ze||(f[Ls]=Ze=new Wr(f)),E=Ze.add(y,E,R,ue,Y),E.proxy)return E;if(R=Zc(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)xe||(H=ue),H===void 0&&(H=!1),f.addEventListener(y.toString(),R,H);else if(f.attachEvent)f.attachEvent(Gr(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Zc(){function f(E){return y.call(f.src,f.listener,E)}const y=Dl;return f}function Wo(f,y,E,R,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Wo(f,y[Y],E,R,H);else R=p(R)?!!R.capture:!!R,E=Nl(E),f&&f[Ke]?(f=f.i,y=String(y).toString(),y in f.g&&(Y=f.g[y],E=Ni(Y,E,R,H),-1<E&&(Ft(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ko(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ni(y,E,R,H)),(E=-1<f?y[f]:null)&&Kr(E))}function Kr(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ke])qo(y.i,f);else{var E=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(E,R,f.capture):y.detachEvent?y.detachEvent(Gr(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Ko(y))?(qo(E,f),E.h==0&&(E.src=null,y[Ls]=null)):Ft(f)}}}function Gr(f){return f in Ho?Ho[f]:Ho[f]="on"+f}function Dl(f,y){if(f.da)f=!0;else{y=new De(y,this);var E=f.listener,R=f.ha||f.src;f.fa&&Kr(f),f=E.call(R,y)}return f}function Ko(f){return f=f[Ls],f instanceof Wr?f:null}var Go="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nl(f){return typeof f=="function"?f:(f[Go]||(f[Go]=function(y){return f.handleEvent(y)}),f[Go])}function Rt(){ee.call(this),this.i=new Wr(this),this.M=this,this.F=null}I(Rt,ee),Rt.prototype[Ke]=!0,Rt.prototype.removeEventListener=function(f,y,E,R){Wo(this,f,y,E,R)};function bt(f,y){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new ge(y,f);else if(y instanceof ge)y.target=y.target||f;else{var H=y;y=new ge(R,f),F(y,H)}if(H=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ue=y.g=E[Y];H=Qr(ue,R,!0,y)&&H}if(ue=y.g=f,H=Qr(ue,R,!0,y)&&H,H=Qr(ue,R,!1,y)&&H,E)for(Y=0;Y<E.length;Y++)ue=y.g=E[Y],H=Qr(ue,R,!1,y)&&H}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],R=0;R<E.length;R++)Ft(E[R]);delete f.g[y],f.h--}}this.F=null},Rt.prototype.K=function(f,y,E,R){return this.i.add(String(f),y,!1,E,R)},Rt.prototype.L=function(f,y,E,R){return this.i.add(String(f),y,!0,E,R)};function Qr(f,y,E,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Y=0;Y<y.length;++Y){var ue=y[Y];if(ue&&!ue.da&&ue.capture==E){var Ze=ue.listener,kt=ue.ha||ue.src;ue.fa&&qo(f.i,ue),H=Ze.call(kt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Ol(f,y,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(f,y||0)}function Oi(f){f.g=Ol(()=>{f.g=null,f.i&&(f.i=!1,Oi(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Ms extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(f){ee.call(this),this.h=f,this.g={}}I(Fs,ee);var Vl=[];function Ll(f){Z(f.g,function(y,E){this.g.hasOwnProperty(E)&&Kr(y)},f),f.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),Ll(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ml=c.JSON.stringify,Fl=c.JSON.parse,jl=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function js(){}js.prototype.h=null;function Qo(f){return f.h||(f.h=f.i())}function Xo(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ge.call(this,"d")}I(_r,ge);function Yo(){ge.call(this,"c")}I(Yo,ge);var wr={},Ul=null;function Us(){return Ul=Ul||new Rt}wr.La="serverreachability";function Bl(f){ge.call(this,wr.La,f)}I(Bl,ge);function Xr(f){const y=Us();bt(y,new Bl(y))}wr.STAT_EVENT="statevent";function zl(f,y){ge.call(this,wr.STAT_EVENT,f),this.stat=y}I(zl,ge);function Et(f){const y=Us();bt(y,new zl(y,f))}wr.Ma="timingevent";function Jo(f,y){ge.call(this,wr.Ma,f),this.size=y}I(Jo,ge);function tr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function Bs(){this.g=!0}Bs.prototype.xa=function(){this.g=!1};function zs(f,y,E,R,H,Y){f.info(function(){if(f.g)if(Y)for(var ue="",Ze=Y.split("&"),kt=0;kt<Ze.length;kt++){var $e=Ze[kt].split("=");if(1<$e.length){var jt=$e[0];$e=$e[1];var xt=jt.split("_");ue=2<=xt.length&&xt[1]=="type"?ue+(jt+"="+$e+"&"):ue+(jt+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+y+`
`+E+`
`+ue})}function Zo(f,y,E,R,H,Y,ue){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+y+`
`+E+`
`+Y+" "+ue})}function nr(f,y,E,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+dp(f,E)+(R?" "+R:"")})}function $l(f,y){f.info(function(){return"TIMEOUT: "+y})}Bs.prototype.info=function(){};function dp(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Ml(E)}catch{return y}}var ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function $s(){}I($s,js),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},rr=new $s;function ir(f,y,E,R){this.j=f,this.i=y,this.l=E,this.R=R||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new th}function th(){this.i=null,this.g="",this.h=!1}var ql={},ta={};function na(f,y,E){f.L=1,f.v=ji(bn(y)),f.m=E,f.P=!0,Hl(f,null)}function Hl(f,y){f.F=Date.now(),nt(f),f.A=bn(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Bi(E.i,"t",R),f.C=0,E=f.j.J,f.h=new th,f.g=_h(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Ms(w(f.Y,f,f.g),f.O)),y=f.U,E=f.g,R=f.ca;var H="readystatechange";Array.isArray(H)||(H&&(Vl[0]=H.toString()),H=Vl);for(var Y=0;Y<H.length;Y++){var ue=bl(E,H[Y],R||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Xr(),zs(f.i,f.u,f.A,f.l,f.R,f.m)}ir.prototype.ca=function(f){f=f.target;const y=this.M;y&&gn(f)==3?y.j():this.Y(f)},ir.prototype.Y=function(f){try{if(f==this.g)e:{const xt=gn(this.g);var y=this.g.Ba();const zn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Yl(this.g)))){this.J||xt!=4||y==7||(y==8||0>=zn?Xr(3):Xr(2)),qs(this);var E=this.g.Z();this.X=E;t:if(nh(this)){var R=Yl(this.g);f="";var H=R.length,Y=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),Vi(this);var ue="";break t}this.h.i=new c.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(Y&&y==H-1)});R.length=0,this.h.g+=f,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,Zo(this.i,this.u,this.A,this.l,this.R,xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,kt=this.g;if((Ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ze)){var $e=Ze;break t}}$e=null}if(E=$e)nr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wl(this,E);else{this.o=!1,this.s=3,Et(12),Un(this),Vi(this);break e}}if(this.P){E=!0;let Dn;for(;!this.J&&this.C<ue.length;)if(Dn=pp(this,ue),Dn==ta){xt==4&&(this.s=4,Et(14),E=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==ql){this.s=4,Et(15),nr(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else nr(this.i,this.l,Dn,null),Wl(this,Dn);if(nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ue.length!=0||this.h.h||(this.s=1,Et(16),E=!1),this.o=this.o&&E,!E)nr(this.i,this.l,ue,"[Invalid Chunked Response]"),Un(this),Vi(this);else if(0<ue.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Zl(jt),jt.M=!0,Et(11))}}else nr(this.i,this.l,ue,null),Wl(this,ue);xt==4&&Un(this),this.o&&!this.J&&(xt==4?da(this.j,this):(this.o=!1,nt(this)))}else la(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Un(this),Vi(this)}}}catch{}finally{}};function nh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pp(f,y){var E=f.C,R=y.indexOf(`
`,E);return R==-1?ta:(E=Number(y.substring(E,R)),isNaN(E)?ql:(R+=1,R+E>y.length?ta:(y=y.slice(R,R+E),f.C=R+E,y)))}ir.prototype.cancel=function(){this.J=!0,Un(this)};function nt(f){f.S=Date.now()+f.I,rh(f,f.I)}function rh(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=tr(w(f.ba,f),y)}function qs(f){f.B&&(c.clearTimeout(f.B),f.B=null)}ir.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?($l(this.i,this.A),this.L!=2&&(Xr(),Et(17)),Un(this),this.s=2,Vi(this)):rh(this,this.S-f)};function Vi(f){f.j.G==0||f.J||da(f.j,f)}function Un(f){qs(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Ll(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Wl(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||cn(E.h,f))){if(!f.K&&cn(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)fa(E),ur(E);else break e;ha(E),Et(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=tr(w(E.Za,E),6e3));if(1>=sh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ti(E,11)}else if((f.K||E.g==f)&&fa(E),!V(y))for(H=E.Da.g.parse(y),y=0;y<H.length;y++){let $e=H[y];if(E.T=$e[0],$e=$e[1],E.G==2)if($e[0]=="c"){E.K=$e[1],E.ia=$e[2];const jt=$e[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const xt=$e[4];xt!=null&&(E.Aa=xt,E.j.info("SVER="+E.Aa));const zn=$e[5];zn!=null&&typeof zn=="number"&&0<zn&&(R=1.5*zn,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Dn=f.g;if(Dn){const Ys=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var Y=R.h;Y.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Kl(Y,Y.h),Y.h=null))}if(R.D){const ma=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(R.ya=ma,et(R.I,R.D,ma))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ue=f;if(R.qa=vh(R,R.J?R.ia:null,R.W),ue.K){oh(R.h,ue);var Ze=ue,kt=R.L;kt&&(Ze.I=kt),Ze.B&&(qs(Ze),nt(Ze)),R.g=ue}else Xs(R);0<E.i.length&&Ir(E)}else $e[0]!="stop"&&$e[0]!="close"||ti(E,7);else E.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ti(E,7):Ht(E):$e[0]!="noop"&&E.l&&E.l.ta($e),E.v=0)}}Xr(4)}catch{}}var ih=class{constructor(f,y){this.g=f,this.map=y}};function Hs(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function sh(f){return f.h?1:f.g?f.g.size:0}function cn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Kl(f,y){f.g?f.g.add(y):f.h=y}function oh(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Hs.prototype.cancel=function(){if(this.i=ah(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ah(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return x(f.i)}function ra(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var y=[],E=f.length,R=0;R<E;R++)y.push(f[R]);return y}y=[],E=0;for(R in f)y[E++]=f[R];return y}function ia(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const R in f)y[E++]=R;return y}}}function Li(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=ia(f),R=ra(f),H=R.length,Y=0;Y<H;Y++)y.call(void 0,R[Y],E&&E[Y],f)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),H=null;if(0<=R){var Y=f[E].substring(0,R);H=f[E].substring(R+1)}else Y=f[E];y(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Yr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Yr){this.h=f.h,Ks(this,f.j),this.o=f.o,this.g=f.g,Mi(this,f.s),this.l=f.l;var y=f.i,E=new Er;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Fi(this,E),this.m=f.m}else f&&(y=String(f).match(Ws))?(this.h=!1,Ks(this,y[1]||"",!0),this.o=Be(y[2]||""),this.g=Be(y[3]||"",!0),Mi(this,y[4]),this.l=Be(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=Be(y[7]||"")):(this.h=!1,this.i=new Er(null,this.h))}Yr.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ui(y,sa,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ui(y,sa,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ui(E,E.charAt(0)=="/"?ch:uh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ui(E,Gl)),f.join("")};function bn(f){return new Yr(f)}function Ks(f,y,E){f.j=E?Be(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Mi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Fi(f,y,E){y instanceof Er?(f.i=y,Tr(f.i,f.h)):(E||(y=Ui(y,hh)),f.i=new Er(y,f.h))}function et(f,y,E){f.i.set(y,E)}function ji(f){return et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Be(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ui(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,lh),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function lh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var sa=/[#\/\?@]/g,uh=/[#\?:]/g,ch=/[#\?]/g,hh=/[#\?@]/g,Gl=/#/g;function Er(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function qt(f){f.g||(f.g=new Map,f.h=0,f.i&&mp(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Er.prototype,t.add=function(f,y){qt(this),this.i=null,f=Bn(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function sr(f,y){qt(f),y=Bn(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function or(f,y){return qt(f),y=Bn(f,y),f.g.has(y)}t.forEach=function(f,y){qt(this),this.g.forEach(function(E,R){E.forEach(function(H){f.call(y,H,R,this)},this)},this)},t.na=function(){qt(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const H=f[R];for(let Y=0;Y<H.length;Y++)E.push(y[R])}return E},t.V=function(f){qt(this);let y=[];if(typeof f=="string")or(this,f)&&(y=y.concat(this.g.get(Bn(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},t.set=function(f,y){return qt(this),this.i=null,f=Bn(this,f),or(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Bi(f,y,E){sr(f,y),0<E.length&&(f.i=null,f.g.set(Bn(f,y),x(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const Y=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var H=Y;ue[R]!==""&&(H+="="+encodeURIComponent(String(ue[R]))),f.push(H)}}return this.i=f.join("&")};function Bn(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Tr(f,y){y&&!f.j&&(qt(f),f.i=null,f.g.forEach(function(E,R){var H=R.toLowerCase();R!=H&&(sr(this,R),Bi(this,H,E))},f)),f.j=y}function gp(f,y){const E=new Bs;if(c.Image){const R=new Image;R.onload=T(mn,E,"TestLoadImage: loaded",!0,y,R),R.onerror=T(mn,E,"TestLoadImage: error",!1,y,R),R.onabort=T(mn,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=T(mn,E,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function fh(f,y){const E=new Bs,R=new AbortController,H=setTimeout(()=>{R.abort(),mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(Y=>{clearTimeout(H),Y.ok?mn(E,"TestPingServer: ok",!0,y):mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),mn(E,"TestPingServer: error",!1,y)})}function mn(f,y,E,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(E)}catch{}}function yp(){this.g=new jl}function dh(f,y,E){const R=E||"";try{Li(f,function(H,Y){let ue=H;p(H)&&(ue=Ml(H)),y.push(R+Y+"="+encodeURIComponent(ue))})}catch(H){throw y.push(R+"type="+encodeURIComponent("_badmap")),H}}function Jr(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Jr,js),Jr.prototype.g=function(){return new Gs(this.l,this.j)},Jr.prototype.i=function(f){return function(){return f}}({});function Gs(f,y){Rt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Gs,Rt),t=Gs.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,lr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ph(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ph(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ar(this):lr(this),this.readyState==3&&ph(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ar(this))},t.Qa=function(f){this.g&&(this.response=f,ar(this))},t.ga=function(){this.g&&ar(this)};function ar(f){f.readyState=4,f.l=null,f.j=null,f.v=null,lr(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zr(f){let y="";return Z(f,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function zi(f,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Zr(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):et(f,y,E))}function lt(f){Rt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(lt,Rt);var vp=/^https?$/i,Ql=["POST","PUT"];t=lt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?Qo(this.o):Qo(rr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Y){Qs(this,Y);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)E.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())E.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ql,y,void 0))||R||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of E)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(f),this.u=!1}catch(Y){Qs(this,Y)}};function Qs(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,oa(f),kn(f)}function oa(f){f.A||(f.A=!0,bt(f,"complete"),bt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,bt(this,"complete"),bt(this,"abort"),kn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kn(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xl(this):this.bb())},t.bb=function(){Xl(this)};function Xl(f){if(f.h&&typeof l<"u"&&(!f.v[1]||gn(f)!=4||f.Z()!=2)){if(f.u&&gn(f)==4)Ol(f.Ea,0,f);else if(bt(f,"readystatechange"),gn(f)==4){f.h=!1;try{const ue=f.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=ue===0){var H=String(f.D).match(Ws)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),R=!vp.test(H?H.toLowerCase():"")}E=R}if(E)bt(f,"complete"),bt(f,"success");else{f.m=6;try{var Y=2<gn(f)?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.Z()+"]",oa(f)}}finally{kn(f)}}}}function kn(f,y){if(f.g){aa(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||bt(f,"ready");try{E.onreadystatechange=R}catch{}}}function aa(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function gn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Fl(y)}};function Yl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function la(f){const y={};f=(f.g&&2<=gn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(V(f[R]))continue;var E=P(f[R]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[H]||[];y[H]=Y,Y.push(E)}O(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Jl(f){this.Aa=0,this.i=[],this.j=new Bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,f),this.cb=Sr("retryDelaySeedMs",1e4,f),this.Wa=Sr("forwardChannelMaxRetries",2,f),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Hs(f&&f.concurrentRequestLimit),this.Da=new yp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jl.prototype,t.la=8,t.G=1,t.connect=function(f,y,E,R){Et(0),this.W=f,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=vh(this,null,this.W),Ir(this)};function Ht(f){if(ua(f),f.G==3){var y=f.U++,E=bn(f.I);if(et(E,"SID",f.K),et(E,"RID",y),et(E,"TYPE","terminate"),ei(f,E),y=new ir(f,f.j,y),y.L=2,y.v=ji(bn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=_h(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}yh(f)}function ur(f){f.g&&(Zl(f),f.g.cancel(),f.g=null)}function ua(f){ur(f),f.u&&(c.clearTimeout(f.u),f.u=null),fa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Ir(f){if(!Rn(f.h)&&!f.s){f.s=!0;var y=f.Ga;ce||le(),ne||(ce(),ne=!0),de.add(y,f),f.B=0}}function _p(f,y){return sh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=tr(w(f.Ga,f,y),gh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const H=new ir(this,this.j,f);let Y=this.o;if(this.S&&(Y?(Y=A(Y),F(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=$i(this,H,y),E=bn(this.I),et(E,"RID",f),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),ei(this,E),Y&&(this.O?y="headers="+encodeURIComponent(String(Zr(Y)))+"&"+y:this.m&&zi(E,this.m,Y)),Kl(this.h,H),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",y),et(E,"SID","null"),H.T=!0,na(H,E,null)):na(H,E,y),this.G=2}}else this.G==3&&(f?ca(this,f):this.i.length==0||Rn(this.h)||ca(this))};function ca(f,y){var E;y?E=y.l:E=f.U++;const R=bn(f.I);et(R,"SID",f.K),et(R,"RID",E),et(R,"AID",f.T),ei(f,R),f.m&&f.o&&zi(R,f.m,f.o),E=new ir(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=$i(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Kl(f.h,E),na(E,R,y)}function ei(f,y){f.H&&Z(f.H,function(E,R){et(y,R,E)}),f.l&&Li({},function(E,R){et(y,R,E)})}function $i(f,y,E){E=Math.min(f.i.length,E);var R=f.l?w(f.l.Na,f.l,f):null;e:{var H=f.i;let Y=-1;for(;;){const ue=["count="+E];Y==-1?0<E?(Y=H[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let Ze=!0;for(let kt=0;kt<E;kt++){let $e=H[kt].g;const jt=H[kt].map;if($e-=Y,0>$e)Y=Math.max(0,H[kt].g-100),Ze=!1;else try{dh(jt,ue,"req"+$e+"_")}catch{R&&R(jt)}}if(Ze){R=ue.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,R}function Xs(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ce||le(),ne||(ce(),ne=!0),de.add(y,f),f.v=0}}function ha(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=tr(w(f.Fa,f),gh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=tr(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),ur(this),mh(this))};function Zl(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function mh(f){f.g=new ir(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=bn(f.qa);et(y,"RID","rpc"),et(y,"SID",f.K),et(y,"AID",f.T),et(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&et(y,"TO",f.ja),et(y,"TYPE","xmlhttp"),ei(f,y),f.m&&f.o&&zi(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=ji(bn(y)),E.m=null,E.P=!0,Hl(E,f)}t.Za=function(){this.C!=null&&(this.C=null,ur(this),ha(this),Et(19))};function fa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function da(f,y){var E=null;if(f.g==y){fa(f),Zl(f),f.g=null;var R=2}else if(cn(f.h,y))E=y.D,oh(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var H=f.B;R=Us(),bt(R,new Jo(R,E)),Ir(f)}else Xs(f);else if(H=y.s,H==3||H==0&&0<y.X||!(R==1&&_p(f,y)||R==2&&ha(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),H){case 1:ti(f,5);break;case 4:ti(f,10);break;case 3:ti(f,6);break;default:ti(f,2)}}}function gh(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function ti(f,y){if(f.j.info("Error code "+y),y==2){var E=w(f.fb,f),R=f.Xa;const H=!R;R=new Yr(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ks(R,"https"),ji(R),H?gp(R.toString(),E):fh(R.toString(),E)}else Et(2);f.G=0,f.l&&f.l.sa(y),yh(f),ua(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function yh(f){if(f.G=0,f.ka=[],f.l){const y=ah(f.h);(y.length!=0||f.i.length!=0)&&(b(f.ka,y),b(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function vh(f,y,E){var R=E instanceof Yr?bn(E):new Yr(E);if(R.g!="")y&&(R.g=y+"."+R.g),Mi(R,R.s);else{var H=c.location;R=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Y=new Yr(null);R&&Ks(Y,R),y&&(Y.g=y),H&&Mi(Y,H),E&&(Y.l=E),R=Y}return E=f.D,y=f.ya,E&&y&&et(R,E,y),et(R,"VER",f.la),ei(f,R),R}function _h(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new lt(new Jr({eb:E})):new lt(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}t=eu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pa(){}pa.prototype.g=function(f,y){return new hn(f,y)};function hn(f,y){Rt.call(this),this.g=new Jl(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!V(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new xr(this)}I(hn,Rt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ht(this.g)},hn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Ml(f),f=E);y.i.push(new ih(y.Ya++,f)),y.G==3&&Ir(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,hn.aa.N.call(this)};function wh(f){_r.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(wh,_r);function Eh(){Yo.call(this),this.status=1}I(Eh,Yo);function xr(f){this.g=f}I(xr,eu),xr.prototype.ua=function(){bt(this.g,"a")},xr.prototype.ta=function(f){bt(this.g,new wh(f))},xr.prototype.sa=function(f){bt(this.g,new Eh)},xr.prototype.ra=function(){bt(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,NI=function(){return new pa},DI=function(){return Us()},kI=wr,Fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Lf=ea,eh.COMPLETE="complete",bI=eh,Xo.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Du=Xo,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,RI=lt}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new zy("@firebase/firestore");function Fa(){return No.logLevel}function pe(t,...e){if(No.logLevel<=je.DEBUG){const n=e.map(nv);No.debug(`Firestore (${Sl}): ${t}`,...n)}}function Ci(t,...e){if(No.logLevel<=je.ERROR){const n=e.map(nv);No.error(`Firestore (${Sl}): ${t}`,...n)}}function ll(t,...e){if(No.logLevel<=je.WARN){const n=e.map(nv);No.warn(`Firestore (${Sl}): ${t}`,...n)}}function nv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function Je(t,e){t||be()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class l9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u9{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new OI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new sn(e)}}class c9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class h9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new f9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=p9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Lt(0,0))}static max(){return new ke(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=br.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=br.isNumericId(e),i=br.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?br.extractNumericId(e).compare(br.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class _t extends br{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const m9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends br{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return m9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(_t.fromString(e))}static fromName(e){return new Ie(_t.fromString(e).popFirst(5))}static empty(){return new Ie(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new _t(e.slice()))}}function g9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Ps(i,Ie.empty(),e)}function y9(t){return new Ps(t.readTime,t.key,-1)}class Ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ps(ke.min(),Ie.empty(),-1)}static max(){return new Ps(ke.max(),Ie.empty(),-1)}}function v9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==_9)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new te((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function E9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qd.oe=-1;function Hd(t){return t==null}function od(t){return t===0&&1/t==-1/0}function T9(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zw(e)),e=I9(t.get(n),e);return zw(e)}function I9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function zw(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=a??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new Mt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new MI("Invalid base64 string: "+a):a}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const x9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(t){if(Je(!!t),typeof t=="string"){let e=0;const n=x9.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wd(t){const e=t.mapValue.fields.__previous_value__;return rv(e)?Wd(e):e}function tc(t){const e=Rs(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i,a,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class nc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rv(t)?4:P9(t)?9007199254740991:A9(t)?10:11:be()}function Ur(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Rs(i.timestampValue),c=Rs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return bs(i.bytesValue).isEqual(bs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return It(i.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return It(i.integerValue)===It(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=It(i.doubleValue),c=It(a.doubleValue);return l===c?od(l)===od(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if($w(l)!==$w(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Ur(l[h],c[h])))return!1;return!0}(t,e);default:return be()}}function rc(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=ks(t),r=ks(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=It(a.integerValue||a.doubleValue),h=It(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return Hw(t.timestampValue,e.timestampValue);case 4:return Hw(tc(t),tc(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(a,l){const c=bs(a),h=bs(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=ze(c[p],h[p]);if(g!==0)return g}return ze(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ze(It(a.latitude),It(l.latitude));return c!==0?c:ze(It(a.longitude),It(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ww(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const _=a.fields||{},w=l.fields||{},T=(c=_.value)===null||c===void 0?void 0:c.arrayValue,I=(h=w.value)===null||h===void 0?void 0:h.arrayValue,x=ze(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:Ww(T,I)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Ef.mapValue&&l===Ef.mapValue)return 0;if(a===Ef.mapValue)return 1;if(l===Ef.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const w=ze(h[_],g[_]);if(w!==0)return w;const T=cl(c[h[_]],p[g[_]]);if(T!==0)return T}return ze(h.length,g.length)}(t.mapValue,e.mapValue);default:throw be()}}function Hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Rs(t),r=Rs(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function Ww(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=cl(n[i],r[i]);if(a)return a}return ze(n.length,r.length)}function hl(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=jg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${jg(n.fields[l])}`;return i+"}"}(t.mapValue):be()}function Mf(t){switch(ks(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wd(t);return e?16+Mf(e):16;case 5:return 2*t.stringValue.length;case 6:return bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Mf(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fo(r.fields,(a,l)=>{i+=a.length+Mf(l)}),i}(t.mapValue);default:throw be()}}function Ug(t){return!!t&&"integerValue"in t}function iv(t){return!!t&&"arrayValue"in t}function Kw(t){return!!t&&"nullValue"in t}function Gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function A9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=zu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Jn(zu(this.value))}}function FI(t){const e=[];return Fo(t.fields,(n,r)=>{const i=new Xt([n]);if(Ff(r)){const a=FI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new on(e,0,ke.min(),ke.min(),ke.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,ke.min(),ke.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,ke.min(),ke.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.position=e,this.inclusive=n}}function Qw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=cl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function R9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class Ot extends jI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k9(e,n,r):n==="array-contains"?new O9(e,r):n==="in"?new V9(e,r):n==="not-in"?new L9(e,r):n==="array-contains-any"?new M9(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D9(e,r):new N9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends jI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Br(e,n)}matches(e){return UI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UI(t){return t.op==="and"}function BI(t){return b9(t)&&UI(t)}function b9(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function Bg(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(BI(t))return t.filters.map(e=>Bg(e)).join(",");{const e=t.filters.map(n=>Bg(n)).join(",");return`${t.op}(${e})`}}function zI(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&zI(l,i.filters[c]),!0):!1}(t,e):void be()}function $I(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map($I).join(" ,")+"}"}(t):"Filter"}class k9 extends Ot{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class D9 extends Ot{constructor(e,n){super(e,"in",n),this.keys=qI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N9 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=qI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class O9 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iv(n)&&rc(n.arrayValue,this.value)}}class V9 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class L9 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}}class M9 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function Yw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new F9(t,e,n,r,i,a,l)}function sv(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hl(r)).join(",")),e.ue=n}return e.ue}function ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xw(t.startAt,e.startAt)&&Xw(t.endAt,e.endAt)}function zg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function j9(t,e,n,r,i,a,l,c){return new Kd(t,e,n,r,i,a,l,c)}function av(t){return new Kd(t)}function Jw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U9(t){return t.collectionGroup!==null}function $u(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Mt(Xt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ld(a,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new ld(Xt.keyField(),r))}return e.ce}function Nr(t){const e=Oe(t);return e.le||(e.le=B9(e,$u(t))),e.le}function B9(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ld(i.field,a)});const n=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $g(t,e,n){return new Kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return ov(Nr(t),Nr(e))&&t.limitType===e.limitType}function HI(t){return`${sv(Nr(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$I(i)).join(", ")}]`),Hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hl(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of $u(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=Qw(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,$u(r),i)||r.endAt&&!function(l,c,h){const p=Qw(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,$u(r),i))}(t,e)}function z9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WI(t){return(e,n)=>{let r=!1;for(const i of $u(t)){const a=$9(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function $9(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?cl(h,p):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return LI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new pt(Ie.comparator);function Ai(){return q9}const KI=new pt(Ie.comparator);function Nu(...t){let e=KI;for(const n of t)e=e.insert(n.key,n);return e}function GI(t){let e=KI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vo(){return qu()}function QI(){return qu()}function qu(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const H9=new pt(Ie.comparator),W9=new Mt(Ie.comparator);function Ue(...t){let e=W9;for(const n of t)e=e.add(n);return e}const K9=new Mt(ze);function G9(){return K9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function XI(t){return{integerValue:""+t}}function Q9(t,e){return T9(e)?XI(e):lv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function X9(t,e,n){return t instanceof ud?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&rv(a)&&(a=Wd(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof ic?JI(t,e):t instanceof sc?ZI(t,e):function(i,a){const l=YI(i,a),c=Zw(l)+Zw(i.Pe);return Ug(l)&&Ug(i.Pe)?XI(c):lv(i.serializer,c)}(t,e)}function Y9(t,e,n){return t instanceof ic?JI(t,e):t instanceof sc?ZI(t,e):n}function YI(t,e){return t instanceof cd?function(r){return Ug(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ud extends Xd{}class ic extends Xd{constructor(e){super(),this.elements=e}}function JI(t,e){const n=ex(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class sc extends Xd{constructor(e){super(),this.elements=e}}function ZI(t,e){let n=ex(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class cd extends Xd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Zw(t){return It(t.integerValue||t.doubleValue)}function ex(t){return iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ic&&i instanceof ic||r instanceof sc&&i instanceof sc?ul(r.elements,i.elements,Ur):r instanceof cd&&i instanceof cd?Ur(r.Pe,i.Pe):r instanceof ud&&i instanceof ud}(t.transform,e.transform)}class Z9{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function tx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uv(t.key,Or.none()):new zc(t.key,t.data,Or.none());{const n=t.data,r=Jn.empty();let i=new Mt(Xt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Uo(t.key,r,new yr(i.toArray()),Or.none())}}function eN(t,e,n){t instanceof zc?function(i,a,l){const c=i.value.clone(),h=tE(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Uo?function(i,a,l){if(!jf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=tE(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(nx(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Hu(t,e,n,r){return t instanceof zc?function(a,l,c,h){if(!jf(a.precondition,l))return c;const p=a.value.clone(),g=nE(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uo?function(a,l,c,h){if(!jf(a.precondition,l))return c;const p=nE(a.fieldTransforms,h,l),g=l.data;return g.setAll(nx(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return jf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function tN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=YI(r.transform,i||null);a!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,a))}return n||null}function eE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ul(r,i,(a,l)=>J9(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends Yd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends Yd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tE(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,Y9(l,c,n[i]))}return r}function nE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,X9(a,l,e))}return r}class uv extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&eN(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QI();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const h=tx(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(n,r)=>eE(n,r))&&ul(this.baseMutations,e.baseMutations,(n,r)=>eE(n,r))}}class cv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return H9}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new cv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,qe;function oN(t){switch(t){default:return be();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function rx(t){if(t===void 0)return Ci("GRPC error has no .code"),oe.UNKNOWN;switch(t){case At.OK:return oe.OK;case At.CANCELLED:return oe.CANCELLED;case At.UNKNOWN:return oe.UNKNOWN;case At.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case At.INTERNAL:return oe.INTERNAL;case At.UNAVAILABLE:return oe.UNAVAILABLE;case At.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case At.NOT_FOUND:return oe.NOT_FOUND;case At.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case At.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case At.ABORTED:return oe.ABORTED;case At.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case At.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case At.DATA_LOSS:return oe.DATA_LOSS;default:return be()}}(qe=At||(At={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Is([4294967295,4294967295],0);function rE(t){const e=aN().encode(t),n=new PI;return n.update(e),new Uint8Array(n.digest())}function iE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,a],0)]}class hv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Is.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(lN)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=rE(e),[r,i]=iE(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);if(!this.Ee(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new hv(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=rE(e),[r,i]=iE(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(ke.min(),i,new pt(ze),Ai(),Ue())}}class $c{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $c(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ix{constructor(e,n){this.targetId=e,this.me=n}}class sx{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sE{constructor(){this.fe=0,this.ge=oE(),this.pe=Yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new $c(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uN{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ai(),this.qe=Tf(),this.Qe=Tf(),this.Ke=new pt(ze)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const a=i.target;if(zg(a))if(r===0){const l=new Ie(a.path);this.We(n,l,on.newNoDocument(l,ke.min()))}else Je(r===1);else{const l=this.Ze(n);if(l!==r){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=bs(r).toUint8Array()}catch(h){if(h instanceof MI)return ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new hv(l,i,a)}catch(h){return ll(h instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(n,a,null),i++)}),i}it(e){const n=new Map;this.Le.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&zg(c.target)){const h=new Ie(c.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,on.newNoDocument(h,e))}a.be&&(n.set(l,a.ve()),a.Ce())}});let r=Ue();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const i=new Jd(e,n,this.Ke,this.ke,r);return this.ke=Ai(),this.qe=Tf(),this.Qe=Tf(),this.Ke=new pt(ze),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new sE,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Mt(ze),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Mt(ze),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new sE),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Tf(){return new pt(Ie.comparator)}function oE(){return new pt(Ie.comparator)}const cN={asc:"ASCENDING",desc:"DESCENDING"},hN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fN={and:"AND",or:"OR"};class dN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ox(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pN(t,e){return hd(t,e.toTimestamp())}function Vr(t){return Je(!!t),ke.fromTimestamp(function(n){const r=Rs(n);return new Lt(r.seconds,r.nanos)}(t))}function fv(t,e){return Hg(t,e).canonicalString()}function Hg(t,e){const n=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ax(t){const e=_t.fromString(t);return Je(fx(e)),e}function Wg(t,e){return fv(t.databaseId,e.path)}function rg(t,e){const n=ax(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(ux(n))}function lx(t,e){return fv(t.databaseId,e)}function mN(t){const e=ax(t);return e.length===4?_t.emptyPath():ux(e)}function Kg(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ux(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aE(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function gN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Je(g===void 0||typeof g=="string"),Yt.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Yt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?oe.UNKNOWN:rx(p.code);return new Se(g,p.message||"")}(l);n=new sx(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rg(t,r.document.name),a=Vr(r.document.updateTime),l=r.document.createTime?Vr(r.document.createTime):ke.min(),c=new Jn({mapValue:{fields:r.document.fields}}),h=on.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Uf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rg(t,r.document),a=r.readTime?Vr(r.readTime):ke.min(),l=on.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Uf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rg(t,r.document),a=r.removedTargetIds||[];n=new Uf([],a,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new sN(i,a),c=r.targetId;n=new ix(c,l)}}return n}function yN(t,e){let n;if(e instanceof zc)n={update:aE(t,e.key,e.value)};else if(e instanceof uv)n={delete:Wg(t,e.key)};else if(e instanceof Uo)n={update:aE(t,e.key,e.data),updateMask:CN(e.fieldMask)};else{if(!(e instanceof nN))return be();n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ud)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ic)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof sc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cd)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:pN(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be()}(t,e.precondition)),n}function vN(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,a){let l=i.updateTime?Vr(i.updateTime):Vr(a);return l.isEqual(ke.min())&&(l=Vr(a)),new Z9(l,i.transformResults||[])}(n,e))):[]}function _N(t,e){return{documents:[lx(t,e.path)]}}function wN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lx(t,i);const a=function(p){if(p.length!==0)return hx(Br.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:Ua(w.field),direction:SN(w.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=qg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:i}}function EN(t){let e=mN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const w=cx(_);return w instanceof Br&&BI(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(w=>function(I){return new ld(Ba(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,Hd(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(_){const w=!!_.before,T=_.values||[];return new ad(T,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,T=_.values||[];return new ad(T,w)}(n.endAt)),j9(e,i,l,a,c,"F",h,p)}function TN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ba(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ba(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ba(n.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ba(n.unaryFilter.field);return Ot.create(l,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>cx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function SN(t){return cN[t]}function IN(t){return hN[t]}function xN(t){return fN[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return Xt.fromServerFormat(t.fieldPath)}function hx(t){return t instanceof Ot?function(n){if(n.op==="=="){if(Gw(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(Kw(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gw(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(Kw(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:IN(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(i=>hx(i));return r.length===1?r[0]:{compositeFilter:{op:xN(n.op),filters:r}}}(t):be()}function CN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,a=ke.min(),l=ke.min(),c=Yt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.ht=e}}function PN(t){const e=EN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$g(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.ln=new bN}addToCollectionParentIndex(e,n){return this.ln.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ps.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class bN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(_t.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(41943040,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new fl(0)}static Qn(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE([t,e],[n,r]){const i=ze(t,n);return i===0?ze(e,r):i}class kN{constructor(e){this.Gn=e,this.buffer=new Mt(uE),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.Yn(3e5)})}}class NN{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(qd.oe);const r=new kN(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(lE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Fa()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function ON(t,e){return new NN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hu(r.mutation,i,yr.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Nu();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=Ai();const l=qu(),c=function(){return qu()}();return n.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Uo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Hu(g.mutation,p,g.mutation.getFieldMask(),Lt.now())):l.set(p.key,yr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new LN(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=qu();let i=new pt((l,c)=>l-c),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||yr.empty();g=c.applyToLocalView(p,g),r.set(h,g);const _=(i.get(c.batchId)||Ue()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,_=QI();g.forEach(w=>{if(!a.has(w)){const T=tx(n.get(w),r.get(w));T!==null&&_.set(w,T),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):te.resolve(vo());let c=-1,h=a;return l.next(p=>te.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Ue())).next(g=>({batchId:c,changes:GI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Nu();return this.indexManager.getCollectionParents(e,a).next(c=>te.forEach(c,h=>{const p=function(_,w){return new Kd(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,on.newInvalidDocument(g)))});let c=Nu();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&Hu(g.mutation,p,yr.empty(),Lt.now()),Qd(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return te.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:PN(i.bundledQuery),readTime:Vr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.overlays=new pt(Ie.comparator),this.dr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vo();return te.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Tt(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=vo(),a=n.length+1,l=new Ie(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new pt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=vo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=vo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return te.resolve(c)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new iN(n,r));let a=this.dr.get(n);a===void 0&&(a=Ue(),this.dr.set(n,a)),this.dr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.Er=new Mt($t.Ar),this.Rr=new Mt($t.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new $t(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Ie(new _t([])),r=new $t(n,e),i=new $t(n,e+1),a=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ie(new _t([])),r=new $t(n,e),i=new $t(n,e+1);let a=Ue();return this.Rr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new $t(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ie.comparator(e.key,n.key)||ze(e.br,n.br)}static Vr(e,n){return ze(e.br,n.br)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Mt($t.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new rN(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new $t(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],l=>{const c=this.Cr(l.br);a.push(c)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(ze);return n.forEach(i=>{const a=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{r=r.add(c.br)})}),te.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const l=new $t(new Ie(a),0);let c=new Mt(ze);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.br)),!0)},l),te.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return te.forEach(n.mutations,i=>{const a=new $t(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new $t(n,0),i=this.vr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.Nr=e,this.docs=function(){return new pt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():on.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ai();const l=n.path,c=new Ie(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||v9(y9(g),r)<=0||(i.has(g.key)||Qd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,i){be()}Br(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $N(this)}getSize(e){return te.resolve(this.size)}}class $N extends VN{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.persistence=e,this.Lr=new jo(n=>sv(n),ov),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.kr=0,this.qr=new dv,this.targetCount=0,this.Qr=fl.qn()}forEachTarget(e,n){return this.Lr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),te.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Un(n),te.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.Kr={},this.overlays={},this.$r=new qd(0),this.Ur=!1,this.Ur=!0,this.Wr=new UN,this.referenceDelegate=e(this),this.Gr=new qN(this),this.indexManager=new RN,this.remoteDocumentCache=function(i){return new zN(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new AN(n),this.jr=new FN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new BN(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new HN(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,n){return te.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class HN extends w9{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.Zr=new dv,this.Xr=null}static ei(e){return new pv(e)}get ti(){if(this.Xr)return this.Xr;throw be()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),te.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,r=>{const i=Ie.fromPath(r);return this.ni(e,i).next(a=>{a||n.removeEntry(i,ke.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return te.or([()=>te.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.ri=new jo(r=>S9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ON(this,n)}static ei(e,n){return new fd(e,n)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return te.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,n).next(c=>{c||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mf(e.data.value)),n}ir(e,n,r){return te.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ue(),i=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return $k()?8:E9(un())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Xi(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new WN;return this.ts(e,n,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,n,l,c.size)})}).next(()=>a.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Fa()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Fa()<=je.DEBUG&&pe("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Fa()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):te.resolve())}Xi(e,n){if(Jw(n))return te.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$g(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ue(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(n,c);return this.ss(n,p,l,h.readTime)?this.Xi(e,$g(n,null,"F")):this.os(e,p,n,h)}))})))}es(e,n,r,i){return Jw(n)||i.isEqual(ke.min())?te.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(n,a);return this.ss(n,l,r,i)?te.resolve(null):(Fa()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(n)),this.os(e,l,n,g9(i,-1)).next(c=>c))})}rs(e,n){let r=new Mt(WI(e));return n.forEach((i,a)=>{Qd(e,a)&&(r=r.add(a))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,n,r){return Fa()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ja(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ps.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new pt(ze),this.cs=new jo(a=>sv(a),ov),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MN(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function QN(t,e,n,r){return new GN(t,e,n,r)}async function px(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=Ue();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function XN(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const _=p.batch,w=_.keys();let T=te.resolve();return w.forEach(I=>{T=T.next(()=>g.getEntry(h,I)).next(x=>{const b=p.docVersions.get(I);Je(b!==null),x.version.compareTo(b)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ue();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mx(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function YN(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const c=[];e.targetChanges.forEach((g,_)=>{const w=i.get(_);if(!w)return;c.push(n.Gr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(a,g.addedDocuments,_)));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Yt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(x,b,D){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,T,g)&&c.push(n.Gr.updateTargetData(a,T))});let h=Ai(),p=Ue();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(JN(a,l,e.documentUpdates).next(g=>{h=g.Is,p=g.ds})),!r.isEqual(ke.min())){const g=n.Gr.getLastRemoteSnapshotVersion(a).next(_=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return te.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.us=i,a))}function JN(t,e,n){let r=Ue(),i=Ue();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ai();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Is:l,ds:i}})}function ZN(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eO(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):n.Gr.allocateTargetId(r).next(l=>(i=new _s(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Gg(t,e,n){const r=Oe(t),i=r.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!xl(l))throw l;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function cE(t,e,n){const r=Oe(t);let i=ke.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=Oe(h),w=_.cs.get(g);return w!==void 0?te.resolve(_.us.get(w)):_.Gr.getTargetData(p,g)}(r,l,Nr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,n?i:ke.min(),n?a:Ue())).next(c=>(tO(r,z9(e),c),{documents:c,Es:a})))}function tO(t,e,n){let r=t.ls.get(e)||ke.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.ls.set(e,r)}class hE{constructor(){this.activeTargetIds=G9()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nO{constructor(){this._o=new hE,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new hE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function ig(){return Sf===null?Sf=function(){return 268435456+Math.round(2147483648*Math.random())}():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class oO extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(n,r,i,a,l){const c=ig(),h=this.No(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,l),this.Lo(n,h,p,i).then(g=>(pe("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw ll("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",h,"request:",i),g})}ko(n,r,i,a,l,c){return this.Oo(n,r,i,a,l)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>n[l]=a),i&&i.headers.forEach((a,l)=>n[l]=a)}No(n,r){const i=iO[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,i){const a=ig();return new Promise((l,c)=>{const h=new RI;h.setWithCredentials(!0),h.listenOnce(bI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Lf.NO_ERROR:const g=h.getResponseJson();pe(nn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Lf.TIMEOUT:pe(nn,`RPC '${e}' ${a} timed out`),c(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const _=h.getStatus();if(pe(nn,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const I=function(b){const D=b.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(D)>=0?D:oe.UNKNOWN}(T.status);c(new Se(I,T.message))}else c(new Se(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{pe(nn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);pe(nn,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",p,r,15)})}qo(e,n,r){const i=ig(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=NI(),c=DI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");pe(nn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const _=l.createWebChannel(g,h);let w=!1,T=!1;const I=new sO({Eo:b=>{T?pe(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(w||(pe(nn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),pe(nn,`RPC '${e}' stream ${i} sending:`,b),_.send(b))},Ao:()=>_.close()}),x=(b,D,V)=>{b.listen(D,j=>{try{V(j)}catch(G){setTimeout(()=>{throw G},0)}})};return x(_,Du.EventType.OPEN,()=>{T||(pe(nn,`RPC '${e}' stream ${i} transport opened.`),I.So())}),x(_,Du.EventType.CLOSE,()=>{T||(T=!0,pe(nn,`RPC '${e}' stream ${i} transport closed`),I.Do())}),x(_,Du.EventType.ERROR,b=>{T||(T=!0,ll(nn,`RPC '${e}' stream ${i} transport errored:`,b),I.Do(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),x(_,Du.EventType.MESSAGE,b=>{var D;if(!T){const V=b.data[0];Je(!!V);const j=V,G=(j==null?void 0:j.error)||((D=j[0])===null||D===void 0?void 0:D.error);if(G){pe(nn,`RPC '${e}' stream ${i} received error:`,G);const J=G.status;let Z=function(N){const F=At[N];if(F!==void 0)return rx(F)}(J),O=G.message;Z===void 0&&(Z=oe.INTERNAL,O="Unknown error status: "+J+" with message "+G.message),T=!0,I.Do(new Se(Z,O)),_.close()}else pe(nn,`RPC '${e}' stream ${i} received:`,V),I.vo(V)}}),x(c,kI.STAT_EVENT,b=>{b.stat===Fg.PROXY?pe(nn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Fg.NOPROXY&&pe(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return new dN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i,a,l,c,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new gx(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aO extends yx{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=gN(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Vr(l.readTime):ke.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Kg(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=zg(h)?{documents:_N(a,h)}:{query:wN(a,h).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ox(a,l.resumeToken);const p=qg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=hd(a,l.snapshotVersion.toTimestamp());const p=qg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=TN(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Kg(this.serializer),n.removeTarget=e,this.c_(n)}}class lO extends yx{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=vN(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Kg(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yN(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,Hg(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(oe.UNKNOWN,a.toString())})}ko(e,n,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Hg(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(oe.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class cO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ci(n),this.C_=!1):pe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{Bo(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Oe(h);p.k_.add(4),await qc(p),p.K_.set("Unknown"),p.k_.delete(4),await ep(p)}(this))})}),this.K_=new cO(r,i)}}async function ep(t){if(Bo(t))for(const e of t.q_)await e(!0)}async function qc(t){for(const e of t.q_)await e(!1)}function vx(t,e){const n=Oe(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),_v(n)?vv(n):Cl(n).s_()&&yv(n,e))}function gv(t,e){const n=Oe(t),r=Cl(n);n.L_.delete(e),r.s_()&&_x(n,e),n.L_.size===0&&(r.s_()?r.a_():Bo(n)&&n.K_.set("Unknown"))}function yv(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).V_(e)}function _x(t,e){t.U_.xe(e),Cl(t).m_(e)}function vv(t){t.U_=new uN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.K_.F_()}function _v(t){return Bo(t)&&!Cl(t).i_()&&t.L_.size>0}function Bo(t){return Oe(t).k_.size===0}function wx(t){t.U_=void 0}async function fO(t){t.K_.set("Online")}async function dO(t){t.L_.forEach((e,n)=>{yv(t,e)})}async function pO(t,e){wx(t),_v(t)?(t.K_.O_(e),vv(t)):t.K_.set("Unknown")}async function mO(t,e,n){if(t.K_.set("Online"),e instanceof sx&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(t,r)}else if(e instanceof Uf?t.U_.$e(e):e instanceof ix?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ke.min()))try{const r=await mx(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.L_.get(h);if(!g)return;a.L_.set(h,g.withResumeToken(Yt.EMPTY_BYTE_STRING,g.snapshotVersion)),_x(a,h);const _=new _s(g.target,h,p,g.sequenceNumber);yv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await dd(t,r)}}async function dd(t,e,n){if(!xl(e))throw e;t.k_.add(1),await qc(t),t.K_.set("Offline"),n||(n=()=>mx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await ep(t)})}function Ex(t,e){return e().catch(n=>dd(t,n,e))}async function tp(t){const e=Oe(t),n=Ds(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;gO(e);)try{const i=await ZN(e.localStore,r);if(i===null){e.B_.length===0&&n.a_();break}r=i.batchId,yO(e,i)}catch(i){await dd(e,i)}Tx(e)&&Sx(e)}function gO(t){return Bo(t)&&t.B_.length<10}function yO(t,e){t.B_.push(e);const n=Ds(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Tx(t){return Bo(t)&&!Ds(t).i_()&&t.B_.length>0}function Sx(t){Ds(t).start()}async function vO(t){Ds(t).w_()}async function _O(t){const e=Ds(t);for(const n of t.B_)e.g_(n.mutations)}async function wO(t,e,n){const r=t.B_.shift(),i=cv.from(r,e,n);await Ex(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tp(t)}async function EO(t,e){e&&Ds(t).f_&&await async function(r,i){if(function(l){return oN(l)&&l!==oe.ABORTED}(i.code)){const a=r.B_.shift();Ds(r).__(),await Ex(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await tp(r)}}(t,e),Tx(t)&&Sx(t)}async function dE(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=Bo(n);n.k_.add(3),await qc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ep(n)}async function TO(t,e){const n=Oe(t);e?(n.k_.delete(2),await ep(n)):e||(n.k_.add(2),await qc(n),n.K_.set("Unknown"))}function Cl(t){return t.W_||(t.W_=function(n,r,i){const a=Oe(n);return a.b_(),new aO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:fO.bind(null,t),mo:dO.bind(null,t),po:pO.bind(null,t),R_:mO.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),_v(t)?vv(t):t.K_.set("Unknown")):(await t.W_.stop(),wx(t))})),t.W_}function Ds(t){return t.G_||(t.G_=function(n,r,i){const a=Oe(n);return a.b_(),new lO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:vO.bind(null,t),po:EO.bind(null,t),p_:_O.bind(null,t),y_:wO.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await tp(t)):(await t.G_.stop(),t.B_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new wv(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),xl(t))return new Se(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.z_=new pt(Ie.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):be():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class dl{constructor(e,n,r,i,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new dl(e,n,Ja.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class IO{constructor(){this.queries=mE(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Oe(n),a=i.queries;i.queries=mE(),a.forEach((l,c)=>{for(const h of c.J_)h.onError(r)})})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function mE(){return new jo(t=>HI(t),Gd)}async function xO(t,e){const n=Oe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new SO,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await n.onListen(i,!0);break;case 1:a.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Ev(l,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&Tv(n)}async function CO(t,e){const n=Oe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AO(t,e){const n=Oe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.J_)c.ta(i)&&(r=!0);l.H_=i}}r&&Tv(n)}function PO(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(n);r.queries.delete(e)}function Tv(t){t.X_.forEach(e=>{e.next()})}var Qg,gE;(gE=Qg||(Qg={})).na="default",gE.Cache="cache";class RO{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.key=e}}class xx{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ue(),this.mutatedKeys=Ue(),this.Va=WI(e),this.ma=new Ja(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new pE,i=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const w=i.get(g),T=Qd(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),x=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;w&&T?w.data.isEqual(T.data)?I!==x&&(r.track({type:3,doc:T}),b=!0):this.ya(w,T)||(r.track({type:2,doc:T}),b=!0,(h&&this.Va(T,h)>0||p&&this.Va(T,p)<0)&&(c=!0)):!w&&T?(r.track({type:0,doc:T}),b=!0):w&&!T&&(r.track({type:1,doc:w}),b=!0,(h||p)&&(c=!0)),b&&(T?(l=l.add(T),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:l,pa:r,ss:c,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,_)=>function(T,I){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return x(T)-x(I)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(r),i=i!=null&&i;const c=n&&!i?this.Sa():[],h=this.Ra.size===0&&this.current&&!i?1:0,p=h!==this.Aa;return this.Aa=h,l.length!==0||p?{snapshot:new dl(this.query,e.ma,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new pE,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ue(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new xx(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Ix(r))}),n}va(e){this.Ea=e.Es,this.Ra=Ue();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return dl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class kO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DO{constructor(e){this.key=e,this.Fa=!1}}class NO{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new jo(c=>HI(c),Gd),this.Oa=new Map,this.Na=new Set,this.Ba=new pt(Ie.comparator),this.La=new Map,this.ka=new dv,this.qa={},this.Qa=new Map,this.Ka=fl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function OO(t,e,n=!0){const r=kx(t);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await Cx(r,e,n,!0),i}async function VO(t,e){const n=kx(t);await Cx(n,e,!0,!1)}async function Cx(t,e,n,r){const i=await eO(t.localStore,Nr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await LO(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&vx(t.remoteStore,i),c}async function LO(t,e,n,r,i){t.Ua=(_,w,T)=>async function(x,b,D,V){let j=b.view.ga(D);j.ss&&(j=await cE(x.localStore,b.query,!1).then(({documents:O})=>b.view.ga(O,j)));const G=V&&V.targetChanges.get(b.targetId),J=V&&V.targetMismatches.get(b.targetId)!=null,Z=b.view.applyChanges(j,x.isPrimaryClient,G,J);return vE(x,b.targetId,Z.ba),Z.snapshot}(t,_,w,T);const a=await cE(t.localStore,e,!0),l=new bO(e,a.Es),c=l.ga(a.documents),h=$c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,h);vE(t,n,p.ba);const g=new kO(e,n,l);return t.xa.set(e,g),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function MO(t,e,n){const r=Oe(t),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(l=>!Gd(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gv(r.remoteStore,i.targetId),Xg(r,i.targetId)}).catch(Il)):(Xg(r,i.targetId),await Gg(r.localStore,i.targetId,!0))}async function FO(t,e){const n=Oe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gv(n.remoteStore,r.targetId))}async function jO(t,e,n){const r=WO(t);try{const i=await function(l,c){const h=Oe(l),p=Lt.now(),g=c.reduce((T,I)=>T.add(I.key),Ue());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=Ai(),x=Ue();return h.hs.getEntries(T,g).next(b=>{I=b,I.forEach((D,V)=>{V.isValidDocument()||(x=x.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,I)).next(b=>{_=b;const D=[];for(const V of c){const j=tN(V,_.get(V.key).overlayedDocument);j!=null&&D.push(new Uo(V.key,j,FI(j.value.mapValue),Or.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,D,c)}).next(b=>{w=b;const D=b.applyToLocalDocumentSet(_,x);return h.documentOverlayCache.saveOverlays(T,b.batchId,D)})}).then(()=>({batchId:w.batchId,changes:GI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.qa[l.currentUser.toKey()];p||(p=new pt(ze)),p=p.insert(c,h),l.qa[l.currentUser.toKey()]=p}(r,i.batchId,n),await Hc(r,i.changes),await tp(r.remoteStore)}catch(i){const a=Ev(i,"Failed to persist write");n.reject(a)}}async function Ax(t,e){const n=Oe(t);try{const r=await YN(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.La.get(a);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Je(l.Fa):i.removedDocuments.size>0&&(Je(l.Fa),l.Fa=!1))}),await Hc(n,r,e)}catch(r){await Il(r)}}function yE(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Oe(l);h.onlineState=c;let p=!1;h.queries.forEach((g,_)=>{for(const w of _.J_)w.ea(c)&&(p=!0)}),p&&Tv(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UO(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.La.get(e),a=i&&i.key;if(a){let l=new pt(Ie.comparator);l=l.insert(a,on.newNoDocument(a,ke.min()));const c=Ue().add(a),h=new Jd(ke.min(),new Map,new pt(ze),l,c);await Ax(r,h),r.Ba=r.Ba.remove(a),r.La.delete(e),Sv(r)}else await Gg(r.localStore,e,!1).then(()=>Xg(r,e,n)).catch(Il)}async function BO(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await XN(n.localStore,e);Rx(n,r,null),Px(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,i)}catch(i){await Il(i)}}async function zO(t,e,n){const r=Oe(t);try{const i=await function(l,c){const h=Oe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(Je(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);Rx(r,e,n),Px(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,i)}catch(i){await Il(i)}}function Px(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function Rx(t,e,n){const r=Oe(t);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||bx(t,r)})}function bx(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(gv(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),Sv(t))}function vE(t,e,n){for(const r of n)r instanceof Ix?(t.ka.addReference(r.key,e),$O(t,r)):r instanceof xx?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||bx(t,r.key)):be()}function $O(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.Na.add(r),Sv(t))}function Sv(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ie(_t.fromString(e)),r=t.Ka.next();t.La.set(r,new DO(n)),t.Ba=t.Ba.insert(n,r),vx(t.remoteStore,new _s(Nr(av(n.path)),r,"TargetPurposeLimboResolution",qd.oe))}}async function Hc(t,e,n){const r=Oe(t),i=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,h)=>{l.push(r.Ua(h,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=mv.zi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,p){const g=Oe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>te.forEach(p,w=>te.forEach(w.Wi,T=>g.persistence.referenceDelegate.addReference(_,w.targetId,T)).next(()=>te.forEach(w.Gi,T=>g.persistence.referenceDelegate.removeReference(_,w.targetId,T)))))}catch(_){if(!xl(_))throw _;pe("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const T=g.us.get(w),I=T.snapshotVersion,x=T.withLastLimboFreeSnapshotVersion(I);g.us=g.us.insert(w,x)}}}(r.localStore,a))}async function qO(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await px(n.localStore,e);n.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(h=>{h.reject(new Se(oe.CANCELLED,l))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.Ts)}}function HO(t,e){const n=Oe(t),r=n.La.get(e);if(r&&r.Fa)return Ue().add(r.key);{let i=Ue();const a=n.Oa.get(e);if(!a)return i;for(const l of a){const c=n.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function kx(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UO.bind(null,e),e.Ma.R_=AO.bind(null,e.eventManager),e.Ma.Wa=PO.bind(null,e.eventManager),e}function WO(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zO.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return QN(this.persistence,new KN,e.initialUser,this.serializer)}ja(e){return new dx(pv.ei,this.serializer)}za(e){return new nO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class KO extends pd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Je(this.persistence.referenceDelegate instanceof fd);const r=this.persistence.referenceDelegate.garbageCollector;return new DN(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new dx(r=>fd.ei(r,n),this.serializer)}}class Yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IO}()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),r=function(a){return new oO(a)}(e.databaseInfo);return function(a,l,c,h){return new uO(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new hO(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>yE(this.syncEngine,n,0),function(){return fE.p()?new fE:new rO}())}createSyncEngine(e,n){return function(i,a,l,c,h,p,g){const _=new NO(i,a,l,c,h,p);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Oe(i);pe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await qc(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yg.provider={build:()=>new Yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=VI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{pe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ev(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await px(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XO(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dE(e.remoteStore,i)),t._onlineComponents=e}async function XO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new pd)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await og(t,new KO(void 0));return t._offlineComponents}async function Dx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await _E(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await _E(t,new Yg))),t._onlineComponents}function YO(t){return Dx(t).then(e=>e.syncEngine)}async function JO(t){const e=await Dx(t),n=e.eventManager;return n.onListen=OO.bind(null,e.syncEngine),n.onUnlisten=MO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FO.bind(null,e.syncEngine),n}function ZO(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new GO({next:w=>{g.eu(),l.enqueueAndForget(()=>CO(a,_));const T=w.docs.has(c);!T&&w.fromCache?p.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?p.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new RO(av(c.path),g,{includeMetadataChanges:!0,ua:!0});return xO(a,_)}(await JO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,e,n){if(!n)throw new Se(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tV(t,e,n,r){if(e===!0&&r===!0)throw new Se(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EE(t){if(!Ie.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Iv(t);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a9;switch(r.type){case"firstParty":return new h9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wE.get(n);r&&(pe("ComponentProvider","Removing Datastore"),wE.delete(n),r.terminate())}(this),Promise.resolve()}}function nV(t,e,n,r={}){var i;const a=(t=pl(t,xv))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=sn.MOCK_USER;else{c=Lk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new sn(p)}t._authCredentials=new l9(new OI(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cv(this.firestore,e,this._query)}}class Zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class oc extends Cv{constructor(e,n,r){super(e,n,av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Ie(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function SE(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=VI.newId()),eV("doc","path",e),t instanceof xv){const r=_t.fromString(e,...n);return EE(r),new Zn(t,null,new Ie(r))}{if(!(t instanceof Zn||t instanceof oc))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return EE(r),new Zn(t.firestore,t instanceof oc?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new gx(this,"async_queue_retry"),this.fu=()=>{const r=sg();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new xs;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!xl(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=wv.createAndSchedule(this,e,n,r,a=>this.Su(a));return this.Eu.push(i),i}pu(){this.Au&&be()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class np extends xv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IE(e),this._firestoreClient=void 0,await e}}}function rV(t,e){const n=typeof t=="object"?t:WS(),r=typeof t=="string"?t:"(default)",i=qy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Ok("firestore");a&&nV(i,...a)}return i}function Ox(t){if(t._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iV(t),t._firestoreClient}function iV(t){var e,n,r;const i=t._freezeSettings(),a=function(c,h,p,g){return new C9(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Nx(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new QO(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Yt.fromBase64String(e))}catch(n){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=/^__.*__$/;class oV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}function Lx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class bv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return md(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Lx(this.Mu)&&sV.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class aV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}$u(e,n,r,i=!1){return new bv({Mu:e,methodName:n,Ku:r,path:Xt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lV(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new aV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uV(t,e,n,r,i,a={}){const l=t.$u(a.merge||a.mergeFields?2:0,e,n,i);Ux("Data must be an object, but it was:",l,r);const c=Fx(r,l);let h,p;if(a.merge)h=new yr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=cV(e,_,n);if(!l.contains(w))throw new Se(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);fV(g,w)||g.push(w)}h=new yr(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new oV(new Jn(c),h,p)}function Mx(t,e){if(jx(t=Mn(t)))return Ux("Unsupported field value:",e,t),Fx(t,e);if(t instanceof Vx)return function(r,i){if(!Lx(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let h=Mx(c,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Lt.fromDate(r);return{timestampValue:hd(i.serializer,a)}}if(r instanceof Lt){const a=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,a)}}if(r instanceof Pv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ml)return{bytesValue:ox(i.serializer,r._byteString)};if(r instanceof Zn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rv)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return lv(c.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Iv(r)}`)}(t,e)}function Fx(t,e){const n={};return LI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{const a=Mx(i,e.Ou(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function jx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof Pv||t instanceof ml||t instanceof Zn||t instanceof Vx||t instanceof Rv)}function Ux(t,e,n){if(!jx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Iv(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function cV(t,e,n){if((e=Mn(e))instanceof Av)return e._internalPath;if(typeof e=="string")return Bx(t,e);throw md("Field path arguments must be of type string or ",t,!1,void 0,n)}const hV=new RegExp("[~\\*/\\[\\]]");function Bx(t,e,n){if(e.search(hV)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Av(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function md(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Se(oe.INVALID_ARGUMENT,c+t+h)}function fV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($x("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dV extends zx{data(){return super.data()}}function $x(t,e){return typeof e=="string"?Bx(t,e):e instanceof Av?e._internalPath:e._delegate._internalPath}class pV{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>It(l.doubleValue));return new Rv(a)}convertGeoPoint(e){return new Pv(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);Je(fx(r));const i=new nc(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return i.isEqual(n)||Ci(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qx extends zx{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($x("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yV extends qx{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){t=pl(t,Zn);const e=pl(t.firestore,np);return ZO(Ox(e),t._key).then(n=>EV(e,t,n))}class _V extends pV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function xE(t,e,n){t=pl(t,Zn);const r=pl(t.firestore,np),i=mV(t.converter,e,n);return Hx(r,[uV(lV(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function wV(t){return Hx(pl(t.firestore,np),[new uv(t._key,Or.none())])}function Hx(t,e){return function(r,i){const a=new xs;return r.asyncQueue.enqueueAndForget(async()=>jO(await YO(r),i,a)),a.promise}(Ox(t),e)}function EV(t,e,n){const r=n.docs.get(e._key),i=new _V(t);return new qx(t,i,e._key,r,new gV(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Sl=i})(El),ol(new ko("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new np(new u9(r.getProvider("auth-internal")),new d9(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ss(Bw,"4.7.6",e),Ss(Bw,"4.7.6","esm2017")})();const TV={apiKey:"AIzaSyBaK1O5W5pPk2GUWZ84EXdjoBneRMABB6Q",authDomain:"shopping-website-52c65.firebaseapp.com",projectId:"shopping-website-52c65",storageBucket:"shopping-website-52c65.firebasestorage.app",messagingSenderId:"815560022538",appId:"1:815560022538:web:6100d979b42721ea6f5df3",measurementId:"G-G8YP77NF0H"},Wx=HS(TV),CE=rV(Wx),Wu=s9(Wx),SV=new pi,rp=M.createContext(),IV=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0);return M.useEffect(()=>{const a=Q6(Wu,l=>{n(l),i(!1)});return()=>a()},[]),q.jsxs(rp.Provider,{value:{user:e,setUser:n},children:[!r&&t," "]})};function Kx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Kx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ro(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Kx(t))&&(r&&(r+=" "),r+=e);return r}function xV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}xV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Wc=t=>typeof t=="number"&&!isNaN(t),Oo=t=>typeof t=="string",Pi=t=>typeof t=="function",CV=t=>Oo(t)||Wc(t),Jg=t=>Oo(t)||Pi(t)?t:null,AV=(t,e)=>t===!1||Wc(t)&&t>0?t:e,Zg=t=>M.isValidElement(t)||Oo(t)||Pi(t)||Wc(t);function PV(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function RV({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:l,preventExitTransition:c,done:h,nodeRef:p,isIn:g,playToast:_}){let w=n?`${t}--${l}`:t,T=n?`${e}--${l}`:e,I=M.useRef(0);return M.useLayoutEffect(()=>{let x=p.current,b=w.split(" "),D=V=>{V.target===p.current&&(_(),x.removeEventListener("animationend",D),x.removeEventListener("animationcancel",D),I.current===0&&V.type!=="animationcancel"&&x.classList.remove(...b))};x.classList.add(...b),x.addEventListener("animationend",D),x.addEventListener("animationcancel",D)},[]),M.useEffect(()=>{let x=p.current,b=()=>{x.removeEventListener("animationend",b),r?PV(x,h,i):h()};g||(c?b():(I.current=1,x.className+=` ${T}`,x.addEventListener("animationend",b)))},[g]),Me.createElement(Me.Fragment,null,a)}}function AE(t,e){return{content:Gx(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Gx(t,e,n=!1){return M.isValidElement(t)&&!Oo(t.type)?M.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Pi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function bV({closeToast:t,theme:e,ariaLabel:n="close"}){return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function kV({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:l,progress:c,rtl:h,isIn:p,theme:g}){let _=i||l&&c===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(w.transform=`scaleX(${c})`);let T=Ro("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),I=Pi(a)?a({rtl:h,type:r,defaultClassName:T}):Ro(T,a),x={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{p&&n()}};return Me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),Me.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:I,style:w,...x}))}var DV=1,Qx=()=>`${DV++}`;function NV(t,e,n){let r=1,i=0,a=[],l=[],c=e,h=new Map,p=new Set,g=V=>(p.add(V),()=>p.delete(V)),_=()=>{l=Array.from(h.values()),p.forEach(V=>V())},w=({containerId:V,toastId:j,updateId:G})=>{let J=V?V!==t:t!==1,Z=h.has(j)&&G==null;return J||Z},T=(V,j)=>{h.forEach(G=>{var J;(j==null||j===G.props.toastId)&&((J=G.toggle)==null||J.call(G,V))})},I=V=>{var j,G;(G=(j=V.props)==null?void 0:j.onClose)==null||G.call(j,V.removalReason),V.isActive=!1},x=V=>{if(V==null)h.forEach(I);else{let j=h.get(V);j&&I(j)}_()},b=()=>{i-=a.length,a=[]},D=V=>{var j,G;let{toastId:J,updateId:Z}=V.props,O=Z==null;V.staleId&&h.delete(V.staleId),V.isActive=!0,h.set(J,V),_(),n(AE(V,O?"added":"updated")),O&&((G=(j=V.props).onOpen)==null||G.call(j))};return{id:t,props:c,observe:g,toggle:T,removeToast:x,toasts:h,clearQueue:b,buildToast:(V,j)=>{if(w(j))return;let{toastId:G,updateId:J,data:Z,staleId:O,delay:A}=j,N=J==null;N&&i++;let F={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([k,C])=>C!=null)),toastId:G,updateId:J,data:Z,isIn:!1,className:Jg(j.className||c.toastClassName),progressClassName:Jg(j.progressClassName||c.progressClassName),autoClose:j.isLoading?!1:AV(j.autoClose,c.autoClose),closeToast(k){h.get(G).removalReason=k,x(G)},deleteToast(){let k=h.get(G);if(k!=null){if(n(AE(k,"removed")),h.delete(G),i--,i<0&&(i=0),a.length>0){D(a.shift());return}_()}}};F.closeButton=c.closeButton,j.closeButton===!1||Zg(j.closeButton)?F.closeButton=j.closeButton:j.closeButton===!0&&(F.closeButton=Zg(c.closeButton)?c.closeButton:!0);let P={content:V,props:F,staleId:O};c.limit&&c.limit>0&&i>c.limit&&N?a.push(P):Wc(A)?setTimeout(()=>{D(P)},A):D(P)},setProps(V){c=V},setToggle:(V,j)=>{let G=h.get(V);G&&(G.toggle=j)},isToastActive:V=>{var j;return(j=h.get(V))==null?void 0:j.isActive},getSnapshot:()=>l}}var pn=new Map,ac=[],ey=new Set,OV=t=>ey.forEach(e=>e(t)),Xx=()=>pn.size>0;function VV(){ac.forEach(t=>Jx(t.content,t.options)),ac=[]}var LV=(t,{containerId:e})=>{var n;return(n=pn.get(e||1))==null?void 0:n.toasts.get(t)};function Yx(t,e){var n;if(e)return!!((n=pn.get(e))!=null&&n.isToastActive(t));let r=!1;return pn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function MV(t){if(!Xx()){ac=ac.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||CV(t))pn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=pn.get(t.containerId);e?e.removeToast(t.id):pn.forEach(n=>{n.removeToast(t.id)})}}var FV=(t={})=>{pn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Jx(t,e){Zg(t)&&(Xx()||ac.push({content:t,options:e}),pn.forEach(n=>{n.buildToast(t,e)}))}function jV(t){var e;(e=pn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Zx(t,e){pn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function UV(t){let e=t.containerId||1;return{subscribe(n){let r=NV(e,t,OV);pn.set(e,r);let i=r.observe(n);return VV(),()=>{i(),pn.delete(e)}},setProps(n){var r;(r=pn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=pn.get(e))==null?void 0:n.getSnapshot()}}}function BV(t){return ey.add(t),()=>{ey.delete(t)}}function zV(t){return t&&(Oo(t.toastId)||Wc(t.toastId))?t.toastId:Qx()}function Kc(t,e){return Jx(t,e),e.toastId}function ip(t,e){return{...e,type:e&&e.type||t,toastId:zV(e)}}function sp(t){return(e,n)=>Kc(e,ip(t,n))}function We(t,e){return Kc(t,ip("default",e))}We.loading=(t,e)=>Kc(t,ip("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function $V(t,{pending:e,error:n,success:r},i){let a;e&&(a=Oo(e)?We.loading(e,i):We.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(p,g,_)=>{if(g==null){We.dismiss(a);return}let w={type:p,...l,...i,data:_},T=Oo(g)?{render:g}:g;return a?We.update(a,{...w,...T}):We(T.render,{...w,...T}),_},h=Pi(t)?t():t;return h.then(p=>c("success",r,p)).catch(p=>c("error",n,p)),h}We.promise=$V;We.success=sp("success");We.info=sp("info");We.error=sp("error");We.warning=sp("warning");We.warn=We.warning;We.dark=(t,e)=>Kc(t,ip("default",{theme:"dark",...e}));function qV(t){MV(t)}We.dismiss=qV;We.clearWaitingQueue=FV;We.isActive=Yx;We.update=(t,e={})=>{let n=LV(t,e);if(n){let{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:Qx()};a.toastId!==t&&(a.staleId=t);let l=a.render||i;delete a.render,Kc(l,a)}};We.done=t=>{We.update(t,{progress:1})};We.onChange=BV;We.play=t=>Zx(!0,t);We.pause=t=>Zx(!1,t);function HV(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(UV(t)).current;i(t);let a=(e=M.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(c){if(!a)return[];let h=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;h.has(g)||h.set(g,[]),h.get(g).push(p)}),Array.from(h,p=>c(p[0],p[1]))}return{getToastToRender:l,isToastActive:Yx,count:a==null?void 0:a.length}}function WV(t){let[e,n]=M.useState(!1),[r,i]=M.useState(!1),a=M.useRef(null),l=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:h,closeToast:p,onClick:g,closeOnClick:_}=t;jV({id:t.toastId,containerId:t.containerId,fn:n}),M.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{T()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||D(),window.addEventListener("focus",b),window.addEventListener("blur",D)}function T(){window.removeEventListener("focus",b),window.removeEventListener("blur",D)}function I(O){if(t.draggable===!0||t.draggable===O.pointerType){V();let A=a.current;l.canCloseOnClick=!0,l.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(l.start=O.clientX,l.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(l.start=O.clientY,l.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function x(O){let{top:A,bottom:N,left:F,right:P}=a.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&t.pauseOnHover&&O.clientX>=F&&O.clientX<=P&&O.clientY>=A&&O.clientY<=N?D():b()}function b(){n(!0)}function D(){n(!1)}function V(){l.didMove=!1,document.addEventListener("pointermove",G),document.addEventListener("pointerup",J)}function j(){document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",J)}function G(O){let A=a.current;if(l.canDrag&&A){l.didMove=!0,e&&D(),t.draggableDirection==="x"?l.delta=O.clientX-l.start:l.delta=O.clientY-l.start,l.start!==O.clientX&&(l.canCloseOnClick=!1);let N=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;A.style.transform=`translate3d(${N},0)`,A.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function J(){j();let O=a.current;if(l.canDrag&&l.didMove&&O){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let Z={onPointerDown:I,onPointerUp:x};return c&&h&&(Z.onMouseEnter=D,t.stacked||(Z.onMouseLeave=b)),_&&(Z.onClick=O=>{g&&g(O),l.canCloseOnClick&&p(!0)}),{playToast:b,pauseToast:D,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Z}}var KV=typeof window<"u"?M.useLayoutEffect:M.useEffect,op=({theme:t,type:e,isLoading:n,...r})=>Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function GV(t){return Me.createElement(op,{...t},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function QV(t){return Me.createElement(op,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function XV(t){return Me.createElement(op,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function YV(t){return Me.createElement(op,{...t},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function JV(){return Me.createElement("div",{className:"Toastify__spinner"})}var ty={info:QV,warning:GV,success:XV,error:YV,spinner:JV},ZV=t=>t in ty;function eL({theme:t,type:e,isLoading:n,icon:r}){let i=null,a={theme:t,type:e};return r===!1||(Pi(r)?i=r({...a,isLoading:n}):M.isValidElement(r)?i=M.cloneElement(r,a):n?i=ty.spinner():ZV(e)&&(i=ty[e](a))),i}var tL=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=WV(t),{closeButton:l,children:c,autoClose:h,onClick:p,type:g,hideProgressBar:_,closeToast:w,transition:T,position:I,className:x,style:b,progressClassName:D,updateId:V,role:j,progress:G,rtl:J,toastId:Z,deleteToast:O,isIn:A,isLoading:N,closeOnClick:F,theme:P,ariaLabel:k}=t,C=Ro("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":F}),X=Pi(x)?x({rtl:J,position:I,type:g,defaultClassName:C}):Ro(C,x),Ae=eL(t),he=!!G||!h,ce={closeToast:w,type:g,theme:P},ne=null;return l===!1||(Pi(l)?ne=l(ce):M.isValidElement(l)?ne=M.cloneElement(l,ce):ne=bV(ce)),Me.createElement(T,{isIn:A,done:O,position:I,preventExitTransition:n,nodeRef:r,playToast:a},Me.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":A,className:X,...i,style:b,ref:r,...A&&{role:j,"aria-label":k}},Ae!=null&&Me.createElement("div",{className:Ro("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},Ae),Gx(c,t,!e),ne,!t.customProgressBar&&Me.createElement(kV,{...V&&!he?{key:`p-${V}`}:{},rtl:J,theme:P,delay:h,isRunning:e,isIn:A,closeToast:w,hide:_,type:g,className:D,controlledProgress:he,progress:G||0})))},nL=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),rL=RV(nL("bounce",!0)),iL={position:"top-right",transition:rL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function sL(t){let e={...iL,...t},n=t.stacked,[r,i]=M.useState(!0),a=M.useRef(null),{getToastToRender:l,isToastActive:c,count:h}=HV(e),{className:p,style:g,rtl:_,containerId:w,hotKeys:T}=e;function I(b){let D=Ro("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":_});return Pi(p)?p({position:b,rtl:_,defaultClassName:D}):Ro(D,Jg(p))}function x(){n&&(i(!0),We.play())}return KV(()=>{var b;if(n){let D=a.current.querySelectorAll('[data-in="true"]'),V=12,j=(b=e.position)==null?void 0:b.includes("top"),G=0,J=0;Array.from(D).reverse().forEach((Z,O)=>{let A=Z;A.classList.add("Toastify__toast--stacked"),O>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=j?"top":"bot");let N=G*(r?.2:1)+(r?0:V*O);A.style.setProperty("--y",`${j?N:N*-1}px`),A.style.setProperty("--g",`${V}`),A.style.setProperty("--s",`${1-(r?J:0)}`),G+=A.offsetHeight,J+=.025})}},[r,h,n]),M.useEffect(()=>{function b(D){var V;let j=a.current;T(D)&&((V=j.querySelector('[tabIndex="0"]'))==null||V.focus(),i(!1),We.pause()),D.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(i(!0),We.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[T]),Me.createElement("section",{ref:a,className:"Toastify",id:w,onMouseEnter:()=>{n&&(i(!1),We.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((b,D)=>{let V=D.length?{...g}:{...g,pointerEvents:"none"};return Me.createElement("div",{tabIndex:-1,className:I(b),"data-stacked":n,style:V,key:`c-${b}`},D.map(({content:j,props:G})=>Me.createElement(tL,{...G,stacked:n,collapseAll:x,isIn:c(G.toastId,G.containerId),key:`t-${G.key}`},j)))}))}var eC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PE=Me.createContext&&Me.createContext(eC),oL=["attr","size","title"];function aL(t,e){if(t==null)return{};var n=lL(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}function RE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(n),!0).forEach(function(r){uL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uL(t,e,n){return e=cL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cL(t){var e=hL(t,"string");return typeof e=="symbol"?e:e+""}function hL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tC(t){return t&&t.map((e,n)=>Me.createElement(e.tag,yd({key:n},e.attr),tC(e.child)))}function mt(t){return e=>Me.createElement(fL,gd({attr:yd({},t.attr)},e),tC(t.child))}function fL(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=aL(t,oL),c=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Me.createElement("svg",gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:yd(yd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Me.createElement("title",null,a),t.children)};return PE!==void 0?Me.createElement(PE.Consumer,null,n=>e(n)):e(eC)}function dL(t){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}const pL=()=>{const{user:t}=M.useContext(rp),[e,n]=M.useState([]),[r,i]=M.useState({}),[a,l]=M.useState("全部"),[c,h]=M.useState(["全部"]),[p,g]=M.useState(!0);M.useEffect(()=>{const T=x=>{x.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")},I=x=>{x.preventDefault()};return document.addEventListener("contextmenu",T),document.addEventListener("dragstart",I),()=>{document.removeEventListener("contextmenu",T),document.removeEventListener("dragstart",I)}},[]),M.useEffect(()=>{(async()=>{try{g(!0);const b=(await Ju.fetch(`*[_type == "category"] | order(name asc) { 
          name,
          "slug": slug.current
        }`)).map(j=>j.name);h(["全部",...b]);const V=await Ju.fetch(`*[_type == "product"] {
          _id,
          price,
          name,
          "slug": slug.current,
          "categoryName": category->name,
          "categorySlug": category->slug.current,
          "imageUrl": images[0].asset->url
        }`);n(V)}catch(I){console.error("獲取數據時發生錯誤:",I),We.error("獲取產品時發生錯誤，請稍後再試")}finally{g(!1)}})()},[]),M.useEffect(()=>{t?(async()=>{const I=SE(CE,"favorites",t.uid),x=await vV(I);x.exists()?i(x.data().favorites||{}):i({})})():i({})},[t]);const _=async T=>{if(!t){We.warn("請先登入才能收藏商品",{position:"top-right",autoClose:2e3});return}const I=SE(CE,"favorites",t.uid);let x={...r};try{r[T._id]?(delete x[T._id],We.info("已取消收藏",{position:"top-right",autoClose:2e3}),Object.keys(x).length===0?await wV(I):await xE(I,{favorites:x},{merge:!0})):(x[T._id]={id:T._id,name:T.name,price:T.price,imageUrl:T.imageUrl,slug:T.slug,categoryName:T.categoryName},await xE(I,{favorites:x},{merge:!0}),We.success("已加入收藏",{position:"top-right",autoClose:2e3})),i(x)}catch(b){console.error("收藏商品時發生錯誤:",b),We.error("收藏商品時發生錯誤，請稍後再試",{position:"top-right",autoClose:2e3})}},w=a==="全部"?e:e.filter(T=>T.categoryName===a);return p?q.jsx("div",{className:"flex justify-center items-center h-64",children:"載入中..."}):q.jsx("div",{className:"bg-white",children:q.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24",children:[q.jsx("div",{className:"mb-8 border-b border-gray-200",children:q.jsx("div",{className:"flex space-x-8 overflow-x-auto pb-1",children:c.map(T=>q.jsx("button",{className:`whitespace-nowrap pb-4 px-1 font-medium text-sm ${a===T?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l(T),children:T},T))})}),q.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map(T=>q.jsxs("div",{className:"relative group",children:[q.jsx("button",{className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md z-10",onClick:()=>_(T),children:q.jsx(dL,{className:`text-xl ${r[T._id]?"text-red-500":"text-gray-400"}`})}),q.jsxs(bc,{to:`/product/${T.slug}`,className:"block",children:[q.jsx("div",{className:"overflow-hidden rounded-lg bg-gray-100 aspect-w-4 aspect-h-3",children:q.jsx("img",{src:T.imageUrl||"/placeholder.jpg",alt:T.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:I=>{I.target.src="/placeholder.jpg"},onDragStart:I=>I.preventDefault()})}),q.jsxs("div",{className:"mt-3",children:[q.jsx("h3",{className:"font-medium text-gray-900",children:T.name}),q.jsxs("p",{className:"mt-1 text-gray-600",children:["$",T.price]}),T.categoryName&&q.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-gray-100 text-xs rounded-full text-gray-600",children:T.categoryName})]})]})]},T._id))}),w.length===0&&q.jsx("div",{className:"text-center py-12",children:q.jsx("p",{className:"text-gray-500",children:"此分類下暫無產品"})})]})})},mL=()=>q.jsxs("div",{children:[q.jsx(Ck,{}),q.jsx(pL,{})]});function gL(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}const nC=M.createContext({});function yL(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const kv=M.createContext(null),rC=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vL(t=!0){const e=M.useContext(kv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=M.useId();M.useEffect(()=>{t&&i(a)},[t]);const l=M.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Dv=typeof window<"u",_L=Dv?M.useLayoutEffect:M.useEffect,Ln=t=>t;let ny=Ln;function Nv(t){let e;return()=>(e===void 0&&(e=t()),e)}const gl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},wi=t=>t*1e3,Ei=t=>t/1e3,wL={skipAnimations:!1,useManualTiming:!1};function EL(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(h.schedule(p),t()),p(l)}const h={schedule:(p,g=!1,_=!1)=>{const T=_&&r?e:n;return g&&a.add(p),T.has(p)||T.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const If=["read","resolveKeyframes","update","preRender","render","postRender"],TL=40;function iC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=If.reduce((D,V)=>(D[V]=EL(a),D),{}),{read:c,resolveKeyframes:h,update:p,preRender:g,render:_,postRender:w}=l,T=()=>{const D=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,TL),1),i.timestamp=D,i.isProcessing=!0,c.process(i),h.process(i),p.process(i),g.process(i),_.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},I=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:If.reduce((D,V)=>{const j=l[V];return D[V]=(G,J=!1,Z=!1)=>(n||I(),j.schedule(G,J,Z)),D},{}),cancel:D=>{for(let V=0;V<If.length;V++)l[If[V]].cancel(D)},state:i,steps:l}}const{schedule:at,cancel:Ns,state:Gt,steps:ag}=iC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0),sC=M.createContext({strict:!1}),bE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yl={};for(const t in bE)yl[t]={isEnabled:e=>bE[t].some(n=>!!e[n])};function SL(t){for(const e in t)yl[e]={...yl[e],...t[e]}}const IL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IL.has(t)}let oC=t=>!vd(t);function xL(t){t&&(oC=e=>e.startsWith("on")?!vd(e):t(e))}try{xL(require("@emotion/is-prop-valid").default)}catch{}function CL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(oC(i)||n===!0&&vd(i)||!e&&!vd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function AL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ap=M.createContext({});function lc(t){return typeof t=="string"||Array.isArray(t)}function lp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vv=["initial",...Ov];function up(t){return lp(t.animate)||Vv.some(e=>lc(t[e]))}function aC(t){return!!(up(t)||t.variants)}function PL(t,e){if(up(t)){const{initial:n,animate:r}=t;return{initial:n===!1||lc(n)?n:void 0,animate:lc(r)?r:void 0}}return t.inherit!==!1?e:{}}function RL(t){const{initial:e,animate:n}=PL(t,M.useContext(ap));return M.useMemo(()=>({initial:e,animate:n}),[kE(e),kE(n)])}function kE(t){return Array.isArray(t)?t.join(" "):t}const bL=Symbol.for("motionComponentSymbol");function za(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kL(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):za(n)&&(n.current=r))},[e])}const Lv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DL="framerAppearId",lC="data-"+Lv(DL),{schedule:Mv,cancel:vU}=iC(queueMicrotask,!1),uC=M.createContext({});function NL(t,e,n,r,i){var a,l;const{visualElement:c}=M.useContext(ap),h=M.useContext(sC),p=M.useContext(kv),g=M.useContext(rC).reducedMotion,_=M.useRef(null);r=r||h.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=_.current,T=M.useContext(uC);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&OL(_.current,n,i,T);const I=M.useRef(!1);M.useInsertionEffect(()=>{w&&I.current&&w.update(n,p)});const x=n[lC],b=M.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,x)));return _L(()=>{w&&(I.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Mv.render(w.render),b.current&&w.animationState&&w.animationState.animateChanges())}),M.useEffect(()=>{w&&(!b.current&&w.animationState&&w.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,x)}),b.current=!1))}),w}function OL(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cC(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&za(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function cC(t){if(t)return t.options.allowProjection!==!1?t.projection:cC(t.parent)}function VL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&SL(t);function c(p,g){let _;const w={...M.useContext(rC),...p,layoutId:LL(p)},{isStatic:T}=w,I=RL(p),x=r(p,T);if(!T&&Dv){ML();const b=FL(w);_=b.MeasureLayout,I.visualElement=NL(i,x,w,e,b.ProjectionNode)}return q.jsxs(ap.Provider,{value:I,children:[_&&I.visualElement?q.jsx(_,{visualElement:I.visualElement,...w}):null,n(i,p,kL(x,I.visualElement,g),x,T,I.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const h=M.forwardRef(c);return h[bL]=i,h}function LL({layoutId:t}){const e=M.useContext(nC).id;return e&&t!==void 0?e+"-"+t:t}function ML(t,e){M.useContext(sC).strict}function FL(t){const{drag:e,layout:n}=yl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const jL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fv(t){return typeof t!="string"||t.includes("-")?!1:!!(jL.indexOf(t)>-1||/[A-Z]/u.test(t))}function DE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function jv(t,e,n,r){if(typeof e=="function"){const[i,a]=DE(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=DE(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const ry=t=>Array.isArray(t),UL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),BL=t=>ry(t)?t[t.length-1]||0:t,an=t=>!!(t&&t.getVelocity);function Bf(t){const e=an(t)?t.get():t;return UL(e)?e.toValue():e}function zL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:$L(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const hC=t=>(e,n)=>{const r=M.useContext(ap),i=M.useContext(kv),a=()=>zL(t,e,r,i);return n?a():yL(a)};function $L(t,e,n,r){const i={},a=r(t,{});for(const w in a)i[w]=Bf(a[w]);let{initial:l,animate:c}=t;const h=up(t),p=aC(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!lp(_)){const w=Array.isArray(_)?_:[_];for(let T=0;T<w.length;T++){const I=jv(t,w[T]);if(I){const{transitionEnd:x,transition:b,...D}=I;for(const V in D){let j=D[V];if(Array.isArray(j)){const G=g?j.length-1:0;j=j[G]}j!==null&&(i[V]=j)}for(const V in x)i[V]=x[V]}}}return i}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zo=new Set(Al),fC=t=>e=>typeof e=="string"&&e.startsWith(t),dC=fC("--"),qL=fC("var(--"),Uv=t=>qL(t)?HL.test(t.split("/*")[0].trim()):!1,HL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ri=(t,e,n)=>n>e?e:n<t?t:n,Pl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uc={...Pl,transform:t=>Ri(0,1,t)},xf={...Pl,default:1},Gc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ss=Gc("deg"),Lr=Gc("%"),Ce=Gc("px"),WL=Gc("vh"),KL=Gc("vw"),NE={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},GL={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},QL={rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:xf,scaleX:xf,scaleY:xf,scaleZ:xf,skew:ss,skewX:ss,skewY:ss,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:uc,originX:NE,originY:NE,originZ:Ce},OE={...Pl,transform:Math.round},Bv={...GL,...QL,zIndex:OE,size:Ce,fillOpacity:uc,strokeOpacity:uc,numOctaves:OE},XL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YL=Al.length;function JL(t,e,n){let r="",i=!0;for(let a=0;a<YL;a++){const l=Al[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=pC(c,Bv[l]);if(!h){i=!1;const g=XL[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function zv(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(zo.has(h)){l=!0;continue}else if(dC(h)){i[h]=p;continue}else{const g=pC(p,Bv[h]);h.startsWith("origin")?(c=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=JL(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${p} ${g}`}}const ZL={offset:"stroke-dashoffset",array:"stroke-dasharray"},eM={offset:"strokeDashoffset",array:"strokeDasharray"};function tM(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?ZL:eM;t[a.offset]=Ce.transform(-r);const l=Ce.transform(e),c=Ce.transform(n);t[a.array]=`${l} ${c}`}function VE(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function nM(t,e,n){const r=VE(e,t.x,t.width),i=VE(n,t.y,t.height);return`${r} ${i}`}function $v(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},g,_){if(zv(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:T,dimensions:I}=t;w.transform&&(I&&(T.transform=w.transform),delete w.transform),I&&(i!==void 0||a!==void 0||T.transform)&&(T.transformOrigin=nM(I,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&tM(w,l,c,h,!1)}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),mC=()=>({...qv(),attrs:{}}),Hv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const yC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vC(t,e,n,r){gC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(yC.has(i)?i:Lv(i),e.attrs[i])}const _d={};function rM(t){Object.assign(_d,t)}function _C(t,{layout:e,layoutId:n}){return zo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_d[t]||t==="opacity")}function Wv(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(an(i[l])||e.style&&an(e.style[l])||_C(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function wC(t,e,n){const r=Wv(t,e,n);for(const i in t)if(an(t[i])||an(e[i])){const a=Al.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function iM(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const LE=["x","y","width","height","cx","cy","r"],sM={useVisualState:hC({scrapeMotionValuesFromProps:wC,createRenderState:mC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(zo.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<LE.length;c++){const h=LE[c];t[h]!==e[h]&&(l=!0)}l&&at.read(()=>{iM(n,r),at.render(()=>{$v(r,i,Hv(n.tagName),t.transformTemplate),vC(n,r)})})}})},oM={useVisualState:hC({scrapeMotionValuesFromProps:Wv,createRenderState:qv})};function EC(t,e,n){for(const r in e)!an(e[r])&&!_C(r,n)&&(t[r]=e[r])}function aM({transformTemplate:t},e){return M.useMemo(()=>{const n=qv();return zv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lM(t,e){const n=t.style||{},r={};return EC(r,n,t),Object.assign(r,aM(t,e)),r}function uM(t,e){const n={},r=lM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function cM(t,e,n,r){const i=M.useMemo(()=>{const a=mC();return $v(a,e,Hv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};EC(a,t.style,t),i.style={...a,...i.style}}return i}function hM(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(Fv(n)?cM:uM)(r,a,l,n),p=CL(r,typeof n=="string",t),g=n!==M.Fragment?{...p,...h,ref:i}:{},{children:_}=r,w=M.useMemo(()=>an(_)?_.get():_,[_]);return M.createElement(n,{...g,children:w})}}function fM(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Fv(r)?sM:oM,preloadedFeatures:t,useRender:hM(i),createVisualElement:e,Component:r};return VL(l)}}function TC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function cp(t,e,n){const r=t.getProps();return jv(r,e,n!==void 0?n:r.custom,t)}const dM=Nv(()=>window.ScrollTimeline!==void 0);class pM{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(dM()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mM extends pM{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Kv(t,e){return t?t[e]||t.default||t:void 0}const iy=2e4;function SC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<iy;)e+=n,r=t.next(e);return e>=iy?1/0:e}function Gv(t){return typeof t=="function"}function ME(t,e){t.timeline=e,t.onfinish=null}const Qv=t=>Array.isArray(t)&&typeof t[0]=="number",gM={linearEasing:void 0};function yM(t,e){const n=Nv(t);return()=>{var r;return(r=gM[e])!==null&&r!==void 0?r:n()}}const wd=yM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),IC=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(gl(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function xC(t){return!!(typeof t=="function"&&wd()||!t||typeof t=="string"&&(t in sy||wd())||Qv(t)||Array.isArray(t)&&t.every(xC))}const Vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,sy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vu([0,.65,.55,1]),circOut:Vu([.55,0,1,.45]),backIn:Vu([.31,.01,.66,-.59]),backOut:Vu([.33,1.53,.69,.99])};function CC(t,e){if(t)return typeof t=="function"&&wd()?IC(t,e):Qv(t)?Vu(t):Array.isArray(t)?t.map(n=>CC(n,e)||sy.easeOut):sy[t]}const gr={x:!1,y:!1};function AC(){return gr.x||gr.y}function vM(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function PC(t,e){const n=vM(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function FE(t){return e=>{e.pointerType==="touch"||AC()||t(e)}}function _M(t,e,n={}){const[r,i,a]=PC(t,n),l=FE(c=>{const{target:h}=c,p=e(c);if(typeof p!="function"||!h)return;const g=FE(_=>{p(_),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const RC=(t,e)=>e?t===e?!0:RC(t,e.parentElement):!1,Xv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EM(t){return wM.has(t.tagName)||t.tabIndex!==-1}const Lu=new WeakSet;function jE(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=jE(()=>{if(Lu.has(n))return;lg(n,"down");const i=jE(()=>{lg(n,"up")}),a=()=>lg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function UE(t){return Xv(t)&&!AC()}function SM(t,e,n={}){const[r,i,a]=PC(t,n),l=c=>{const h=c.currentTarget;if(!UE(c)||Lu.has(h))return;Lu.add(h);const p=e(c),g=(T,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),!(!UE(T)||!Lu.has(h))&&(Lu.delete(h),typeof p=="function"&&p(T,{success:I}))},_=T=>{g(T,n.useGlobalTarget||RC(h,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{!EM(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",p=>TM(p,i),i)}),a}function IM(t){return t==="x"||t==="y"?gr[t]?null:(gr[t]=!0,()=>{gr[t]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}const bC=new Set(["width","height","top","left","right","bottom",...Al]);let zf;function xM(){zf=void 0}const Mr={now:()=>(zf===void 0&&Mr.set(Gt.isProcessing||wL.useManualTiming?Gt.timestamp:performance.now()),zf),set:t=>{zf=t,queueMicrotask(xM)}};function Yv(t,e){t.indexOf(e)===-1&&t.push(e)}function Jv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zv{constructor(){this.subscriptions=[]}add(e){return Yv(this.subscriptions,e),()=>Jv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function kC(t,e){return e?t*(1e3/e):0}const BE=30,CM=t=>!isNaN(parseFloat(t));class AM{constructor(e,n={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Mr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zv);const r=this.events[e].add(n);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,BE);return kC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cc(t,e){return new AM(t,e)}function PM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cc(n))}function RM(t,e){const n=cp(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=BL(a[l]);PM(t,l,c)}}function bM(t){return!!(an(t)&&t.add)}function oy(t,e){const n=t.getValue("willChange");if(bM(n))return n.add(e)}function DC(t){return t.props[lC]}const NC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kM=1e-7,DM=12;function NM(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=NC(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>kM&&++c<DM);return l}function Qc(t,e,n,r){if(t===e&&n===r)return Ln;const i=a=>NM(a,0,1,t,n);return a=>a===0||a===1?a:NC(i(a),e,r)}const OC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VC=t=>e=>1-t(1-e),LC=Qc(.33,1.53,.69,.99),e0=VC(LC),MC=OC(e0),FC=t=>(t*=2)<1?.5*e0(t):.5*(2-Math.pow(2,-10*(t-1))),t0=t=>1-Math.sin(Math.acos(t)),jC=VC(t0),UC=OC(t0),BC=t=>/^0[^.\s]+$/u.test(t);function OM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BC(t):!0}const Ku=t=>Math.round(t*1e5)/1e5,n0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VM(t){return t==null}const LM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r0=(t,e)=>n=>!!(typeof n=="string"&&LM.test(n)&&n.startsWith(t)||e&&!VM(n)&&Object.prototype.hasOwnProperty.call(n,e)),zC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(n0);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},MM=t=>Ri(0,255,t),ug={...Pl,transform:t=>Math.round(MM(t))},_o={test:r0("rgb","red"),parse:zC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Ku(uc.transform(r))+")"};function FM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ay={test:r0("#"),parse:FM,transform:_o.transform},$a={test:r0("hsl","hue"),parse:zC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lr.transform(Ku(e))+", "+Lr.transform(Ku(n))+", "+Ku(uc.transform(r))+")"},rn={test:t=>_o.test(t)||ay.test(t)||$a.test(t),parse:t=>_o.test(t)?_o.parse(t):$a.test(t)?$a.parse(t):ay.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_o.transform(t):$a.transform(t)},jM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(n0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(jM))===null||n===void 0?void 0:n.length)||0)>0}const $C="number",qC="color",BM="var",zM="var(",zE="${}",$M=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace($M,h=>(rn.test(h)?(r.color.push(a),i.push(qC),n.push(rn.parse(h))):h.startsWith(zM)?(r.var.push(a),i.push(BM),n.push(h)):(r.number.push(a),i.push($C),n.push(parseFloat(h))),++a,zE)).split(zE);return{values:n,split:c,indexes:r,types:i}}function HC(t){return hc(t).values}function WC(t){const{split:e,types:n}=hc(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===$C?a+=Ku(i[l]):c===qC?a+=rn.transform(i[l]):a+=i[l]}return a}}const qM=t=>typeof t=="number"?0:t;function HM(t){const e=HC(t);return WC(t)(e.map(qM))}const Os={test:UM,parse:HC,createTransformer:WC,getAnimatableNone:HM},WM=new Set(["brightness","contrast","saturate","opacity"]);function KM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(n0)||[];if(!r)return t;const i=n.replace(r,"");let a=WM.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const GM=/\b([a-z-]*)\(.*?\)/gu,ly={...Os,getAnimatableNone:t=>{const e=t.match(GM);return e?e.map(KM).join(" "):t}},QM={...Bv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:ly,WebkitFilter:ly},i0=t=>QM[t];function KC(t,e){let n=i0(t);return n!==ly&&(n=Os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XM=new Set(["auto","none","0"]);function YM(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!XM.has(a)&&hc(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=KC(n,i)}const $E=t=>t===Pl||t===Ce,qE=(t,e)=>parseFloat(t.split(", ")[e]),HE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return qE(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?qE(a[1],t):0}},JM=new Set(["x","y","z"]),ZM=Al.filter(t=>!JM.has(t));function e7(t){const e=[];return ZM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:HE(4,13),y:HE(5,14)};vl.translateX=vl.x;vl.translateY=vl.y;const bo=new Set;let uy=!1,cy=!1;function GC(){if(cy){const t=Array.from(bo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=e7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cy=!1,uy=!1,bo.forEach(t=>t.complete()),bo.clear()}function QC(){bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cy=!0)})}function t7(){QC(),GC()}class s0{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bo.add(this),uy||(uy=!0,at.read(QC),at.resolveKeyframes(GC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const XC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),n7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r7(t){const e=n7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function YC(t,e,n=1){const[r,i]=r7(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return XC(l)?parseFloat(l):l}return Uv(i)?YC(i,e,n+1):i}const JC=t=>e=>e.test(t),i7={test:t=>t==="auto",parse:t=>t},ZC=[Pl,Ce,Lr,ss,KL,WL,i7],WE=t=>ZC.find(JC(t));class eA extends s0{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Uv(p))){const g=YC(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!bC.has(r)||e.length!==2)return;const[i,a]=e,l=WE(i),c=WE(a);if(l!==c)if($E(l)&&$E(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)OM(e[i])&&r.push(i);r.length&&YM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=vl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const KE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Os.test(t)||t==="0")&&!t.startsWith("url("));function s7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=KE(i,e),c=KE(a,e);return!l||!c?!1:s7(t)||(n==="spring"||Gv(n))&&r}const a7=t=>t!==null;function hp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(a7),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const l7=40;class tA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>l7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&t7(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!o7(e,r,i,a))if(l)this.options.duration=0;else{h==null||h(hp(e,this.options,n)),c==null||c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=cg(h,c,t+1/3),a=cg(h,c,t),l=cg(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ed(t,e){return n=>n>0?e:t}const hg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},c7=[ay,_o,$a],h7=t=>c7.find(e=>e.test(t));function GE(t){const e=h7(t);if(!e)return!1;let n=e.parse(t);return e===$a&&(n=u7(n)),n}const QE=(t,e)=>{const n=GE(t),r=GE(e);if(!n||!r)return Ed(t,e);const i={...n};return a=>(i.red=hg(n.red,r.red,a),i.green=hg(n.green,r.green,a),i.blue=hg(n.blue,r.blue,a),i.alpha=dt(n.alpha,r.alpha,a),_o.transform(i))},f7=(t,e)=>n=>e(t(n)),Xc=(...t)=>t.reduce(f7),hy=new Set(["none","hidden"]);function d7(t,e){return hy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p7(t,e){return n=>dt(t,e,n)}function o0(t){return typeof t=="number"?p7:typeof t=="string"?Uv(t)?Ed:rn.test(t)?QE:y7:Array.isArray(t)?nA:typeof t=="object"?rn.test(t)?QE:m7:Ed}function nA(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>o0(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function m7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=o0(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function g7(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=h,i[l]++}return r}const y7=(t,e)=>{const n=Os.createTransformer(e),r=hc(t),i=hc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hy.has(t)&&!i.values.length||hy.has(e)&&!r.values.length?d7(t,e):Xc(nA(g7(r,i),i.values),n):Ed(t,e)};function rA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):o0(t)(t,e)}const v7=5;function iA(t,e,n){const r=Math.max(e-v7,0);return kC(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},XE=.001;function _7({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let i,a,l=1-e;l=Ri(yt.minDamping,yt.maxDamping,l),t=Ri(yt.minDuration,yt.maxDuration,Ei(t)),l<1?(i=p=>{const g=p*l,_=g*t,w=g-n,T=fy(p,l),I=Math.exp(-_);return XE-w/T*I},a=p=>{const _=p*l*t,w=_*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,I=Math.exp(-_),x=fy(Math.pow(p,2),l);return(-i(p)+XE>0?-1:1)*((w-T)*I)/x}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,h=E7(i,a,c);if(t=wi(t),isNaN(h))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const w7=12;function E7(t,e,n){let r=n;for(let i=1;i<w7;i++)r=r-t(r)/e(r);return r}function fy(t,e){return t*Math.sqrt(1-e*e)}const T7=["duration","bounce"],S7=["stiffness","damping","mass"];function YE(t,e){return e.some(n=>t[n]!==void 0)}function I7(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!YE(t,S7)&&YE(t,T7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ri(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yt.mass,stiffness:i,damping:a}}else{const n=_7(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function sA(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:_,velocity:w,isResolvedFromDuration:T}=I7({...n,velocity:-Ei(n.velocity||0)}),I=w||0,x=p/(2*Math.sqrt(h*g)),b=l-a,D=Ei(Math.sqrt(h/g)),V=Math.abs(b)<5;r||(r=V?yt.restSpeed.granular:yt.restSpeed.default),i||(i=V?yt.restDelta.granular:yt.restDelta.default);let j;if(x<1){const J=fy(D,x);j=Z=>{const O=Math.exp(-x*D*Z);return l-O*((I+x*D*b)/J*Math.sin(J*Z)+b*Math.cos(J*Z))}}else if(x===1)j=J=>l-Math.exp(-D*J)*(b+(I+D*b)*J);else{const J=D*Math.sqrt(x*x-1);j=Z=>{const O=Math.exp(-x*D*Z),A=Math.min(J*Z,300);return l-O*((I+x*D*b)*Math.sinh(A)+J*b*Math.cosh(A))/J}}const G={calculatedDuration:T&&_||null,next:J=>{const Z=j(J);if(T)c.done=J>=_;else{let O=0;x<1&&(O=J===0?wi(I):iA(j,J,Z));const A=Math.abs(O)<=r,N=Math.abs(l-Z)<=i;c.done=A&&N}return c.value=c.done?l:Z,c},toString:()=>{const J=Math.min(SC(G),iy),Z=IC(O=>G.next(J*O).value,J,30);return J+"ms "+Z}};return G}function JE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:g}){const _=t[0],w={done:!1,value:_},T=A=>c!==void 0&&A<c||h!==void 0&&A>h,I=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let x=n*e;const b=_+x,D=l===void 0?b:l(b);D!==b&&(x=D-_);const V=A=>-x*Math.exp(-A/r),j=A=>D+V(A),G=A=>{const N=V(A),F=j(A);w.done=Math.abs(N)<=p,w.value=w.done?D:F};let J,Z;const O=A=>{T(w.value)&&(J=A,Z=sA({keyframes:[w.value,I(w.value)],velocity:iA(j,A,w.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return O(0),{calculatedDuration:null,next:A=>{let N=!1;return!Z&&J===void 0&&(N=!0,G(A),O(A)),J!==void 0&&A>=J?Z.next(A-J):(!N&&G(A),w)}}}const x7=Qc(.42,0,1,1),C7=Qc(0,0,.58,1),oA=Qc(.42,0,.58,1),A7=t=>Array.isArray(t)&&typeof t[0]!="number",ZE={linear:Ln,easeIn:x7,easeInOut:oA,easeOut:C7,circIn:t0,circInOut:UC,circOut:jC,backIn:e0,backInOut:MC,backOut:LC,anticipate:FC},eT=t=>{if(Qv(t)){ny(t.length===4);const[e,n,r,i]=t;return Qc(e,n,r,i)}else if(typeof t=="string")return ny(ZE[t]!==void 0),ZE[t];return t};function P7(t,e,n){const r=[],i=n||rA,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Ln:e;c=Xc(h,c)}r.push(c)}return r}function R7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ny(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=P7(e,r,i),h=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(h>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const w=gl(t[_],t[_+1],g);return c[_](w)};return n?g=>p(Ri(t[0],t[a-1],g)):p}function b7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=gl(0,e,r);t.push(dt(n,1,i))}}function k7(t){const e=[0];return b7(e,t.length-1),e}function D7(t,e){return t.map(n=>n*e)}function N7(t,e){return t.map(()=>e||oA).splice(0,t.length-1)}function Td({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=A7(r)?r.map(eT):eT(r),a={done:!1,value:e[0]},l=D7(n&&n.length===e.length?n:k7(e),t),c=R7(l,e,{ease:Array.isArray(i)?i:N7(e,i)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const O7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>at.update(e,!0),stop:()=>Ns(e),now:()=>Gt.isProcessing?Gt.timestamp:Mr.now()}},V7={decay:JE,inertia:JE,tween:Td,keyframes:Td,spring:sA},L7=t=>t/100;class a0 extends tA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||s0,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=Gv(n)?n:V7[n]||Td;let h,p;c!==Td&&typeof e[0]!="number"&&(h=Xc(L7,rA(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=SC(g));const{calculatedDuration:_}=g,w=_+i,T=w*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:_,resolvedDuration:w,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:w,repeat:T,repeatType:I,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-w*(this.speed>=0?1:-1),V=this.speed>=0?D<0:D>g;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let j=this.currentTime,G=a;if(T){const A=Math.min(this.currentTime,g)/_;let N=Math.floor(A),F=A%1;!F&&A>=1&&(F=1),F===1&&N--,N=Math.min(N,T+1),!!(N%2)&&(I==="reverse"?(F=1-F,x&&(F-=x/_)):I==="mirror"&&(G=l)),j=Ri(0,1,F)*_}const J=V?{done:!1,value:h[0]}:G.next(j);c&&(J.value=c(J.value));let{done:Z}=J;!V&&p!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return O&&i!==void 0&&(J.value=hp(h,this.options,i)),b&&b(J.value),O&&this.finish(),J}get duration(){const{resolved:e}=this;return e?Ei(e.calculatedDuration):0}get time(){return Ei(this.currentTime)}set time(e){e=wi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=O7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const M7=new Set(["opacity","clipPath","filter","transform"]);function F7(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=CC(c,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const j7=Nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sd=10,U7=2e4;function B7(t){return Gv(t.type)||t.type==="spring"||!xC(t.ease)}function z7(t,e){const n=new a0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<U7;)r=n.sample(a),i.push(r.value),a+=Sd;return{times:void 0,keyframes:i,duration:a-Sd,ease:"linear"}}const aA={anticipate:FC,backInOut:MC,circInOut:UC};function $7(t){return t in aA}class tT extends tA{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new eA(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:a,ease:l,type:c,motionValue:h,name:p,startTime:g}=this.options;if(!(!((r=h.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&wd()&&$7(l)&&(l=aA[l]),B7(this.options)){const{onComplete:w,onUpdate:T,motionValue:I,element:x,...b}=this.options,D=z7(e,b);e=D.keyframes,e.length===1&&(e[1]=e[0]),i=D.duration,a=D.times,l=D.ease,c="keyframes"}const _=F7(h.owner.current,p,e,{...this.options,duration:i,times:a,ease:l});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(ME(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;h.set(hp(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:i,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ei(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ei(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=wi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ln;const{animation:r}=n;ME(r,e)}return Ln}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:w,...T}=this.options,I=new a0({...T,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),x=wi(this.time);p.setWithVelocity(I.sample(x-Sd).value,I.sample(x).value,Sd)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;return j7()&&r&&M7.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const q7={type:"spring",stiffness:500,damping:25,restSpeed:10},H7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W7={type:"keyframes",duration:.8},K7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G7=(t,{keyframes:e})=>e.length>2?W7:zo.has(t)?t.startsWith("scale")?H7(e[1]):q7:K7;function Q7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const l0=(t,e,n,r={},i,a)=>l=>{const c=Kv(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-wi(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};Q7(c)||(g={...g,...G7(t,g)}),g.duration&&(g.duration=wi(g.duration)),g.repeatDelay&&(g.repeatDelay=wi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const w=hp(g.keyframes,c);if(w!==void 0)return at.update(()=>{g.onUpdate(w),g.onComplete()}),new mM([])}return!a&&tT.supports(g)?new tT(g):new a0(g)};function X7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const _ in h){const w=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),T=h[_];if(T===void 0||g&&X7(g,_))continue;const I={delay:n,...Kv(l||{},_)};let x=!1;if(window.MotionHandoffAnimation){const D=DC(t);if(D){const V=window.MotionHandoffAnimation(D,_,at);V!==null&&(I.startTime=V,x=!0)}}oy(t,_),w.start(l0(_,w,T,t.shouldReduceMotion&&bC.has(_)?{type:!1}:I,t,x));const b=w.animation;b&&p.push(b)}return c&&Promise.all(p).then(()=>{at.update(()=>{c&&RM(t,c)})}),p}function dy(t,e,n={}){var r;const i=cp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(lA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:w}=a;return Y7(t,e,g+p,_,w,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function Y7(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(J7).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(dy(p,e,{...a,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function J7(t,e){return t.sortNodePosition(e)}function Z7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>dy(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=dy(t,e,n);else{const i=typeof e=="function"?cp(t,e,n.custom):e;r=Promise.all(lA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const e8=Vv.length;function uA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<e8;n++){const r=Vv[n],i=t.props[r];(lc(i)||i===!1)&&(e[r]=i)}return e}const t8=[...Ov].reverse(),n8=Ov.length;function r8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Z7(t,n,r)))}function i8(t){let e=r8(t),n=nT(),r=!0;const i=h=>(p,g)=>{var _;const w=cp(t,g,h==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(w){const{transition:T,transitionEnd:I,...x}=w;p={...p,...x,...I}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,g=uA(t.parent)||{},_=[],w=new Set;let T={},I=1/0;for(let b=0;b<n8;b++){const D=t8[b],V=n[D],j=p[D]!==void 0?p[D]:g[D],G=lc(j),J=D===h?V.isActive:null;J===!1&&(I=b);let Z=j===g[D]&&j!==p[D]&&G;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),V.protectedKeys={...T},!V.isActive&&J===null||!j&&!V.prevProp||lp(j)||typeof j=="boolean")continue;const O=s8(V.prevProp,j);let A=O||D===h&&V.isActive&&!Z&&G||b>I&&G,N=!1;const F=Array.isArray(j)?j:[j];let P=F.reduce(i(D),{});J===!1&&(P={});const{prevResolvedValues:k={}}=V,C={...k,...P},X=ce=>{A=!0,w.has(ce)&&(N=!0,w.delete(ce)),V.needsAnimating[ce]=!0;const ne=t.getValue(ce);ne&&(ne.liveStyle=!1)};for(const ce in C){const ne=P[ce],de=k[ce];if(T.hasOwnProperty(ce))continue;let le=!1;ry(ne)&&ry(de)?le=!TC(ne,de):le=ne!==de,le?ne!=null?X(ce):w.add(ce):ne!==void 0&&w.has(ce)?X(ce):V.protectedKeys[ce]=!0}V.prevProp=j,V.prevResolvedValues=P,V.isActive&&(T={...T,...P}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(Z&&O)||N)&&_.push(...F.map(ce=>({animation:ce,options:{type:D}})))}if(w.size){const b={};w.forEach(D=>{const V=t.getBaseTarget(D),j=t.getValue(D);j&&(j.liveStyle=!0),b[D]=V??null}),_.push({animation:b})}let x=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(_):Promise.resolve()}function c(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var T;return(T=w.animationState)===null||T===void 0?void 0:T.setActive(h,p)}),n[h].isActive=p;const _=l(h);for(const w in n)n[w].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=nT(),r=!0}}}function s8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TC(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nT(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class Vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o8 extends Vs{constructor(e){super(e),e.animationState||(e.animationState=i8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let a8=0;class l8 extends Vs{constructor(){super(...arguments),this.id=a8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const u8={animation:{Feature:o8},exit:{Feature:l8}};function fc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yc(t){return{point:{x:t.pageX,y:t.pageY}}}const c8=t=>e=>Xv(e)&&t(e,Yc(e));function Gu(t,e,n,r){return fc(t,e,c8(n),r)}const rT=(t,e)=>Math.abs(t-e);function h8(t,e){const n=rT(t.x,e.x),r=rT(t.y,e.y);return Math.sqrt(n**2+r**2)}class cA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=dg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=h8(_.offset,{x:0,y:0})>=3;if(!w&&!T)return;const{point:I}=_,{timestamp:x}=Gt;this.history.push({...I,timestamp:x});const{onStart:b,onMove:D}=this.handlers;w||(b&&b(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=fg(w,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:T,onSessionEnd:I,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=dg(_.type==="pointercancel"?this.lastMoveEventInfo:fg(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,b),I&&I(_,b)},!Xv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Yc(e),c=fg(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=Gt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,dg(c,this.history)),this.removeListeners=Xc(Gu(this.contextWindow,"pointermove",this.handlePointerMove),Gu(this.contextWindow,"pointerup",this.handlePointerUp),Gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function fg(t,e){return e?{point:e(t.point)}:t}function iT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dg({point:t},e){return{point:t,delta:iT(t,hA(e)),offset:iT(t,f8(e)),velocity:d8(e,.1)}}function f8(t){return t[0]}function hA(t){return t[t.length-1]}function d8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=hA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>wi(e)));)n--;if(!r)return{x:0,y:0};const a=Ei(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const fA=1e-4,p8=1-fA,m8=1+fA,dA=.01,g8=0-dA,y8=0+dA;function Fn(t){return t.max-t.min}function v8(t,e,n){return Math.abs(t-e)<=n}function sT(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=p8&&t.scale<=m8||isNaN(t.scale))&&(t.scale=1),(t.translate>=g8&&t.translate<=y8||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,r){sT(t.x,e.x,n.x,r?r.originX:void 0),sT(t.y,e.y,n.y,r?r.originY:void 0)}function oT(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function _8(t,e,n){oT(t.x,e.x,n.x),oT(t.y,e.y,n.y)}function aT(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Xu(t,e,n){aT(t.x,e.x,n.x),aT(t.y,e.y,n.y)}function w8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function lT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function E8(t,{top:e,left:n,bottom:r,right:i}){return{x:lT(t.x,n,i),y:lT(t.y,e,r)}}function uT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function T8(t,e){return{x:uT(t.x,e.x),y:uT(t.y,e.y)}}function S8(t,e){let n=.5;const r=Fn(t),i=Fn(e);return i>r?n=gl(e.min,e.max-r,t.min):r>i&&(n=gl(t.min,t.max-i,e.min)),Ri(0,1,n)}function I8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const py=.35;function x8(t=py){return t===!1?t=0:t===!0&&(t=py),{x:cT(t,"left","right"),y:cT(t,"top","bottom")}}function cT(t,e,n){return{min:hT(t,e),max:hT(t,n)}}function hT(t,e){return typeof t=="number"?t:t[e]||0}const fT=()=>({translate:0,scale:1,origin:0,originPoint:0}),qa=()=>({x:fT(),y:fT()}),dT=()=>({min:0,max:0}),St=()=>({x:dT(),y:dT()});function Xn(t){return[t("x"),t("y")]}function pA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function C8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function A8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pg(t){return t===void 0||t===1}function my({scale:t,scaleX:e,scaleY:n}){return!pg(t)||!pg(e)||!pg(n)}function po(t){return my(t)||mA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mA(t){return pT(t.x)||pT(t.y)}function pT(t){return t&&t!=="0%"}function Id(t,e,n){const r=t-n,i=e*r;return n+i}function mT(t,e,n,r,i){return i!==void 0&&(t=Id(t,i,r)),Id(t,n,r)+e}function gy(t,e=0,n=1,r,i){t.min=mT(t.min,e,n,r,i),t.max=mT(t.max,e,n,r,i)}function gA(t,{x:e,y:n}){gy(t.x,e.translate,e.scale,e.originPoint),gy(t.y,n.translate,n.scale,n.originPoint)}const gT=.999999999999,yT=1.0000000000001;function P8(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,gA(t,l)),r&&po(a.latestValues)&&Wa(t,a.latestValues))}e.x<yT&&e.x>gT&&(e.x=1),e.y<yT&&e.y>gT&&(e.y=1)}function Ha(t,e){t.min=t.min+e,t.max=t.max+e}function vT(t,e,n,r,i=.5){const a=dt(t.min,t.max,i);gy(t,e,n,a,r)}function Wa(t,e){vT(t.x,e.x,e.scaleX,e.scale,e.originX),vT(t.y,e.y,e.scaleY,e.scale,e.originY)}function yA(t,e){return pA(A8(t.getBoundingClientRect(),e))}function R8(t,e,n){const r=yA(t,n),{scroll:i}=e;return i&&(Ha(r.x,i.offset.x),Ha(r.y,i.offset.y)),r}const vA=({current:t})=>t?t.ownerDocument.defaultView:null,b8=new WeakMap;class k8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yc(g).point)},a=(g,_)=>{const{drag:w,dragPropagation:T,onDragStart:I}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IM(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(b=>{let D=this.getAxisMotionValue(b).get()||0;if(Lr.test(D)){const{projection:V}=this.visualElement;if(V&&V.layout){const j=V.layout.layoutBox[b];j&&(D=Fn(j)*(parseFloat(D)/100))}}this.originPoint[b]=D}),I&&at.postRender(()=>I(g,_)),oy(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:I,onDrag:x}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:b}=_;if(T&&this.currentDirection===null){this.currentDirection=D8(b),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",_.point,b),this.updateAxis("y",_.point,b),this.visualElement.render(),x&&x(g,_)},c=(g,_)=>this.stop(g,_),h=()=>Xn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new cA(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:vA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&at.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Cf(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=w8(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&za(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=E8(i.layoutBox,n):this.constraints=!1,this.elastic=x8(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Xn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=I8(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!za(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=R8(r,i.root,this.visualElement.getTransformPagePoint());let l=T8(i.layout.layoutBox,a);if(n){const c=n(C8(l));this.hasMutatedConstraints=!!c,c&&(l=pA(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Xn(g=>{if(!Cf(g,n,this.currentDirection))return;let _=h[g]||{};l&&(_={min:0,max:0});const w=i?200:1e6,T=i?40:1e7,I={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,I)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return oy(this.visualElement,e),r.start(l0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:r}=this.getProps();if(!Cf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-dt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!za(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=S8({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xn(l=>{if(!Cf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(dt(h,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;b8.set(this.visualElement,this);const e=this.visualElement.current,n=Gu(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();za(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const l=fc(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=h[g].translate,_.set(_.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=py,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Cf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function D8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class N8 extends Vs{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new k8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const _T=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class O8 extends Vs{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new cA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:_T(e),onStart:_T(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&at.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=wT(t,e.target.x),r=wT(t,e.target.y);return`${n}% ${r}%`}},V8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Os.parse(t);if(i.length>5)return r;const a=Os.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const p=dt(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};class L8 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;rM(M8),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||at.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _A(t){const[e,n]=vL(),r=M.useContext(nC);return q.jsx(L8,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(uC),isPresent:e,safeToRemove:n})}const M8={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:V8};function F8(t,e,n){const r=an(t)?t:cc(t);return r.start(l0("",r,e,n)),r.animation}function j8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const U8=(t,e)=>t.depth-e.depth;class B8{constructor(){this.children=[],this.isDirty=!1}add(e){Yv(this.children,e),this.isDirty=!0}remove(e){Jv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U8),this.isDirty=!1,this.children.forEach(e)}}function z8(t,e){const n=Mr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Ns(r),t(a-e))};return at.read(r,!0),()=>Ns(r)}const wA=["TopLeft","TopRight","BottomLeft","BottomRight"],$8=wA.length,ET=t=>typeof t=="string"?parseFloat(t):t,TT=t=>typeof t=="number"||Ce.test(t);function q8(t,e,n,r,i,a){i?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,H8(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,W8(r))):a&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<$8;l++){const c=`border${wA[l]}Radius`;let h=ST(e,c),p=ST(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||TT(h)===TT(p)?(t[c]=Math.max(dt(ET(h),ET(p),r),0),(Lr.test(p)||Lr.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function ST(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const H8=EA(0,.5,jC),W8=EA(.5,.95,Ln);function EA(t,e,n){return r=>r<t?0:r>e?1:n(gl(t,e,r))}function IT(t,e){t.min=e.min,t.max=e.max}function Qn(t,e){IT(t.x,e.x),IT(t.y,e.y)}function xT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function CT(t,e,n,r,i){return t-=e,t=Id(t,1/n,r),i!==void 0&&(t=Id(t,1/i,r)),t}function K8(t,e=0,n=1,r=.5,i,a=t,l=t){if(Lr.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=dt(a.min,a.max,r);t===a&&(c-=e),t.min=CT(t.min,e,n,c,i),t.max=CT(t.max,e,n,c,i)}function AT(t,e,[n,r,i],a,l){K8(t,e[n],e[r],e[i],e.scale,a,l)}const G8=["x","scaleX","originX"],Q8=["y","scaleY","originY"];function PT(t,e,n,r){AT(t.x,e,G8,n?n.x:void 0,r?r.x:void 0),AT(t.y,e,Q8,n?n.y:void 0,r?r.y:void 0)}function RT(t){return t.translate===0&&t.scale===1}function TA(t){return RT(t.x)&&RT(t.y)}function bT(t,e){return t.min===e.min&&t.max===e.max}function X8(t,e){return bT(t.x,e.x)&&bT(t.y,e.y)}function kT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SA(t,e){return kT(t.x,e.x)&&kT(t.y,e.y)}function DT(t){return Fn(t.x)/Fn(t.y)}function NT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Y8{constructor(){this.members=[]}add(e){Yv(this.members,e),e.scheduleRender()}remove(e){if(Jv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J8(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:w,skewX:T,skewY:I}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),I&&(r+=`skewY(${I}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const mo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Mu=typeof window<"u"&&window.MotionDebug!==void 0,mg=["","X","Y","Z"],Z8={visibility:"hidden"},OT=1e3;let eF=0;function gg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function IA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&IA(r)}function xA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=eF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mu&&(mo.totalNodes=mo.resolvedTargetDeltas=mo.recalculatedProjection=0),this.nodes.forEach(rF),this.nodes.forEach(lF),this.nodes.forEach(uF),this.nodes.forEach(iF),Mu&&window.MotionDebug.record(mo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new B8)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Zv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=j8(l),this.instance=l;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let _;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=z8(w,250),$f.hasAnimatedSinceResize&&($f.hasAnimatedSinceResize=!1,this.nodes.forEach(LT))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeTargetChanged:T,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||pF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:D}=g.getProps(),V=!this.targetLayout||!SA(this.targetLayout,I)||T,j=!w&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||w&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,j);const G={...Kv(x,"layout"),onPlay:b,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else w||LT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VT);return}this.isUpdating||this.nodes.forEach(oF),this.isUpdating=!1,this.nodes.forEach(aF),this.nodes.forEach(tF),this.nodes.forEach(nF),this.clearAllSnapshots();const c=Mr.now();Gt.delta=Ri(0,1e3/60,c-Gt.timestamp),Gt.timestamp=c,Gt.isProcessing=!0,ag.update.process(Gt),ag.preRender.process(Gt),ag.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sF),this.sharedNodes.forEach(hF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!TA(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||po(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),mF(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return St();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(gF))){const{scroll:g}=this.root;g&&(Ha(h.x,g.offset.x),Ha(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=St();if(Qn(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:w}=g;g!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Qn(h,l),Ha(h.x,_.offset.x),Ha(h.y,_.offset.y))}return h}applyTransform(l,c=!1){const h=St();Qn(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Wa(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),po(g.latestValues)&&Wa(h,g.latestValues)}return po(this.latestValues)&&Wa(h,this.latestValues),h}removeTransform(l){const c=St();Qn(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!po(p.latestValues))continue;my(p.latestValues)&&p.updateSnapshot();const g=St(),_=p.measurePageBox();Qn(g,_),PT(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return po(this.latestValues)&&PT(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!(!this.layout||!(_||w))){if(this.resolvedRelativeTargetAt=Gt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Xu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),gA(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Xu(this.relativeTargetOrigin,this.target,T.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mu&&mo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||my(this.parent.latestValues)||mA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Qn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;P8(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=St());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xT(this.prevProjectionDelta.x,this.projectionDelta.x),xT(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!NT(this.projectionDelta.x,this.prevProjectionDelta.x)||!NT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),Mu&&mo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qa(),this.projectionDelta=qa(),this.projectionDeltaWithTransform=qa()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},_=qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=St(),T=h?h.source:void 0,I=this.layout?this.layout.source:void 0,x=T!==I,b=this.getStack(),D=!b||b.members.length<=1,V=!!(x&&!D&&this.options.crossfade===!0&&!this.path.some(dF));this.animationProgress=0;let j;this.mixTargetDelta=G=>{const J=G/1e3;MT(_.x,l.x,J),MT(_.y,l.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fF(this.relativeTarget,this.relativeTargetOrigin,w,J),j&&X8(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=St()),Qn(j,this.relativeTarget)),x&&(this.animationValues=g,q8(g,p,this.latestValues,J,V,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{$f.hasAnimatedSinceResize=!0,this.currentAnimation=F8(0,OT,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:g}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&CA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||St();const _=Fn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+_;const w=Fn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}Qn(c,h),Wa(c,g),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Y8),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&gg("z",l,p,this.animationValues);for(let g=0;g<mg.length;g++)gg(`rotate${mg[g]}`,l,p,this.animationValues),gg(`skew${mg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Z8;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Bf(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Bf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(x.transform=g?g({},""):"none",this.hasProjected=!1),x}const w=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=J8(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:T,y:I}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${I.origin*100}% 0`,_.animationValues?p.opacity=_===this?(h=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=_===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const x in _d){if(w[x]===void 0)continue;const{correct:b,applyTo:D}=_d[x],V=p.transform==="none"?w[x]:b(w[x],_);if(D){const j=D.length;for(let G=0;G<j;G++)p[D[G]]=V}else p[x]=V}return this.options.layoutId&&(p.pointerEvents=_===this?Bf(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(VT),this.root.sharedNodes.clear()}}}function tF(t){t.updateLayout()}function nF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Xn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],T=Fn(w);w.min=r[_].min,w.max=w.min+T}):CA(a,n.layoutBox,r)&&Xn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],T=Fn(r[_]);w.max=w.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+T)});const c=qa();Qu(c,r,n.layoutBox);const h=qa();l?Qu(h,t.applyTransform(i,!0),n.measuredBox):Qu(h,r,n.layoutBox);const p=!TA(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:T}=_;if(w&&T){const I=St();Xu(I,n.layoutBox,w.layoutBox);const x=St();Xu(x,r,T.layoutBox),SA(I,x)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=I,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function rF(t){Mu&&mo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sF(t){t.clearSnapshot()}function VT(t){t.clearMeasurements()}function oF(t){t.isLayoutDirty=!1}function aF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lF(t){t.resolveTargetDelta()}function uF(t){t.calcProjection()}function cF(t){t.resetSkewAndRotation()}function hF(t){t.removeLeadSnapshot()}function MT(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FT(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function fF(t,e,n,r){FT(t.x,e.x,n.x,r),FT(t.y,e.y,n.y,r)}function dF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pF={duration:.45,ease:[.4,0,.1,1]},jT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UT=jT("applewebkit/")&&!jT("chrome/")?Math.round:Ln;function BT(t){t.min=UT(t.min),t.max=UT(t.max)}function mF(t){BT(t.x),BT(t.y)}function CA(t,e,n){return t==="position"||t==="preserve-aspect"&&!v8(DT(e),DT(n),.2)}function gF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const yF=xA({attachResizeListener:(t,e)=>fc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},AA=xA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yg.current){const t=new yF({});t.mount(window),t.setOptions({layoutScroll:!0}),yg.current=t}return yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vF={pan:{Feature:O8},drag:{Feature:N8,ProjectionNode:AA,MeasureLayout:_A}};function zT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&at.postRender(()=>a(e,Yc(e)))}class _F extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=_M(e,n=>(zT(this.node,n,"Start"),r=>zT(this.node,r,"End"))))}unmount(){}}class wF extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xc(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $T(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&at.postRender(()=>a(e,Yc(e)))}class EF extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=SM(e,n=>($T(this.node,n,"Start"),(r,{success:i})=>$T(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yy=new WeakMap,vg=new WeakMap,TF=t=>{const e=yy.get(t.target);e&&e(t)},SF=t=>{t.forEach(TF)};function IF({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const r=vg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(SF,{root:t,...e})),r[i]}function xF(t,e,n){const r=IF(e);return yy.set(t,n),r.observe(t),()=>{yy.delete(t),r.unobserve(t)}}const CF={some:0,all:1};class AF extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:CF[i]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),w=p?g:_;w&&w(h)};return xF(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PF(e,n))&&this.startObserver()}unmount(){}}function PF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RF={inView:{Feature:AF},tap:{Feature:EF},focus:{Feature:wF},hover:{Feature:_F}},bF={layout:{ProjectionNode:AA,MeasureLayout:_A}},vy={current:null},PA={current:!1};function kF(){if(PA.current=!0,!!Dv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vy.current=t.matches;t.addListener(e),e()}else vy.current=!1}const DF=[...ZC,rn,Os],NF=t=>DF.find(JC(t)),qT=new WeakMap;function OF(t,e,n){for(const r in e){const i=e[r],a=n[r];if(an(i))t.addValue(r,i);else if(an(a))t.addValue(r,cc(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,cc(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const HT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Mr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,at.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=up(n),this.isVariantNode=aC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in w){const I=w[T];h[T]!==void 0&&an(I)&&I.set(h[T],!1)}}mount(e){this.current=e,qT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PA.current||kF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qT.delete(this.current),this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zo.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yl){const n=yl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<HT.length;r++){const i=HT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=OF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=cc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(XC(i)||BC(i))?i=parseFloat(i):!NF(i)&&Os.test(n)&&(i=KC(e,n)),this.setBaseTarget(e,an(i)?i.get():i)),an(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=jv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!an(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class RA extends VF{constructor(){super(...arguments),this.KeyframeResolver=eA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LF(t){return window.getComputedStyle(t)}class MF extends RA{constructor(){super(...arguments),this.type="html",this.renderInstance=gC}readValueFromInstance(e,n){if(zo.has(n)){const r=i0(n);return r&&r.default||0}else{const r=LF(e),i=(dC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yA(e,n)}build(e,n,r){zv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Wv(e,n,r)}}class FF extends RA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zo.has(n)){const r=i0(n);return r&&r.default||0}return n=yC.has(n)?n:Lv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wC(e,n,r)}build(e,n,r){$v(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){vC(e,n,r,i)}mount(e){this.isSVGTag=Hv(e.tagName),super.mount(e)}}const jF=(t,e)=>Fv(t)?new FF(e):new MF(e,{allowProjection:t!==M.Fragment}),UF=fM({...u8,...RF,...vF,...bF},jF),ws=AL(UF);var _g,WT;function BF(){if(WT)return _g;WT=1;function t(e,n,r){var i,a,l,c,h;n==null&&(n=100);function p(){var _=Date.now()-c;_<n&&_>=0?i=setTimeout(p,n-_):(i=null,r||(h=e.apply(l,a),l=a=null))}var g=function(){l=this,a=arguments,c=Date.now();var _=r&&!i;return i||(i=setTimeout(p,n)),_&&(h=e.apply(l,a),l=a=null),h};return g.clear=function(){i&&(clearTimeout(i),i=null)},g.flush=function(){i&&(h=e.apply(l,a),l=a=null,clearTimeout(i),i=null)},g}return t.debounce=t,_g=t,_g}var zF=BF();const KT=Cc(zF);function $F(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1};const a=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,c]=M.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=M.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),p=e?typeof e=="number"?e:e.scroll:null,g=e?typeof e=="number"?e:e.resize:null,_=M.useRef(!1);M.useEffect(()=>(_.current=!0,()=>void(_.current=!1)));const[w,T,I]=M.useMemo(()=>{const V=()=>{if(!h.current.element)return;const{left:j,top:G,width:J,height:Z,bottom:O,right:A,x:N,y:F}=h.current.element.getBoundingClientRect(),P={left:j,top:G,width:J,height:Z,bottom:O,right:A,x:N,y:F};h.current.element instanceof HTMLElement&&i&&(P.height=h.current.element.offsetHeight,P.width=h.current.element.offsetWidth),Object.freeze(P),_.current&&!KF(h.current.lastBounds,P)&&c(h.current.lastBounds=P)};return[V,g?KT(V,g):V,p?KT(V,p):V]},[c,i,p,g]);function x(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(V=>V.removeEventListener("scroll",I,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function b(){h.current.element&&(h.current.resizeObserver=new a(I),h.current.resizeObserver.observe(h.current.element),n&&h.current.scrollContainers&&h.current.scrollContainers.forEach(V=>V.addEventListener("scroll",I,{capture:!0,passive:!0})))}const D=V=>{!V||V===h.current.element||(x(),h.current.element=V,h.current.scrollContainers=bA(V),b())};return HF(I,!!n),qF(T),M.useEffect(()=>{x(),b()},[n,I,T]),M.useEffect(()=>x,[]),[D,l,w]}function qF(t){M.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function HF(t,e){M.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function bA(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...bA(t.parentElement)]}const WF=["x","y","top","bottom","left","right","width","height"],KF=(t,e)=>WF.every(n=>t[n]===e[n]),GF=({title:t,children:e,defaultOpen:n=!1})=>{const[r,{height:i}]=$F(),[a,l]=M.useState(n);return q.jsxs(ws.div,{animate:a?"open":"closed",className:"border-b-[1px] border-b-slate-300",children:[q.jsxs("button",{onClick:()=>l(c=>!c),className:"flex w-full items-center justify-between gap-4 py-6",children:[q.jsx(ws.span,{variants:{open:{color:"rgba(3, 6, 23, 1)"},closed:{color:"rgba(3, 6, 23, 0.8)"}},className:"bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-left text-lg font-medium",children:t}),q.jsx(ws.span,{variants:{open:{rotate:"180deg",color:"rgb(124 58 237)"},closed:{rotate:"0deg",color:"#030617"}},children:q.jsx(gL,{className:"text-2xl"})})]}),q.jsx(ws.div,{initial:!1,animate:{height:a?i:"0px",marginBottom:a?"24px":"0px"},className:"overflow-hidden text-slate-600",children:q.jsx("div",{ref:r,children:e})})]})},QF=({images:t})=>{const[e,n]=M.useState(0);return!t||t.length===0?q.jsx("div",{className:"h-96 bg-gray-100 flex items-center justify-center",children:"無圖片"}):q.jsxs("div",{className:"flex flex-col space-y-4",children:[q.jsx("div",{className:"relative overflow-hidden rounded-lg bg-gray-100 h-[500px]",children:q.jsx("img",{src:t[e],alt:"Product",className:"w-full h-full object-cover",onDragStart:r=>r.preventDefault()})}),t.length>1&&q.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2",children:t.map((r,i)=>q.jsx("button",{onClick:()=>n(i),className:`flex-shrink-0 h-20 w-20 rounded-md overflow-hidden border-2 ${e===i?"border-blue-500":"border-transparent"}`,children:q.jsx("img",{src:r,alt:`Thumbnail ${i+1}`,className:"h-full w-full object-cover",onDragStart:a=>a.preventDefault()})},i))})]})},XF=()=>{const{slug:t}=CR(),[e,n]=M.useState(null),[r,i]=M.useState(!0),[a,l]=M.useState(null);return M.useEffect(()=>{const c=p=>{p.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")};document.addEventListener("contextmenu",c);const h=p=>{p.preventDefault()};return document.addEventListener("dragstart",h),()=>{document.removeEventListener("contextmenu",c),document.removeEventListener("dragstart",h)}},[]),M.useEffect(()=>{(async()=>{try{i(!0),l(null);const p=await Ju.fetch(`*[_type == "product" && slug.current == $slug][0] {
          _id,
          "images": images[].asset->url,
          name,
          price,
          description,
          "slug": slug.current,
          "categoryName": category->name
        }`,{slug:t});if(!p)throw new Error("Product not found");n(p)}catch(h){l(h.message)}finally{i(!1)}})()},[t]),r?q.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):a?q.jsxs("div",{className:"flex justify-center items-center h-64 text-red-500",children:["Error: ",a]}):q.jsxs("div",{className:"bg-white -mt-6",children:[q.jsx("div",{className:"w-full px-4",children:q.jsx(QF,{images:e.images})}),q.jsxs("div",{className:"mx-auto max-w-screen-xl px-4 md:px-8",children:[q.jsxs("div",{className:"mb-8",children:[q.jsxs("div",{className:"mb-4",children:[q.jsx("span",{className:"mb-1 inline-block text-gray-500",children:e.categoryName}),q.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:e.name})]}),q.jsx("div",{className:"mb-6 flex items-center gap-3",children:q.jsx("span",{className:"text-sm text-gray-500 transition duration-100",children:"56 Ratings"})}),q.jsxs("div",{className:"mb-6",children:[q.jsxs("div",{className:"flex items-end gap-2",children:[q.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["$",e.price]}),q.jsxs("span",{className:"mb-0.5 text-red-500 line-through",children:["$",e.price+30]})]}),q.jsx("span",{className:"text-sm text-gray-500",children:"不含運費"})]}),q.jsx("div",{className:"mb-8",children:q.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"加入購物車"})})]}),q.jsxs("div",{className:"py-8 border-t border-gray-200",children:[q.jsx("h3",{className:"mb-6 text-xl font-semibold",children:"產品描述"}),q.jsx(GF,{title:"特色",defaultOpen:!0,children:q.jsx("p",{children:e.description})})]})]})]})};var wg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var GT;function YF(){return GT||(GT=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(wg)),wg.exports}var JF=YF();const $o=Cc(JF);function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(null,arguments)}function kA(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function QT(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function ZF(t){var e=ej(t,"string");return typeof e=="symbol"?e:String(e)}function ej(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tj(t,e,n){var r=M.useRef(t!==void 0),i=M.useState(e),a=i[0],l=i[1],c=t!==void 0,h=r.current;return r.current=c,!c&&h&&a!==e&&l(e),[c?t:a,M.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),w=1;w<g;w++)_[w-1]=arguments[w];n&&n.apply(void 0,[p].concat(_)),l(p)},[n])]}function nj(t,e){return Object.keys(e).reduce(function(n,r){var i,a=n,l=a[QT(r)],c=a[r],h=kA(a,[QT(r),r].map(ZF)),p=e[r],g=tj(c,l,t[p]),_=g[0],w=g[1];return _y({},h,(i={},i[r]=_,i[p]=w,i))},t)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},wy(t,e)}function rj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wy(t,e)}const ij=["xxl","xl","lg","md","sm","xs"],sj="xs",oj=M.createContext({prefixes:{},breakpoints:ij,minBreakpoint:sj});function Rl(t,e){const{prefixes:n}=M.useContext(oj);return t||n[e]||e}function aj(t){return t&&t.ownerDocument||document}function lj(t){var e=aj(t);return e&&e.defaultView||window}function uj(t,e){return lj(t).getComputedStyle(t,e)}var cj=/([A-Z])/g;function hj(t){return t.replace(cj,"-$1").toLowerCase()}var fj=/^ms-/;function Af(t){return hj(t).replace(fj,"-ms-")}var dj=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function pj(t){return!!(t&&dj.test(t))}function xd(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Af(e))||uj(t).getPropertyValue(Af(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(Af(i)):pj(i)?r+=i+"("+a+") ":n+=Af(i)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const XT={disabled:!1},DA=Me.createContext(null);var mj=function(e){return e.scrollTop},Fu="unmounted",os="exited",as="entering",go="entered",Cd="exiting",Di=function(t){rj(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?c?(h=os,a.appearStatus=as):h=go:r.unmountOnExit||r.mountOnEnter?h=Fu:h=os,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Fu?{status:os}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==as&&l!==go&&(a=as):(l===as||l===go)&&(a=Cd)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===as){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:bu.findDOMNode(this);l&&mj(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===os&&this.setState({status:Fu})},n.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,h=this.props.nodeRef?[c]:[bu.findDOMNode(this),c],p=h[0],g=h[1],_=this.getTimeouts(),w=c?_.appear:_.enter;if(!i&&!l||XT.disabled){this.safeSetState({status:go},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:as},function(){a.props.onEntering(p,g),a.onTransitionEnd(w,function(){a.safeSetState({status:go},function(){a.props.onEntered(p,g)})})})},n.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:bu.findDOMNode(this);if(!a||XT.disabled){this.safeSetState({status:os},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Cd},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:os},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:bu.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=h[0],g=h[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Fu)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=kA(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Me.createElement(DA.Provider,{value:null},typeof l=="function"?l(i,c):Me.cloneElement(Me.Children.only(l),c))},e}(Me.Component);Di.contextType=DA;Di.propTypes={};function La(){}Di.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:La,onEntering:La,onEntered:La,onExit:La,onExiting:La,onExited:La};Di.UNMOUNTED=Fu;Di.EXITED=os;Di.ENTERING=as;Di.ENTERED=go;Di.EXITING=Cd;function gj(){const t=M.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function yj(t){if(!t||typeof t=="function")return null;const{major:e}=gj();return e>=19?t.props.ref:t.ref}const vj=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ey=!1,Ty=!1;try{var Eg={get passive(){return Ey=!0},get once(){return Ty=Ey=!0}};vj&&(window.addEventListener("test",Eg,Eg),window.removeEventListener("test",Eg,!0))}catch{}function _j(t,e,n,r){if(r&&typeof r!="boolean"&&!Ty){var i=r.once,a=r.capture,l=n;!Ty&&i&&(l=n.__once||function c(h){this.removeEventListener(e,c,a),n.call(this,h)},n.__once=l),t.addEventListener(e,l,Ey?r:a)}t.addEventListener(e,n,r)}function wj(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function NA(t,e,n,r){return _j(t,e,n,r),function(){wj(t,e,n,r)}}function Ej(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function Tj(t){var e=xd(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Sj(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||Ej(t,"transitionend",!0)},e+n),a=NA(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function Ij(t,e,n,r){n==null&&(n=Tj(t)||0);var i=Sj(t,n,r),a=NA(t,"transitionend",e);return function(){i(),a()}}function YT(t,e){const n=xd(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function xj(t,e){const n=YT(t,"transitionDuration"),r=YT(t,"transitionDelay"),i=Ij(t,a=>{a.target===t&&(i(),e(a))},n+r)}function Pu(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function Cj(t){t.offsetHeight}const JT=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Aj(t,e){const n=JT(t),r=JT(e);return i=>{n&&n(i),r&&r(i)}}function Pj(t,e){return M.useMemo(()=>Aj(t,e),[t,e])}function Rj(t){return t&&"setState"in t?bu.findDOMNode(t):t??null}const bj=Me.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:h,...p},g)=>{const _=M.useRef(null),w=Pj(_,h),T=Z=>{w(Rj(Z))},I=Z=>O=>{Z&&_.current&&Z(_.current,O)},x=M.useCallback(I(t),[t]),b=M.useCallback(I(e),[e]),D=M.useCallback(I(n),[n]),V=M.useCallback(I(r),[r]),j=M.useCallback(I(i),[i]),G=M.useCallback(I(a),[a]),J=M.useCallback(I(l),[l]);return q.jsx(Di,{ref:g,...p,onEnter:x,onEntered:D,onEntering:b,onExit:V,onExited:G,onExiting:j,addEndListener:J,nodeRef:_,children:typeof c=="function"?(Z,O)=>c(Z,{...O,ref:T}):Me.cloneElement(c,{ref:T})})}),kj={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Dj(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=kj[t];return r+parseInt(xd(e,i[0]),10)+parseInt(xd(e,i[1]),10)}const Nj={[os]:"collapse",[Cd]:"collapsing",[as]:"collapsing",[go]:"collapse show"},Oj=Me.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:h=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:w=!1,getDimensionValue:T=Dj,...I},x)=>{const b=typeof c=="function"?c():c,D=M.useMemo(()=>Pu(Z=>{Z.style[b]="0"},t),[b,t]),V=M.useMemo(()=>Pu(Z=>{const O=`scroll${b[0].toUpperCase()}${b.slice(1)}`;Z.style[b]=`${Z[O]}px`},e),[b,e]),j=M.useMemo(()=>Pu(Z=>{Z.style[b]=null},n),[b,n]),G=M.useMemo(()=>Pu(Z=>{Z.style[b]=`${T(b,Z)}px`,Cj(Z)},r),[r,T,b]),J=M.useMemo(()=>Pu(Z=>{Z.style[b]=null},i),[b,i]);return q.jsx(bj,{ref:x,addEndListener:xj,...I,"aria-expanded":I.role?h:null,onEnter:D,onEntering:V,onEntered:j,onExit:G,onExiting:J,childRef:yj(l),in:h,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:w,children:(Z,O)=>Me.cloneElement(l,{...O,className:$o(a,l.props.className,Nj[Z],b==="width"&&"collapse-horizontal")})})});function OA(t,e){return Array.isArray(t)?t.includes(e):t===e}const Jc=M.createContext({});Jc.displayName="AccordionContext";const u0=M.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=M.useContext(Jc);return e=Rl(e,"accordion-collapse"),q.jsx(Oj,{ref:l,in:OA(c,i),...a,className:$o(n,e),children:q.jsx(t,{children:M.Children.only(r)})})});u0.displayName="AccordionCollapse";const fp=M.createContext({eventKey:""});fp.displayName="AccordionItemContext";const VA=M.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:h,...p},g)=>{e=Rl(e,"accordion-body");const{eventKey:_}=M.useContext(fp);return q.jsx(u0,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:h,children:q.jsx(t,{ref:g,...p,className:$o(n,e)})})});VA.displayName="AccordionBody";function Vj(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:i}=M.useContext(Jc);return a=>{let l=t===n?null:t;i&&(Array.isArray(n)?n.includes(t)?l=n.filter(c=>c!==t):l=[...n,t]:l=[t]),r==null||r(l,a),e==null||e(a)}}const c0=M.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...i},a)=>{e=Rl(e,"accordion-button");const{eventKey:l}=M.useContext(fp),c=Vj(l,r),{activeEventKey:h}=M.useContext(Jc);return t==="button"&&(i.type="button"),q.jsx(t,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(h)?h.includes(l):l===h,className:$o(n,e,!OA(h,l)&&"collapsed")})});c0.displayName="AccordionButton";const LA=M.forwardRef(({as:t="h2","aria-controls":e,bsPrefix:n,className:r,children:i,onClick:a,...l},c)=>(n=Rl(n,"accordion-header"),q.jsx(t,{ref:c,...l,className:$o(r,n),children:q.jsx(c0,{onClick:a,"aria-controls":e,children:i})})));LA.displayName="AccordionHeader";const MA=M.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...i},a)=>{e=Rl(e,"accordion-item");const l=M.useMemo(()=>({eventKey:r}),[r]);return q.jsx(fp.Provider,{value:l,children:q.jsx(t,{ref:a,...i,className:$o(n,e)})})});MA.displayName="AccordionItem";const FA=M.forwardRef((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:h,...p}=nj(t,{activeKey:"onSelect"}),g=Rl(i,"accordion"),_=M.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:h}),[r,l,h]);return q.jsx(Jc.Provider,{value:_,children:q.jsx(n,{ref:e,...p,className:$o(a,g,c&&`${g}-flush`)})})});FA.displayName="Accordion";const ho=Object.assign(FA,{Button:c0,Collapse:u0,Item:MA,Header:LA,Body:VA});function Lj(){return q.jsx("div",{className:" ",children:q.jsxs(ho,{className:"mb-7",defaultActiveKey:"0",children:[q.jsxs(ho.Item,{eventKey:"0",children:[q.jsx(ho.Header,{children:"Accordion Item #1"}),q.jsx(ho.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),q.jsxs(ho.Item,{eventKey:"1",children:[q.jsx(ho.Header,{children:"Accordion Item #2"}),q.jsx(ho.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})})}function Mj(t){return mt({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const Fj=()=>{const t=c2(),{user:e,setUser:n}=M.useContext(rp),r=async()=>{try{await W6(Wu,vI);const a=await pD(Wu,SV);n(a.user),t("/")}catch(a){console.error("Error during Google login:",a.message)}},i=async()=>{try{await mI(Wu),n(null),t("/")}catch(a){console.error("Error during logout:",a.message)}};return q.jsx("div",{className:"flex items-center gap-4",children:e?q.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"登出"}):q.jsx("div",{className:"relative w-full h-screen",children:q.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 max-w-sm w-full p-6 rounded-lg shadow-lg text-center",children:[q.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Log into Your Account"}),q.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sign in to your account with your social profile"}),q.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 w-full mt-4 bg-red-500 text-white py-3 rounded-full text-lg font-semibold shadow-md hover:bg-red-600 transition",children:[q.jsx(Mj,{className:"text-2xl bg-white rounded-full p-1"}),"Sign in with Google"]})]})})})},jj=()=>AR([{path:"/",element:q.jsx(mL,{})},{path:"/problem",element:q.jsx(Lj,{})},{path:"/login",element:q.jsx(Fj,{})},{path:"/product/:slug",element:q.jsx(XF,{})}]),Uj=()=>q.jsxs("div",{className:"bg-gray-50",children:[q.jsx(Bj,{}),q.jsx("div",{className:"h-72"})]}),Bj=()=>q.jsxs("nav",{className:"bg-white p-4 border-b-[1px] border-gray-200 flex items-center justify-between relative",children:[q.jsx(zj,{}),q.jsx($j,{})]}),zj=()=>q.jsxs("div",{className:"flex items-center gap-6",children:[q.jsx(Ru,{to:"/",text:"首頁"}),q.jsx(Ru,{to:"/problem",text:"問與答Q&A"}),q.jsx(Ru,{to:"/community",text:"Community"}),q.jsx(Ru,{to:"/pricing",text:"Pricing"}),q.jsx(Ru,{to:"/company",text:"關於我"})]}),Ru=({to:t,text:e})=>q.jsx(bc,{to:t,className:"hidden lg:block h-[30px] overflow-hidden font-medium",children:q.jsxs(ws.div,{whileHover:{y:-30},children:[q.jsx("span",{className:"flex items-center h-[30px] text-gray-500",children:e}),q.jsx("span",{className:"flex items-center h-[30px] text-indigo-600",children:e})]})}),$j=()=>{const{user:t,setUser:e}=M.useContext(rp);M.useEffect(()=>{t&&We.success("🎉 登入成功！",{position:"top-right",autoClose:2e3})},[t]);const n=async()=>{try{await mI(Wu),e(null),We.success("🎉 登出成功！",{position:"top-right",autoClose:2e3})}catch(r){console.error("登出錯誤:",r.message)}};return q.jsx("div",{className:"flex items-center gap-4",children:t?q.jsx(ws.button,{onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-md whitespace-nowrap",children:"登出"}):q.jsx(bc,{to:"/login",children:q.jsx(ws.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent font-medium rounded-md whitespace-nowrap",children:"登入"})})})};function qj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.903 5.954L17.17 13.03l-1.739-7.076h-5.099v2.613C9.72 6.28 7.56 5.706 5.558 5.674 3.12 5.641.563 6.701.469 9.936h3.373c0-.977.747-1.536 1.588-1.523 1.032-.008 1.508.434 1.533 1.124-.036.597-.387 1.014-1.525 1.014H4.303V12.9h1.03c.584 0 1.399.319 1.431 1.155.04.995-.652 1.435-1.501 1.443-1.517-.053-1.763-1.225-1.763-2.23H0c.015.677-.151 5.091 5.337 5.059 2.629.025 4.464-1.085 5.003-2.613v2.342h3.455v-7.632l1.867 7.634h3.018l1.875-7.626v7.634H24V5.954h-5.097zm-8.561 7.06c-.429-.893-1.034-1.284-1.376-1.407.714-.319 1.09-.751 1.376-1.614v3.021z"},child:[]}]})(t)}function Hj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0c9.601 0 12 2.399 12 12 0 9.601-2.399 12-12 12-9.601 0-12-2.399-12-12C0 2.399 2.399 0 12 0zm-1.969 18.564c2.524.003 4.604-2.07 4.609-4.595 0-2.521-2.074-4.595-4.595-4.595S5.45 11.449 5.45 13.969c0 2.516 2.065 4.588 4.581 4.595zm8.344-.189V5.625H5.625v2.247h10.498v10.503h2.252zm-8.344-6.748a2.343 2.343 0 11-.002 4.686 2.343 2.343 0 01.002-4.686z"},child:[]}]})(t)}function Wj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.966 22.624l-1.69-4.281H8.122l3.892-9.144 5.662 13.425zM8.884 1.376H0v21.248zm15.116 0h-8.884L24 22.624Z"},child:[]}]})(t)}function Kj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.992 1.966c-.434 0-.87.086-1.28.257L1.779 5.917c-.503.208-.49.908.012 1.116l8.982 3.558a3.266 3.266 0 0 0 2.454 0l8.982-3.558c.503-.196.503-.908.012-1.116l-8.957-3.694a3.255 3.255 0 0 0-1.272-.257zM23.4 8.056a.589.589 0 0 0-.222.045l-10.012 3.877a.612.612 0 0 0-.38.564v8.896a.6.6 0 0 0 .821.552L23.62 18.1a.583.583 0 0 0 .38-.551V8.653a.6.6 0 0 0-.6-.596zM.676 8.095a.644.644 0 0 0-.48.19C.086 8.396 0 8.53 0 8.69v8.355c0 .442.515.737.908.54l6.27-3.006.307-.147 2.969-1.436c.466-.22.43-.908-.061-1.092L.883 8.138a.57.57 0 0 0-.207-.044z"},child:[]}]})(t)}function Gj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.525.13.12.174.09.336-.12.48-.256.19-.6.41-1.006.654-1.244.743-2.64 1.316-4.185 1.726a17.617 17.617 0 01-10.951-.577 17.88 17.88 0 01-5.43-3.35c-.1-.074-.151-.15-.151-.22 0-.047.021-.09.051-.13zm6.565-6.218c0-1.005.247-1.863.743-2.577.495-.71 1.17-1.25 2.04-1.615.796-.335 1.756-.575 2.912-.72.39-.046 1.033-.103 1.92-.174v-.37c0-.93-.105-1.558-.3-1.875-.302-.43-.78-.65-1.44-.65h-.182c-.48.046-.896.196-1.246.46-.35.27-.575.63-.675 1.096-.06.3-.206.465-.435.51l-2.52-.315c-.248-.06-.372-.18-.372-.39 0-.046.007-.09.022-.15.247-1.29.855-2.25 1.82-2.88.976-.616 2.1-.975 3.39-1.05h.54c1.65 0 2.957.434 3.888 1.29.135.15.27.3.405.48.12.165.224.314.283.45.075.134.15.33.195.57.06.254.105.42.135.51.03.104.062.3.076.615.01.313.02.493.02.553v5.28c0 .376.06.72.165 1.036.105.313.21.54.315.674l.51.674c.09.136.136.256.136.36 0 .12-.06.226-.18.314-1.2 1.05-1.86 1.62-1.963 1.71-.165.135-.375.15-.63.045a6.062 6.062 0 01-.526-.496l-.31-.347a9.391 9.391 0 01-.317-.42l-.3-.435c-.81.886-1.603 1.44-2.4 1.665-.494.15-1.093.227-1.83.227-1.11 0-2.04-.343-2.76-1.034-.72-.69-1.08-1.665-1.08-2.94l-.05-.076zm3.753-.438c0 .566.14 1.02.425 1.364.285.34.675.512 1.155.512.045 0 .106-.007.195-.02.09-.016.134-.023.166-.023.614-.16 1.08-.553 1.424-1.178.165-.28.285-.58.36-.91.09-.32.12-.59.135-.8.015-.195.015-.54.015-1.005v-.54c-.84 0-1.484.06-1.92.18-1.275.36-1.92 1.17-1.92 2.43l-.035-.02zm9.162 7.027c.03-.06.075-.11.132-.17.362-.243.714-.41 1.05-.5a8.094 8.094 0 011.612-.24c.14-.012.28 0 .41.03.65.06 1.05.168 1.172.33.063.09.099.228.099.39v.15c0 .51-.149 1.11-.424 1.8-.278.69-.664 1.248-1.156 1.68-.073.06-.14.09-.197.09-.03 0-.06 0-.09-.012-.09-.044-.107-.12-.064-.24.54-1.26.806-2.143.806-2.64 0-.15-.03-.27-.087-.344-.145-.166-.55-.257-1.224-.257-.243 0-.533.016-.87.046-.363.045-.7.09-1 .135-.09 0-.148-.014-.18-.044-.03-.03-.036-.047-.02-.077 0-.017.006-.03.02-.063v-.06z"},child:[]}]})(t)}function Qj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 .78C18.196.78 23.219 5.803 23.219 12c0 6.196-5.022 11.219-11.219 11.219C5.803 23.219.781 18.196.781 12S5.804.78 12 .78zm-.678.63c-.33.014-.66.042-.992.078l-.107 2.944a9.95 9.95 0 0 1 .71-.094l.07-1.988-.013-.137.043.13.664 1.489h.606l.664-1.488.04-.131-.01.137.07 1.988c.232.022.473.054.71.094l-.109-2.944a14.746 14.746 0 0 0-.992-.078l-.653 1.625-.023.12-.023-.12-.655-1.625zm6.696 1.824l-1.543 2.428c.195.15.452.371.617.522l1.453-.754.092-.069-.069.094-.752 1.453c.163.175.398.458.53.63l2.43-1.544a16.135 16.135 0 0 0-.46-.568L18.777 6.44l-.105.092.078-.115.68-1.356-.48-.48-1.356.68-.115.078.091-.106 1.018-1.539c-.18-.152-.351-.291-.57-.46zM5.5 3.785c-.36.037-.638.283-1.393 1.125a18.97 18.97 0 0 0-.757.914l2.074 1.967c.687-.76.966-1.042 1.508-1.613.383-.405.6-.87.216-1.317-.208-.242-.558-.295-.85-.175l-.028.01.01-.026a.7.7 0 0 0-.243-.734.724.724 0 0 0-.537-.15zm.006.615c.136-.037.277.06.308.2.032.14-.056.272-.154.382-.22.25-1.031 1.098-1.031 1.098l-.402-.383c.417-.51.861-.974 1.062-1.158a.55.55 0 0 1 .217-.139zM12 4.883a7.114 7.114 0 0 0-7.08 6.388v.002a7.122 7.122 0 0 0 8.516 7.697 7.112 7.112 0 0 0 5.68-6.97A7.122 7.122 0 0 0 12 4.885v-.002zm-5.537.242c.047 0 .096.013.14.043.088.059.128.16.106.26-.026.119-.125.231-.205.318l-1.045 1.12-.42-.4s.787-.832 1.045-1.099c.102-.106.168-.17.238-.205a.331.331 0 0 1 .14-.037zM12 5.818A6.175 6.175 0 0 1 18.182 12H12v6.182A6.175 6.175 0 0 1 5.818 12H12V5.818Z"},child:[]}]})(t)}function Xj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.959 5.523c-.54 0-.959.42-.959.899v7.549a4.59 4.59 0 004.613 4.494 4.717 4.717 0 004.135-2.457c.779 1.438 2.337 2.457 4.074 2.457 2.577 0 4.674-2.037 4.674-4.613.06-2.457-2.037-4.495-4.613-4.495-1.738 0-3.295.959-4.074 2.397-.78-1.438-2.338-2.397-4.135-2.397-1.079 0-2.038.36-2.817.899V6.422a.92.92 0 00-.898-.899zM17.602 9.26a.95.95 0 00-.704.158c-.36.3-.479.899-.18 1.318l2.397 3.116-2.396 3.115c-.3.42-.24.96.18 1.26.419.3 1.016.298 1.316-.122l2.039-2.636 2.096 2.697c.3.36.899.419 1.318.12.36-.3.42-.84.121-1.259l-2.338-3.115 2.338-3.057c.3-.419.298-1.018-.121-1.318-.48-.3-1.019-.24-1.318.18l-2.096 2.576-2.04-2.695c-.149-.18-.373-.3-.612-.338zM4.613 11.154c1.558 0 2.817 1.26 2.817 2.758 0 1.558-1.259 2.756-2.817 2.756-1.558 0-2.816-1.198-2.816-2.756 0-1.498 1.258-2.758 2.816-2.758zm8.27 0c1.558 0 2.816 1.26 2.816 2.758-.06 1.558-1.318 2.756-2.816 2.756-1.558 0-2.817-1.198-2.817-2.756 0-1.498 1.259-2.758 2.817-2.758Z"},child:[]}]})(t)}function Yj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.613 8.143l-7.668-3.856v7.712l7.668-3.855zM8.166 15.857V8.143L.387 4.287V12l7.78 3.857zM.183 3.958a.382.382 0 01.377-.017l7.606 3.771 7.607-3.771a.386.386 0 01.346 0l7.668 3.857a.386.386 0 01.213.345v7.71a.388.388 0 01-.213.346l-7.668 3.86a.389.389 0 01-.562-.345v-7.09l-7.219 3.58a.392.392 0 01-.344 0L.215 12.346A.387.387 0 010 12V4.287a.385.385 0 01.183-.329z"},child:[]}]})(t)}function Jj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9852 1.5427a.2544.2544 0 00-.2098.1167l-.9744 1.5088a.624.624 0 01-.3532.2618l-.5747.1643a.7493.7493 0 00-.4524.362L6.9551 8.4735a.7424.7424 0 01-.48.3695c-.1543.036-.3882.0866-.6213.132a.5525.5525 0 00-.4013.3226c-.2956.6863-.8678 2.0149-1.1562 2.6826a1.0018 1.0018 0 01-.5097.5162l-.4244.1906a1.0061 1.0061 0 00-.5425.6013s-.6473 1.6657-1.1468 3.1669c-.4515 1.3568-1.6317 5.445-1.6317 5.445a.4273.4273 0 00.0904.4915.32.32 0 00.466-.1066s1.5767-3.3727 2.1518-4.473a.3106.3106 0 01.4612-.093c.2536.165.3786.6073.6632.8644a.2578.2578 0 00.4215-.1034c.206-.5042.6888-2.0741.8511-2.7236.1356-.5411.5956-.5898.858-.1938l.1896.2345a2.2525 2.2525 0 00.7133.592l.3496.1853a.5006.5006 0 01.2283.2446l.3828.8973a.7493.7493 0 00.6609.455l.119.0046a.7503.7503 0 01.633.3978c.176.3314.4613.9323.7038 1.326a.2593.2593 0 00.4735-.0595 15.4276 15.4276 0 00.5997-2.0607c.1408-.7166.5788-.625.7299-.431.0551.07.245.3576.2966.4163a.252.252 0 00.4586-.0972 12.312 12.312 0 00.4033-1.9043c.0386-.2912.358-.3281.5106-.0793.1629.2657.4287.741.5734 1.0232a2.5873 2.5873 0 01.2358.6163l.211.9516a2.1773 2.1773 0 00.6662 1.1276 3.3829 3.3829 0 00.4768.4219.2676.2676 0 00.4091-.1054c.111-.2548.2517-.6868.335-.9354a.2534.2534 0 01.1925-.1675c.1073-.0211.1794-.0303.333-.0712a.8444.8444 0 00.564-.4918l.207-.4995a.257.257 0 01.4663-.012c.0751.1353.2088.4168.2716.572a1.975 1.975 0 01.089.2462l.1647.6362a2.248 2.248 0 00.2894.659l.0752.1167a2.1315 2.1315 0 00.7848.7217.2476.2476 0 00.3496-.1217c.2348-.5461.3253-1.3597.4332-1.8837a.285.285 0 01.5162-.0924c.6114 1.0018 2.3264 3.921 2.3264 3.921a.3122.3122 0 00.5409-.3096c-.0432-.0988-1.5061-3.7875-2.912-7.0531-1.2846-2.9848-2.5247-5.5752-2.5247-5.5752a.4576.4576 0 00-.5568-.2469c-.3762.1119-.7863.357-1.071.4557a.5375.5375 0 01-.6466-.2528c-.3467-.6362-1.1121-2.2981-1.8152-3.6137-.7611-1.4239-1.7256-3.3197-2.2431-4.069a.2544.2544 0 00-.2134-.1096z"},child:[]}]})(t)}function Zj(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.8772 1.4685L24 2.5326v18.9426l-4.1228 1.0563V1.4685zm-13.3481 9.428l4.115 1.0641v8.9786l-4.115 1.0642v-11.107zM0 2.572l4.115 1.0642v16.7354L0 21.428V2.572zm17.4553 5.6205v11.107l-4.1228-1.0642V9.2568l4.1228-1.0642z"},child:[]}]})(t)}function eU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 15.415c0 .468.38.85.848.85h5.937V.575L0 7.72v7.695m15.416 8.582c.467 0 .846-.38.846-.849v-5.937H.573l7.146 6.785h7.697M24 8.587a.844.844 0 0 0-.847-.846h-5.938V23.43l6.782-7.148L24 8.586M8.585.003a.847.847 0 0 0-.847.847v5.94h15.688L16.282.003H8.585Z"},child:[]}]})(t)}function tU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.87.283C3.081.283 0 3.32 0 7.05c0 3.732 3.082 6.767 6.87 6.767h2.429v-3.495h-2.43c-1.83 0-3.319-1.468-3.319-3.272 0-1.804 1.488-3.27 3.32-3.27.734 0 1.377.19 1.928.567l2.51-2.473C10.06.814 8.58.284 6.87.284zm5.152 2.231c-.066-.005-.141.08-.35.252a.457.457 0 0 0-.028.026L9.722 4.674c-.323.315-.29.203-.066.556a3.204 3.204 0 0 1 .532 1.749v9.991c0 3.73 3.096 6.747 6.908 6.747C20.907 23.717 24 20.7 24 16.97c0-3.728-3.093-6.75-6.904-6.75H13.76V6.979c0-1.495-.512-3.002-1.436-4.158-.175-.203-.234-.3-.3-.307zm5.246 11.209c1.762.088 3.168 1.502 3.168 3.247 0 1.802-1.5 3.264-3.342 3.264s-3.335-1.477-3.335-3.28v-3.219h3.509z"},child:[]}]})(t)}function nU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.111 14.104a1.467 1.458 0 0 1-1.235 1.503c-1.422.244-4.385.398-6.875.398s-5.454-.15-6.877-.398c-.814-.14-1.235-.787-1.235-1.503V9.417a1.57 1.56 0 0 1 1.235-1.505 15.72 15.619 0 0 1 2.156-.14.537.533 0 0 1 .523.543v3.303c1.463 0 2.727-.086 4.201-.086 1.474 0 2.727.086 4.196.086V8.342a.535.532 0 0 1 .494-.569h.027a15.995 15.891 0 0 1 2.156.14 1.57 1.56 0 0 1 1.234 1.504zM12.001 0C5.373 0 0 5.374 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.626-5.373-12-12-12z"},child:[]}]})(t)}function rU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.823 7.327a11.928 11.928 0 0 0-2.606-3.814 12.126 12.126 0 0 0-3.866-2.57A12.246 12.246 0 0 0 10.617 0H1.831a.602.602 0 0 0-.609.603v3.764c0 .162.064.312.179.426l4.164 4.123a.612.612 0 0 0 .439.177h4.56c.806 0 1.56.313 2.125.88.557.559.856 1.296.843 2.075-.029 1.571-1.343 2.849-2.931 2.849h-6.74a.613.613 0 0 0-.432.176.619.619 0 0 0-.178.427v3.764c0 .162.063.312.178.427l4.139 4.099a.647.647 0 0 0 .476.21h2.572a12.276 12.276 0 0 0 4.733-.945 12.145 12.145 0 0 0 3.866-2.571 11.959 11.959 0 0 0 2.607-3.813c.633-1.479.956-3.051.956-4.67 0-1.619-.321-3.19-.956-4.669l.001-.005ZM2.441 4.118V1.982l2.945 2.755.001 2.297-2.946-2.916Zm4.975 17.813-2.945-2.917v-2.137l2.945 2.755v2.299Zm-2.004-5.832h5.19c2.248 0 4.107-1.807 4.147-4.03a4.027 4.027 0 0 0-1.192-2.937 4.203 4.203 0 0 0-2.996-1.239H6.606V5.216h3.996c1.831 0 3.553.706 4.849 1.986a6.724 6.724 0 0 1-.152 9.736 6.875 6.875 0 0 1-4.697 1.84H8.275L5.412 16.1v-.001Zm15.289.1a10.753 10.753 0 0 1-2.345 3.431 10.91 10.91 0 0 1-3.48 2.314 11.018 11.018 0 0 1-4.26.847H8.633v-2.814h1.916c2.145 0 4.161-.802 5.675-2.254a7.88 7.88 0 0 0 2.451-5.728c0-2.177-.87-4.21-2.451-5.728-1.514-1.454-3.528-2.254-5.675-2.254h-4.16L3.383 1.202h7.234c1.479 0 2.911.285 4.259.847a10.957 10.957 0 0 1 3.48 2.313 10.769 10.769 0 0 1 2.345 3.432c.571 1.33.86 2.743.86 4.202 0 1.46-.289 2.873-.86 4.203Z"},child:[]}]})(t)}function iU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.861 0l-1.127 10.584L13.81 1.66 7.777 2.926l1.924 8.922-8.695 1.822 1.535 7.127L17.832 24l3.498-7.744L22.994.636 16.861 0zM11.39 13.61a.755.755 0 01.322.066c.208.093.56.29.63.592.103.434.004.799-.312 1.084v.002c-.315.284-.732.258-1.174.113-.441-.145-.637-.672-.47-1.309.124-.473.71-.544 1.004-.549zm4.142.548c.447-.012.832.186 1.05.543.217.357.107.75-.122 1.143h-.002c-.229.392-.83.445-1.422.16-.399-.193-.397-.684-.353-.983a.922.922 0 01.193-.447c.142-.177.381-.408.656-.416Z"},child:[]}]})(t)}function sU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.537 0C2.165 0 1.66.506 1.66 1.879V18.44a4.262 4.262 0 00.02.433c.031.3.037.59.316.92.027.033.311.245.311.245.153.075.258.13.43.2l8.335 3.491c.433.199.614.276.928.27h.002c.314.006.495-.071.928-.27l8.335-3.492c.172-.07.277-.124.43-.2 0 0 .284-.211.311-.243.28-.33.285-.621.316-.92a4.261 4.261 0 00.02-.434V1.879c0-1.373-.506-1.88-1.878-1.88zm13.366 3.11h.68c1.138 0 1.688.553 1.688 1.696v1.88h-1.374v-1.8c0-.369-.17-.54-.523-.54h-.235c-.367 0-.537.17-.537.539v5.81c0 .369.17.54.537.54h.262c.353 0 .523-.171.523-.54V8.619h1.373v2.143c0 1.144-.562 1.71-1.7 1.71h-.694c-1.138 0-1.7-.566-1.7-1.71V4.82c0-1.144.562-1.709 1.7-1.709zm-12.186.08h3.114v1.274H6.117v2.603h1.648v1.275H6.117v2.774h1.74v1.275h-3.14zm3.816 0h2.198c1.138 0 1.7.564 1.7 1.708v2.445c0 1.144-.562 1.71-1.7 1.71h-.799v3.338h-1.4zm4.53 0h1.4v9.201h-1.4zm-3.13 1.235v3.392h.575c.354 0 .523-.171.523-.54V4.965c0-.368-.17-.54-.523-.54zm-3.74 10.147a1.708 1.708 0 01.591.108 1.745 1.745 0 01.49.299l-.452.546a1.247 1.247 0 00-.308-.195.91.91 0 00-.363-.068.658.658 0 00-.28.06.703.703 0 00-.224.163.783.783 0 00-.151.243.799.799 0 00-.056.299v.008a.852.852 0 00.056.31.7.7 0 00.157.245.736.736 0 00.238.16.774.774 0 00.303.058.79.79 0 00.445-.116v-.339h-.548v-.565H7.37v1.255a2.019 2.019 0 01-.524.307 1.789 1.789 0 01-.683.123 1.642 1.642 0 01-.602-.107 1.46 1.46 0 01-.478-.3 1.371 1.371 0 01-.318-.455 1.438 1.438 0 01-.115-.58v-.008a1.426 1.426 0 01.113-.57 1.449 1.449 0 01.312-.46 1.418 1.418 0 01.474-.309 1.58 1.58 0 01.598-.111 1.708 1.708 0 01.045 0zm11.963.008a2.006 2.006 0 01.612.094 1.61 1.61 0 01.507.277l-.386.546a1.562 1.562 0 00-.39-.205 1.178 1.178 0 00-.388-.07.347.347 0 00-.208.052.154.154 0 00-.07.127v.008a.158.158 0 00.022.084.198.198 0 00.076.066.831.831 0 00.147.06c.062.02.14.04.236.061a3.389 3.389 0 01.43.122 1.292 1.292 0 01.328.17.678.678 0 01.207.24.739.739 0 01.071.337v.008a.865.865 0 01-.081.382.82.82 0 01-.229.285 1.032 1.032 0 01-.353.18 1.606 1.606 0 01-.46.061 2.16 2.16 0 01-.71-.116 1.718 1.718 0 01-.593-.346l.43-.514c.277.223.578.335.9.335a.457.457 0 00.236-.05.157.157 0 00.082-.142v-.008a.15.15 0 00-.02-.077.204.204 0 00-.073-.066.753.753 0 00-.143-.062 2.45 2.45 0 00-.233-.062 5.036 5.036 0 01-.413-.113 1.26 1.26 0 01-.331-.16.72.72 0 01-.222-.243.73.73 0 01-.082-.36v-.008a.863.863 0 01.074-.359.794.794 0 01.214-.283 1.007 1.007 0 01.34-.185 1.423 1.423 0 01.448-.066 2.006 2.006 0 01.025 0zm-9.358.025h.742l1.183 2.81h-.825l-.203-.499H8.623l-.198.498h-.81zm2.197.02h.814l.663 1.08.663-1.08h.814v2.79h-.766v-1.602l-.711 1.091h-.016l-.707-1.083v1.593h-.754zm3.469 0h2.235v.658h-1.473v.422h1.334v.61h-1.334v.442h1.493v.658h-2.255zm-5.3.897l-.315.793h.624zm-1.145 5.19h8.014l-4.09 1.348z"},child:[]}]})(t)}function oU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 6.827c0 2.164.79 4.133 2.167 5.51.393.393.786.59 1.18.983h.195c.197 0 .196-.196.196-.196-.393-.787-.588-1.77-.588-2.754 0-2.164.982-4.329 2.36-5.706V1.518c0-.197-.197-.196-.197-.196h-2.95C.789 2.896 0 4.664 0 6.827zm2.559 12.59c2.36 2.164 5.31 3.343 8.851 3.343 7.082 0 12.59-5.702 12.59-12.586 0-3.344-1.378-6.492-3.542-8.656h-.196c0-.197-.196 0-.196 0 .59 1.574.983 3.147.983 4.918 0 7.278-5.902 13.373-13.377 13.373-1.77 0-3.344-.393-4.917-.983-.197 0-.196.199-.196.395zm5.9-11.998c0 .59.395 1.178.788 1.571h.392c3.54 1.18 4.722-.193 4.722-1.767V5.056c0-.196.196-.196.196-.196h.787c.197 0 .196-.196.196-.196-.196-1.18-.784-2.358-1.571-3.342h-2.363c0-.197-.196 0-.196.196v2.95c0 1.574-1.18 2.754-2.754 2.951 0-.197-.196 0-.196 0z"},child:[]}]})(t)}function aU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.702 2.29c-2.494-1.554-5.778-1.187-8.706.654C9.076 1.104 5.79.736 3.3 2.29c-3.941 2.463-4.42 8.806-1.07 14.167 2.47 3.954 6.333 6.269 9.77 6.226 3.439.043 7.301-2.273 9.771-6.226 3.347-5.361 2.872-11.704-1.069-14.167zM4.042 15.328a12.838 12.838 0 01-1.546-3.541 10.12 10.12 0 01-.336-3.338c.15-1.98.956-3.524 2.27-4.345 1.315-.822 3.052-.87 4.903-.137.281.113.556.24.825.382A15.11 15.11 0 007.5 7.54c-2.035 3.255-2.655 6.878-1.945 9.765a13.247 13.247 0 01-1.514-1.98zm17.465-3.541a12.866 12.866 0 01-1.547 3.54 13.25 13.25 0 01-1.513 1.984c.635-2.589.203-5.76-1.353-8.734a.39.39 0 00-.563-.153l-4.852 3.032a.397.397 0 00-.126.546l.712 1.139a.395.395 0 00.547.126l3.145-1.965c.101.306.203.606.28.916.296 1.086.41 2.214.335 3.337-.15 1.982-.956 3.525-2.27 4.347a4.437 4.437 0 01-2.25.65h-.101a4.432 4.432 0 01-2.25-.65c-1.314-.822-2.121-2.365-2.27-4.347-.074-1.123.039-2.251.335-3.337a13.212 13.212 0 014.05-6.482 10.148 10.148 0 012.849-1.765c1.845-.733 3.586-.685 4.9.137 1.316.822 2.122 2.365 2.271 4.345a10.146 10.146 0 01-.33 3.334z"},child:[]}]})(t)}function lU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.61 0H3.39C2.189 0 1.23.96 1.23 2.16v19.681c0 1.198.959 2.159 2.16 2.159h17.22c1.2 0 2.159-.961 2.159-2.159V2.16C22.77.96 21.811 0 20.61 0zm.96 21.841c0 .539-.421.96-.96.96H3.39c-.54 0-.96-.421-.96-.96V2.16c0-.54.42-.961.96-.961h17.22c.539 0 .96.421.96.961v19.681zM6.63 20.399L9.33 18l-2.7-2.4v4.799zm9.72-9.719c-.479-.48-1.379-1.08-2.879-1.08-1.621 0-3.301.421-4.5.84V3.6h-2.4v10.38l1.68-.78s2.76-1.26 5.16-1.26c1.2 0 1.5.66 1.5 1.26v7.2h2.4v-7.2c.059-.179.059-1.501-.961-2.52zM13.17 7.5h2.4c1.08-1.26 1.62-2.521 1.8-3.9h-2.399c-.241 1.379-.841 2.64-1.801 3.9z"},child:[]}]})(t)}function uU(t){return mt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 7.8L6.442 15.276c-1.456.616-2.679.925-3.668.925-1.12 0-1.933-.392-2.437-1.177-.317-.504-.41-1.143-.28-1.918.13-.775.476-1.6 1.036-2.478.467-.71 1.232-1.643 2.297-2.8a6.122 6.122 0 00-.784 1.848c-.28 1.195-.028 2.072.756 2.632.373.261.886.392 1.54.392.522 0 1.11-.084 1.764-.252L24 7.8z"},child:[]}]})(t)}const cU=()=>q.jsxs("section",{className:"bg-white py-4",children:[q.jsxs("div",{className:"flex  overflow-hidden",children:[q.jsx(Ma,{children:q.jsx(Tg,{})}),q.jsx(Ma,{children:q.jsx(Tg,{})}),q.jsx(Ma,{children:q.jsx(Tg,{})})]}),q.jsxs("div",{className:"flex overflow-hidden mt-4",children:[q.jsx(Ma,{reverse:!0,children:q.jsx(Sg,{})}),q.jsx(Ma,{reverse:!0,children:q.jsx(Sg,{})}),q.jsx(Ma,{reverse:!0,children:q.jsx(Sg,{})})]})]}),Ma=({children:t,reverse:e})=>q.jsx(ws.div,{initial:{translateX:e?"-100%":"0%"},animate:{translateX:e?"0%":"-100%"},transition:{duration:50,repeat:1/0,ease:"linear"},className:"flex gap-4 px-2",children:t}),Pt=({Icon:t})=>q.jsx("a",{href:"/",rel:"nofollow",target:"_blank",className:"w-16 md:w-24 h-16 md:h-24 flex justify-center items-center hover:bg-slate-200 text-black transition-colors",children:q.jsx(t,{className:"text-4xl md:text-5xl"})}),Tg=()=>q.jsxs(q.Fragment,{children:[q.jsx(Pt,{Icon:uU}),q.jsx(Pt,{Icon:qj}),q.jsx(Pt,{Icon:Hj}),q.jsx(Pt,{Icon:Wj}),q.jsx(Pt,{Icon:Kj}),q.jsx(Pt,{Icon:Gj}),q.jsx(Pt,{Icon:Xj}),q.jsx(Pt,{Icon:Zj}),q.jsx(Pt,{Icon:eU}),q.jsx(Pt,{Icon:tU})]}),Sg=()=>q.jsxs(q.Fragment,{children:[q.jsx(Pt,{Icon:Qj}),q.jsx(Pt,{Icon:Jj}),q.jsx(Pt,{Icon:Yj}),q.jsx(Pt,{Icon:nU}),q.jsx(Pt,{Icon:rU}),q.jsx(Pt,{Icon:iU}),q.jsx(Pt,{Icon:sU}),q.jsx(Pt,{Icon:oU}),q.jsx(Pt,{Icon:aU}),q.jsx(Pt,{Icon:lU})]}),hU=()=>q.jsx(IV,{children:q.jsxs(cb,{children:[q.jsx(Uj,{})," ",q.jsx(sL,{}),q.jsx(jj,{}),q.jsx(cU,{}),"  "]})});XP.createRoot(document.getElementById("root")).render(q.jsx(M.StrictMode,{children:q.jsx(hU,{})}));export{pU as C,Cc as g};
