var OD=Object.defineProperty;var mT=t=>{throw TypeError(t)};var ND=(t,e,n)=>e in t?OD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var le=(t,e,n)=>ND(t,typeof e!="symbol"?e+"":e,n),gT=(t,e,n)=>e.has(t)||mT("Cannot "+n);var M=(t,e,n)=>(gT(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>e.has(t)?mT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(gT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cy={exports:{}},_c={},hy={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function MD(){if(yT)return Fe;yT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function R(q,ne,ye){this.props=q,this.context=ne,this.refs=b,this.updater=ye||E}R.prototype.isReactComponent={},R.prototype.setState=function(q,ne){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ne,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=R.prototype;function N(q,ne,ye){this.props=q,this.context=ne,this.refs=b,this.updater=ye||E}var V=N.prototype=new P;V.constructor=N,x(V,R.prototype),V.isPureReactComponent=!0;var W=Array.isArray,X=Object.prototype.hasOwnProperty,J={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function D(q,ne,ye){var be,Re={},Se=null,ze=null;if(ne!=null)for(be in ne.ref!==void 0&&(ze=ne.ref),ne.key!==void 0&&(Se=""+ne.key),ne)X.call(ne,be)&&!j.hasOwnProperty(be)&&(Re[be]=ne[be]);var qe=arguments.length-2;if(qe===1)Re.children=ye;else if(1<qe){for(var je=Array(qe),Ut=0;Ut<qe;Ut++)je[Ut]=arguments[Ut+2];Re.children=je}if(q&&q.defaultProps)for(be in qe=q.defaultProps,qe)Re[be]===void 0&&(Re[be]=qe[be]);return{$$typeof:t,type:q,key:Se,ref:ze,props:Re,_owner:J.current}}function L(q,ne){return{$$typeof:t,type:q.type,key:ne,ref:q.ref,props:q.props,_owner:q._owner}}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function S(q){var ne={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return ne[ye]})}var A=/\/+/g;function I(q,ne){return typeof q=="object"&&q!==null&&q.key!=null?S(""+q.key):ne.toString(36)}function F(q,ne,ye,be,Re){var Se=typeof q;(Se==="undefined"||Se==="boolean")&&(q=null);var ze=!1;if(q===null)ze=!0;else switch(Se){case"string":case"number":ze=!0;break;case"object":switch(q.$$typeof){case t:case e:ze=!0}}if(ze)return ze=q,Re=Re(ze),q=be===""?"."+I(ze,0):be,W(Re)?(ye="",q!=null&&(ye=q.replace(A,"$&/")+"/"),F(Re,ne,ye,"",function(Ut){return Ut})):Re!=null&&(B(Re)&&(Re=L(Re,ye+(!Re.key||ze&&ze.key===Re.key?"":(""+Re.key).replace(A,"$&/")+"/")+q)),ne.push(Re)),1;if(ze=0,be=be===""?".":be+":",W(q))for(var qe=0;qe<q.length;qe++){Se=q[qe];var je=be+I(Se,qe);ze+=F(Se,ne,ye,je,Re)}else if(je=_(q),typeof je=="function")for(q=je.call(q),qe=0;!(Se=q.next()).done;)Se=Se.value,je=be+I(Se,qe++),ze+=F(Se,ne,ye,je,Re);else if(Se==="object")throw ne=String(q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return ze}function me(q,ne,ye){if(q==null)return q;var be=[],Re=0;return F(q,be,"","",function(Se){return ne.call(ye,Se,Re++)}),be}function ee(q){if(q._status===-1){var ne=q._result;ne=ne(),ne.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=ne)}if(q._status===1)return q._result.default;throw q._result}var ie={current:null},te={transition:null},fe={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:J};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:me,forEach:function(q,ne,ye){me(q,function(){ne.apply(this,arguments)},ye)},count:function(q){var ne=0;return me(q,function(){ne++}),ne},toArray:function(q){return me(q,function(ne){return ne})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Fe.Component=R,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=N,Fe.StrictMode=r,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Fe.act=ae,Fe.cloneElement=function(q,ne,ye){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var be=x({},q.props),Re=q.key,Se=q.ref,ze=q._owner;if(ne!=null){if(ne.ref!==void 0&&(Se=ne.ref,ze=J.current),ne.key!==void 0&&(Re=""+ne.key),q.type&&q.type.defaultProps)var qe=q.type.defaultProps;for(je in ne)X.call(ne,je)&&!j.hasOwnProperty(je)&&(be[je]=ne[je]===void 0&&qe!==void 0?qe[je]:ne[je])}var je=arguments.length-2;if(je===1)be.children=ye;else if(1<je){qe=Array(je);for(var Ut=0;Ut<je;Ut++)qe[Ut]=arguments[Ut+2];be.children=qe}return{$$typeof:t,type:q.type,key:Re,ref:Se,props:be,_owner:ze}},Fe.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Fe.createElement=D,Fe.createFactory=function(q){var ne=D.bind(null,q);return ne.type=q,ne},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(q){return{$$typeof:u,render:q}},Fe.isValidElement=B,Fe.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ee}},Fe.memo=function(q,ne){return{$$typeof:d,type:q,compare:ne===void 0?null:ne}},Fe.startTransition=function(q){var ne=te.transition;te.transition={};try{q()}finally{te.transition=ne}},Fe.unstable_act=ae,Fe.useCallback=function(q,ne){return ie.current.useCallback(q,ne)},Fe.useContext=function(q){return ie.current.useContext(q)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(q){return ie.current.useDeferredValue(q)},Fe.useEffect=function(q,ne){return ie.current.useEffect(q,ne)},Fe.useId=function(){return ie.current.useId()},Fe.useImperativeHandle=function(q,ne,ye){return ie.current.useImperativeHandle(q,ne,ye)},Fe.useInsertionEffect=function(q,ne){return ie.current.useInsertionEffect(q,ne)},Fe.useLayoutEffect=function(q,ne){return ie.current.useLayoutEffect(q,ne)},Fe.useMemo=function(q,ne){return ie.current.useMemo(q,ne)},Fe.useReducer=function(q,ne,ye){return ie.current.useReducer(q,ne,ye)},Fe.useRef=function(q){return ie.current.useRef(q)},Fe.useState=function(q){return ie.current.useState(q)},Fe.useSyncExternalStore=function(q,ne,ye){return ie.current.useSyncExternalStore(q,ne,ye)},Fe.useTransition=function(){return ie.current.useTransition()},Fe.version="18.3.1",Fe}var vT;function rw(){return vT||(vT=1,hy.exports=MD()),hy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function LD(){if(wT)return _c;wT=1;var t=rw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,d){var m,y={},_=null,E=null;d!==void 0&&(_=""+d),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:_,ref:E,props:y,_owner:i.current}}return _c.Fragment=n,_c.jsx=l,_c.jsxs=l,_c}var _T;function VD(){return _T||(_T=1,cy.exports=LD()),cy.exports}var k=VD(),U=rw();const Ve=du(U);var Pf={},dy={exports:{}},Cn={},fy={exports:{}},py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function jD(){return ET||(ET=1,function(t){function e(te,fe){var ae=te.length;te.push(fe);e:for(;0<ae;){var q=ae-1>>>1,ne=te[q];if(0<i(ne,fe))te[q]=fe,te[ae]=ne,ae=q;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var fe=te[0],ae=te.pop();if(ae!==fe){te[0]=ae;e:for(var q=0,ne=te.length,ye=ne>>>1;q<ye;){var be=2*(q+1)-1,Re=te[be],Se=be+1,ze=te[Se];if(0>i(Re,ae))Se<ne&&0>i(ze,Re)?(te[q]=ze,te[Se]=ae,q=Se):(te[q]=Re,te[be]=ae,q=be);else if(Se<ne&&0>i(ze,ae))te[q]=ze,te[Se]=ae,q=Se;else break e}}return fe}function i(te,fe){var ae=te.sortIndex-fe.sortIndex;return ae!==0?ae:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],d=[],m=1,y=null,_=3,E=!1,x=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(te){for(var fe=n(d);fe!==null;){if(fe.callback===null)r(d);else if(fe.startTime<=te)r(d),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=n(d)}}function W(te){if(b=!1,V(te),!x)if(n(h)!==null)x=!0,ee(X);else{var fe=n(d);fe!==null&&ie(W,fe.startTime-te)}}function X(te,fe){x=!1,b&&(b=!1,P(D),D=-1),E=!0;var ae=_;try{for(V(fe),y=n(h);y!==null&&(!(y.expirationTime>fe)||te&&!S());){var q=y.callback;if(typeof q=="function"){y.callback=null,_=y.priorityLevel;var ne=q(y.expirationTime<=fe);fe=t.unstable_now(),typeof ne=="function"?y.callback=ne:y===n(h)&&r(h),V(fe)}else r(h);y=n(h)}if(y!==null)var ye=!0;else{var be=n(d);be!==null&&ie(W,be.startTime-fe),ye=!1}return ye}finally{y=null,_=ae,E=!1}}var J=!1,j=null,D=-1,L=5,B=-1;function S(){return!(t.unstable_now()-B<L)}function A(){if(j!==null){var te=t.unstable_now();B=te;var fe=!0;try{fe=j(!0,te)}finally{fe?I():(J=!1,j=null)}}else J=!1}var I;if(typeof N=="function")I=function(){N(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,me=F.port2;F.port1.onmessage=A,I=function(){me.postMessage(null)}}else I=function(){R(A,0)};function ee(te){j=te,J||(J=!0,I())}function ie(te,fe){D=R(function(){te(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){x||E||(x=!0,ee(X))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(te){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var ae=_;_=fe;try{return te()}finally{_=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=_;_=te;try{return fe()}finally{_=ae}},t.unstable_scheduleCallback=function(te,fe,ae){var q=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,te){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ae+ne,te={id:m++,callback:fe,priorityLevel:te,startTime:ae,expirationTime:ne,sortIndex:-1},ae>q?(te.sortIndex=ae,e(d,te),n(h)===null&&te===n(d)&&(b?(P(D),D=-1):b=!0,ie(W,ae-q))):(te.sortIndex=ne,e(h,te),x||E||(x=!0,ee(X))),te},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(te){var fe=_;return function(){var ae=_;_=fe;try{return te.apply(this,arguments)}finally{_=ae}}}}(py)),py}var TT;function FD(){return TT||(TT=1,fy.exports=jD()),fy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function $D(){if(bT)return Cn;bT=1;var t=rw(),e=FD();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return h.call(y,s)?!0:h.call(m,s)?!1:d.test(s)?y[s]=!0:(m[s]=!0,!1)}function E(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,a,c,p){if(a===null||typeof a>"u"||E(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,c,p,g,w,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=C}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];R[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(P,N);R[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(P,N);R[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(P,N);R[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,a,c,p){var g=R.hasOwnProperty(a)?R[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,c,g,p)&&(c=null),p||g===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),J=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,q;function ne(s){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+s}var ye=!1;function be(s,a){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var p=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){p=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),w=p.stack.split(`
`),C=g.length-1,$=w.length-1;1<=C&&0<=$&&g[C]!==w[$];)$--;for(;1<=C&&0<=$;C--,$--)if(g[C]!==w[$]){if(C!==1||$!==1)do if(C--,$--,0>$||g[C]!==w[$]){var z=`
`+g[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=$);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ne(s):""}function Re(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case J:return"Portal";case L:return"Profiler";case D:return"StrictMode";case I:return"Suspense";case F:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case S:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case A:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return a=s.displayName||null,a!==null?a:Se(s.type)||"Memo";case ee:a=s._payload,s=s._init;try{return Se(s(a))}catch{}}return null}function ze(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ut(s){var a=je(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){p=""+C,w.call(this,C)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ii(s){s._valueTracker||(s._valueTracker=Ut(s))}function Sa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=je(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function ts(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function mo(s,a){var c=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ia(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=qe(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Iu(s,a){a=a.checked,a!=null&&V(s,"checked",a,!1)}function Cu(s,a){Iu(s,a);var c=qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ca(s,a.type,c):a.hasOwnProperty("defaultValue")&&Ca(s,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function fd(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ca(s,a,c){(a!=="number"||ts(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var si=Array.isArray;function oi(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+qe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Au(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Aa(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(si(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:qe(c)}}function Pa(s,a){var c=qe(a.value),p=qe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Pu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function kt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?kt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ai,Ru=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ai.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ns(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yo=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(s){yo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),go[a]=go[s]})});function ku(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||go.hasOwnProperty(s)&&go[s]?(""+a).trim():a+"px"}function Du(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=ku(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var Ou=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nu(s,a){if(a){if(Ou[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Mu(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Ra(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ka=null,zn=null,Ar=null;function Da(s){if(s=sc(s)){if(typeof ka!="function")throw Error(n(280));var a=s.stateNode;a&&(a=zd(a),ka(s.stateNode,s.type,a))}}function Pr(s){zn?Ar?Ar.push(s):Ar=[s]:zn=s}function Lu(){if(zn){var s=zn,a=Ar;if(Ar=zn=null,Da(s),a)for(s=0;s<a.length;s++)Da(a[s])}}function wo(s,a){return s(a)}function Vu(){}var li=!1;function ju(s,a,c){if(li)return s(a,c);li=!0;try{return wo(s,a,c)}finally{li=!1,(zn!==null||Ar!==null)&&(Vu(),Lu())}}function Tt(s,a){var c=s.stateNode;if(c===null)return null;var p=zd(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Oa=!1;if(u)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Oa=!1}function _o(s,a,c,p,g,w,C,$,z){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(c,Y)}catch(oe){this.onError(oe)}}var Eo=!1,Na=null,ur=!1,Fu=null,jm={onError:function(s){Eo=!0,Na=s}};function Ma(s,a,c,p,g,w,C,$,z){Eo=!1,Na=null,_o.apply(jm,arguments)}function pd(s,a,c,p,g,w,C,$,z){if(Ma.apply(this,arguments),Eo){if(Eo){var Y=Na;Eo=!1,Na=null}else throw Error(n(198));ur||(ur=!0,Fu=Y)}}function cr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function To(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function hr(s){if(cr(s)!==s)throw Error(n(188))}function md(s){var a=s.alternate;if(!a){if(a=cr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return hr(g),s;if(w===p)return hr(g),a;w=w.sibling}throw Error(n(188))}if(c.return!==p.return)c=g,p=w;else{for(var C=!1,$=g.child;$;){if($===c){C=!0,c=g,p=w;break}if($===p){C=!0,p=g,c=w;break}$=$.sibling}if(!C){for($=w.child;$;){if($===c){C=!0,c=w,p=g;break}if($===p){C=!0,p=w,c=g;break}$=$.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function $u(s){return s=md(s),s!==null?La(s):null}function La(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=La(s);if(a!==null)return a;s=s.sibling}return null}var Va=e.unstable_scheduleCallback,Uu=e.unstable_cancelCallback,gd=e.unstable_shouldYield,Fm=e.unstable_requestPaint,rt=e.unstable_now,yd=e.unstable_getCurrentPriorityLevel,bo=e.unstable_ImmediatePriority,rs=e.unstable_UserBlockingPriority,qn=e.unstable_NormalPriority,Bu=e.unstable_LowPriority,vd=e.unstable_IdlePriority,xo=null,On=null;function wd(s){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(xo,s,void 0,(s.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Ed,zu=Math.log,_d=Math.LN2;function Ed(s){return s>>>=0,s===0?32:31-(zu(s)/_d|0)|0}var ja=64,Fa=4194304;function is(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function So(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes,C=c&268435455;if(C!==0){var $=C&~g;$!==0?p=is($):(w&=C,w!==0&&(p=is(w)))}else C=c&~g,C!==0?p=is(C):w!==0&&(p=is(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&g)&&(g=p&-p,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-pn(a),g=1<<c,p|=s[c],a&=~g;return p}function $m(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var C=31-pn(w),$=1<<C,z=g[C];z===-1?(!($&c)||$&p)&&(g[C]=$m($,a)):z<=a&&(s.expiredLanes|=$),w&=~$}}function Nn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Io(){var s=ja;return ja<<=1,!(ja&4194240)&&(ja=64),s}function ss(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function os(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-pn(a),s[a]=c}function tt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-pn(c),w=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~w}}function as(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-pn(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var He=0;function ls(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Td,$a,bd,xd,Sd,qu=!1,Rr=[],Gt=null,dr=null,fr=null,us=new Map,Hn=new Map,kr=[],Um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(s,a){switch(s){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":us.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(a.pointerId)}}function _n(s,a,c,p,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[g]},a!==null&&(a=sc(a),a!==null&&$a(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Bm(s,a,c,p,g){switch(a){case"focusin":return Gt=_n(Gt,s,a,c,p,g),!0;case"dragenter":return dr=_n(dr,s,a,c,p,g),!0;case"mouseover":return fr=_n(fr,s,a,c,p,g),!0;case"pointerover":var w=g.pointerId;return us.set(w,_n(us.get(w)||null,s,a,c,p,g)),!0;case"gotpointercapture":return w=g.pointerId,Hn.set(w,_n(Hn.get(w)||null,s,a,c,p,g)),!0}return!1}function Cd(s){var a=ko(s.target);if(a!==null){var c=cr(a);if(c!==null){if(a=c.tag,a===13){if(a=To(c),a!==null){s.blockedOn=a,Sd(s.priority,function(){bd(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ci(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ua(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);vo=p,c.target.dispatchEvent(p),vo=null}else return a=sc(c),a!==null&&$a(a),s.blockedOn=c,!1;a.shift()}return!0}function Co(s,a,c){ci(s)&&c.delete(a)}function Ad(){qu=!1,Gt!==null&&ci(Gt)&&(Gt=null),dr!==null&&ci(dr)&&(dr=null),fr!==null&&ci(fr)&&(fr=null),us.forEach(Co),Hn.forEach(Co)}function pr(s,a){s.blockedOn===a&&(s.blockedOn=null,qu||(qu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ad)))}function mr(s){function a(g){return pr(g,s)}if(0<Rr.length){pr(Rr[0],s);for(var c=1;c<Rr.length;c++){var p=Rr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Gt!==null&&pr(Gt,s),dr!==null&&pr(dr,s),fr!==null&&pr(fr,s),us.forEach(a),Hn.forEach(a),c=0;c<kr.length;c++)p=kr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<kr.length&&(c=kr[0],c.blockedOn===null);)Cd(c),c.blockedOn===null&&kr.shift()}var hi=W.ReactCurrentBatchConfig,cs=!0;function lt(s,a,c,p){var g=He,w=hi.transition;hi.transition=null;try{He=1,Hu(s,a,c,p)}finally{He=g,hi.transition=w}}function zm(s,a,c,p){var g=He,w=hi.transition;hi.transition=null;try{He=4,Hu(s,a,c,p)}finally{He=g,hi.transition=w}}function Hu(s,a,c,p){if(cs){var g=Ua(s,a,c,p);if(g===null)eg(s,a,p,Ao,c),Id(s,p);else if(Bm(g,s,a,c,p))p.stopPropagation();else if(Id(s,p),a&4&&-1<Um.indexOf(s)){for(;g!==null;){var w=sc(g);if(w!==null&&Td(w),w=Ua(s,a,c,p),w===null&&eg(s,a,p,Ao,c),w===g)break;g=w}g!==null&&p.stopPropagation()}else eg(s,a,p,null,c)}}var Ao=null;function Ua(s,a,c,p){if(Ao=null,s=Ra(p),s=ko(s),s!==null)if(a=cr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=To(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ao=s,null}function Wu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yd()){case bo:return 1;case rs:return 4;case qn:case Bu:return 16;case vd:return 536870912;default:return 16}default:return 16}}var Mn=null,Ba=null,En=null;function Gu(){if(En)return En;var s,a=Ba,c=a.length,p,g="value"in Mn?Mn.value:Mn.textContent,w=g.length;for(s=0;s<c&&a[s]===g[s];s++);var C=c-s;for(p=1;p<=C&&a[c-p]===g[w-p];p++);return En=g.slice(s,1<p?1-p:void 0)}function za(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Dr(){return!0}function Ku(){return!1}function Kt(s){function a(c,p,g,w,C){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(c=s[$],this[$]=c?c(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Dr:Ku,this.isPropagationStopped=Ku,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),a}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Kt(gr),Or=ae({},gr,{view:0,detail:0}),qm=Kt(Or),Ha,di,hs,Po=ae({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(Ha=s.screenX-hs.screenX,di=s.screenY-hs.screenY):di=Ha=0,hs=s),Ha)},movementY:function(s){return"movementY"in s?s.movementY:di}}),Wa=Kt(Po),Qu=ae({},Po,{dataTransfer:0}),Pd=Kt(Qu),Ga=ae({},Or,{relatedTarget:0}),Ka=Kt(Ga),Rd=ae({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),fi=Kt(Rd),kd=ae({},gr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Dd=Kt(kd),Od=ae({},gr,{data:0}),Yu=Kt(Od),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Nd[s])?!!a[s]:!1}function Nr(){return Md}var f=ae({},Or,{key:function(s){if(s.key){var a=Qa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=za(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(s){return s.type==="keypress"?za(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?za(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Kt(f),T=ae({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Kt(T),G=ae({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),Z=Kt(G),de=ae({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Kt(de),Ot=ae({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Kt(Ot),Bt=[9,13,27,32],Ct=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Wn,Ro=u&&(!Ct||Wn&&8<Wn&&11>=Wn),Ya=" ",u_=!1;function c_(s,a){switch(s){case"keyup":return Bt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xa=!1;function k2(s,a){switch(s){case"compositionend":return h_(a);case"keypress":return a.which!==32?null:(u_=!0,Ya);case"textInput":return s=a.data,s===Ya&&u_?null:s;default:return null}}function D2(s,a){if(Xa)return s==="compositionend"||!Ct&&c_(s,a)?(s=Gu(),En=Ba=Mn=null,Xa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ro&&a.locale!=="ko"?null:a.data;default:return null}}var O2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!O2[s.type]:a==="textarea"}function f_(s,a,c,p){Pr(p),a=$d(a,"onChange"),0<a.length&&(c=new qa("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Xu=null,Ju=null;function N2(s){k_(s,0)}function Ld(s){var a=nl(s);if(Sa(a))return s}function M2(s,a){if(s==="change")return a}var p_=!1;if(u){var Hm;if(u){var Wm="oninput"in document;if(!Wm){var m_=document.createElement("div");m_.setAttribute("oninput","return;"),Wm=typeof m_.oninput=="function"}Hm=Wm}else Hm=!1;p_=Hm&&(!document.documentMode||9<document.documentMode)}function g_(){Xu&&(Xu.detachEvent("onpropertychange",y_),Ju=Xu=null)}function y_(s){if(s.propertyName==="value"&&Ld(Ju)){var a=[];f_(a,Ju,s,Ra(s)),ju(N2,a)}}function L2(s,a,c){s==="focusin"?(g_(),Xu=a,Ju=c,Xu.attachEvent("onpropertychange",y_)):s==="focusout"&&g_()}function V2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ld(Ju)}function j2(s,a){if(s==="click")return Ld(a)}function F2(s,a){if(s==="input"||s==="change")return Ld(a)}function $2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var yr=typeof Object.is=="function"?Object.is:$2;function Zu(s,a){if(yr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!yr(s[g],a[g]))return!1}return!0}function v_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function w_(s,a){var c=v_(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=v_(c)}}function __(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?__(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function E_(){for(var s=window,a=ts();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ts(s.document)}return a}function Gm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function U2(s){var a=E_(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&__(c.ownerDocument.documentElement,c)){if(p!==null&&Gm(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(p.start,g);p=p.end===void 0?w:Math.min(p.end,g),!s.extend&&w>p&&(g=p,p=w,w=g),g=w_(c,w);var C=w_(c,p);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var B2=u&&"documentMode"in document&&11>=document.documentMode,Ja=null,Km=null,ec=null,Qm=!1;function T_(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qm||Ja==null||Ja!==ts(p)||(p=Ja,"selectionStart"in p&&Gm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ec&&Zu(ec,p)||(ec=p,p=$d(Km,"onSelect"),0<p.length&&(a=new qa("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Ja)))}function Vd(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Za={animationend:Vd("Animation","AnimationEnd"),animationiteration:Vd("Animation","AnimationIteration"),animationstart:Vd("Animation","AnimationStart"),transitionend:Vd("Transition","TransitionEnd")},Ym={},b_={};u&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function jd(s){if(Ym[s])return Ym[s];if(!Za[s])return s;var a=Za[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in b_)return Ym[s]=a[c];return s}var x_=jd("animationend"),S_=jd("animationiteration"),I_=jd("animationstart"),C_=jd("transitionend"),A_=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(s,a){A_.set(s,a),o(a,[s])}for(var Xm=0;Xm<P_.length;Xm++){var Jm=P_[Xm],z2=Jm.toLowerCase(),q2=Jm[0].toUpperCase()+Jm.slice(1);ds(z2,"on"+q2)}ds(x_,"onAnimationEnd"),ds(S_,"onAnimationIteration"),ds(I_,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(C_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H2=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function R_(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,pd(p,a,void 0,s),s.currentTarget=null}function k_(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var C=p.length-1;0<=C;C--){var $=p[C],z=$.instance,Y=$.currentTarget;if($=$.listener,z!==w&&g.isPropagationStopped())break e;R_(g,$,Y),w=z}else for(C=0;C<p.length;C++){if($=p[C],z=$.instance,Y=$.currentTarget,$=$.listener,z!==w&&g.isPropagationStopped())break e;R_(g,$,Y),w=z}}}if(ur)throw s=Fu,ur=!1,Fu=null,s}function st(s,a){var c=a[og];c===void 0&&(c=a[og]=new Set);var p=s+"__bubble";c.has(p)||(D_(a,s,2,!1),c.add(p))}function Zm(s,a,c){var p=0;a&&(p|=4),D_(c,s,p,a)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function nc(s){if(!s[Fd]){s[Fd]=!0,r.forEach(function(c){c!=="selectionchange"&&(H2.has(c)||Zm(c,!1,s),Zm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Fd]||(a[Fd]=!0,Zm("selectionchange",!1,a))}}function D_(s,a,c,p){switch(Wu(a)){case 1:var g=lt;break;case 4:g=zm;break;default:g=Hu}c=g.bind(null,a,c,s),g=void 0,!Oa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function eg(s,a,c,p,g){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var $=p.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(C===4)for(C=p.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;C=C.return}for(;$!==null;){if(C=ko($),C===null)return;if(z=C.tag,z===5||z===6){p=w=C;continue e}$=$.parentNode}}p=p.return}ju(function(){var Y=w,oe=Ra(c),ue=[];e:{var se=A_.get(s);if(se!==void 0){var ve=qa,Ee=s;switch(s){case"keypress":if(za(c)===0)break e;case"keydown":case"keyup":ve=v;break;case"focusin":Ee="focus",ve=Ka;break;case"focusout":Ee="blur",ve=Ka;break;case"beforeblur":case"afterblur":ve=Ka;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Z;break;case x_:case S_:case I_:ve=fi;break;case C_:ve=Ze;break;case"scroll":ve=qm;break;case"wheel":ve=Ge;break;case"copy":case"cut":case"paste":ve=Dd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=O}var Te=(a&4)!==0,bt=!Te&&s==="scroll",K=Te?se!==null?se+"Capture":null:se;Te=[];for(var H=Y,Q;H!==null;){Q=H;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,K!==null&&(he=Tt(H,K),he!=null&&Te.push(rc(H,he,Q)))),bt)break;H=H.return}0<Te.length&&(se=new ve(se,Ee,null,c,oe),ue.push({event:se,listeners:Te}))}}if(!(a&7)){e:{if(se=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",se&&c!==vo&&(Ee=c.relatedTarget||c.fromElement)&&(ko(Ee)||Ee[pi]))break e;if((ve||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ve?(Ee=c.relatedTarget||c.toElement,ve=Y,Ee=Ee?ko(Ee):null,Ee!==null&&(bt=cr(Ee),Ee!==bt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ve=null,Ee=Y),ve!==Ee)){if(Te=Wa,he="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Te=O,he="onPointerLeave",K="onPointerEnter",H="pointer"),bt=ve==null?se:nl(ve),Q=Ee==null?se:nl(Ee),se=new Te(he,H+"leave",ve,c,oe),se.target=bt,se.relatedTarget=Q,he=null,ko(oe)===Y&&(Te=new Te(K,H+"enter",Ee,c,oe),Te.target=Q,Te.relatedTarget=bt,he=Te),bt=he,ve&&Ee)t:{for(Te=ve,K=Ee,H=0,Q=Te;Q;Q=el(Q))H++;for(Q=0,he=K;he;he=el(he))Q++;for(;0<H-Q;)Te=el(Te),H--;for(;0<Q-H;)K=el(K),Q--;for(;H--;){if(Te===K||K!==null&&Te===K.alternate)break t;Te=el(Te),K=el(K)}Te=null}else Te=null;ve!==null&&O_(ue,se,ve,Te,!1),Ee!==null&&bt!==null&&O_(ue,bt,Ee,Te,!0)}}e:{if(se=Y?nl(Y):window,ve=se.nodeName&&se.nodeName.toLowerCase(),ve==="select"||ve==="input"&&se.type==="file")var xe=M2;else if(d_(se))if(p_)xe=F2;else{xe=V2;var Ie=L2}else(ve=se.nodeName)&&ve.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(xe=j2);if(xe&&(xe=xe(s,Y))){f_(ue,xe,c,oe);break e}Ie&&Ie(s,se,Y),s==="focusout"&&(Ie=se._wrapperState)&&Ie.controlled&&se.type==="number"&&Ca(se,"number",se.value)}switch(Ie=Y?nl(Y):window,s){case"focusin":(d_(Ie)||Ie.contentEditable==="true")&&(Ja=Ie,Km=Y,ec=null);break;case"focusout":ec=Km=Ja=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,T_(ue,c,oe);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":T_(ue,c,oe)}var Ce;if(Ct)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Xa?c_(s,c)&&(De="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(Ro&&c.locale!=="ko"&&(Xa||De!=="onCompositionStart"?De==="onCompositionEnd"&&Xa&&(Ce=Gu()):(Mn=oe,Ba="value"in Mn?Mn.value:Mn.textContent,Xa=!0)),Ie=$d(Y,De),0<Ie.length&&(De=new Yu(De,s,null,c,oe),ue.push({event:De,listeners:Ie}),Ce?De.data=Ce:(Ce=h_(c),Ce!==null&&(De.data=Ce)))),(Ce=Ln?k2(s,c):D2(s,c))&&(Y=$d(Y,"onBeforeInput"),0<Y.length&&(oe=new Yu("onBeforeInput","beforeinput",null,c,oe),ue.push({event:oe,listeners:Y}),oe.data=Ce))}k_(ue,a)})}function rc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function $d(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Tt(s,c),w!=null&&p.unshift(rc(s,w,g)),w=Tt(s,a),w!=null&&p.push(rc(s,w,g))),s=s.return}return p}function el(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function O_(s,a,c,p,g){for(var w=a._reactName,C=[];c!==null&&c!==p;){var $=c,z=$.alternate,Y=$.stateNode;if(z!==null&&z===p)break;$.tag===5&&Y!==null&&($=Y,g?(z=Tt(c,w),z!=null&&C.unshift(rc(c,z,$))):g||(z=Tt(c,w),z!=null&&C.push(rc(c,z,$)))),c=c.return}C.length!==0&&s.push({event:a,listeners:C})}var W2=/\r\n?/g,G2=/\u0000|\uFFFD/g;function N_(s){return(typeof s=="string"?s:""+s).replace(W2,`
`).replace(G2,"")}function Ud(s,a,c){if(a=N_(a),N_(s)!==a&&c)throw Error(n(425))}function Bd(){}var tg=null,ng=null;function rg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,Q2=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(s){return M_.resolve(null).then(s).catch(Y2)}:ig;function Y2(s){setTimeout(function(){throw s})}function sg(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),mr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);mr(a)}function fs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function L_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Mr="__reactFiber$"+tl,ic="__reactProps$"+tl,pi="__reactContainer$"+tl,og="__reactEvents$"+tl,X2="__reactListeners$"+tl,J2="__reactHandles$"+tl;function ko(s){var a=s[Mr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[pi]||c[Mr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=L_(s);s!==null;){if(c=s[Mr])return c;s=L_(s)}return a}s=c,c=s.parentNode}return null}function sc(s){return s=s[Mr]||s[pi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function nl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function zd(s){return s[ic]||null}var ag=[],rl=-1;function ps(s){return{current:s}}function ot(s){0>rl||(s.current=ag[rl],ag[rl]=null,rl--)}function it(s,a){rl++,ag[rl]=s.current,s.current=a}var ms={},tn=ps(ms),Tn=ps(!1),Do=ms;function il(s,a){var c=s.type.contextTypes;if(!c)return ms;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function bn(s){return s=s.childContextTypes,s!=null}function qd(){ot(Tn),ot(tn)}function V_(s,a,c){if(tn.current!==ms)throw Error(n(168));it(tn,a),it(Tn,c)}function j_(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(n(108,ze(s)||"Unknown",g));return ae({},c,p)}function Hd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ms,Do=tn.current,it(tn,s),it(Tn,Tn.current),!0}function F_(s,a,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=j_(s,a,Do),p.__reactInternalMemoizedMergedChildContext=s,ot(Tn),ot(tn),it(tn,s)):ot(Tn),it(Tn,c)}var mi=null,Wd=!1,lg=!1;function $_(s){mi===null?mi=[s]:mi.push(s)}function Z2(s){Wd=!0,$_(s)}function gs(){if(!lg&&mi!==null){lg=!0;var s=0,a=He;try{var c=mi;for(He=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}mi=null,Wd=!1}catch(g){throw mi!==null&&(mi=mi.slice(s+1)),Va(bo,gs),g}finally{He=a,lg=!1}}return null}var sl=[],ol=0,Gd=null,Kd=0,Gn=[],Kn=0,Oo=null,gi=1,yi="";function No(s,a){sl[ol++]=Kd,sl[ol++]=Gd,Gd=s,Kd=a}function U_(s,a,c){Gn[Kn++]=gi,Gn[Kn++]=yi,Gn[Kn++]=Oo,Oo=s;var p=gi;s=yi;var g=32-pn(p)-1;p&=~(1<<g),c+=1;var w=32-pn(a)+g;if(30<w){var C=g-g%5;w=(p&(1<<C)-1).toString(32),p>>=C,g-=C,gi=1<<32-pn(a)+g|c<<g|p,yi=w+s}else gi=1<<w|c<<g|p,yi=s}function ug(s){s.return!==null&&(No(s,1),U_(s,1,0))}function cg(s){for(;s===Gd;)Gd=sl[--ol],sl[ol]=null,Kd=sl[--ol],sl[ol]=null;for(;s===Oo;)Oo=Gn[--Kn],Gn[Kn]=null,yi=Gn[--Kn],Gn[Kn]=null,gi=Gn[--Kn],Gn[Kn]=null}var Vn=null,jn=null,ut=!1,vr=null;function B_(s,a){var c=Jn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function z_(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Vn=s,jn=fs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Vn=s,jn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Oo!==null?{id:gi,overflow:yi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Jn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Vn=s,jn=null,!0):!1;default:return!1}}function hg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function dg(s){if(ut){var a=jn;if(a){var c=a;if(!z_(s,a)){if(hg(s))throw Error(n(418));a=fs(c.nextSibling);var p=Vn;a&&z_(s,a)?B_(p,c):(s.flags=s.flags&-4097|2,ut=!1,Vn=s)}}else{if(hg(s))throw Error(n(418));s.flags=s.flags&-4097|2,ut=!1,Vn=s}}}function q_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Vn=s}function Qd(s){if(s!==Vn)return!1;if(!ut)return q_(s),ut=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!rg(s.type,s.memoizedProps)),a&&(a=jn)){if(hg(s))throw H_(),Error(n(418));for(;a;)B_(s,a),a=fs(a.nextSibling)}if(q_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){jn=fs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}jn=null}}else jn=Vn?fs(s.stateNode.nextSibling):null;return!0}function H_(){for(var s=jn;s;)s=fs(s.nextSibling)}function al(){jn=Vn=null,ut=!1}function fg(s){vr===null?vr=[s]:vr.push(s)}var eD=W.ReactCurrentBatchConfig;function oc(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var g=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(C){var $=g.refs;C===null?delete $[w]:$[w]=C},a._stringRef=w,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Yd(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function W_(s){var a=s._init;return a(s._payload)}function G_(s){function a(K,H){if(s){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function c(K,H){if(!s)return null;for(;H!==null;)a(K,H),H=H.sibling;return null}function p(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function g(K,H){return K=xs(K,H),K.index=0,K.sibling=null,K}function w(K,H,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=2,H):Q):(K.flags|=2,H)):(K.flags|=1048576,H)}function C(K){return s&&K.alternate===null&&(K.flags|=2),K}function $(K,H,Q,he){return H===null||H.tag!==6?(H=iy(Q,K.mode,he),H.return=K,H):(H=g(H,Q),H.return=K,H)}function z(K,H,Q,he){var xe=Q.type;return xe===j?oe(K,H,Q.props.children,he,Q.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ee&&W_(xe)===H.type)?(he=g(H,Q.props),he.ref=oc(K,H,Q),he.return=K,he):(he=Ef(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=oc(K,H,Q),he.return=K,he)}function Y(K,H,Q,he){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=sy(Q,K.mode,he),H.return=K,H):(H=g(H,Q.children||[]),H.return=K,H)}function oe(K,H,Q,he,xe){return H===null||H.tag!==7?(H=Bo(Q,K.mode,he,xe),H.return=K,H):(H=g(H,Q),H.return=K,H)}function ue(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=iy(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case X:return Q=Ef(H.type,H.key,H.props,null,K.mode,Q),Q.ref=oc(K,null,H),Q.return=K,Q;case J:return H=sy(H,K.mode,Q),H.return=K,H;case ee:var he=H._init;return ue(K,he(H._payload),Q)}if(si(H)||fe(H))return H=Bo(H,K.mode,Q,null),H.return=K,H;Yd(K,H)}return null}function se(K,H,Q,he){var xe=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:$(K,H,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return Q.key===xe?z(K,H,Q,he):null;case J:return Q.key===xe?Y(K,H,Q,he):null;case ee:return xe=Q._init,se(K,H,xe(Q._payload),he)}if(si(Q)||fe(Q))return xe!==null?null:oe(K,H,Q,he,null);Yd(K,Q)}return null}function ve(K,H,Q,he,xe){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Q)||null,$(H,K,""+he,xe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case X:return K=K.get(he.key===null?Q:he.key)||null,z(H,K,he,xe);case J:return K=K.get(he.key===null?Q:he.key)||null,Y(H,K,he,xe);case ee:var Ie=he._init;return ve(K,H,Q,Ie(he._payload),xe)}if(si(he)||fe(he))return K=K.get(Q)||null,oe(H,K,he,xe,null);Yd(H,he)}return null}function Ee(K,H,Q,he){for(var xe=null,Ie=null,Ce=H,De=H=0,Ht=null;Ce!==null&&De<Q.length;De++){Ce.index>De?(Ht=Ce,Ce=null):Ht=Ce.sibling;var Xe=se(K,Ce,Q[De],he);if(Xe===null){Ce===null&&(Ce=Ht);break}s&&Ce&&Xe.alternate===null&&a(K,Ce),H=w(Xe,H,De),Ie===null?xe=Xe:Ie.sibling=Xe,Ie=Xe,Ce=Ht}if(De===Q.length)return c(K,Ce),ut&&No(K,De),xe;if(Ce===null){for(;De<Q.length;De++)Ce=ue(K,Q[De],he),Ce!==null&&(H=w(Ce,H,De),Ie===null?xe=Ce:Ie.sibling=Ce,Ie=Ce);return ut&&No(K,De),xe}for(Ce=p(K,Ce);De<Q.length;De++)Ht=ve(Ce,K,De,Q[De],he),Ht!==null&&(s&&Ht.alternate!==null&&Ce.delete(Ht.key===null?De:Ht.key),H=w(Ht,H,De),Ie===null?xe=Ht:Ie.sibling=Ht,Ie=Ht);return s&&Ce.forEach(function(Ss){return a(K,Ss)}),ut&&No(K,De),xe}function Te(K,H,Q,he){var xe=fe(Q);if(typeof xe!="function")throw Error(n(150));if(Q=xe.call(Q),Q==null)throw Error(n(151));for(var Ie=xe=null,Ce=H,De=H=0,Ht=null,Xe=Q.next();Ce!==null&&!Xe.done;De++,Xe=Q.next()){Ce.index>De?(Ht=Ce,Ce=null):Ht=Ce.sibling;var Ss=se(K,Ce,Xe.value,he);if(Ss===null){Ce===null&&(Ce=Ht);break}s&&Ce&&Ss.alternate===null&&a(K,Ce),H=w(Ss,H,De),Ie===null?xe=Ss:Ie.sibling=Ss,Ie=Ss,Ce=Ht}if(Xe.done)return c(K,Ce),ut&&No(K,De),xe;if(Ce===null){for(;!Xe.done;De++,Xe=Q.next())Xe=ue(K,Xe.value,he),Xe!==null&&(H=w(Xe,H,De),Ie===null?xe=Xe:Ie.sibling=Xe,Ie=Xe);return ut&&No(K,De),xe}for(Ce=p(K,Ce);!Xe.done;De++,Xe=Q.next())Xe=ve(Ce,K,De,Xe.value,he),Xe!==null&&(s&&Xe.alternate!==null&&Ce.delete(Xe.key===null?De:Xe.key),H=w(Xe,H,De),Ie===null?xe=Xe:Ie.sibling=Xe,Ie=Xe);return s&&Ce.forEach(function(DD){return a(K,DD)}),ut&&No(K,De),xe}function bt(K,H,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:e:{for(var xe=Q.key,Ie=H;Ie!==null;){if(Ie.key===xe){if(xe=Q.type,xe===j){if(Ie.tag===7){c(K,Ie.sibling),H=g(Ie,Q.props.children),H.return=K,K=H;break e}}else if(Ie.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ee&&W_(xe)===Ie.type){c(K,Ie.sibling),H=g(Ie,Q.props),H.ref=oc(K,Ie,Q),H.return=K,K=H;break e}c(K,Ie);break}else a(K,Ie);Ie=Ie.sibling}Q.type===j?(H=Bo(Q.props.children,K.mode,he,Q.key),H.return=K,K=H):(he=Ef(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=oc(K,H,Q),he.return=K,K=he)}return C(K);case J:e:{for(Ie=Q.key;H!==null;){if(H.key===Ie)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){c(K,H.sibling),H=g(H,Q.children||[]),H.return=K,K=H;break e}else{c(K,H);break}else a(K,H);H=H.sibling}H=sy(Q,K.mode,he),H.return=K,K=H}return C(K);case ee:return Ie=Q._init,bt(K,H,Ie(Q._payload),he)}if(si(Q))return Ee(K,H,Q,he);if(fe(Q))return Te(K,H,Q,he);Yd(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(c(K,H.sibling),H=g(H,Q),H.return=K,K=H):(c(K,H),H=iy(Q,K.mode,he),H.return=K,K=H),C(K)):c(K,H)}return bt}var ll=G_(!0),K_=G_(!1),Xd=ps(null),Jd=null,ul=null,pg=null;function mg(){pg=ul=Jd=null}function gg(s){var a=Xd.current;ot(Xd),s._currentValue=a}function yg(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function cl(s,a){Jd=s,pg=ul=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(xn=!0),s.firstContext=null)}function Qn(s){var a=s._currentValue;if(pg!==s)if(s={context:s,memoizedValue:a,next:null},ul===null){if(Jd===null)throw Error(n(308));ul=s,Jd.dependencies={lanes:0,firstContext:s}}else ul=ul.next=s;return a}var Mo=null;function vg(s){Mo===null?Mo=[s]:Mo.push(s)}function Q_(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,vg(a)):(c.next=g.next,g.next=c),a.interleaved=c,vi(s,p)}function vi(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ys=!1;function wg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function vs(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Ye&2){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,vi(s,c)}return g=p.interleaved,g===null?(a.next=a,vg(p)):(a.next=g.next,g.next=a),p.interleaved=a,vi(s,c)}function Zd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,as(s,c)}}function X_(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=C:w=w.next=C,c=c.next}while(c!==null);w===null?g=w=a:w=w.next=a}else g=w=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function ef(s,a,c,p){var g=s.updateQueue;ys=!1;var w=g.firstBaseUpdate,C=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var z=$,Y=z.next;z.next=null,C===null?w=Y:C.next=Y,C=z;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,$=oe.lastBaseUpdate,$!==C&&($===null?oe.firstBaseUpdate=Y:$.next=Y,oe.lastBaseUpdate=z))}if(w!==null){var ue=g.baseState;C=0,oe=Y=z=null,$=w;do{var se=$.lane,ve=$.eventTime;if((p&se)===se){oe!==null&&(oe=oe.next={eventTime:ve,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ee=s,Te=$;switch(se=a,ve=c,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){ue=Ee.call(ve,ue,se);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,se=typeof Ee=="function"?Ee.call(ve,ue,se):Ee,se==null)break e;ue=ae({},ue,se);break e;case 2:ys=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[$]:se.push($))}else ve={eventTime:ve,lane:se,tag:$.tag,payload:$.payload,callback:$.callback,next:null},oe===null?(Y=oe=ve,z=ue):oe=oe.next=ve,C|=se;if($=$.next,$===null){if($=g.shared.pending,$===null)break;se=$,$=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(z=ue),g.baseState=z,g.firstBaseUpdate=Y,g.lastBaseUpdate=oe,a=g.shared.interleaved,a!==null){g=a;do C|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);jo|=C,s.lanes=C,s.memoizedState=ue}}function J_(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(n(191,g));g.call(p)}}}var ac={},Lr=ps(ac),lc=ps(ac),uc=ps(ac);function Lo(s){if(s===ac)throw Error(n(174));return s}function _g(s,a){switch(it(uc,a),it(lc,s),it(Lr,ac),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Dt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Dt(a,s)}ot(Lr),it(Lr,a)}function hl(){ot(Lr),ot(lc),ot(uc)}function Z_(s){Lo(uc.current);var a=Lo(Lr.current),c=Dt(a,s.type);a!==c&&(it(lc,s),it(Lr,c))}function Eg(s){lc.current===s&&(ot(Lr),ot(lc))}var dt=ps(0);function tf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tg=[];function bg(){for(var s=0;s<Tg.length;s++)Tg[s]._workInProgressVersionPrimary=null;Tg.length=0}var nf=W.ReactCurrentDispatcher,xg=W.ReactCurrentBatchConfig,Vo=0,ft=null,Nt=null,zt=null,rf=!1,cc=!1,hc=0,tD=0;function nn(){throw Error(n(321))}function Sg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!yr(s[c],a[c]))return!1;return!0}function Ig(s,a,c,p,g,w){if(Vo=w,ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,nf.current=s===null||s.memoizedState===null?sD:oD,s=c(p,g),cc){w=0;do{if(cc=!1,hc=0,25<=w)throw Error(n(301));w+=1,zt=Nt=null,a.updateQueue=null,nf.current=aD,s=c(p,g)}while(cc)}if(nf.current=af,a=Nt!==null&&Nt.next!==null,Vo=0,zt=Nt=ft=null,rf=!1,a)throw Error(n(300));return s}function Cg(){var s=hc!==0;return hc=0,s}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ft.memoizedState=zt=s:zt=zt.next=s,zt}function Yn(){if(Nt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var a=zt===null?ft.memoizedState:zt.next;if(a!==null)zt=a,Nt=s;else{if(s===null)throw Error(n(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},zt===null?ft.memoizedState=zt=s:zt=zt.next=s}return zt}function dc(s,a){return typeof a=="function"?a(s):a}function Ag(s){var a=Yn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=Nt,g=p.baseQueue,w=c.pending;if(w!==null){if(g!==null){var C=g.next;g.next=w.next,w.next=C}p.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,p=p.baseState;var $=C=null,z=null,Y=w;do{var oe=Y.lane;if((Vo&oe)===oe)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var ue={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?($=z=ue,C=p):z=z.next=ue,ft.lanes|=oe,jo|=oe}Y=Y.next}while(Y!==null&&Y!==w);z===null?C=p:z.next=$,yr(p,a.memoizedState)||(xn=!0),a.memoizedState=p,a.baseState=C,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do w=g.lane,ft.lanes|=w,jo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Pg(s){var a=Yn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,w=a.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do w=s(w,C.action),C=C.next;while(C!==g);yr(w,a.memoizedState)||(xn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function eE(){}function tE(s,a){var c=ft,p=Yn(),g=a(),w=!yr(p.memoizedState,g);if(w&&(p.memoizedState=g,xn=!0),p=p.queue,Rg(iE.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,fc(9,rE.bind(null,c,p,g,a),void 0,null),qt===null)throw Error(n(349));Vo&30||nE(c,a,g)}return g}function nE(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function rE(s,a,c,p){a.value=c,a.getSnapshot=p,sE(a)&&oE(s)}function iE(s,a,c){return c(function(){sE(a)&&oE(s)})}function sE(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!yr(s,c)}catch{return!0}}function oE(s){var a=vi(s,1);a!==null&&Tr(a,s,1,-1)}function aE(s){var a=Vr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:s},a.queue=s,s=s.dispatch=iD.bind(null,ft,s),[a.memoizedState,s]}function fc(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function lE(){return Yn().memoizedState}function sf(s,a,c,p){var g=Vr();ft.flags|=s,g.memoizedState=fc(1|a,c,void 0,p===void 0?null:p)}function of(s,a,c,p){var g=Yn();p=p===void 0?null:p;var w=void 0;if(Nt!==null){var C=Nt.memoizedState;if(w=C.destroy,p!==null&&Sg(p,C.deps)){g.memoizedState=fc(a,c,w,p);return}}ft.flags|=s,g.memoizedState=fc(1|a,c,w,p)}function uE(s,a){return sf(8390656,8,s,a)}function Rg(s,a){return of(2048,8,s,a)}function cE(s,a){return of(4,2,s,a)}function hE(s,a){return of(4,4,s,a)}function dE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function fE(s,a,c){return c=c!=null?c.concat([s]):null,of(4,4,dE.bind(null,a,s),c)}function kg(){}function pE(s,a){var c=Yn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Sg(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function mE(s,a){var c=Yn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Sg(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function gE(s,a,c){return Vo&21?(yr(c,a)||(c=Io(),ft.lanes|=c,jo|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,xn=!0),s.memoizedState=c)}function nD(s,a){var c=He;He=c!==0&&4>c?c:4,s(!0);var p=xg.transition;xg.transition={};try{s(!1),a()}finally{He=c,xg.transition=p}}function yE(){return Yn().memoizedState}function rD(s,a,c){var p=Ts(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},vE(s))wE(a,c);else if(c=Q_(s,a,c,p),c!==null){var g=yn();Tr(c,s,p,g),_E(c,a,p)}}function iD(s,a,c){var p=Ts(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(vE(s))wE(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var C=a.lastRenderedState,$=w(C,c);if(g.hasEagerState=!0,g.eagerState=$,yr($,C)){var z=a.interleaved;z===null?(g.next=g,vg(a)):(g.next=z.next,z.next=g),a.interleaved=g;return}}catch{}finally{}c=Q_(s,a,g,p),c!==null&&(g=yn(),Tr(c,s,p,g),_E(c,a,p))}}function vE(s){var a=s.alternate;return s===ft||a!==null&&a===ft}function wE(s,a){cc=rf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function _E(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,as(s,c)}}var af={readContext:Qn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},sD={readContext:Qn,useCallback:function(s,a){return Vr().memoizedState=[s,a===void 0?null:a],s},useContext:Qn,useEffect:uE,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,sf(4194308,4,dE.bind(null,a,s),c)},useLayoutEffect:function(s,a){return sf(4194308,4,s,a)},useInsertionEffect:function(s,a){return sf(4,2,s,a)},useMemo:function(s,a){var c=Vr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Vr();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=rD.bind(null,ft,s),[p.memoizedState,s]},useRef:function(s){var a=Vr();return s={current:s},a.memoizedState=s},useState:aE,useDebugValue:kg,useDeferredValue:function(s){return Vr().memoizedState=s},useTransition:function(){var s=aE(!1),a=s[0];return s=nD.bind(null,s[1]),Vr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=ft,g=Vr();if(ut){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),qt===null)throw Error(n(349));Vo&30||nE(p,a,c)}g.memoizedState=c;var w={value:c,getSnapshot:a};return g.queue=w,uE(iE.bind(null,p,w,s),[s]),p.flags|=2048,fc(9,rE.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=Vr(),a=qt.identifierPrefix;if(ut){var c=yi,p=gi;c=(p&~(1<<32-pn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=hc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=tD++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},oD={readContext:Qn,useCallback:pE,useContext:Qn,useEffect:Rg,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:hE,useMemo:mE,useReducer:Ag,useRef:lE,useState:function(){return Ag(dc)},useDebugValue:kg,useDeferredValue:function(s){var a=Yn();return gE(a,Nt.memoizedState,s)},useTransition:function(){var s=Ag(dc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:eE,useSyncExternalStore:tE,useId:yE,unstable_isNewReconciler:!1},aD={readContext:Qn,useCallback:pE,useContext:Qn,useEffect:Rg,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:hE,useMemo:mE,useReducer:Pg,useRef:lE,useState:function(){return Pg(dc)},useDebugValue:kg,useDeferredValue:function(s){var a=Yn();return Nt===null?a.memoizedState=s:gE(a,Nt.memoizedState,s)},useTransition:function(){var s=Pg(dc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:eE,useSyncExternalStore:tE,useId:yE,unstable_isNewReconciler:!1};function wr(s,a){if(s&&s.defaultProps){a=ae({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Dg(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:ae({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var lf={isMounted:function(s){return(s=s._reactInternals)?cr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=yn(),g=Ts(s),w=wi(p,g);w.payload=a,c!=null&&(w.callback=c),a=vs(s,w,g),a!==null&&(Tr(a,s,g,p),Zd(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=yn(),g=Ts(s),w=wi(p,g);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=vs(s,w,g),a!==null&&(Tr(a,s,g,p),Zd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=yn(),p=Ts(s),g=wi(c,p);g.tag=2,a!=null&&(g.callback=a),a=vs(s,g,p),a!==null&&(Tr(a,s,p,c),Zd(a,s,p))}};function EE(s,a,c,p,g,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,C):a.prototype&&a.prototype.isPureReactComponent?!Zu(c,p)||!Zu(g,w):!0}function TE(s,a,c){var p=!1,g=ms,w=a.contextType;return typeof w=="object"&&w!==null?w=Qn(w):(g=bn(a)?Do:tn.current,p=a.contextTypes,w=(p=p!=null)?il(s,g):ms),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=lf,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function bE(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&lf.enqueueReplaceState(a,a.state,null)}function Og(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},wg(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=Qn(w):(w=bn(a)?Do:tn.current,g.context=il(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Dg(s,a,w,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&lf.enqueueReplaceState(g,g.state,null),ef(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function dl(s,a){try{var c="",p=a;do c+=Re(p),p=p.return;while(p);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function Ng(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Mg(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var lD=typeof WeakMap=="function"?WeakMap:Map;function xE(s,a,c){c=wi(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){mf||(mf=!0,Yg=p),Mg(s,a)},c}function SE(s,a,c){c=wi(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Mg(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Mg(s,a),typeof p!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function IE(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new lD;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=TD.bind(null,s,a,c),a.then(s,s))}function CE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function AE(s,a,c,p,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=wi(-1,1),a.tag=2,vs(c,a,1))),c.lanes|=1),s)}var uD=W.ReactCurrentOwner,xn=!1;function gn(s,a,c,p){a.child=s===null?K_(a,null,c,p):ll(a,s.child,c,p)}function PE(s,a,c,p,g){c=c.render;var w=a.ref;return cl(a,g),p=Ig(s,a,c,p,w,g),c=Cg(),s!==null&&!xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,_i(s,a,g)):(ut&&c&&ug(a),a.flags|=1,gn(s,a,p,g),a.child)}function RE(s,a,c,p,g){if(s===null){var w=c.type;return typeof w=="function"&&!ry(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,kE(s,a,w,p,g)):(s=Ef(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&g)){var C=w.memoizedProps;if(c=c.compare,c=c!==null?c:Zu,c(C,p)&&s.ref===a.ref)return _i(s,a,g)}return a.flags|=1,s=xs(w,p),s.ref=a.ref,s.return=a,a.child=s}function kE(s,a,c,p,g){if(s!==null){var w=s.memoizedProps;if(Zu(w,p)&&s.ref===a.ref)if(xn=!1,a.pendingProps=p=w,(s.lanes&g)!==0)s.flags&131072&&(xn=!0);else return a.lanes=s.lanes,_i(s,a,g)}return Lg(s,a,c,p,g)}function DE(s,a,c){var p=a.pendingProps,g=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(pl,Fn),Fn|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,it(pl,Fn),Fn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,it(pl,Fn),Fn|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,it(pl,Fn),Fn|=p;return gn(s,a,g,c),a.child}function OE(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Lg(s,a,c,p,g){var w=bn(c)?Do:tn.current;return w=il(a,w),cl(a,g),c=Ig(s,a,c,p,w,g),p=Cg(),s!==null&&!xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,_i(s,a,g)):(ut&&p&&ug(a),a.flags|=1,gn(s,a,c,g),a.child)}function NE(s,a,c,p,g){if(bn(c)){var w=!0;Hd(a)}else w=!1;if(cl(a,g),a.stateNode===null)cf(s,a),TE(a,c,p),Og(a,c,p,g),p=!0;else if(s===null){var C=a.stateNode,$=a.memoizedProps;C.props=$;var z=C.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Qn(Y):(Y=bn(c)?Do:tn.current,Y=il(a,Y));var oe=c.getDerivedStateFromProps,ue=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function";ue||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||($!==p||z!==Y)&&bE(a,C,p,Y),ys=!1;var se=a.memoizedState;C.state=se,ef(a,p,C,g),z=a.memoizedState,$!==p||se!==z||Tn.current||ys?(typeof oe=="function"&&(Dg(a,c,oe,p),z=a.memoizedState),($=ys||EE(a,c,$,p,se,z,Y))?(ue||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),C.props=p,C.state=z,C.context=Y,p=$):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{C=a.stateNode,Y_(s,a),$=a.memoizedProps,Y=a.type===a.elementType?$:wr(a.type,$),C.props=Y,ue=a.pendingProps,se=C.context,z=c.contextType,typeof z=="object"&&z!==null?z=Qn(z):(z=bn(c)?Do:tn.current,z=il(a,z));var ve=c.getDerivedStateFromProps;(oe=typeof ve=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||($!==ue||se!==z)&&bE(a,C,p,z),ys=!1,se=a.memoizedState,C.state=se,ef(a,p,C,g);var Ee=a.memoizedState;$!==ue||se!==Ee||Tn.current||ys?(typeof ve=="function"&&(Dg(a,c,ve,p),Ee=a.memoizedState),(Y=ys||EE(a,c,Y,p,se,Ee,z)||!1)?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,Ee,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,Ee,z)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ee),C.props=p,C.state=Ee,C.context=z,p=Y):(typeof C.componentDidUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),p=!1)}return Vg(s,a,c,p,w,g)}function Vg(s,a,c,p,g,w){OE(s,a);var C=(a.flags&128)!==0;if(!p&&!C)return g&&F_(a,c,!1),_i(s,a,w);p=a.stateNode,uD.current=a;var $=C&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&C?(a.child=ll(a,s.child,null,w),a.child=ll(a,null,$,w)):gn(s,a,$,w),a.memoizedState=p.state,g&&F_(a,c,!0),a.child}function ME(s){var a=s.stateNode;a.pendingContext?V_(s,a.pendingContext,a.pendingContext!==a.context):a.context&&V_(s,a.context,!1),_g(s,a.containerInfo)}function LE(s,a,c,p,g){return al(),fg(g),a.flags|=256,gn(s,a,c,p),a.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function Fg(s){return{baseLanes:s,cachePool:null,transitions:null}}function VE(s,a,c){var p=a.pendingProps,g=dt.current,w=!1,C=(a.flags&128)!==0,$;if(($=C)||($=s!==null&&s.memoizedState===null?!1:(g&2)!==0),$?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),it(dt,g&1),s===null)return dg(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(C=p.children,s=p.fallback,w?(p=a.mode,w=a.child,C={mode:"hidden",children:C},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=C):w=Tf(C,p,0,null),s=Bo(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=Fg(c),a.memoizedState=jg,s):$g(a,C));if(g=s.memoizedState,g!==null&&($=g.dehydrated,$!==null))return cD(s,a,C,p,$,g,c);if(w){w=p.fallback,C=a.mode,g=s.child,$=g.sibling;var z={mode:"hidden",children:p.children};return!(C&1)&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=xs(g,z),p.subtreeFlags=g.subtreeFlags&14680064),$!==null?w=xs($,w):(w=Bo(w,C,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,C=s.child.memoizedState,C=C===null?Fg(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=s.childLanes&~c,a.memoizedState=jg,p}return w=s.child,s=w.sibling,p=xs(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function $g(s,a){return a=Tf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function uf(s,a,c,p){return p!==null&&fg(p),ll(a,s.child,null,c),s=$g(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function cD(s,a,c,p,g,w,C){if(c)return a.flags&256?(a.flags&=-257,p=Ng(Error(n(422))),uf(s,a,C,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,g=a.mode,p=Tf({mode:"visible",children:p.children},g,0,null),w=Bo(w,g,C,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&ll(a,s.child,null,C),a.child.memoizedState=Fg(C),a.memoizedState=jg,w);if(!(a.mode&1))return uf(s,a,C,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var $=p.dgst;return p=$,w=Error(n(419)),p=Ng(w,p,void 0),uf(s,a,C,p)}if($=(C&s.childLanes)!==0,xn||$){if(p=qt,p!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(p.suspendedLanes|C)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,vi(s,g),Tr(p,s,g,-1))}return ny(),p=Ng(Error(n(421))),uf(s,a,C,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=bD.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,jn=fs(g.nextSibling),Vn=a,ut=!0,vr=null,s!==null&&(Gn[Kn++]=gi,Gn[Kn++]=yi,Gn[Kn++]=Oo,gi=s.id,yi=s.overflow,Oo=a),a=$g(a,p.children),a.flags|=4096,a)}function jE(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),yg(s.return,a,c)}function Ug(s,a,c,p,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=g)}function FE(s,a,c){var p=a.pendingProps,g=p.revealOrder,w=p.tail;if(gn(s,a,p.children,c),p=dt.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jE(s,c,a);else if(s.tag===19)jE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(it(dt,p),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&tf(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Ug(a,!1,g,c,w);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&tf(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Ug(a,!0,c,null,w);break;case"together":Ug(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function _i(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),jo|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=xs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=xs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function hD(s,a,c){switch(a.tag){case 3:ME(a),al();break;case 5:Z_(a);break;case 1:bn(a.type)&&Hd(a);break;case 4:_g(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;it(Xd,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(it(dt,dt.current&1),a.flags|=128,null):c&a.child.childLanes?VE(s,a,c):(it(dt,dt.current&1),s=_i(s,a,c),s!==null?s.sibling:null);it(dt,dt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return FE(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(dt,dt.current),p)break;return null;case 22:case 23:return a.lanes=0,DE(s,a,c)}return _i(s,a,c)}var $E,Bg,UE,BE;$E=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Bg=function(){},UE=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Lo(Lr.current);var w=null;switch(c){case"input":g=mo(s,g),p=mo(s,p),w=[];break;case"select":g=ae({},g,{value:void 0}),p=ae({},p,{value:void 0}),w=[];break;case"textarea":g=Au(s,g),p=Au(s,p),w=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Bd)}Nu(c,p);var C;c=null;for(Y in g)if(!p.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var $=g[Y];for(C in $)$.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in p){var z=p[Y];if($=g!=null?g[Y]:void 0,p.hasOwnProperty(Y)&&z!==$&&(z!=null||$!=null))if(Y==="style")if($){for(C in $)!$.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in z)z.hasOwnProperty(C)&&$[C]!==z[C]&&(c||(c={}),c[C]=z[C])}else c||(w||(w=[]),w.push(Y,c)),c=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,$=$?$.__html:void 0,z!=null&&$!==z&&(w=w||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&st("scroll",s),w||$===z||(w=[])):(w=w||[]).push(Y,z))}c&&(w=w||[]).push("style",c);var Y=w;(a.updateQueue=Y)&&(a.flags|=4)}},BE=function(s,a,c,p){c!==p&&(a.flags|=4)};function pc(s,a){if(!ut)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function dD(s,a,c){var p=a.pendingProps;switch(cg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return bn(a.type)&&qd(),rn(a),null;case 3:return p=a.stateNode,hl(),ot(Tn),ot(tn),bg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Qd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,vr!==null&&(Zg(vr),vr=null))),Bg(s,a),rn(a),null;case 5:Eg(a);var g=Lo(uc.current);if(c=a.type,s!==null&&a.stateNode!=null)UE(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return rn(a),null}if(s=Lo(Lr.current),Qd(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Mr]=a,p[ic]=w,s=(a.mode&1)!==0,c){case"dialog":st("cancel",p),st("close",p);break;case"iframe":case"object":case"embed":st("load",p);break;case"video":case"audio":for(g=0;g<tc.length;g++)st(tc[g],p);break;case"source":st("error",p);break;case"img":case"image":case"link":st("error",p),st("load",p);break;case"details":st("toggle",p);break;case"input":Ia(p,w),st("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},st("invalid",p);break;case"textarea":Aa(p,w),st("invalid",p)}Nu(c,w),g=null;for(var C in w)if(w.hasOwnProperty(C)){var $=w[C];C==="children"?typeof $=="string"?p.textContent!==$&&(w.suppressHydrationWarning!==!0&&Ud(p.textContent,$,s),g=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(w.suppressHydrationWarning!==!0&&Ud(p.textContent,$,s),g=["children",""+$]):i.hasOwnProperty(C)&&$!=null&&C==="onScroll"&&st("scroll",p)}switch(c){case"input":ii(p),fd(p,w,!0);break;case"textarea":ii(p),Pu(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Bd)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(c,{is:p.is}):(s=C.createElement(c),c==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,c),s[Mr]=a,s[ic]=p,$E(s,a,!1,!1),a.stateNode=s;e:{switch(C=Mu(c,p),c){case"dialog":st("cancel",s),st("close",s),g=p;break;case"iframe":case"object":case"embed":st("load",s),g=p;break;case"video":case"audio":for(g=0;g<tc.length;g++)st(tc[g],s);g=p;break;case"source":st("error",s),g=p;break;case"img":case"image":case"link":st("error",s),st("load",s),g=p;break;case"details":st("toggle",s),g=p;break;case"input":Ia(s,p),g=mo(s,p),st("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=ae({},p,{value:void 0}),st("invalid",s);break;case"textarea":Aa(s,p),g=Au(s,p),st("invalid",s);break;default:g=p}Nu(c,g),$=g;for(w in $)if($.hasOwnProperty(w)){var z=$[w];w==="style"?Du(s,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ru(s,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&ns(s,z):typeof z=="number"&&ns(s,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&st("scroll",s):z!=null&&V(s,w,z,C))}switch(c){case"input":ii(s),fd(s,p,!1);break;case"textarea":ii(s),Pu(s);break;case"option":p.value!=null&&s.setAttribute("value",""+qe(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?oi(s,!!p.multiple,w,!1):p.defaultValue!=null&&oi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Bd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(s&&a.stateNode!=null)BE(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(c=Lo(uc.current),Lo(Lr.current),Qd(a)){if(p=a.stateNode,c=a.memoizedProps,p[Mr]=a,(w=p.nodeValue!==c)&&(s=Vn,s!==null))switch(s.tag){case 3:Ud(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ud(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Mr]=a,a.stateNode=p}return rn(a),null;case 13:if(ot(dt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&jn!==null&&a.mode&1&&!(a.flags&128))H_(),al(),a.flags|=98560,w=!1;else if(w=Qd(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Mr]=a}else al(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;rn(a),w=!1}else vr!==null&&(Zg(vr),vr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||dt.current&1?Mt===0&&(Mt=3):ny())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return hl(),Bg(s,a),s===null&&nc(a.stateNode.containerInfo),rn(a),null;case 10:return gg(a.type._context),rn(a),null;case 17:return bn(a.type)&&qd(),rn(a),null;case 19:if(ot(dt),w=a.memoizedState,w===null)return rn(a),null;if(p=(a.flags&128)!==0,C=w.rendering,C===null)if(p)pc(w,!1);else{if(Mt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(C=tf(s),C!==null){for(a.flags|=128,pc(w,!1),p=C.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,s=C.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return it(dt,dt.current&1|2),a.child}s=s.sibling}w.tail!==null&&rt()>ml&&(a.flags|=128,p=!0,pc(w,!1),a.lanes=4194304)}else{if(!p)if(s=tf(C),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),pc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!ut)return rn(a),null}else 2*rt()-w.renderingStartTime>ml&&c!==1073741824&&(a.flags|=128,p=!0,pc(w,!1),a.lanes=4194304);w.isBackwards?(C.sibling=a.child,a.child=C):(c=w.last,c!==null?c.sibling=C:a.child=C,w.last=C)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=rt(),a.sibling=null,c=dt.current,it(dt,p?c&1|2:c&1),a):(rn(a),null);case 22:case 23:return ty(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Fn&1073741824&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function fD(s,a){switch(cg(a),a.tag){case 1:return bn(a.type)&&qd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return hl(),ot(Tn),ot(tn),bg(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Eg(a),null;case 13:if(ot(dt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));al()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ot(dt),null;case 4:return hl(),null;case 10:return gg(a.type._context),null;case 22:case 23:return ty(),null;case 24:return null;default:return null}}var hf=!1,sn=!1,pD=typeof WeakSet=="function"?WeakSet:Set,_e=null;function fl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){yt(s,a,p)}else c.current=null}function zg(s,a,c){try{c()}catch(p){yt(s,a,p)}}var zE=!1;function mD(s,a){if(tg=cs,s=E_(),Gm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var C=0,$=-1,z=-1,Y=0,oe=0,ue=s,se=null;t:for(;;){for(var ve;ue!==c||g!==0&&ue.nodeType!==3||($=C+g),ue!==w||p!==0&&ue.nodeType!==3||(z=C+p),ue.nodeType===3&&(C+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)se=ue,ue=ve;for(;;){if(ue===s)break t;if(se===c&&++Y===g&&($=C),se===w&&++oe===p&&(z=C),(ve=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=ve}c=$===-1||z===-1?null:{start:$,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(ng={focusedElem:s,selectionRange:c},cs=!1,_e=a;_e!==null;)if(a=_e,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,_e=s;else for(;_e!==null;){a=_e;try{var Ee=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,bt=Ee.memoizedState,K=a.stateNode,H=K.getSnapshotBeforeUpdate(a.elementType===a.type?Te:wr(a.type,Te),bt);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){yt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,_e=s;break}_e=a.return}return Ee=zE,zE=!1,Ee}function mc(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&zg(a,c,w)}g=g.next}while(g!==p)}}function df(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function qg(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function qE(s){var a=s.alternate;a!==null&&(s.alternate=null,qE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Mr],delete a[ic],delete a[og],delete a[X2],delete a[J2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function HE(s){return s.tag===5||s.tag===3||s.tag===4}function WE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||HE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Bd));else if(p!==4&&(s=s.child,s!==null))for(Hg(s,a,c),s=s.sibling;s!==null;)Hg(s,a,c),s=s.sibling}function Wg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Wg(s,a,c),s=s.sibling;s!==null;)Wg(s,a,c),s=s.sibling}var Qt=null,_r=!1;function ws(s,a,c){for(c=c.child;c!==null;)GE(s,a,c),c=c.sibling}function GE(s,a,c){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(xo,c)}catch{}switch(c.tag){case 5:sn||fl(c,a);case 6:var p=Qt,g=_r;Qt=null,ws(s,a,c),Qt=p,_r=g,Qt!==null&&(_r?(s=Qt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Qt.removeChild(c.stateNode));break;case 18:Qt!==null&&(_r?(s=Qt,c=c.stateNode,s.nodeType===8?sg(s.parentNode,c):s.nodeType===1&&sg(s,c),mr(s)):sg(Qt,c.stateNode));break;case 4:p=Qt,g=_r,Qt=c.stateNode.containerInfo,_r=!0,ws(s,a,c),Qt=p,_r=g;break;case 0:case 11:case 14:case 15:if(!sn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var w=g,C=w.destroy;w=w.tag,C!==void 0&&(w&2||w&4)&&zg(c,a,C),g=g.next}while(g!==p)}ws(s,a,c);break;case 1:if(!sn&&(fl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch($){yt(c,a,$)}ws(s,a,c);break;case 21:ws(s,a,c);break;case 22:c.mode&1?(sn=(p=sn)||c.memoizedState!==null,ws(s,a,c),sn=p):ws(s,a,c);break;default:ws(s,a,c)}}function KE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new pD),a.forEach(function(p){var g=xD.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Er(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var w=s,C=a,$=C;e:for(;$!==null;){switch($.tag){case 5:Qt=$.stateNode,_r=!1;break e;case 3:Qt=$.stateNode.containerInfo,_r=!0;break e;case 4:Qt=$.stateNode.containerInfo,_r=!0;break e}$=$.return}if(Qt===null)throw Error(n(160));GE(w,C,g),Qt=null,_r=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(Y){yt(g,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)QE(a,s),a=a.sibling}function QE(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Er(a,s),jr(s),p&4){try{mc(3,s,s.return),df(3,s)}catch(Te){yt(s,s.return,Te)}try{mc(5,s,s.return)}catch(Te){yt(s,s.return,Te)}}break;case 1:Er(a,s),jr(s),p&512&&c!==null&&fl(c,c.return);break;case 5:if(Er(a,s),jr(s),p&512&&c!==null&&fl(c,c.return),s.flags&32){var g=s.stateNode;try{ns(g,"")}catch(Te){yt(s,s.return,Te)}}if(p&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,C=c!==null?c.memoizedProps:w,$=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{$==="input"&&w.type==="radio"&&w.name!=null&&Iu(g,w),Mu($,C);var Y=Mu($,w);for(C=0;C<z.length;C+=2){var oe=z[C],ue=z[C+1];oe==="style"?Du(g,ue):oe==="dangerouslySetInnerHTML"?Ru(g,ue):oe==="children"?ns(g,ue):V(g,oe,ue,Y)}switch($){case"input":Cu(g,w);break;case"textarea":Pa(g,w);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ve=w.value;ve!=null?oi(g,!!w.multiple,ve,!1):se!==!!w.multiple&&(w.defaultValue!=null?oi(g,!!w.multiple,w.defaultValue,!0):oi(g,!!w.multiple,w.multiple?[]:"",!1))}g[ic]=w}catch(Te){yt(s,s.return,Te)}}break;case 6:if(Er(a,s),jr(s),p&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Te){yt(s,s.return,Te)}}break;case 3:if(Er(a,s),jr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{mr(a.containerInfo)}catch(Te){yt(s,s.return,Te)}break;case 4:Er(a,s),jr(s);break;case 13:Er(a,s),jr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Qg=rt())),p&4&&KE(s);break;case 22:if(oe=c!==null&&c.memoizedState!==null,s.mode&1?(sn=(Y=sn)||oe,Er(a,s),sn=Y):Er(a,s),jr(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&s.mode&1)for(_e=s,oe=s.child;oe!==null;){for(ue=_e=oe;_e!==null;){switch(se=_e,ve=se.child,se.tag){case 0:case 11:case 14:case 15:mc(4,se,se.return);break;case 1:fl(se,se.return);var Ee=se.stateNode;if(typeof Ee.componentWillUnmount=="function"){p=se,c=se.return;try{a=p,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Te){yt(p,c,Te)}}break;case 5:fl(se,se.return);break;case 22:if(se.memoizedState!==null){JE(ue);continue}}ve!==null?(ve.return=se,_e=ve):JE(ue)}oe=oe.sibling}e:for(oe=null,ue=s;;){if(ue.tag===5){if(oe===null){oe=ue;try{g=ue.stateNode,Y?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):($=ue.stateNode,z=ue.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,$.style.display=ku("display",C))}catch(Te){yt(s,s.return,Te)}}}else if(ue.tag===6){if(oe===null)try{ue.stateNode.nodeValue=Y?"":ue.memoizedProps}catch(Te){yt(s,s.return,Te)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===s)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===s)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===s)break e;oe===ue&&(oe=null),ue=ue.return}oe===ue&&(oe=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Er(a,s),jr(s),p&4&&KE(s);break;case 21:break;default:Er(a,s),jr(s)}}function jr(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(HE(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ns(g,""),p.flags&=-33);var w=WE(s);Wg(s,w,g);break;case 3:case 4:var C=p.stateNode.containerInfo,$=WE(s);Hg(s,$,C);break;default:throw Error(n(161))}}catch(z){yt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function gD(s,a,c){_e=s,YE(s)}function YE(s,a,c){for(var p=(s.mode&1)!==0;_e!==null;){var g=_e,w=g.child;if(g.tag===22&&p){var C=g.memoizedState!==null||hf;if(!C){var $=g.alternate,z=$!==null&&$.memoizedState!==null||sn;$=hf;var Y=sn;if(hf=C,(sn=z)&&!Y)for(_e=g;_e!==null;)C=_e,z=C.child,C.tag===22&&C.memoizedState!==null?ZE(g):z!==null?(z.return=C,_e=z):ZE(g);for(;w!==null;)_e=w,YE(w),w=w.sibling;_e=g,hf=$,sn=Y}XE(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,_e=w):XE(s)}}function XE(s){for(;_e!==null;){var a=_e;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:sn||df(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!sn)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:wr(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&J_(a,w,p);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}J_(a,C,c)}break;case 5:var $=a.stateNode;if(c===null&&a.flags&4){c=$;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ue=oe.dehydrated;ue!==null&&mr(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||a.flags&512&&qg(a)}catch(se){yt(a,a.return,se)}}if(a===s){_e=null;break}if(c=a.sibling,c!==null){c.return=a.return,_e=c;break}_e=a.return}}function JE(s){for(;_e!==null;){var a=_e;if(a===s){_e=null;break}var c=a.sibling;if(c!==null){c.return=a.return,_e=c;break}_e=a.return}}function ZE(s){for(;_e!==null;){var a=_e;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{df(4,a)}catch(z){yt(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(z){yt(a,g,z)}}var w=a.return;try{qg(a)}catch(z){yt(a,w,z)}break;case 5:var C=a.return;try{qg(a)}catch(z){yt(a,C,z)}}}catch(z){yt(a,a.return,z)}if(a===s){_e=null;break}var $=a.sibling;if($!==null){$.return=a.return,_e=$;break}_e=a.return}}var yD=Math.ceil,ff=W.ReactCurrentDispatcher,Gg=W.ReactCurrentOwner,Xn=W.ReactCurrentBatchConfig,Ye=0,qt=null,At=null,Yt=0,Fn=0,pl=ps(0),Mt=0,gc=null,jo=0,pf=0,Kg=0,yc=null,Sn=null,Qg=0,ml=1/0,Ei=null,mf=!1,Yg=null,_s=null,gf=!1,Es=null,yf=0,vc=0,Xg=null,vf=-1,wf=0;function yn(){return Ye&6?rt():vf!==-1?vf:vf=rt()}function Ts(s){return s.mode&1?Ye&2&&Yt!==0?Yt&-Yt:eD.transition!==null?(wf===0&&(wf=Io()),wf):(s=He,s!==0||(s=window.event,s=s===void 0?16:Wu(s.type)),s):1}function Tr(s,a,c,p){if(50<vc)throw vc=0,Xg=null,Error(n(185));os(s,c,p),(!(Ye&2)||s!==qt)&&(s===qt&&(!(Ye&2)&&(pf|=c),Mt===4&&bs(s,Yt)),In(s,p),c===1&&Ye===0&&!(a.mode&1)&&(ml=rt()+500,Wd&&gs()))}function In(s,a){var c=s.callbackNode;ui(s,a);var p=So(s,s===qt?Yt:0);if(p===0)c!==null&&Uu(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Uu(c),a===1)s.tag===0?Z2(tT.bind(null,s)):$_(tT.bind(null,s)),Q2(function(){!(Ye&6)&&gs()}),c=null;else{switch(ls(p)){case 1:c=bo;break;case 4:c=rs;break;case 16:c=qn;break;case 536870912:c=vd;break;default:c=qn}c=uT(c,eT.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function eT(s,a){if(vf=-1,wf=0,Ye&6)throw Error(n(327));var c=s.callbackNode;if(gl()&&s.callbackNode!==c)return null;var p=So(s,s===qt?Yt:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=_f(s,p);else{a=p;var g=Ye;Ye|=2;var w=rT();(qt!==s||Yt!==a)&&(Ei=null,ml=rt()+500,$o(s,a));do try{_D();break}catch($){nT(s,$)}while(!0);mg(),ff.current=w,Ye=g,At!==null?a=0:(qt=null,Yt=0,a=Mt)}if(a!==0){if(a===2&&(g=Nn(s),g!==0&&(p=g,a=Jg(s,g))),a===1)throw c=gc,$o(s,0),bs(s,p),In(s,rt()),c;if(a===6)bs(s,p);else{if(g=s.current.alternate,!(p&30)&&!vD(g)&&(a=_f(s,p),a===2&&(w=Nn(s),w!==0&&(p=w,a=Jg(s,w))),a===1))throw c=gc,$o(s,0),bs(s,p),In(s,rt()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Uo(s,Sn,Ei);break;case 3:if(bs(s,p),(p&130023424)===p&&(a=Qg+500-rt(),10<a)){if(So(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){yn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=ig(Uo.bind(null,s,Sn,Ei),a);break}Uo(s,Sn,Ei);break;case 4:if(bs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var C=31-pn(p);w=1<<C,C=a[C],C>g&&(g=C),p&=~w}if(p=g,p=rt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*yD(p/1960))-p,10<p){s.timeoutHandle=ig(Uo.bind(null,s,Sn,Ei),p);break}Uo(s,Sn,Ei);break;case 5:Uo(s,Sn,Ei);break;default:throw Error(n(329))}}}return In(s,rt()),s.callbackNode===c?eT.bind(null,s):null}function Jg(s,a){var c=yc;return s.current.memoizedState.isDehydrated&&($o(s,a).flags|=256),s=_f(s,a),s!==2&&(a=Sn,Sn=c,a!==null&&Zg(a)),s}function Zg(s){Sn===null?Sn=s:Sn.push.apply(Sn,s)}function vD(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],w=g.getSnapshot;g=g.value;try{if(!yr(w(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bs(s,a){for(a&=~Kg,a&=~pf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-pn(a),p=1<<c;s[c]=-1,a&=~p}}function tT(s){if(Ye&6)throw Error(n(327));gl();var a=So(s,0);if(!(a&1))return In(s,rt()),null;var c=_f(s,a);if(s.tag!==0&&c===2){var p=Nn(s);p!==0&&(a=p,c=Jg(s,p))}if(c===1)throw c=gc,$o(s,0),bs(s,a),In(s,rt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Uo(s,Sn,Ei),In(s,rt()),null}function ey(s,a){var c=Ye;Ye|=1;try{return s(a)}finally{Ye=c,Ye===0&&(ml=rt()+500,Wd&&gs())}}function Fo(s){Es!==null&&Es.tag===0&&!(Ye&6)&&gl();var a=Ye;Ye|=1;var c=Xn.transition,p=He;try{if(Xn.transition=null,He=1,s)return s()}finally{He=p,Xn.transition=c,Ye=a,!(Ye&6)&&gs()}}function ty(){Fn=pl.current,ot(pl)}function $o(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,K2(c)),At!==null)for(c=At.return;c!==null;){var p=c;switch(cg(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&qd();break;case 3:hl(),ot(Tn),ot(tn),bg();break;case 5:Eg(p);break;case 4:hl();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:gg(p.type._context);break;case 22:case 23:ty()}c=c.return}if(qt=s,At=s=xs(s.current,null),Yt=Fn=a,Mt=0,gc=null,Kg=pf=jo=0,Sn=yc=null,Mo!==null){for(a=0;a<Mo.length;a++)if(c=Mo[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,w=c.pending;if(w!==null){var C=w.next;w.next=g,p.next=C}c.pending=p}Mo=null}return s}function nT(s,a){do{var c=At;try{if(mg(),nf.current=af,rf){for(var p=ft.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}rf=!1}if(Vo=0,zt=Nt=ft=null,cc=!1,hc=0,Gg.current=null,c===null||c.return===null){Mt=1,gc=a,At=null;break}e:{var w=s,C=c.return,$=c,z=a;if(a=Yt,$.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,oe=$,ue=oe.tag;if(!(oe.mode&1)&&(ue===0||ue===11||ue===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ve=CE(C);if(ve!==null){ve.flags&=-257,AE(ve,C,$,w,a),ve.mode&1&&IE(w,Y,a),a=ve,z=Y;var Ee=a.updateQueue;if(Ee===null){var Te=new Set;Te.add(z),a.updateQueue=Te}else Ee.add(z);break e}else{if(!(a&1)){IE(w,Y,a),ny();break e}z=Error(n(426))}}else if(ut&&$.mode&1){var bt=CE(C);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),AE(bt,C,$,w,a),fg(dl(z,$));break e}}w=z=dl(z,$),Mt!==4&&(Mt=2),yc===null?yc=[w]:yc.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var K=xE(w,z,a);X_(w,K);break e;case 1:$=z;var H=w.type,Q=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(_s===null||!_s.has(Q)))){w.flags|=65536,a&=-a,w.lanes|=a;var he=SE(w,$,a);X_(w,he);break e}}w=w.return}while(w!==null)}sT(c)}catch(xe){a=xe,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function rT(){var s=ff.current;return ff.current=af,s===null?af:s}function ny(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),qt===null||!(jo&268435455)&&!(pf&268435455)||bs(qt,Yt)}function _f(s,a){var c=Ye;Ye|=2;var p=rT();(qt!==s||Yt!==a)&&(Ei=null,$o(s,a));do try{wD();break}catch(g){nT(s,g)}while(!0);if(mg(),Ye=c,ff.current=p,At!==null)throw Error(n(261));return qt=null,Yt=0,Mt}function wD(){for(;At!==null;)iT(At)}function _D(){for(;At!==null&&!gd();)iT(At)}function iT(s){var a=lT(s.alternate,s,Fn);s.memoizedProps=s.pendingProps,a===null?sT(s):At=a,Gg.current=null}function sT(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=fD(c,a),c!==null){c.flags&=32767,At=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Mt=6,At=null;return}}else if(c=dD(c,a,Fn),c!==null){At=c;return}if(a=a.sibling,a!==null){At=a;return}At=a=s}while(a!==null);Mt===0&&(Mt=5)}function Uo(s,a,c){var p=He,g=Xn.transition;try{Xn.transition=null,He=1,ED(s,a,c,p)}finally{Xn.transition=g,He=p}return null}function ED(s,a,c,p){do gl();while(Es!==null);if(Ye&6)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(tt(s,w),s===qt&&(At=qt=null,Yt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||gf||(gf=!0,uT(qn,function(){return gl(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=Xn.transition,Xn.transition=null;var C=He;He=1;var $=Ye;Ye|=4,Gg.current=null,mD(s,c),QE(c,s),U2(ng),cs=!!tg,ng=tg=null,s.current=c,gD(c),Fm(),Ye=$,He=C,Xn.transition=w}else s.current=c;if(gf&&(gf=!1,Es=s,yf=g),w=s.pendingLanes,w===0&&(_s=null),wd(c.stateNode),In(s,rt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(mf)throw mf=!1,s=Yg,Yg=null,s;return yf&1&&s.tag!==0&&gl(),w=s.pendingLanes,w&1?s===Xg?vc++:(vc=0,Xg=s):vc=0,gs(),null}function gl(){if(Es!==null){var s=ls(yf),a=Xn.transition,c=He;try{if(Xn.transition=null,He=16>s?16:s,Es===null)var p=!1;else{if(s=Es,Es=null,yf=0,Ye&6)throw Error(n(331));var g=Ye;for(Ye|=4,_e=s.current;_e!==null;){var w=_e,C=w.child;if(_e.flags&16){var $=w.deletions;if($!==null){for(var z=0;z<$.length;z++){var Y=$[z];for(_e=Y;_e!==null;){var oe=_e;switch(oe.tag){case 0:case 11:case 15:mc(8,oe,w)}var ue=oe.child;if(ue!==null)ue.return=oe,_e=ue;else for(;_e!==null;){oe=_e;var se=oe.sibling,ve=oe.return;if(qE(oe),oe===Y){_e=null;break}if(se!==null){se.return=ve,_e=se;break}_e=ve}}}var Ee=w.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var bt=Te.sibling;Te.sibling=null,Te=bt}while(Te!==null)}}_e=w}}if(w.subtreeFlags&2064&&C!==null)C.return=w,_e=C;else e:for(;_e!==null;){if(w=_e,w.flags&2048)switch(w.tag){case 0:case 11:case 15:mc(9,w,w.return)}var K=w.sibling;if(K!==null){K.return=w.return,_e=K;break e}_e=w.return}}var H=s.current;for(_e=H;_e!==null;){C=_e;var Q=C.child;if(C.subtreeFlags&2064&&Q!==null)Q.return=C,_e=Q;else e:for(C=H;_e!==null;){if($=_e,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:df(9,$)}}catch(xe){yt($,$.return,xe)}if($===C){_e=null;break e}var he=$.sibling;if(he!==null){he.return=$.return,_e=he;break e}_e=$.return}}if(Ye=g,gs(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(xo,s)}catch{}p=!0}return p}finally{He=c,Xn.transition=a}}return!1}function oT(s,a,c){a=dl(c,a),a=xE(s,a,1),s=vs(s,a,1),a=yn(),s!==null&&(os(s,1,a),In(s,a))}function yt(s,a,c){if(s.tag===3)oT(s,s,c);else for(;a!==null;){if(a.tag===3){oT(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))){s=dl(c,s),s=SE(a,s,1),a=vs(a,s,1),s=yn(),a!==null&&(os(a,1,s),In(a,s));break}}a=a.return}}function TD(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=yn(),s.pingedLanes|=s.suspendedLanes&c,qt===s&&(Yt&c)===c&&(Mt===4||Mt===3&&(Yt&130023424)===Yt&&500>rt()-Qg?$o(s,0):Kg|=c),In(s,a)}function aT(s,a){a===0&&(s.mode&1?(a=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):a=1);var c=yn();s=vi(s,a),s!==null&&(os(s,a,c),In(s,c))}function bD(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),aT(s,c)}function xD(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),aT(s,c)}var lT;lT=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Tn.current)xn=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return xn=!1,hD(s,a,c);xn=!!(s.flags&131072)}else xn=!1,ut&&a.flags&1048576&&U_(a,Kd,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;cf(s,a),s=a.pendingProps;var g=il(a,tn.current);cl(a,c),g=Ig(null,a,p,s,g,c);var w=Cg();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,bn(p)?(w=!0,Hd(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,wg(a),g.updater=lf,a.stateNode=g,g._reactInternals=a,Og(a,p,s,c),a=Vg(null,a,p,!0,w,c)):(a.tag=0,ut&&w&&ug(a),gn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(cf(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=ID(p),s=wr(p,s),g){case 0:a=Lg(null,a,p,s,c);break e;case 1:a=NE(null,a,p,s,c);break e;case 11:a=PE(null,a,p,s,c);break e;case 14:a=RE(null,a,p,wr(p.type,s),c);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),Lg(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),NE(s,a,p,g,c);case 3:e:{if(ME(a),s===null)throw Error(n(387));p=a.pendingProps,w=a.memoizedState,g=w.element,Y_(s,a),ef(a,p,null,c);var C=a.memoizedState;if(p=C.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=dl(Error(n(423)),a),a=LE(s,a,p,c,g);break e}else if(p!==g){g=dl(Error(n(424)),a),a=LE(s,a,p,c,g);break e}else for(jn=fs(a.stateNode.containerInfo.firstChild),Vn=a,ut=!0,vr=null,c=K_(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(al(),p===g){a=_i(s,a,c);break e}gn(s,a,p,c)}a=a.child}return a;case 5:return Z_(a),s===null&&dg(a),p=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,C=g.children,rg(p,g)?C=null:w!==null&&rg(p,w)&&(a.flags|=32),OE(s,a),gn(s,a,C,c),a.child;case 6:return s===null&&dg(a),null;case 13:return VE(s,a,c);case 4:return _g(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ll(a,null,p,c):gn(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),PE(s,a,p,g,c);case 7:return gn(s,a,a.pendingProps,c),a.child;case 8:return gn(s,a,a.pendingProps.children,c),a.child;case 12:return gn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,w=a.memoizedProps,C=g.value,it(Xd,p._currentValue),p._currentValue=C,w!==null)if(yr(w.value,C)){if(w.children===g.children&&!Tn.current){a=_i(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var $=w.dependencies;if($!==null){C=w.child;for(var z=$.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=wi(-1,c&-c),z.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?z.next=z:(z.next=oe.next,oe.next=z),Y.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),yg(w.return,c,a),$.lanes|=c;break}z=z.next}}else if(w.tag===10)C=w.type===a.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(n(341));C.lanes|=c,$=C.alternate,$!==null&&($.lanes|=c),yg(C,c,a),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===a){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}gn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,cl(a,c),g=Qn(g),p=p(g),a.flags|=1,gn(s,a,p,c),a.child;case 14:return p=a.type,g=wr(p,a.pendingProps),g=wr(p.type,g),RE(s,a,p,g,c);case 15:return kE(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:wr(p,g),cf(s,a),a.tag=1,bn(p)?(s=!0,Hd(a)):s=!1,cl(a,c),TE(a,p,g),Og(a,p,g,c),Vg(null,a,p,!0,s,c);case 19:return FE(s,a,c);case 22:return DE(s,a,c)}throw Error(n(156,a.tag))};function uT(s,a){return Va(s,a)}function SD(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(s,a,c,p){return new SD(s,a,c,p)}function ry(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ID(s){if(typeof s=="function")return ry(s)?1:0;if(s!=null){if(s=s.$$typeof,s===A)return 11;if(s===me)return 14}return 2}function xs(s,a){var c=s.alternate;return c===null?(c=Jn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ef(s,a,c,p,g,w){var C=2;if(p=s,typeof s=="function")ry(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case j:return Bo(c.children,g,w,a);case D:C=8,g|=8;break;case L:return s=Jn(12,c,a,g|2),s.elementType=L,s.lanes=w,s;case I:return s=Jn(13,c,a,g),s.elementType=I,s.lanes=w,s;case F:return s=Jn(19,c,a,g),s.elementType=F,s.lanes=w,s;case ie:return Tf(c,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:C=10;break e;case S:C=9;break e;case A:C=11;break e;case me:C=14;break e;case ee:C=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Jn(C,c,a,g),a.elementType=s,a.type=p,a.lanes=w,a}function Bo(s,a,c,p){return s=Jn(7,s,p,a),s.lanes=c,s}function Tf(s,a,c,p){return s=Jn(22,s,p,a),s.elementType=ie,s.lanes=c,s.stateNode={isHidden:!1},s}function iy(s,a,c){return s=Jn(6,s,null,a),s.lanes=c,s}function sy(s,a,c){return a=Jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function CD(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function oy(s,a,c,p,g,w,C,$,z){return s=new CD(s,a,c,$,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Jn(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(w),s}function AD(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function cT(s){if(!s)return ms;s=s._reactInternals;e:{if(cr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(bn(c))return j_(s,c,a)}return a}function hT(s,a,c,p,g,w,C,$,z){return s=oy(c,p,!0,s,g,w,C,$,z),s.context=cT(null),c=s.current,p=yn(),g=Ts(c),w=wi(p,g),w.callback=a??null,vs(c,w,g),s.current.lanes=g,os(s,g,p),In(s,p),s}function bf(s,a,c,p){var g=a.current,w=yn(),C=Ts(g);return c=cT(c),a.context===null?a.context=c:a.pendingContext=c,a=wi(w,C),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=vs(g,a,C),s!==null&&(Tr(s,g,C,w),Zd(s,g,C)),C}function xf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function ay(s,a){dT(s,a),(s=s.alternate)&&dT(s,a)}var fT=typeof reportError=="function"?reportError:function(s){console.error(s)};function ly(s){this._internalRoot=s}Sf.prototype.render=ly.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));bf(s,a,null,null)},Sf.prototype.unmount=ly.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Fo(function(){bf(null,s,null,null)}),a[pi]=null}};function Sf(s){this._internalRoot=s}Sf.prototype.unstable_scheduleHydration=function(s){if(s){var a=xd();s={blockedOn:null,target:s,priority:a};for(var c=0;c<kr.length&&a!==0&&a<kr[c].priority;c++);kr.splice(c,0,s),c===0&&Cd(s)}};function uy(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function If(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pT(){}function PD(s,a,c,p,g){if(g){if(typeof p=="function"){var w=p;p=function(){var Y=xf(C);w.call(Y)}}var C=hT(a,p,s,0,null,!1,!1,"",pT);return s._reactRootContainer=C,s[pi]=C.current,nc(s.nodeType===8?s.parentNode:s),Fo(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var $=p;p=function(){var Y=xf(z);$.call(Y)}}var z=oy(s,0,!1,null,null,!1,!1,"",pT);return s._reactRootContainer=z,s[pi]=z.current,nc(s.nodeType===8?s.parentNode:s),Fo(function(){bf(a,z,c,p)}),z}function Cf(s,a,c,p,g){var w=c._reactRootContainer;if(w){var C=w;if(typeof g=="function"){var $=g;g=function(){var z=xf(C);$.call(z)}}bf(a,C,s,g)}else C=PD(c,a,s,g,p);return xf(C)}Td=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=is(a.pendingLanes);c!==0&&(as(a,c|1),In(a,rt()),!(Ye&6)&&(ml=rt()+500,gs()))}break;case 13:Fo(function(){var p=vi(s,1);if(p!==null){var g=yn();Tr(p,s,1,g)}}),ay(s,1)}},$a=function(s){if(s.tag===13){var a=vi(s,134217728);if(a!==null){var c=yn();Tr(a,s,134217728,c)}ay(s,134217728)}},bd=function(s){if(s.tag===13){var a=Ts(s),c=vi(s,a);if(c!==null){var p=yn();Tr(c,s,a,p)}ay(s,a)}},xd=function(){return He},Sd=function(s,a){var c=He;try{return He=s,a()}finally{He=c}},ka=function(s,a,c){switch(a){case"input":if(Cu(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=zd(p);if(!g)throw Error(n(90));Sa(p),Cu(p,g)}}}break;case"textarea":Pa(s,c);break;case"select":a=c.value,a!=null&&oi(s,!!c.multiple,a,!1)}},wo=ey,Vu=Fo;var RD={usingClientEntryPoint:!1,Events:[sc,nl,zd,Pr,Lu,ey]},wc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kD={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=$u(s),s===null?null:s.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{xo=Af.inject(kD),On=Af}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RD,Cn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uy(a))throw Error(n(200));return AD(s,a,null,c)},Cn.createRoot=function(s,a){if(!uy(s))throw Error(n(299));var c=!1,p="",g=fT;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=oy(s,1,!1,null,null,c,!1,p,g),s[pi]=a.current,nc(s.nodeType===8?s.parentNode:s),new ly(a)},Cn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=$u(a),s=s===null?null:s.stateNode,s},Cn.flushSync=function(s){return Fo(s)},Cn.hydrate=function(s,a,c){if(!If(a))throw Error(n(200));return Cf(null,s,a,!0,c)},Cn.hydrateRoot=function(s,a,c){if(!uy(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,g=!1,w="",C=fT;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=hT(a,null,s,1,c??null,g,!1,w,C),s[pi]=a.current,nc(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Sf(a)},Cn.render=function(s,a,c){if(!If(a))throw Error(n(200));return Cf(null,s,a,!1,c)},Cn.unmountComponentAtNode=function(s){if(!If(s))throw Error(n(40));return s._reactRootContainer?(Fo(function(){Cf(null,null,s,!1,function(){s._reactRootContainer=null,s[pi]=null})}),!0):!1},Cn.unstable_batchedUpdates=ey,Cn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!If(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Cf(s,a,c,!1,p)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var xT;function PS(){if(xT)return dy.exports;xT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dy.exports=$D(),dy.exports}var ST;function UD(){if(ST)return Pf;ST=1;var t=PS();return Pf.createRoot=t.createRoot,Pf.hydrateRoot=t.hydrateRoot,Pf}var BD=UD(),Ec={},IT;function zD(){if(IT)return Ec;IT=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.parse=l,Ec.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,E){const x=new o,b=_.length;if(b<2)return x;const R=(E==null?void 0:E.decode)||m;let P=0;do{const N=_.indexOf("=",P);if(N===-1)break;const V=_.indexOf(";",P),W=V===-1?b:V;if(N>W){P=_.lastIndexOf(";",N-1)+1;continue}const X=u(_,P,N),J=h(_,N,X),j=_.slice(X,J);if(x[j]===void 0){let D=u(_,N+1,W),L=h(_,W,D);const B=R(_.slice(D,L));x[j]=B}P=W+1}while(P<b);return x}function u(_,E,x){do{const b=_.charCodeAt(E);if(b!==32&&b!==9)return E}while(++E<x);return x}function h(_,E,x){for(;E>x;){const b=_.charCodeAt(--E);if(b!==32&&b!==9)return E+1}return x}function d(_,E,x){const b=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const R=b(E);if(!e.test(R))throw new TypeError(`argument val is invalid: ${E}`);let P=_+"="+R;if(!x)return P;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);P+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);P+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);P+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);P+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(P+="; HttpOnly"),x.secure&&(P+="; Secure"),x.partitioned&&(P+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return P}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Ec}zD();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CT="popstate";function qD(t={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return tv("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qc(i)}return WD(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HD(){return Math.random().toString(36).substring(2,10)}function AT(t,e){return{usr:t.state,key:t.key,idx:e}}function tv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vh(e):e,state:n,key:e&&e.key||r||HD()}}function Qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function WD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",h=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let R=m(),P=R==null?null:R-d;d=R,h&&h({action:u,location:b.location,delta:P})}function _(R,P){u="PUSH";let N=tv(b.location,R,P);d=m()+1;let V=AT(N,d),W=b.createHref(N);try{l.pushState(V,"",W)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(W)}o&&h&&h({action:u,location:b.location,delta:1})}function E(R,P){u="REPLACE";let N=tv(b.location,R,P);d=m();let V=AT(N,d),W=b.createHref(N);l.replaceState(V,"",W),o&&h&&h({action:u,location:b.location,delta:0})}function x(R){let P=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof R=="string"?R:Qc(R);return N=N.replace(/ $/,"%20"),jt(P,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,P)}let b={get action(){return u},get location(){return t(i,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(CT,y),h=R,()=>{i.removeEventListener(CT,y),h=null}},createHref(R){return e(i,R)},createURL:x,encodeLocation(R){let P=x(R);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:E,go(R){return l.go(R)}};return b}function RS(t,e,n="/"){return GD(t,e,n,!1)}function GD(t,e,n,r){let i=typeof e=="string"?Vh(e):e,o=to(i.pathname||"/",n);if(o==null)return null;let l=kS(t);KD(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let d=sO(o);u=rO(l[h],d,r)}return u}function kS(t,e=[],n=[],r=""){let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(jt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let d=Vi([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(jt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),kS(o.children,e,m,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:tO(d,o.index),routesMeta:m})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of DS(o.path))i(o,l,h)}),e}function DS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=DS(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function KD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QD=/^:[\w-]+$/,YD=3,XD=2,JD=1,ZD=10,eO=-2,PT=t=>t==="*";function tO(t,e){let n=t.split("/"),r=n.length;return n.some(PT)&&(r+=eO),e&&(r+=XD),n.filter(i=>!PT(i)).reduce((i,o)=>i+(QD.test(o)?YD:o===""?JD:ZD),r)}function nO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rO(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],d=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),_=h.route;if(!y&&d&&n&&!r[r.length-1].route.index&&(y=lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Vi([o,y.pathname]),pathnameBase:uO(Vi([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Vi([o,y.pathnameBase]))}return l}function lp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:y},_)=>{if(m==="*"){let x=u[_]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const E=u[_];return y&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:t}}function iO(t,e=!1,n=!0){Kr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function to(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vh(t):t;return{pathname:n?n.startsWith("/")?n:aO(n,e):e,search:cO(r),hash:hO(i)}}function aO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function my(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OS(t){let e=lO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function NS(t,e,n,r=!1){let i;typeof t=="string"?i=Vh(t):(i={...t},jt(!i.pathname||!i.pathname.includes("?"),my("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),my("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),my("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let h=oO(i,u),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var Vi=t=>t.join("/").replace(/\/\/+/g,"/"),uO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var MS=["POST","PUT","PATCH","DELETE"];new Set(MS);var fO=["GET",...MS];new Set(fO);var fu=U.createContext(null);fu.displayName="DataRouter";var Xp=U.createContext(null);Xp.displayName="DataRouterState";var LS=U.createContext({isTransitioning:!1});LS.displayName="ViewTransition";var pO=U.createContext(new Map);pO.displayName="Fetchers";var mO=U.createContext(null);mO.displayName="Await";var Jr=U.createContext(null);Jr.displayName="Navigation";var Jp=U.createContext(null);Jp.displayName="Location";var Zr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var iw=U.createContext(null);iw.displayName="RouteError";function gO(t,{relative:e}={}){jt(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(Jr),{hash:i,pathname:o,search:l}=Fh(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Vi([n,o])),r.createHref({pathname:u,search:l,hash:i})}function jh(){return U.useContext(Jp)!=null}function Yi(){return jt(jh(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jp).location}var VS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jS(t){U.useContext(Jr).static||U.useLayoutEffect(t)}function FS(){let{isDataRoute:t}=U.useContext(Zr);return t?PO():yO()}function yO(){jt(jh(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(fu),{basename:e,navigator:n}=U.useContext(Jr),{matches:r}=U.useContext(Zr),{pathname:i}=Yi(),o=JSON.stringify(OS(r)),l=U.useRef(!1);return jS(()=>{l.current=!0}),U.useCallback((h,d={})=>{if(Kr(l.current,VS),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=NS(h,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Vi([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,o,i,t])}U.createContext(null);function $S(){let{matches:t}=U.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function Fh(t,{relative:e}={}){let{matches:n}=U.useContext(Zr),{pathname:r}=Yi(),i=JSON.stringify(OS(n));return U.useMemo(()=>NS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function vO(t,e){return US(t)}function US(t,e,n,r){jt(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(Jr),{matches:o}=U.useContext(Zr),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";BS(h,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Yi(),_;_=y;let E=_.pathname||"/",x=E;if(d!=="/"){let P=d.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let b=RS(t,{pathname:x});return Kr(m||b!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Kr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),bO(b&&b.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Vi([d,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Vi([d,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r)}function wO(){let t=AO(),e=dO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,l)}var _O=U.createElement(wO,null),EO=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(Zr.Provider,{value:this.props.routeContext},U.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TO({routeContext:t,match:e,children:n}){let r=U.useContext(fu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Zr.Provider,{value:t},n)}function bO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);jt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:y}=n,_=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,m)=>{let y,_=!1,E=null,x=null;n&&(y=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||_O,l&&(u<0&&m===0?(BS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):u===m&&(_=!0,x=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),R=()=>{let P;return y?P=E:_?P=x:d.route.Component?P=U.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=h,U.createElement(TO,{match:d,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:P})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?U.createElement(EO,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function sw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xO(t){let e=U.useContext(fu);return jt(e,sw(t)),e}function SO(t){let e=U.useContext(Xp);return jt(e,sw(t)),e}function IO(t){let e=U.useContext(Zr);return jt(e,sw(t)),e}function ow(t){let e=IO(t),n=e.matches[e.matches.length-1];return jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CO(){return ow("useRouteId")}function AO(){var r;let t=U.useContext(iw),e=SO("useRouteError"),n=ow("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function PO(){let{router:t}=xO("useNavigate"),e=ow("useNavigate"),n=U.useRef(!1);return jS(()=>{n.current=!0}),U.useCallback(async(i,o={})=>{Kr(n.current,VS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var RT={};function BS(t,e,n){!e&&!RT[t]&&(RT[t]=!0,Kr(!1,n))}U.memo(RO);function RO({routes:t,future:e,state:n}){return US(t,void 0,n,e)}function kO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){jt(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=Vh(n));let{pathname:h="/",search:d="",hash:m="",state:y=null,key:_="default"}=n,E=U.useMemo(()=>{let x=to(h,l);return x==null?null:{location:{pathname:x,search:d,hash:m,state:y,key:_},navigationType:r}},[l,h,d,m,y,_,r]);return Kr(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:U.createElement(Jr.Provider,{value:u},U.createElement(Jp.Provider,{children:e,value:E}))}var zf="get",qf="application/x-www-form-urlencoded";function Zp(t){return t!=null&&typeof t.tagName=="string"}function DO(t){return Zp(t)&&t.tagName.toLowerCase()==="button"}function OO(t){return Zp(t)&&t.tagName.toLowerCase()==="form"}function NO(t){return Zp(t)&&t.tagName.toLowerCase()==="input"}function MO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LO(t,e){return t.button===0&&(!e||e==="_self")&&!MO(t)}var Rf=null;function VO(){if(Rf===null)try{new FormData(document.createElement("form"),0),Rf=!1}catch{Rf=!0}return Rf}var jO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gy(t){return t!=null&&!jO.has(t)?(Kr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):t}function FO(t,e){let n,r,i,o,l;if(OO(t)){let u=t.getAttribute("action");r=u?to(u,e):null,n=t.getAttribute("method")||zf,i=gy(t.getAttribute("enctype"))||qf,o=new FormData(t)}else if(DO(t)||NO(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?to(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||zf,i=gy(t.getAttribute("formenctype"))||gy(u.getAttribute("enctype"))||qf,o=new FormData(u,t),!VO()){let{name:d,type:m,value:y}=t;if(m==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,y)}}else{if(Zp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zf,r=null,i=qf,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function aw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $O(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BO(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await $O(o,n);return l.links?l.links():[]}return[]}));return WO(r.flat(1).filter(UO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kT(t,e,n,r,i,o){let l=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,u=(h,d)=>{var m;return n[d].pathname!==h.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,d)=>l(h,d)||u(h,d)):o==="data"?e.filter((h,d)=>{var y;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function zO(t,e){return qO(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function qO(t){return[...new Set(t)]}function HO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function WO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(HO(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function GO(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function KO(){let t=U.useContext(fu);return aw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QO(){let t=U.useContext(Xp);return aw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lw=U.createContext(void 0);lw.displayName="FrameworkContext";function zS(){let t=U.useContext(lw);return aw(t,"You must render this element inside a <HydratedRouter> element"),t}function YO(t,e){let n=U.useContext(lw),[r,i]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:y}=e,_=U.useRef(null);U.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=P=>{P.forEach(N=>{l(N.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[t]),U.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let E=()=>{i(!0)},x=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:Tc(u,E),onBlur:Tc(h,x),onMouseEnter:Tc(d,E),onMouseLeave:Tc(m,x),onTouchStart:Tc(y,E)}]:[!1,_,{}]}function Tc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XO({page:t,...e}){let{router:n}=KO(),r=U.useMemo(()=>RS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?U.createElement(ZO,{page:t,matches:r,...e}):null}function JO(t){let{manifest:e,routeModules:n}=zS(),[r,i]=U.useState([]);return U.useEffect(()=>{let o=!1;return BO(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function ZO({page:t,matches:e,...n}){let r=Yi(),{manifest:i,routeModules:o}=zS(),{loaderData:l,matches:u}=QO(),h=U.useMemo(()=>kT(t,e,u,i,r,"data"),[t,e,u,i,r]),d=U.useMemo(()=>kT(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=U.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,x=!1;if(e.forEach(R=>{var N;let P=i.routes[R.route.id];!P||!P.hasLoader||(!h.some(V=>V.route.id===R.route.id)&&R.route.id in l&&((N=o[R.route.id])!=null&&N.shouldRevalidate)||P.hasClientLoader?x=!0:E.add(R.route.id))}),E.size===0)return[];let b=GO(t);return x&&E.size>0&&b.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[b.pathname+b.search]},[l,r,i,h,e,t,o]),y=U.useMemo(()=>zO(d,i),[d,i]),_=JO(d);return U.createElement(U.Fragment,null,m.map(E=>U.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>U.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:x})=>U.createElement("link",{key:E,...x})))}function eN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qS&&(window.__reactRouterVersion="7.1.3")}catch{}function tN({basename:t,children:e,window:n}){let r=U.useRef();r.current==null&&(r.current=qD({window:n,v5Compat:!0}));let i=r.current,[o,l]=U.useState({action:i.action,location:i.location}),u=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>i.listen(u),[i,u]),U.createElement(kO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var HS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:h,to:d,preventScrollReset:m,viewTransition:y,..._},E){let{basename:x}=U.useContext(Jr),b=typeof d=="string"&&HS.test(d),R,P=!1;if(typeof d=="string"&&b&&(R=d,qS))try{let L=new URL(window.location.href),B=d.startsWith("//")?new URL(L.protocol+d):new URL(d),S=to(B.pathname,x);B.origin===L.origin&&S!=null?d=S+B.search+B.hash:P=!0}catch{Kr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=gO(d,{relative:i}),[V,W,X]=YO(r,_),J=sN(d,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:y});function j(L){e&&e(L),L.defaultPrevented||J(L)}let D=U.createElement("a",{..._,...X,href:R||N,onClick:P||o?e:j,ref:eN(E,W),target:h,"data-discover":!b&&n==="render"?"true":void 0});return V&&!b?U.createElement(U.Fragment,null,D,U.createElement(XO,{page:N})):D});Sr.displayName="Link";var nN=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:h,...d},m){let y=Fh(l,{relative:d.relative}),_=Yi(),E=U.useContext(Xp),{navigator:x,basename:b}=U.useContext(Jr),R=E!=null&&cN(y)&&u===!0,P=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,N=_.pathname,V=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(N=N.toLowerCase(),V=V?V.toLowerCase():null,P=P.toLowerCase()),V&&b&&(V=to(V,b)||V);const W=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let X=N===P||!i&&N.startsWith(P)&&N.charAt(W)==="/",J=V!=null&&(V===P||!i&&V.startsWith(P)&&V.charAt(P.length)==="/"),j={isActive:X,isPending:J,isTransitioning:R},D=X?e:void 0,L;typeof r=="function"?L=r(j):L=[r,X?"active":null,J?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(j):o;return U.createElement(Sr,{...d,"aria-current":D,className:L,ref:m,style:B,to:l,viewTransition:u},typeof h=="function"?h(j):h)});nN.displayName="NavLink";var rN=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=zf,action:u,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:y,..._},E)=>{let x=lN(),b=uN(u,{relative:d}),R=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&HS.test(u),N=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let W=V.nativeEvent.submitter,X=(W==null?void 0:W.getAttribute("formmethod"))||l;x(W||V.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:i,state:o,relative:d,preventScrollReset:m,viewTransition:y})};return U.createElement("form",{ref:E,method:R,action:b,onSubmit:r?h:N,..._,"data-discover":!P&&t==="render"?"true":void 0})});rN.displayName="Form";function iN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(t){let e=U.useContext(fu);return jt(e,iN(t)),e}function sN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=FS(),h=Yi(),d=Fh(t,{relative:o});return U.useCallback(m=>{if(LO(m,e)){m.preventDefault();let y=n!==void 0?n:Qc(h)===Qc(d);u(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,u,d,n,r,e,t,i,o,l])}var oN=0,aN=()=>`__${String(++oN)}__`;function lN(){let{router:t}=WS("useSubmit"),{basename:e}=U.useContext(Jr),n=CO();return U.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:h,body:d}=FO(r,e);if(i.navigate===!1){let m=i.fetcherKey||aN();await t.fetch(m,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function uN(t,{relative:e}={}){let{basename:n}=U.useContext(Jr),r=U.useContext(Zr);jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Fh(t||".",{relative:e})},l=Yi();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vi([n,o.pathname])),Qc(o)}function cN(t,e={}){let n=U.useContext(LS);jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WS("useViewTransitionState"),i=Fh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=to(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=to(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lp(i.pathname,l)!=null||lp(i.pathname,o)!=null}new TextEncoder;var hN=PS();const Sc=du(hN),dN="modulepreload",fN=function(t){return"/"+t},DT={},em=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(h=>{if(h=fN(h),h in DT)return;DT[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":dN,d||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),d)return new Promise((_,E)=>{y.addEventListener("load",_),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},GS=!(typeof navigator>"u")&&navigator.product==="ReactNative",KS={timeout:GS?6e4:12e4},pN=function(t){const e={...KS,...typeof t=="string"?{url:t}:t};if(e.timeout=QS(e.timeout),e.query){const{url:n,searchParams:r}=function(i){const o=i.indexOf("?");if(o===-1)return{url:i,searchParams:new URLSearchParams};const l=i.slice(0,o),u=i.slice(o+1);if(!GS)return{url:l,searchParams:new URLSearchParams(u)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const h=new URLSearchParams;for(const d of u.split("&")){const[m,y]=d.split("=");m&&h.append(OT(m),OT(y||""))}return{url:l,searchParams:h}}(e.url);for(const[i,o]of Object.entries(e.query)){if(o!==void 0)if(Array.isArray(o))for(const u of o)r.append(i,u);else r.append(i,o);const l=r.toString();l&&(e.url=`${n}?${l}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function OT(t){return decodeURIComponent(t.replace(/\+/g," "))}function QS(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?QS(KS.timeout):{connect:e,socket:e}}const mN=/^https?:\/\//i,gN=function(t){if(!mN.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function YS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const yN=["request","response","progress","error","abort"],NT=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function XS(t,e){const n=[],r=NT.reduce((o,l)=>(o[l]=o[l]||[],o),{processOptions:[pN],validateOptions:[gN]});function i(o){const l=yN.reduce((E,x)=>(E[x]=function(){const b=Object.create(null);let R=0;return{publish:function(P){for(const N in b)b[N](P)},subscribe:function(P){const N=R++;return b[N]=P,function(){delete b[N]}}}}(),E),{}),u=(E=>function(x,b,...R){const P=x==="onError";let N=b;for(let V=0;V<E[x].length&&(N=(0,E[x][V])(N,...R),!P||N);V++);return N})(r),h=u("processOptions",o);u("validateOptions",h);const d={options:h,channels:l,applyMiddleware:u};let m;const y=l.request.subscribe(E=>{m=e(E,(x,b)=>((R,P,N)=>{let V=R,W=P;if(!V)try{W=u("onResponse",P,N)}catch(X){W=null,V=X}V=V&&u("onError",V,N),V?l.error.publish(V):W&&l.response.publish(W)})(x,b,E))});l.abort.subscribe(()=>{y(),m&&m.abort()});const _=u("onReturn",l,d);return _===l&&l.request.publish(d),_}return i.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return NT.forEach(l=>{o[l]&&r[l].push(o[l])}),n.push(o),i},i.clone=()=>XS(n,e),t.forEach(i.use),i}var MT,LT,vN=YS(function(){if(LT)return MT;LT=1;var t=function(n){return n.replace(/^\s+|\s+$/g,"")},e=function(n){return Object.prototype.toString.call(n)==="[object Array]"};return MT=function(n){if(!n)return{};for(var r=Object.create(null),i=t(n).split(`
`),o=0;o<i.length;o++){var l=i[o],u=l.indexOf(":"),h=t(l.slice(0,u)).toLowerCase(),d=t(l.slice(u+1));typeof r[h]>"u"?r[h]=d:e(r[h])?r[h].push(d):r[h]=[r[h],d]}return r}}()),hh,dh,jl,fh,Ti,ph,mh,vS;let nv=(vS=class{constructor(){le(this,"onabort");le(this,"onerror");le(this,"onreadystatechange");le(this,"ontimeout");le(this,"readyState",0);le(this,"response");le(this,"responseText","");le(this,"responseType","");le(this,"status");le(this,"statusText");le(this,"withCredentials");ge(this,hh);ge(this,dh);ge(this,jl);ge(this,fh,{});ge(this,Ti);ge(this,ph,{});ge(this,mh)}open(e,n,r){var i;pe(this,hh,e),pe(this,dh,n),pe(this,jl,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),pe(this,Ti,void 0)}abort(){M(this,Ti)&&M(this,Ti).abort()}getAllResponseHeaders(){return M(this,jl)}setRequestHeader(e,n){M(this,fh)[e]=n}setInit(e,n=!0){pe(this,ph,e),pe(this,mh,n)}send(e){const n=this.responseType!=="arraybuffer",r={...M(this,ph),method:M(this,hh),headers:M(this,fh),body:e};typeof AbortController=="function"&&M(this,mh)&&(pe(this,Ti,new AbortController),typeof EventTarget<"u"&&M(this,Ti).signal instanceof EventTarget&&(r.signal=M(this,Ti).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(M(this,dh),r).then(i=>{var o;return i.headers.forEach((l,u)=>{pe(this,jl,M(this,jl)+`${u}: ${l}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(o=this.onreadystatechange)==null||o.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var o;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(o=this.onreadystatechange)==null||o.call(this)}).catch(i=>{var o,l;i.name!=="AbortError"?(o=this.onerror)==null||o.call(this,i):(l=this.onabort)==null||l.call(this)})}},hh=new WeakMap,dh=new WeakMap,jl=new WeakMap,fh=new WeakMap,Ti=new WeakMap,ph=new WeakMap,mh=new WeakMap,vS);const rv=typeof XMLHttpRequest=="function"?"xhr":"fetch",wN=rv==="xhr"?XMLHttpRequest:nv,_N=(t,e)=>{const n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},o=t.applyMiddleware("interceptRequest",void 0,{adapter:rv,context:t});if(o){const b=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(b)}}let l=new wN;l instanceof nv&&typeof r.fetch=="object"&&l.setInit(r.fetch,r.useAbortSignal??!0);const u=r.headers,h=r.timeout;let d=!1,m=!1,y=!1;if(l.onerror=b=>{x(l instanceof nv?b instanceof Error?b:new Error(`Request error while attempting to reach is ${r.url}`,{cause:b}):new Error(`Request error while attempting to reach is ${r.url}${b.lengthComputable?`(${b.loaded} of ${b.total} bytes transferred)`:""}`))},l.ontimeout=b=>{x(new Error(`Request timeout while attempting to reach ${r.url}${b.lengthComputable?`(${b.loaded} of ${b.total} bytes transferred)`:""}`))},l.onabort=()=>{E(!0),d=!0},l.onreadystatechange=function(){h&&(E(),i.socket=setTimeout(()=>_("ESOCKETTIMEDOUT"),h.socket)),!d&&l&&l.readyState===4&&l.status!==0&&function(){if(!(d||m||y)){if(l.status===0)return void x(new Error("Unknown XHR error"));E(),m=!0,e(null,{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:r.url,method:r.method,headers:vN(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText})}}()},l.open(r.method,r.url,!0),l.withCredentials=!!r.withCredentials,u&&l.setRequestHeader)for(const b in u)u.hasOwnProperty(b)&&l.setRequestHeader(b,u[b]);return r.rawBody&&(l.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:rv,request:l,context:t}),l.send(r.body||null),h&&(i.connect=setTimeout(()=>_("ETIMEDOUT"),h.connect)),{abort:function(){d=!0,l&&l.abort()}};function _(b){y=!0,l.abort();const R=new Error(b==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);R.code=b,t.channels.error.publish(R)}function E(b){(b||d||l&&l.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(b){if(m)return;E(!0),m=!0,l=null;const R=b||new Error(`Network error while attempting to reach ${r.url}`);R.isNetworkError=!0,R.request=r,e(R)}},EN=(t=[],e=_N)=>XS(t,e);var TN={},VT,jT,FT,$T,UT,yy={exports:{}};UT||(UT=1,function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,l=0;r[0].replace(/%[a-zA-Z%]/g,u=>{u!=="%%"&&(o++,u==="%c"&&(l=o))}),r.splice(l,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=TN.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=($T?FT:($T=1,FT=function(r){function i(u){let h,d,m,y=null;function _(...E){if(!_.enabled)return;const x=_,b=Number(new Date),R=b-(h||b);x.diff=R,x.prev=h,x.curr=b,h=b,E[0]=i.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let P=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(N,V)=>{if(N==="%%")return"%";P++;const W=i.formatters[V];if(typeof W=="function"){const X=E[P];N=W.call(x,X),E.splice(P,1),P--}return N}),i.formatArgs.call(x,E),(x.log||i.log).apply(x,E)}return _.namespace=u,_.useColors=i.useColors(),_.color=i.selectColor(u),_.extend=o,_.destroy=i.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(d!==i.namespaces&&(d=i.namespaces,m=i.enabled(u)),m),set:E=>{y=E}}),typeof i.init=="function"&&i.init(_),_}function o(u,h){const d=i(this.namespace+(typeof h>"u"?":":h)+u);return d.log=this.log,d}function l(u,h){let d=0,m=0,y=-1,_=0;for(;d<u.length;)if(m<h.length&&(h[m]===u[d]||h[m]==="*"))h[m]==="*"?(y=m,_=d,m++):(d++,m++);else{if(y===-1)return!1;m=y+1,_++,d=_}for(;m<h.length&&h[m]==="*";)m++;return m===h.length}return i.debug=i,i.default=i,i.coerce=function(u){return u instanceof Error?u.stack||u.message:u},i.disable=function(){const u=[...i.names,...i.skips.map(h=>"-"+h)].join(",");return i.enable(""),u},i.enable=function(u){i.save(u),i.namespaces=u,i.names=[],i.skips=[];const h=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of h)d[0]==="-"?i.skips.push(d.slice(1)):i.names.push(d)},i.enabled=function(u){for(const h of i.skips)if(l(u,h))return!1;for(const h of i.names)if(l(u,h))return!0;return!1},i.humanize=function(){if(jT)return VT;jT=1;var u=1e3,h=60*u,d=60*h,m=24*d,y=7*m;function _(E,x,b,R){var P=x>=1.5*b;return Math.round(E/b)+" "+R+(P?"s":"")}return VT=function(E,x){x=x||{};var b,R,P=typeof E;if(P==="string"&&E.length>0)return function(N){if(!((N=String(N)).length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(V){var W=parseFloat(V[1]);switch((V[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*W;case"weeks":case"week":case"w":return W*y;case"days":case"day":case"d":return W*m;case"hours":case"hour":case"hrs":case"hr":case"h":return W*d;case"minutes":case"minute":case"mins":case"min":case"m":return W*h;case"seconds":case"second":case"secs":case"sec":case"s":return W*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return W;default:return}}}}(E);if(P==="number"&&isFinite(E))return x.long?(b=E,(R=Math.abs(b))>=m?_(b,R,m,"day"):R>=d?_(b,R,d,"hour"):R>=h?_(b,R,h,"minute"):R>=u?_(b,R,u,"second"):b+" ms"):function(N){var V=Math.abs(N);return V>=m?Math.round(N/m)+"d":V>=d?Math.round(N/d)+"h":V>=h?Math.round(N/h)+"m":V>=u?Math.round(N/u)+"s":N+"ms"}(E);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(E))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(u=>{i[u]=r[u]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return i.colors[Math.abs(h)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(yy,yy.exports)),yy.exports;const bN=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function BT(t){return Object.prototype.toString.call(t)==="[object Object]"}function xN(t){if(BT(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(BT(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const SN=["boolean","string","number"];function IN(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||bN(e)||SN.indexOf(typeof e)===-1&&!Array.isArray(e)&&!xN(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function CN(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:e(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Ic={};typeof globalThis<"u"?Ic=globalThis:typeof window<"u"?Ic=window:typeof global<"u"?Ic=global:typeof self<"u"&&(Ic=self);var AN=Ic;function PN(t={}){const e=t.implementation||AN.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(o=>i.error(o)),n.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),n.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function RN(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;function r(i){return o=>{const l=o.lengthComputable?o.loaded/o.total*100:-1;n.channels.progress.publish({stage:i,percent:l,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var JS=(t,e,n)=>(n.method==="GET"||n.method==="HEAD")&&(t.isNetworkError||!1);function kN(t){return 100*Math.pow(2,t)+100*Math.random()}const uw=(t={})=>(e=>{const n=e.maxRetries||5,r=e.retryDelay||kN,i=e.shouldRetry;return{onError:(o,l)=>{const u=l.options,h=u.maxRetries||n,d=u.retryDelay||r,m=u.shouldRetry||i,y=u.attemptNumber||0;if((_=u.body)!==null&&typeof _=="object"&&typeof _.pipe=="function"||!m(o,y,u)||y>=h)return o;var _;const E=Object.assign({},l,{options:Object.assign({},u,{attemptNumber:y+1})});return setTimeout(()=>l.channels.request.publish(E),d(y)),null}}})({shouldRetry:JS,...t});uw.shouldRetry=JS;var iv=function(t,e){return iv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},iv(t,e)};function Xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function DN(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{d(r.next(m))}catch(y){l(y)}}function h(m){try{d(r.throw(m))}catch(y){l(y)}}function d(m){m.done?o(m.value):i(m.value).then(u,h)}d((r=r.apply(t,e||[])).next())})}function ZS(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(d){return function(m){return h([d,m])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(m){d=[6,m],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Kl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function Ui(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Rl(t){return this instanceof Rl?(this.v=t,this):new Rl(t)}function ON(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(E){return function(x){return Promise.resolve(x).then(E,y)}}function u(E,x){r[E]&&(i[E]=function(b){return new Promise(function(R,P){o.push([E,b,R,P])>1||h(E,b)})},x&&(i[E]=x(i[E])))}function h(E,x){try{d(r[E](x))}catch(b){_(o[0][3],b)}}function d(E){E.value instanceof Rl?Promise.resolve(E.value.v).then(m,y):_(o[0][2],E)}function m(E){h("next",E)}function y(E){h("throw",E)}function _(E,x){E(x),o.shift(),o.length&&h(o[0][0],o[0][1])}}function NN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Kl=="function"?Kl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(u,h){l=t[o](l),i(u,h,l.done,l.value)})}}function i(o,l,u,h){Promise.resolve(h).then(function(d){o({value:d,done:u})},l)}}function ct(t){return typeof t=="function"}function cw(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vy=cw(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function up(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $h=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=Kl(l),h=u.next();!h.done;h=u.next()){var d=h.value;d.remove(this)}}catch(b){e={error:b}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}else l.remove(this);var m=this.initialTeardown;if(ct(m))try{m()}catch(b){o=b instanceof vy?b.errors:[b]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var _=Kl(y),E=_.next();!E.done;E=_.next()){var x=E.value;try{zT(x)}catch(b){o=o??[],b instanceof vy?o=Ui(Ui([],$i(o)),$i(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}}if(o)throw new vy(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)zT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&up(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&up(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),eI=$h.EMPTY;function tI(t){return t instanceof $h||t&&"closed"in t&&ct(t.remove)&&ct(t.add)&&ct(t.unsubscribe)}function zT(t){ct(t)?t():t.unsubscribe()}var MN={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nI={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ui([t,e],$i(n)))},clearTimeout:function(t){var e=nI.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function rI(t){nI.setTimeout(function(){throw t})}function qT(){}function Hf(t){t()}var hw=function(t){Xi(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,tI(n)&&n.add(r)):r.destination=jN,r}return e.create=function(n,r,i){return new Ql(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}($h),LN=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){kf(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){kf(r)}else kf(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){kf(n)}},t}(),Ql=function(t){Xi(e,t);function e(n,r,i){var o=t.call(this)||this,l;return ct(n)||!n?l={next:n??void 0,error:r??void 0,complete:i??void 0}:l=n,o.destination=new LN(l),o}return e}(hw);function kf(t){rI(t)}function VN(t){throw t}var jN={closed:!0,next:qT,error:VN,complete:qT},dw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function tm(t){return t}function FN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return iI(t)}function iI(t){return t.length===0?tm:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var _t=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=UN(e)?e:new Ql(e,n,r);return Hf(function(){var l=i,u=l.operator,h=l.source;o.add(u?u.call(o,h):h?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=HT(n),new n(function(i,o){var l=new Ql({next:function(u){try{e(u)}catch(h){o(h),l.unsubscribe()}},error:o,complete:i});r.subscribe(l)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[dw]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return iI(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=HT(e),new e(function(r,i){var o;n.subscribe(function(l){return o=l},function(l){return i(l)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function HT(t){var e;return(e=t??MN.Promise)!==null&&e!==void 0?e:Promise}function $N(t){return t&&ct(t.next)&&ct(t.error)&&ct(t.complete)}function UN(t){return t&&t instanceof hw||$N(t)&&tI(t)}function BN(t){return ct(t==null?void 0:t.lift)}function ei(t){return function(e){if(BN(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function no(t,e,n,r,i){return new zN(t,e,n,r,i)}var zN=function(t){Xi(e,t);function e(n,r,i,o,l,u){var h=t.call(this,n)||this;return h.onFinalize=l,h.shouldUnsubscribe=u,h._next=r?function(d){try{r(d)}catch(m){n.error(m)}}:t.prototype._next,h._error=o?function(d){try{o(d)}catch(m){n.error(m)}finally{this.unsubscribe()}}:t.prototype._error,h._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:t.prototype._complete,h}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(hw),qN=cw(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),fw=function(t){Xi(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new WT(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new qN},e.prototype.next=function(n){var r=this;Hf(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=Kl(r.currentObservers),u=l.next();!u.done;u=l.next()){var h=u.value;h.next(n)}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Hf(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Hf(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,l=i.isStopped,u=i.observers;return o||l?eI:(this.currentObservers=null,u.push(n),new $h(function(){r.currentObservers=null,up(u,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,l=r.isStopped;i?n.error(o):l&&n.complete()},e.prototype.asObservable=function(){var n=new _t;return n.source=this,n},e.create=function(n,r){return new WT(n,r)},e}(_t),WT=function(t){Xi(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:eI},e}(fw),pw={now:function(){return(pw.delegate||Date).now()},delegate:void 0},HN=function(t){Xi(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=pw);var o=t.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return e.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,l=r._infiniteTimeWindow,u=r._timestampProvider,h=r._windowTime;i||(o.push(n),!l&&o.push(u.now()+h)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,l=i._buffer,u=l.slice(),h=0;h<u.length&&!n.closed;h+=o?1:2)n.next(u[h]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,l=n._infiniteTimeWindow,u=(l?1:2)*r;if(r<1/0&&u<o.length&&o.splice(0,o.length-u),!l){for(var h=i.now(),d=0,m=1;m<o.length&&o[m]<=h;m+=2)d=m;d&&o.splice(0,d+1)}},e}(fw),WN=function(t){Xi(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}($h),GT={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Ui([t,e],$i(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},GN=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,l=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(l,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(l,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),GT.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&GT.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(l){i=!0,o=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,up(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(WN),KT=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=pw.now,t}(),KN=function(t){Xi(e,t);function e(n,r){r===void 0&&(r=KT.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(KT),QN=new KN(GN),YN=QN,sI=new _t(function(t){return t.complete()});function XN(t){return t&&ct(t.schedule)}function mw(t){return t[t.length-1]}function JN(t){return ct(mw(t))?t.pop():void 0}function gw(t){return XN(mw(t))?t.pop():void 0}function ZN(t,e){return typeof mw(t)=="number"?t.pop():e}var oI=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function aI(t){return ct(t==null?void 0:t.then)}function lI(t){return ct(t[dw])}function uI(t){return Symbol.asyncIterator&&ct(t==null?void 0:t[Symbol.asyncIterator])}function cI(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function eM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hI=eM();function dI(t){return ct(t==null?void 0:t[hI])}function fI(t){return ON(this,arguments,function(){var n,r,i,o;return ZS(this,function(l){switch(l.label){case 0:n=t.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,Rl(n.read())];case 3:return r=l.sent(),i=r.value,o=r.done,o?[4,Rl(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,Rl(i)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function pI(t){return ct(t==null?void 0:t.getReader)}function ti(t){if(t instanceof _t)return t;if(t!=null){if(lI(t))return tM(t);if(oI(t))return nM(t);if(aI(t))return rM(t);if(uI(t))return mI(t);if(dI(t))return iM(t);if(pI(t))return sM(t)}throw cI(t)}function tM(t){return new _t(function(e){var n=t[dw]();if(ct(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nM(t){return new _t(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function rM(t){return new _t(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,rI)})}function iM(t){return new _t(function(e){var n,r;try{for(var i=Kl(t),o=i.next();!o.done;o=i.next()){var l=o.value;if(e.next(l),e.closed)return}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function mI(t){return new _t(function(e){oM(t,e).catch(function(n){return e.error(n)})})}function sM(t){return mI(fI(t))}function oM(t,e){var n,r,i,o;return DN(this,void 0,void 0,function(){var l,u;return ZS(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),n=NN(t),h.label=1;case 1:return[4,n.next()];case 2:if(r=h.sent(),!!r.done)return[3,4];if(l=r.value,e.next(l),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=h.sent(),i={error:u},[3,11];case 6:return h.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ia(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function gI(t,e){return e===void 0&&(e=0),ei(function(n,r){n.subscribe(no(r,function(i){return ia(r,t,function(){return r.next(i)},e)},function(){return ia(r,t,function(){return r.complete()},e)},function(i){return ia(r,t,function(){return r.error(i)},e)}))})}function yI(t,e){return e===void 0&&(e=0),ei(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function aM(t,e){return ti(t).pipe(yI(e),gI(e))}function lM(t,e){return ti(t).pipe(yI(e),gI(e))}function uM(t,e){return new _t(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cM(t,e){return new _t(function(n){var r;return ia(n,e,function(){r=t[hI](),ia(n,e,function(){var i,o,l;try{i=r.next(),o=i.value,l=i.done}catch(u){n.error(u);return}l?n.complete():n.next(o)},0,!0)}),function(){return ct(r==null?void 0:r.return)&&r.return()}})}function vI(t,e){if(!t)throw new Error("Iterable cannot be null");return new _t(function(n){ia(n,e,function(){var r=t[Symbol.asyncIterator]();ia(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function hM(t,e){return vI(fI(t),e)}function dM(t,e){if(t!=null){if(lI(t))return aM(t,e);if(oI(t))return uM(t,e);if(aI(t))return lM(t,e);if(uI(t))return vI(t,e);if(dI(t))return cM(t,e);if(pI(t))return hM(t,e)}throw cI(t)}function Uh(t,e){return e?dM(t,e):ti(t)}function nm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gw(t);return Uh(t,n)}function wI(t,e){var n=ct(t)?t:function(){return t},r=function(i){return i.error(n())};return new _t(r)}function fM(t){return!!t&&(t instanceof _t||ct(t.lift)&&ct(t.subscribe))}var _I=cw(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function $e(t,e){return new Promise(function(n,r){var i=!1,o;t.subscribe({next:function(l){o=l,i=!0},error:r,complete:function(){i?n(o):r(new _I)}})})}function wy(t,e){return new Promise(function(n,r){var i=new Ql({next:function(o){n(o),i.unsubscribe()},error:r,complete:function(){r(new _I)}});t.subscribe(i)})}function pM(t){return t instanceof Date&&!isNaN(t)}function hn(t,e){return ei(function(n,r){var i=0;n.subscribe(no(r,function(o){r.next(t.call(e,o,i++))}))})}var mM=Array.isArray;function gM(t,e){return mM(e)?t.apply(void 0,Ui([],$i(e))):t(e)}function yM(t){return hn(function(e){return gM(t,e)})}function vM(t,e,n){return n===void 0&&(n=tm),function(r){QT(e,function(){for(var i=t.length,o=new Array(i),l=i,u=i,h=function(m){QT(e,function(){var y=Uh(t[m],e),_=!1;y.subscribe(no(r,function(E){o[m]=E,_||(_=!0,u--),u||r.next(n(o.slice()))},function(){--l||r.complete()}))},r)},d=0;d<i;d++)h(d)})}}function QT(t,e,n){e()}function wM(t,e,n,r,i,o,l,u){var h=[],d=0,m=0,y=!1,_=function(){y&&!h.length&&!d&&e.complete()},E=function(b){return d<r?x(b):h.push(b)},x=function(b){d++;var R=!1;ti(n(b,m++)).subscribe(no(e,function(P){e.next(P)},function(){R=!0},void 0,function(){if(R)try{d--;for(var P=function(){var N=h.shift();l||x(N)};h.length&&d<r;)P();_()}catch(N){e.error(N)}}))};return t.subscribe(no(e,E,function(){y=!0,_()})),function(){}}function Bh(t,e,n){return n===void 0&&(n=1/0),ct(e)?Bh(function(r,i){return hn(function(o,l){return e(r,o,i,l)})(ti(t(r,i)))},n):(typeof e=="number"&&(n=e),ei(function(r,i){return wM(r,i,t,n)}))}function EI(t){return t===void 0&&(t=1/0),Bh(tm,t)}function _M(){return EI(1)}function TI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _M()(Uh(t,gw(t)))}function bI(t){return new _t(function(e){ti(t()).subscribe(e)})}function EM(t,e,n){return n===void 0&&(n=YN),new _t(function(r){var i=pM(t)?1e3-n.now():t;i<0&&(i=0);var o=0;return n.schedule(function(){r.closed||(r.next(o++),r.complete())},i)})}function TM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gw(t),r=ZN(t,1/0),i=t;return i.length?i.length===1?ti(i[0]):EI(r)(Uh(i,n)):sI}var bM=Array.isArray;function xM(t){return t.length===1&&bM(t[0])?t[0]:t}function pu(t,e){return ei(function(n,r){var i=0;n.subscribe(no(r,function(o){return t.call(e,o,i++)&&r.next(o)}))})}function yw(t){return ei(function(e,n){var r=null,i=!1,o;r=e.subscribe(no(n,void 0,void 0,function(l){o=ti(t(l,yw(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function xI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=JN(t);return n?FN(xI.apply(void 0,Ui([],$i(t))),yM(n)):ei(function(r,i){vM(Ui([r],$i(xM(t))))(i)})}function SM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xI.apply(void 0,Ui([],$i(t)))}function SI(t){return ei(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function II(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new fw}:e,r=t.resetOnError,i=r===void 0?!0:r,o=t.resetOnComplete,l=o===void 0?!0:o,u=t.resetOnRefCountZero,h=u===void 0?!0:u;return function(d){var m,y,_,E=0,x=!1,b=!1,R=function(){y==null||y.unsubscribe(),y=void 0},P=function(){R(),m=_=void 0,x=b=!1},N=function(){var V=m;P(),V==null||V.unsubscribe()};return ei(function(V,W){E++,!b&&!x&&R();var X=_=_??n();W.add(function(){E--,E===0&&!b&&!x&&(y=_y(N,h))}),X.subscribe(W),!m&&E>0&&(m=new Ql({next:function(J){return X.next(J)},error:function(J){b=!0,R(),y=_y(P,i,J),X.error(J)},complete:function(){x=!0,R(),y=_y(P,l),X.complete()}}),ti(V).subscribe(m))})(d)}}function _y(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new Ql({next:function(){i.unsubscribe(),t()}});return ti(e.apply(void 0,Ui([],$i(n)))).subscribe(i)}}function IM(t,e,n){var r,i=!1;return r=t,II({connector:function(){return new HN(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function CM(t,e,n){var r=ct(t)||e||n?{next:t,error:e,complete:n}:t;return r?ei(function(i,o){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var u=!0;i.subscribe(no(o,function(h){var d;(d=r.next)===null||d===void 0||d.call(r,h),o.next(h)},function(){var h;u=!1,(h=r.complete)===null||h===void 0||h.call(r),o.complete()},function(h){var d;u=!1,(d=r.error)===null||d===void 0||d.call(r,h),o.error(h)},function(){var h,d;u&&((h=r.unsubscribe)===null||h===void 0||h.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):tm}function CI(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var AI={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},vw={0:8203,1:8204,2:8205,3:65279},AM=new Array(4).fill(String.fromCodePoint(vw[0])).join("");function PM(t){let e=JSON.stringify(t);return`${AM}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(vw[i])).join("")}).join("")}`}function RM(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function kM(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function dG(t,e,n="auto"){return n===!0||n==="auto"&&(RM(t)||kM(t))?t:`${t}${PM(e)}`}Object.fromEntries(Object.entries(vw).map(t=>t.reverse()));Object.fromEntries(Object.entries(AI).map(t=>t.reverse()));var DM=`${Object.values(AI).map(t=>`\\u{${t.toString(16)}}`).join("")}`,YT=new RegExp(`[${DM}]{4,}`,"gu");function OM(t){var e;return{cleaned:t.replace(YT,""),encoded:((e=t.match(YT))==null?void 0:e[0])||""}}function NM(t){return t&&JSON.parse(OM(JSON.stringify(t)).cleaned)}function MM(t){return NM(t)}const LM="drafts",VM="versions",Yl=".",cp=`${LM}${Yl}`,PI=`${VM}${Yl}`;function rm(t){return t.startsWith(cp)}function im(t){return t.startsWith(PI)}function RI(t){if(im(t)){const e=sm(t);return cp+e}return rm(t)?t:cp+t}function zh(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${PI}${e}${Yl}${sm(t)}`}function kI(t){if(!im(t))return;const[e,n,...r]=t.split(Yl);return n}function sm(t){return im(t)?t.split(Yl).slice(2).join(Yl):rm(t)?t.slice(cp.length):t}let jM=t=>crypto.getRandomValues(new Uint8Array(t)),FM=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let l="";for(;;){let u=n(i),h=i|0;for(;h--;)if(l+=t[u[h]&r]||"",l.length===o)return l}}},$M=(t,e=21)=>FM(t,e,jM);const XT=/\r\n|[\n\r\u2028\u2029]/;function UM(t,e,n){const r=t.split(XT),i={start:JT(e.start,r),end:e.end?JT(e.end,r):void 0},{start:o,end:l,markerLines:u}=BM(i,r),h=`${l}`.length;return t.split(XT,l).slice(o,l).map((d,m)=>{const y=o+1+m,_=` ${` ${y}`.slice(-h)} |`,E=u[y],x=!u[y+1];if(!E)return` ${_}${d.length>0?` ${d}`:""}`;let b="";if(Array.isArray(E)){const R=d.slice(0,Math.max(E[0]-1,0)).replace(/[^\t]/g," "),P=E[1]||1;b=[`
 `,_.replace(/\d/g," ")," ",R,"^".repeat(P)].join(""),x&&n&&(b+=" "+n)}return[">",_,d.length>0?` ${d}`:"",b].join("")}).join(`
`)}function BM(t,e){const n={...t.start},r={...n,...t.end},i=2,o=3,l=n.line??-1,u=n.column??0,h=r.line,d=r.column;let m=Math.max(l-(i+1),0),y=Math.min(e.length,h+o);l===-1&&(m=0),h===-1&&(y=e.length);const _=h-l,E={};if(_)for(let x=0;x<=_;x++){const b=x+l;if(!u)E[b]=!0;else if(x===0){const R=e[b-1].length;E[b]=[u,R-u+1]}else if(x===_)E[b]=[0,d];else{const R=e[b-x].length;E[b]=[0,R]}}else u===d?u?E[l]=[u,0]:E[l]=!0:E[l]=[u,d-u];return{start:m,end:y,markerLines:E}}function JT(t,e){var r;let n=0;for(let i=0;i<e.length;i++){const o=e[i].length+1;if(n+o>t)return{line:i+1,column:t-n};n+=o}return{line:e.length,column:((r=e[e.length-1])==null?void 0:r.length)??0}}const Ey=5;let zM=class extends Error{constructor(n,r){const i=DI(n,r);super(i.message);le(this,"response");le(this,"statusCode",400);le(this,"responseBody");le(this,"details");Object.assign(this,i)}},qM=class extends Error{constructor(n){const r=DI(n);super(r.message);le(this,"response");le(this,"statusCode",500);le(this,"responseBody");le(this,"details");Object.assign(this,r)}};function DI(t,e){var o,l;const n=t.body,r={response:t,statusCode:t.statusCode,responseBody:GM(n,t),message:"",details:void 0};if(!CI(n))return r.message=Ty(t,n),r;const i=n.error;if(typeof i=="string"&&typeof n.message=="string")return r.message=`${i} - ${n.message}`,r;if(typeof i!="object"||i===null)return typeof i=="string"?r.message=i:typeof n.message=="string"?r.message=n.message:r.message=Ty(t,n),r;if(HM(i)||WM(i)){const u=i.items||[],h=u.slice(0,Ey).map(m=>{var y;return(y=m.error)==null?void 0:y.description}).filter(Boolean);let d=h.length?`:
- ${h.join(`
- `)}`:"";return u.length>Ey&&(d+=`
...and ${u.length-Ey} more`),r.message=`${i.description}${d}`,r.details=n.error,r}if(OI(i)){const u=(l=(o=e==null?void 0:e.options)==null?void 0:o.query)==null?void 0:l.tag;return r.message=NI(i,u),r.details=n.error,r}return"description"in i&&typeof i.description=="string"?(r.message=i.description,r.details=i,r):(r.message=Ty(t,n),r)}function HM(t){return"type"in t&&t.type==="mutationError"&&"description"in t&&typeof t.description=="string"}function WM(t){return"type"in t&&t.type==="actionError"&&"description"in t&&typeof t.description=="string"}function OI(t){return CI(t)&&t.type==="queryParseError"&&typeof t.query=="string"&&typeof t.start=="number"&&typeof t.end=="number"}function NI(t,e){const{query:n,start:r,end:i,description:o}=t;if(!n||typeof r>"u")return`GROQ query parse error: ${o}`;const l=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${UM(n,{start:r,end:i},o)}${l}`}function Ty(t,e){const n=typeof e=="string"?` (${KM(e,100)})`:"",r=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${r}${n}`}function GM(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}function KM(t,e){return t.length>e?`${t.slice(0,e)}…`:t}let QM=class extends Error{constructor({projectId:n}){super("CorsOriginError");le(this,"projectId");le(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}};const YM={onResponse:(t,e)=>{if(t.statusCode>=500)throw new qM(t);if(t.statusCode>=400)throw new zM(t,e);return t}};function XM(t={}){const e={},n=r=>t.ignoreWarnings===void 0?!1:(Array.isArray(t.ignoreWarnings)?t.ignoreWarnings:[t.ignoreWarnings]).some(i=>typeof i=="string"?r.includes(i):i instanceof RegExp?i.test(r):!1);return{onResponse:r=>{const i=r.headers["x-sanity-warning"],o=Array.isArray(i)?i:[i];for(const l of o)!l||e[l]||n(l)||(e[l]=!0,console.warn(l));return r}}}function ZT(t,e={}){return EN([uw({shouldRetry:JM}),...t,XM(e),IN(),CN(),RN(),YM,PN({implementation:_t})])}function JM(t,e,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),o=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||i)&&o?!0:uw.shouldRetry(t,e,n)}const ZM="https://www.sanity.io/help/";function ww(t){return ZM+t}const eb=["image","file"],tb=["before","after","replace"],MI=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},eL=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},tL=t=>{if(eb.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${eb.join(", ")}`)},Mc=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},hp=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},Xl=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);hp(t,e._id)},nL=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},LI=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);nL(t,e._type)},rL=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},iL=(t,e,n)=>{const r="insert(at, selector, items)";if(tb.indexOf(t)===-1){const i=tb.map(o=>`"${o}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},ga=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},VI=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},jI=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},$r=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function sL(t){let e=!1,n;return(...r)=>(e||(n=t(...r),e=!0),n)}const ho=t=>sL((...e)=>console.warn(t.join(" "),...e)),oL=ho(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),aL=ho(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),lL=ho(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),uL=ho(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),cL=ho(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${ww("js-client-browser-token")} for more information and how to hide this warning.`]),hL=ho(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),dL=ho(["Using the Sanity client without specifying an API version is deprecated.",`See ${ww("js-client-api-version")}`]),fL=ho(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),pL="apicdn.sanity.io",Lc={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},mL=["localhost","127.0.0.1","0.0.0.0"],gL=t=>mL.indexOf(t)!==-1;function yL(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function FI(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const $I=(t,e)=>{const n={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Lc.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};n.apiVersion||dL();const r={...Lc,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const _=ww("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${_}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&jI(r),typeof r.perspective<"u"&&FI(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,l=o&&gL(window.location.hostname),u=!!r.token;r.withCredentials&&u&&(hL(),r.withCredentials=!1),o&&l&&u&&r.ignoreBrowserTokenWarning!==!0?cL():typeof r.useCdn>"u"&&aL(),i&&eL(r.projectId),r.dataset&&MI(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?VI(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Lc.apiHost,r.useCdn===!0&&r.withCredentials&&oL(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,yL(r.apiVersion);const h=r.apiHost.split("://",2),d=h[0],m=h[1],y=r.isDefaultApi?pL:m;return i?(r.url=`${d}://${r.projectId}.${m}/v${r.apiVersion}`,r.cdnUrl=`${d}://${r.projectId}.${y}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};let UI=class extends Error{constructor(){super(...arguments);le(this,"name","ConnectionFailedError")}},vL=class extends Error{constructor(n,r,i={}){super(n,i);le(this,"name","DisconnectError");le(this,"reason");this.reason=r}},wL=class extends Error{constructor(n,r){super(n);le(this,"name","ChannelError");le(this,"data");this.data=r}},_L=class extends Error{constructor(n,r,i={}){super(n,i);le(this,"name","MessageError");le(this,"data");this.data=r}},nb=class extends Error{constructor(){super(...arguments);le(this,"name","MessageParseError")}};const EL=["channelError","disconnect"];function BI(t,e){return bI(()=>{const n=t();return fM(n)?n:nm(n)}).pipe(Bh(n=>TL(n,e)))}function TL(t,e){return new _t(n=>{const r=e.includes("open"),i=e.includes("reconnect");function o(d){if("data"in d){const[m,y]=rb(d);n.error(m?new nb("Unable to parse EventSource error message",{cause:y}):new _L((y==null?void 0:y.data).message,y));return}t.readyState===t.CLOSED?n.error(new UI("EventSource connection failed")):i&&n.next({type:"reconnect"})}function l(){n.next({type:"open"})}function u(d){var _;const[m,y]=rb(d);if(m){n.error(new nb("Unable to parse EventSource message",{cause:m}));return}if(d.type==="channelError"){const E=new URL(t.url).searchParams.get("tag");n.error(new wL(bL(y==null?void 0:y.data,E),y.data));return}if(d.type==="disconnect"){n.error(new vL(`Server disconnected client: ${((_=y.data)==null?void 0:_.reason)||"unknown error"}`));return}n.next({type:d.type,id:d.lastEventId,...y.data?{data:y.data}:{}})}t.addEventListener("error",o),r&&t.addEventListener("open",l);const h=[...new Set([...EL,...e])].filter(d=>d!=="error"&&d!=="open"&&d!=="reconnect");return h.forEach(d=>t.addEventListener(d,u)),()=>{t.removeEventListener("error",o),r&&t.removeEventListener("open",l),h.forEach(d=>t.removeEventListener(d,u)),t.close()}})}function rb(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...xL(e)?{}:{data:e}}]}catch(e){return[e,null]}}function bL(t,e){const n=t.error;return n?OI(n)?NI(n,e):n.description?n.description:typeof n=="string"?n:JSON.stringify(n,null,2):t.message||"Unknown listener error"}function xL(t){for(const e in t)return!1;return!0}function zI(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}let qI=class{constructor(e,n={}){le(this,"selection");le(this,"operations");this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Mc("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return iL(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after",`${e}[-1]`,n)}prepend(e,n){return this.insert("before",`${e}[0]`,n)}splice(e,n,r,i){const o=typeof r>"u"||r===-1,l=n<0?n-1:n,u=o?-1:Math.max(0,n+r),h=l<0&&u>=0?"":u,d=`${e}[${l}:${h}]`;return this.insert("replace",d,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...zI(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n,r=!0){return Mc(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}};var Jo,Fl;let Vc=(Fl=class extends qI{constructor(n,r,i){super(n,r);ge(this,Jo);pe(this,Jo,i)}clone(){return new Fl(this.selection,{...this.operations},M(this,Jo))}commit(n){if(!M(this,Jo))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return M(this,Jo).mutate({patch:this.serialize()},i)}},Jo=new WeakMap,Fl);var Zo,$l;let xl=($l=class extends qI{constructor(n,r,i){super(n,r);ge(this,Zo);pe(this,Zo,i)}clone(){return new $l(this.selection,{...this.operations},M(this,Zo))}commit(n){if(!M(this,Zo))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return M(this,Zo).mutate({patch:this.serialize()},i)}},Zo=new WeakMap,$l);const HI={returnDocuments:!1};let WI=class{constructor(e=[],n){le(this,"operations");le(this,"trxId");this.operations=e,this.trxId=n}create(e){return Mc("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return Mc(n,e),Xl(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return Mc(n,e),Xl(n,e),this._add({[n]:e})}delete(e){return hp("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}};var bi,Ul;let GI=(Ul=class extends WI{constructor(n,r,i){super(n,i);ge(this,bi);pe(this,bi,r)}clone(){return new Ul([...this.operations],M(this,bi),this.trxId)}commit(n){if(!M(this,bi))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return M(this,bi).mutate(this.serialize(),Object.assign({transactionId:this.trxId},HI,n||{}))}patch(n,r){const i=typeof r=="function",o=typeof n!="string"&&n instanceof xl,l=typeof n=="object"&&("query"in n||"id"in n);if(o)return this._add({patch:n.serialize()});if(i){const u=r(new xl(n,{},M(this,bi)));if(!(u instanceof xl))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:u.serialize()})}if(l){const u=new xl(n,r||{},M(this,bi));return this._add({patch:u.serialize()})}return this._add({patch:{id:n,...r}})}},bi=new WeakMap,Ul);var Ns,Bl;let KI=(Bl=class extends WI{constructor(n,r,i){super(n,i);ge(this,Ns);pe(this,Ns,r)}clone(){return new Bl([...this.operations],M(this,Ns),this.trxId)}commit(n){if(!M(this,Ns))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return M(this,Ns).mutate(this.serialize(),Object.assign({transactionId:this.trxId},HI,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof Vc)return this._add({patch:n.serialize()});if(i){const o=r(new Vc(n,{},M(this,Ns)));if(!(o instanceof Vc))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:n,...r}})}},Ns=new WeakMap,Bl);const SL="X-Sanity-Project-ID";function IL(t,e={}){const n={};t.headers&&Object.assign(n,t.headers);const r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[SL]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const QI=({query:t,params:e={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:l,...u}=n;i&&r.append("tag",i),r.append("query",t);for(const[h,d]of Object.entries(e))d!==void 0&&r.append(`$${h}`,JSON.stringify(d));for(const[h,d]of Object.entries(u))d&&r.append(h,`${d}`);return l===!1&&r.append("returnQuery","false"),o===!1&&r.append("includeMutations","false"),`?${r}`},CL=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,AL=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:CL(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),_w=t=>t.type==="response",PL=t=>t.body,RL=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),kL=11264;function YI(t,e,n,r,i={},o={}){const l="stega"in o?{...n||{},...typeof o.stega=="boolean"?{enabled:o.stega}:o.stega||{}}:n,u=l.enabled?MM(i):i,h=o.filterResponse===!1?x=>x:x=>x.result,{cache:d,next:m,...y}={useAbortSignal:typeof o.signal<"u",resultSourceMap:l.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:o.filterResponse===!1&&o.returnQuery!==!1},_=typeof d<"u"||typeof m<"u"?{...y,fetch:{cache:d,next:m}}:y,E=ya(t,e,"query",{query:r,params:u},_);return l.enabled?E.pipe(SM(Uh(em(()=>import("./stegaEncodeSourceMap-CdSG9q2B.js"),[]).then(function(x){return x.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:x})=>x))),hn(([x,b])=>{const R=b(x.result,x.resultSourceMap,l);return h({...x,result:R})})):E.pipe(hn(h))}function om(t,e,n,r={}){const i=(()=>{if(!r.releaseId)return n;const l=kI(n);if(!l){if(rm(n))throw new Error(`The document ID (\`${n}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return zh(n,r.releaseId)}if(l!==r.releaseId)throw new Error(`The document ID (\`${n}\`) is already a version of \`${l}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return n})(),o={uri:or(t,"doc",i),json:!0,tag:r.tag,signal:r.signal};return Hh(t,e,o).pipe(pu(_w),hn(l=>l.body.documents&&l.body.documents[0]))}function XI(t,e,n,r={}){const i={uri:or(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return Hh(t,e,i).pipe(pu(_w),hn(o=>{const l=RL(o.body.documents||[],u=>u._id);return n.map(u=>l[u]||null)}))}function JI(t,e,n,r={}){return ya(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:n}},r)}function ZI(t,e,n,r){return Xl("createIfNotExists",n),am(t,e,n,"createIfNotExists",r)}function eC(t,e,n,r){return Xl("createOrReplace",n),am(t,e,n,"createOrReplace",r)}function tC(t,e,n,r,i){return Xl("createVersion",n),LI("createVersion",n),fL(),pt(t,e,{actionType:"sanity.action.document.version.create",publishedId:r,document:n},i)}function nC(t,e,n,r,i,o,l){if(!r)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!n)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");hp("createVersion",r),hp("createVersion",n);const u={actionType:"sanity.action.document.version.create",publishedId:n,baseId:r,versionId:i?zh(n,i):RI(n),ifBaseRevisionId:o};return pt(t,e,u,l)}function rC(t,e,n,r){return ya(t,e,"mutate",{mutations:[{delete:zI(n)}]},r)}function iC(t,e,n,r=!1,i){return pt(t,e,{actionType:"sanity.action.document.version.discard",versionId:n,purge:r},i)}function sC(t,e,n,r){return Xl("replaceVersion",n),LI("replaceVersion",n),pt(t,e,{actionType:"sanity.action.document.version.replace",document:n},r)}function oC(t,e,n,r,i){return pt(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:n,publishedId:r},i)}function aC(t,e,n,r){let i;n instanceof xl||n instanceof Vc?i={patch:n.serialize()}:n instanceof GI||n instanceof KI?i=n.serialize():i=n;const o=Array.isArray(i)?i:[i],l=r&&r.transactionId||void 0;return ya(t,e,"mutate",{mutations:o,transactionId:l},r)}function pt(t,e,n,r){const i=Array.isArray(n)?n:[n],o=r&&r.transactionId||void 0,l=r&&r.skipCrossDatasetReferenceValidation||void 0,u=r&&r.dryRun||void 0;return ya(t,e,"actions",{actions:i,transactionId:o,skipCrossDatasetReferenceValidation:l,dryRun:u},r)}function ya(t,e,n,r,i={}){const o=n==="mutate",l=n==="actions",u=n==="query",h=o||l?"":QI(r),d=!o&&!l&&h.length<kL,m=d?h:"",y=i.returnFirst,{timeout:_,token:E,tag:x,headers:b,returnQuery:R,lastLiveEventId:P,cacheMode:N}=i,V=or(t,n,m),W={method:d?"GET":"POST",uri:V,json:!0,body:d?void 0:r,query:o&&AL(i),timeout:_,headers:b,token:E,tag:x,returnQuery:R,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(P)?P[0]:P,cacheMode:N,canUseCdn:u,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Hh(t,e,W).pipe(pu(_w),hn(PL),hn(X=>{if(!o)return X;const J=X.results||[];if(i.returnDocuments)return y?J[0]&&J[0].document:J.map(L=>L.document);const j=y?"documentId":"documentIds",D=y?J[0]&&J[0].id:J.map(L=>L.id);return{transactionId:X.transactionId,results:J,[j]:D}}))}function am(t,e,n,r,i={}){const o={[r]:n},l=Object.assign({returnFirst:!0,returnDocuments:!0},i);return ya(t,e,"mutate",{mutations:[o]},l)}const qh=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,lC=(t,e)=>qh(t)&&e.startsWith(or(t,"query")),DL=(t,e)=>qh(t)&&e.startsWith(or(t,"mutate")),OL=(t,e)=>qh(t)&&e.startsWith(or(t,"doc","")),NL=(t,e)=>qh(t)&&e.startsWith(or(t,"listen")),ML=(t,e)=>qh(t)&&e.startsWith(or(t,"history","")),LL=(t,e)=>e.startsWith("/data/")||lC(t,e)||DL(t,e)||OL(t,e)||NL(t,e)||ML(t,e);function Hh(t,e,n){const r=n.url||n.uri,i=t.config(),o=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&LL(t,r):n.canUseCdn;let l=(n.useCdn??i.useCdn)&&o;const u=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(u&&n.tag!==null&&(n.query={tag:VI(u),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&lC(t,r)){const m=n.resultSourceMap??i.resultSourceMap;m!==void 0&&m!==!1&&(n.query={resultSourceMap:m,...n.query});const y=n.perspective||i.perspective;typeof y<"u"&&(y==="previewDrafts"&&uL(),FI(y),n.query={perspective:Array.isArray(y)?y.join(","):y,...n.query},(Array.isArray(y)&&y.length>0||y==="previewDrafts"||y==="drafts")&&l&&(l=!1,lL())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),l&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const h=IL(i,Object.assign({},n,{url:Ew(t,r,l)})),d=new _t(m=>e(h,i.requester).subscribe(m));return n.signal?d.pipe(VL(n.signal)):d}function dn(t,e,n){return Hh(t,e,n).pipe(pu(r=>r.type==="response"),hn(r=>r.body))}function or(t,e,n){const r=t.config();if(r["~experimental_resource"]){jI(r);const l=$L(r),u=n!==void 0?`${e}/${n}`:e;return`${l}/${u}`.replace(/\/($|\?)/,"$1")}const i=ga(r),o=`/${e}/${i}`;return`/data${n!==void 0?`${o}/${n}`:o}`.replace(/\/($|\?)/,"$1")}function Ew(t,e,n=!1){const{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}function VL(t){return e=>new _t(n=>{const r=()=>n.error(FL(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const jL=!!globalThis.DOMException;function FL(t){if(jL)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}const $L=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function uC(t,e,n){const r=ga(t.config());return dn(t,e,{method:"POST",uri:`/agent/action/generate/${r}`,body:n})}function UL(t,e,n){const r=ga(t.config());return dn(t,e,{method:"POST",uri:`/agent/action/patch/${r}`,body:n})}function BL(t,e,n){const r=ga(t.config());return dn(t,e,{method:"POST",uri:`/agent/action/prompt/${r}`,body:n})}function cC(t,e,n){const r=ga(t.config());return dn(t,e,{method:"POST",uri:`/agent/action/transform/${r}`,body:n})}function hC(t,e,n){const r=ga(t.config());return dn(t,e,{method:"POST",uri:`/agent/action/translate/${r}`,body:n})}var ea,ta;class zL{constructor(e,n){ge(this,ea);ge(this,ta);pe(this,ea,e),pe(this,ta,n)}generate(e){return uC(M(this,ea),M(this,ta),e)}transform(e){return cC(M(this,ea),M(this,ta),e)}translate(e){return hC(M(this,ea),M(this,ta),e)}}ea=new WeakMap,ta=new WeakMap;var xi,Si;class qL{constructor(e,n){ge(this,xi);ge(this,Si);pe(this,xi,e),pe(this,Si,n)}generate(e){return $e(uC(M(this,xi),M(this,Si),e))}transform(e){return $e(cC(M(this,xi),M(this,Si),e))}translate(e){return $e(hC(M(this,xi),M(this,Si),e))}prompt(e){return $e(BL(M(this,xi),M(this,Si),e))}patch(e){return $e(UL(M(this,xi),M(this,Si),e))}}xi=new WeakMap,Si=new WeakMap;var gh,yh,wS;let HL=(wS=class{constructor(e,n){ge(this,gh);ge(this,yh);pe(this,gh,e),pe(this,yh,n)}upload(e,n,r){return dC(M(this,gh),M(this,yh),e,n,r)}},gh=new WeakMap,yh=new WeakMap,wS);var vh,wh,_S;let WL=(_S=class{constructor(e,n){ge(this,vh);ge(this,wh);pe(this,vh,e),pe(this,wh,n)}upload(e,n,r){const i=dC(M(this,vh),M(this,wh),e,n,r);return $e(i.pipe(pu(o=>o.type==="response"),hn(o=>o.body.document)))}},vh=new WeakMap,wh=new WeakMap,_S);function dC(t,e,n,r,i={}){tL(n);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const l=t.config(),u=KL(i,r),{tag:h,label:d,title:m,description:y,creditLine:_,filename:E,source:x}=u,b={label:d,title:m,description:y,filename:E,meta:o,creditLine:_};return x&&(b.sourceId=x.id,b.sourceName=x.name,b.sourceUrl=x.url),Hh(t,e,{tag:h,method:"POST",timeout:u.timeout||0,uri:GL(l,n),headers:u.contentType?{"Content-Type":u.contentType}:{},query:b,body:r})}function GL(t,e){const n=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:o}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${o}/assets/${n}`;case"media-library":return`/media-libraries/${o}/upload`;case"dashboard":return`/dashboards/${o}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=ga(t);return`assets/${n}/${r}`}function KL(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var QL=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const YL=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),fC=bI(()=>em(()=>import("./browser-DSlHSrhG.js").then(t=>t.b),[])).pipe(hn(({default:t})=>t),IM(1));function pC(){return function(t){return t.pipe(yw((e,n)=>e instanceof UI?TI(nm({type:"reconnect"}),EM(1e3).pipe(Bh(()=>n))):wI(()=>e)))}}const XL=14800,JL=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],ZL={includeResult:!0};function mC(t,e,n={}){const{url:r,token:i,withCredentials:o,requestTagPrefix:l,headers:u}=this.config(),h=n.tag&&l?[l,n.tag].join("."):n.tag,d={...QL(n,ZL),tag:h},m=YL(d,JL),y=QI({query:t,params:e,options:{tag:h,...m}}),_=`${r}${or(this,"listen",y)}`;if(_.length>XL)return wI(()=>new Error("Query too large for listener"));const E=d.events?d.events:["mutation"],x={};return o&&(x.withCredentials=!0),(i||u)&&(x.headers={},i&&(x.headers.Authorization=`Bearer ${i}`),u&&Object.assign(x.headers,u)),BI(()=>(typeof EventSource>"u"||x.headers?fC:nm(EventSource)).pipe(hn(b=>new b(_,x))),E).pipe(pC(),pu(b=>E.includes(b.type)),hn(b=>({type:b.type,..."data"in b?b.data:{}})))}function eV(t,e){return tV(typeof t=="function"?{predicate:t,...e}:t)}function tV(t){return e=>{let n,r=!1;const{predicate:i,...o}=t,l=e.pipe(CM(h=>{t.predicate(h)&&(r=!0,n=h)}),SI(()=>{r=!1,n=void 0}),II(o)),u=new _t(h=>{r&&h.next(n),h.complete()});return TM(l,u)}}const ib="2021-03-25";var Ms,ES;let gC=(ES=class{constructor(e){ge(this,Ms);pe(this,Ms,e)}events({includeDrafts:e=!1,tag:n}={}){$r("live",M(this,Ms).config());const{projectId:r,apiVersion:i,token:o,withCredentials:l,requestTagPrefix:u,headers:h}=M(this,Ms).config(),d=i.replace(/^v/,"");if(d!=="X"&&d<ib)throw new Error(`The live events API requires API version ${ib} or later. The current API version is ${d}. Please update your API version to use this feature.`);if(e&&!o&&!l)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const m=or(M(this,Ms),"live/events"),y=new URL(M(this,Ms).getUrl(m,!1)),_=n&&u?[u,n].join("."):n;_&&y.searchParams.set("tag",_),e&&y.searchParams.set("includeDrafts","true");const E={};e&&l&&(E.withCredentials=!0),(e&&o||h)&&(E.headers={},e&&o&&(E.headers.Authorization=`Bearer ${o}`),h&&Object.assign(E.headers,h));const x=`${y.href}::${JSON.stringify(E)}`,b=by.get(x);if(b)return b;const R=BI(()=>(typeof EventSource>"u"||E.headers?fC:nm(EventSource)).pipe(hn(V=>new V(y.href,E))),["message","restart","welcome","reconnect","goaway"]).pipe(pC(),hn(V=>{if(V.type==="message"){const{data:W,...X}=V;return{...X,tags:W.tags}}return V})),P=nV(y,{method:"OPTIONS",mode:"cors",credentials:E.withCredentials?"include":"omit",headers:E.headers}).pipe(Bh(()=>sI),yw(()=>{throw new QM({projectId:r})})),N=TI(P,R).pipe(SI(()=>by.delete(x)),eV({predicate:V=>V.type==="welcome"}));return by.set(x,N),N}},Ms=new WeakMap,ES);function nV(t,e){return new _t(n=>{const r=new AbortController,i=r.signal;return fetch(t,{...e,signal:r.signal}).then(o=>{n.next(o),n.complete()},o=>{i.aborted||n.error(o)}),()=>r.abort()})}const by=new Map;var Ls,Vs,TS;let rV=(TS=class{constructor(e,n){ge(this,Ls);ge(this,Vs);pe(this,Ls,e),pe(this,Vs,n)}create(e,n){return kl(M(this,Ls),M(this,Vs),"PUT",e,n)}edit(e,n){return kl(M(this,Ls),M(this,Vs),"PATCH",e,n)}delete(e){return kl(M(this,Ls),M(this,Vs),"DELETE",e)}list(){return dn(M(this,Ls),M(this,Vs),{uri:"/datasets",tag:null})}},Ls=new WeakMap,Vs=new WeakMap,TS);var tr,js,bS;let iV=(bS=class{constructor(e,n){ge(this,tr);ge(this,js);pe(this,tr,e),pe(this,js,n)}create(e,n){return $r("dataset",M(this,tr).config()),$e(kl(M(this,tr),M(this,js),"PUT",e,n))}edit(e,n){return $r("dataset",M(this,tr).config()),$e(kl(M(this,tr),M(this,js),"PATCH",e,n))}delete(e){return $r("dataset",M(this,tr).config()),$e(kl(M(this,tr),M(this,js),"DELETE",e))}list(){return $r("dataset",M(this,tr).config()),$e(dn(M(this,tr),M(this,js),{uri:"/datasets",tag:null}))}},tr=new WeakMap,js=new WeakMap,bS);function kl(t,e,n,r,i){return $r("dataset",t.config()),MI(r),dn(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var Fs,zl,xS;let sV=(xS=class{constructor(e,n){ge(this,Fs);ge(this,zl);pe(this,Fs,e),pe(this,zl,n)}list(e){$r("projects",M(this,Fs).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return dn(M(this,Fs),M(this,zl),{uri:n})}getById(e){return $r("projects",M(this,Fs).config()),dn(M(this,Fs),M(this,zl),{uri:`/projects/${e}`})}},Fs=new WeakMap,zl=new WeakMap,xS);var $s,ql,SS;let oV=(SS=class{constructor(e,n){ge(this,$s);ge(this,ql);pe(this,$s,e),pe(this,ql,n)}list(e){$r("projects",M(this,$s).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return $e(dn(M(this,$s),M(this,ql),{uri:n}))}getById(e){return $r("projects",M(this,$s).config()),$e(dn(M(this,$s),M(this,ql),{uri:`/projects/${e}`}))}},$s=new WeakMap,ql=new WeakMap,SS);const sb=$M("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),dp=(t,e)=>e?zh(t,e):RI(t);function fp(t,{releaseId:e,publishedId:n,document:r}){if(n&&r._id){const i=dp(n,e);return rL(i,r),i}if(r._id){const i=rm(r._id),o=im(r._id);if(!i&&!o)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const l=kI(r._id);if(l!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${l}\`).`)}return r._id}if(n)return dp(n,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}const aV=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){const{releaseId:n=sb(),metadata:r={}}=t;return[n,r,e]}return[sb(),{},t]},yC=(t,e)=>{const[n,r,i]=aV(t,e),o={...r,releaseType:r.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:n,metadata:o},options:i}};var An,Pn;class lV{constructor(e,n){ge(this,An);ge(this,Pn);pe(this,An,e),pe(this,Pn,n)}get({releaseId:e},n){return om(M(this,An),M(this,Pn),`_.releases.${e}`,n)}create(e,n){const{action:r,options:i}=yC(e,n),{releaseId:o,metadata:l}=r;return pt(M(this,An),M(this,Pn),r,i).pipe(hn(u=>({...u,releaseId:o,metadata:l})))}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return pt(M(this,An),M(this,Pn),i,r)}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return pt(M(this,An),M(this,Pn),r,n)}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return pt(M(this,An),M(this,Pn),r,n)}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return pt(M(this,An),M(this,Pn),r,n)}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return pt(M(this,An),M(this,Pn),i,r)}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return pt(M(this,An),M(this,Pn),r,n)}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return pt(M(this,An),M(this,Pn),r,n)}fetchDocuments({releaseId:e},n){return JI(M(this,An),M(this,Pn),e,n)}}An=new WeakMap,Pn=new WeakMap;var Rn,kn;class uV{constructor(e,n){ge(this,Rn);ge(this,kn);pe(this,Rn,e),pe(this,kn,n)}get({releaseId:e},n){return $e(om(M(this,Rn),M(this,kn),`_.releases.${e}`,n))}async create(e,n){const{action:r,options:i}=yC(e,n),{releaseId:o,metadata:l}=r;return{...await $e(pt(M(this,Rn),M(this,kn),r,i)),releaseId:o,metadata:l}}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return $e(pt(M(this,Rn),M(this,kn),i,r))}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return $e(pt(M(this,Rn),M(this,kn),r,n))}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return $e(pt(M(this,Rn),M(this,kn),r,n))}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return $e(pt(M(this,Rn),M(this,kn),r,n))}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return $e(pt(M(this,Rn),M(this,kn),i,r))}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return $e(pt(M(this,Rn),M(this,kn),r,n))}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return $e(pt(M(this,Rn),M(this,kn),r,n))}fetchDocuments({releaseId:e},n){return $e(JI(M(this,Rn),M(this,kn),e,n))}}Rn=new WeakMap,kn=new WeakMap;var _h,Eh,IS;let cV=(IS=class{constructor(e,n){ge(this,_h);ge(this,Eh);pe(this,_h,e),pe(this,Eh,n)}getById(e){return dn(M(this,_h),M(this,Eh),{uri:`/users/${e}`})}},_h=new WeakMap,Eh=new WeakMap,IS);var Th,bh,CS;let hV=(CS=class{constructor(e,n){ge(this,Th);ge(this,bh);pe(this,Th,e),pe(this,bh,n)}getById(e){return $e(dn(M(this,Th),M(this,bh),{uri:`/users/${e}`}))}},Th=new WeakMap,bh=new WeakMap,CS);var Ii,nt,ca;let dV=(ca=class{constructor(e,n=Lc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");le(this,"agent");le(this,"releases");ge(this,Ii);ge(this,nt);le(this,"listen",mC);this.config(n),pe(this,nt,e),this.assets=new HL(this,M(this,nt)),this.datasets=new rV(this,M(this,nt)),this.live=new gC(this),this.projects=new sV(this,M(this,nt)),this.users=new cV(this,M(this,nt)),this.agent={action:new zL(this,M(this,nt))},this.releases=new lV(this,M(this,nt))}clone(){return new ca(M(this,nt),this.config())}config(e){if(e===void 0)return{...M(this,Ii)};if(M(this,Ii)&&M(this,Ii).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return pe(this,Ii,$I(e,M(this,Ii)||{})),this}withConfig(e){const n=this.config();return new ca(M(this,nt),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return YI(this,M(this,nt),M(this,Ii).stega,e,n,r)}getDocument(e,n){return om(this,M(this,nt),e,n)}getDocuments(e,n){return XI(this,M(this,nt),e,n)}create(e,n){return am(this,M(this,nt),e,"create",n)}createIfNotExists(e,n){return ZI(this,M(this,nt),e,n)}createOrReplace(e,n){return eC(this,M(this,nt),e,n)}createVersion({document:e,publishedId:n,releaseId:r,baseId:i,ifBaseRevisionId:o},l){if(!e)return nC(this,M(this,nt),n,i,r,o,l);const u=fp("createVersion",{document:e,publishedId:n,releaseId:r}),h={...e,_id:u},d=n||sm(e._id);return tC(this,M(this,nt),h,d,l)}delete(e,n){return rC(this,M(this,nt),e,n)}discardVersion({releaseId:e,publishedId:n},r,i){const o=dp(n,e);return iC(this,M(this,nt),o,r,i)}replaceVersion({document:e,publishedId:n,releaseId:r},i){const o=fp("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:o};return sC(this,M(this,nt),l,i)}unpublishVersion({releaseId:e,publishedId:n},r){const i=zh(n,e);return oC(this,M(this,nt),i,n,r)}mutate(e,n){return aC(this,M(this,nt),e,n)}patch(e,n){return new Vc(e,n,this)}transaction(e){return new KI(e,this)}action(e,n){return pt(this,M(this,nt),e,n)}request(e){return dn(this,M(this,nt),e)}getUrl(e,n){return Ew(this,e,n)}getDataUrl(e,n){return or(this,e,n)}},Ii=new WeakMap,nt=new WeakMap,ca);var Ci,et,ha;let fV=(ha=class{constructor(e,n=Lc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");le(this,"agent");le(this,"releases");le(this,"observable");ge(this,Ci);ge(this,et);le(this,"listen",mC);this.config(n),pe(this,et,e),this.assets=new WL(this,M(this,et)),this.datasets=new iV(this,M(this,et)),this.live=new gC(this),this.projects=new oV(this,M(this,et)),this.users=new hV(this,M(this,et)),this.agent={action:new qL(this,M(this,et))},this.releases=new uV(this,M(this,et)),this.observable=new dV(e,n)}clone(){return new ha(M(this,et),this.config())}config(e){if(e===void 0)return{...M(this,Ci)};if(M(this,Ci)&&M(this,Ci).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),pe(this,Ci,$I(e,M(this,Ci)||{})),this}withConfig(e){const n=this.config();return new ha(M(this,et),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return $e(YI(this,M(this,et),M(this,Ci).stega,e,n,r))}getDocument(e,n){return $e(om(this,M(this,et),e,n))}getDocuments(e,n){return $e(XI(this,M(this,et),e,n))}create(e,n){return $e(am(this,M(this,et),e,"create",n))}createIfNotExists(e,n){return $e(ZI(this,M(this,et),e,n))}createOrReplace(e,n){return $e(eC(this,M(this,et),e,n))}createVersion({document:e,publishedId:n,releaseId:r,baseId:i,ifBaseRevisionId:o},l){if(!e)return wy(nC(this,M(this,et),n,i,r,o,l));const u=fp("createVersion",{document:e,publishedId:n,releaseId:r}),h={...e,_id:u},d=n||sm(e._id);return wy(tC(this,M(this,et),h,d,l))}delete(e,n){return $e(rC(this,M(this,et),e,n))}discardVersion({releaseId:e,publishedId:n},r,i){const o=dp(n,e);return $e(iC(this,M(this,et),o,r,i))}replaceVersion({document:e,publishedId:n,releaseId:r},i){const o=fp("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:o};return wy(sC(this,M(this,et),l,i))}unpublishVersion({releaseId:e,publishedId:n},r){const i=zh(n,e);return $e(oC(this,M(this,et),i,n,r))}mutate(e,n){return $e(aC(this,M(this,et),e,n))}patch(e,n){return new xl(e,n,this)}transaction(e){return new GI(e,this)}action(e,n){return $e(pt(this,M(this,et),e,n))}request(e){return $e(dn(this,M(this,et),e))}dataRequest(e,n,r){return $e(ya(this,M(this,et),e,n,r))}getUrl(e,n){return Ew(this,e,n)}getDataUrl(e,n){return or(this,e,n)}},Ci=new WeakMap,et=new WeakMap,ha);function pV(t,e){return{requester:ZT(t),createClient:n=>{const r=ZT(t,{ignoreWarnings:n.ignoreWarnings});return new e((i,o)=>(o||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var mV=[];const gV=pV(mV,fV),yV=gV.createClient;var Wf={exports:{}},vV=Wf.exports,ob;function wV(){return ob||(ob=1,function(t,e){(function(n,r){t.exports=r()})(vV,function(){function n(){return n=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(S[F]=I[F])}return S},n.apply(this,arguments)}function r(S,A){if(S){if(typeof S=="string")return i(S,A);var I=Object.prototype.toString.call(S).slice(8,-1);if(I==="Object"&&S.constructor&&(I=S.constructor.name),I==="Map"||I==="Set")return Array.from(S);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return i(S,A)}}function i(S,A){(A==null||A>S.length)&&(A=S.length);for(var I=0,F=new Array(A);I<A;I++)F[I]=S[I];return F}function o(S,A){var I=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(I)return(I=I.call(S)).next.bind(I);if(Array.isArray(S)||(I=r(S))||A){I&&(S=I);var F=0;return function(){return F>=S.length?{done:!0}:{done:!1,value:S[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function u(S){var A=S.split("-"),I=A[1],F=A[2],me=A[3];if(!I||!F||!me)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');var ee=F.split("x"),ie=ee[0],te=ee[1],fe=+ie,ae=+te,q=isFinite(fe)&&isFinite(ae);if(!q)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');return{id:I,width:fe,height:ae,format:me}}var h=function(A){var I=A;return I?typeof I._ref=="string":!1},d=function(A){var I=A;return I?typeof I._id=="string":!1},m=function(A){var I=A;return I&&I.asset?typeof I.asset.url=="string":!1};function y(S){if(!S)return null;var A;if(typeof S=="string"&&_(S))A={asset:{_ref:E(S)}};else if(typeof S=="string")A={asset:{_ref:S}};else if(h(S))A={asset:S};else if(d(S))A={asset:{_ref:S._id||""}};else if(m(S))A={asset:{_ref:E(S.asset.url)}};else if(typeof S.asset=="object")A=n({},S);else return null;var I=S;return I.crop&&(A.crop=I.crop),I.hotspot&&(A.hotspot=I.hotspot),x(A)}function _(S){return/^https?:\/\//.test(""+S)}function E(S){var A=S.split("/").slice(-1);return("image-"+A[0]).replace(/\.([a-z]+)$/,"-$1")}function x(S){if(S.crop&&S.hotspot)return S;var A=n({},S);return A.crop||(A.crop={left:0,top:0,bottom:0,right:0}),A.hotspot||(A.hotspot={x:.5,y:.5,height:1,width:1}),A}var b=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function R(S){var A=n({},S||{}),I=A.source;delete A.source;var F=y(I);if(!F)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var me=F.asset._ref||F.asset._id||"",ee=u(me),ie=Math.round(F.crop.left*ee.width),te=Math.round(F.crop.top*ee.height),fe={left:ie,top:te,width:Math.round(ee.width-F.crop.right*ee.width-ie),height:Math.round(ee.height-F.crop.bottom*ee.height-te)},ae=F.hotspot.height*ee.height/2,q=F.hotspot.width*ee.width/2,ne=F.hotspot.x*ee.width,ye=F.hotspot.y*ee.height,be={left:ne-q,top:ye-ae,right:ne+q,bottom:ye+ae};return A.rect||A.focalPoint||A.ignoreImageParams||A.crop||(A=n({},A,N({crop:fe,hotspot:be},A))),P(n({},A,{asset:ee}))}function P(S){var A=(S.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=S.vanityName?"/"+S.vanityName:"",F=S.asset.id+"-"+S.asset.width+"x"+S.asset.height+"."+S.asset.format+I,me=A+"/images/"+S.projectId+"/"+S.dataset+"/"+F,ee=[];if(S.rect){var ie=S.rect,te=ie.left,fe=ie.top,ae=ie.width,q=ie.height,ne=te!==0||fe!==0||q!==S.asset.height||ae!==S.asset.width;ne&&ee.push("rect="+te+","+fe+","+ae+","+q)}S.bg&&ee.push("bg="+S.bg),S.focalPoint&&(ee.push("fp-x="+S.focalPoint.x),ee.push("fp-y="+S.focalPoint.y));var ye=[S.flipHorizontal&&"h",S.flipVertical&&"v"].filter(Boolean).join("");return ye&&ee.push("flip="+ye),b.forEach(function(be){var Re=be[0],Se=be[1];typeof S[Re]<"u"?ee.push(Se+"="+encodeURIComponent(S[Re])):typeof S[Se]<"u"&&ee.push(Se+"="+encodeURIComponent(S[Se]))}),ee.length===0?me:me+"?"+ee.join("&")}function N(S,A){var I,F=A.width,me=A.height;if(!(F&&me))return{width:F,height:me,rect:S.crop};var ee=S.crop,ie=S.hotspot,te=F/me,fe=ee.width/ee.height;if(fe>te){var ae=Math.round(ee.height),q=Math.round(ae*te),ne=Math.max(0,Math.round(ee.top)),ye=Math.round((ie.right-ie.left)/2+ie.left),be=Math.max(0,Math.round(ye-q/2));be<ee.left?be=ee.left:be+q>ee.left+ee.width&&(be=ee.left+ee.width-q),I={left:be,top:ne,width:q,height:ae}}else{var Re=ee.width,Se=Math.round(Re/te),ze=Math.max(0,Math.round(ee.left)),qe=Math.round((ie.bottom-ie.top)/2+ie.top),je=Math.max(0,Math.round(qe-Se/2));je<ee.top?je=ee.top:je+Se>ee.top+ee.height&&(je=ee.top+ee.height-Se),I={left:ze,top:je,width:Re,height:Se}}return{width:F,height:me,rect:I}}var V=["clip","crop","fill","fillmax","max","scale","min"],W=["top","bottom","left","right","center","focalpoint","entropy"],X=["format"];function J(S){return S&&"config"in S?typeof S.config=="function":!1}function j(S){return S&&"clientConfig"in S?typeof S.clientConfig=="object":!1}function D(S){for(var A=b,I=o(A),F;!(F=I()).done;){var me=F.value,ee=me[0],ie=me[1];if(S===ee||S===ie)return ee}return S}function L(S){if(J(S)){var A=S.config(),I=A.apiHost,F=A.projectId,me=A.dataset,ee=I||"https://api.sanity.io";return new B(null,{baseUrl:ee.replace(/^https:\/\/api\./,"https://cdn."),projectId:F,dataset:me})}if(j(S)){var ie=S.clientConfig,te=ie.apiHost,fe=ie.projectId,ae=ie.dataset,q=te||"https://api.sanity.io";return new B(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:fe,dataset:ae})}return new B(null,S||{})}var B=function(){function S(I,F){this.options=void 0,this.options=I?n({},I.options||{},F||{}):n({},F||{})}var A=S.prototype;return A.withOptions=function(F){var me=F.baseUrl||this.options.baseUrl,ee={baseUrl:me};for(var ie in F)if(F.hasOwnProperty(ie)){var te=D(ie);ee[te]=F[ie]}return new S(this,n({baseUrl:me},ee))},A.image=function(F){return this.withOptions({source:F})},A.dataset=function(F){return this.withOptions({dataset:F})},A.projectId=function(F){return this.withOptions({projectId:F})},A.bg=function(F){return this.withOptions({bg:F})},A.dpr=function(F){return this.withOptions(F&&F!==1?{dpr:F}:{})},A.width=function(F){return this.withOptions({width:F})},A.height=function(F){return this.withOptions({height:F})},A.focalPoint=function(F,me){return this.withOptions({focalPoint:{x:F,y:me}})},A.maxWidth=function(F){return this.withOptions({maxWidth:F})},A.minWidth=function(F){return this.withOptions({minWidth:F})},A.maxHeight=function(F){return this.withOptions({maxHeight:F})},A.minHeight=function(F){return this.withOptions({minHeight:F})},A.size=function(F,me){return this.withOptions({width:F,height:me})},A.blur=function(F){return this.withOptions({blur:F})},A.sharpen=function(F){return this.withOptions({sharpen:F})},A.rect=function(F,me,ee,ie){return this.withOptions({rect:{left:F,top:me,width:ee,height:ie}})},A.format=function(F){return this.withOptions({format:F})},A.invert=function(F){return this.withOptions({invert:F})},A.orientation=function(F){return this.withOptions({orientation:F})},A.quality=function(F){return this.withOptions({quality:F})},A.forceDownload=function(F){return this.withOptions({download:F})},A.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},A.flipVertical=function(){return this.withOptions({flipVertical:!0})},A.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},A.fit=function(F){if(V.indexOf(F)===-1)throw new Error('Invalid fit mode "'+F+'"');return this.withOptions({fit:F})},A.crop=function(F){if(W.indexOf(F)===-1)throw new Error('Invalid crop mode "'+F+'"');return this.withOptions({crop:F})},A.saturation=function(F){return this.withOptions({saturation:F})},A.auto=function(F){if(X.indexOf(F)===-1)throw new Error('Invalid auto mode "'+F+'"');return this.withOptions({auto:F})},A.pad=function(F){return this.withOptions({pad:F})},A.vanityName=function(F){return this.withOptions({vanityName:F})},A.frame=function(F){if(F!==1)throw new Error('Invalid frame value "'+F+'"');return this.withOptions({frame:F})},A.url=function(){return R(this.options)},A.toString=function(){return this.url()},S}();return L})}(Wf)),Wf.exports}var _V=wV();const EV=du(_V),pp=yV({projectId:"yn77xan2",dataset:"production",apiVersion:"2022-03-25",useCdn:!0});EV(pp);var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},wC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,d=h?t[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,E=d&63;h||(E=64,l||(_=64)),r.push(n[m],n[y],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||y==null)throw new bV;const _=o<<2|u>>4;if(r.push(_),d!==64){const E=u<<4&240|d>>2;if(r.push(E),y!==64){const x=d<<6&192|y;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xV=function(t){const e=vC(t);return wC.encodeByteArray(e,!0)},mp=function(t){return xV(t).replace(/\./g,"")},_C=function(t){try{return wC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=()=>SV().__FIREBASE_DEFAULTS__,CV=()=>{if(typeof process>"u"||typeof ab>"u")return;const t=ab.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_C(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return IV()||CV()||AV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EC=t=>{var e,n;return(n=(e=lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PV=t=>{const e=EC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TC=()=>{var t;return(t=lm())===null||t===void 0?void 0:t.config},bC=t=>{var e;return(e=lm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mp(JSON.stringify(n)),mp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function OV(){var t;const e=(t=lm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VV(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jV(){return!OV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FV(){try{return typeof indexedDB=="object"}catch{return!1}}function $V(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="FirebaseError";class Ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UV,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?BV(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ji(i,u,r)}}function BV(t,e){return t.replace(zV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zV=/\{\$([^}]+)}/g;function qV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(lb(o)&&lb(l)){if(!gp(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HV(t,e){const n=new WV(t,e);return n.subscribe.bind(n)}class WV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xy),i.error===void 0&&(i.error=xy),i.complete===void 0&&(i.complete=xy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YV(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QV(t){return t===Ho?void 0:t}function YV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const JV={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},ZV=Ue.INFO,e3={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},t3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=e3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tw{constructor(e){this.name=e,this._logLevel=ZV,this._logHandler=t3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const n3=(t,e)=>e.some(n=>t instanceof n);let ub,cb;function r3(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i3(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xC=new WeakMap,sv=new WeakMap,SC=new WeakMap,Sy=new WeakMap,bw=new WeakMap;function s3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Ys(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&xC.set(n,t)}).catch(()=>{}),bw.set(e,t),e}function o3(t){if(sv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});sv.set(t,e)}let ov={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a3(t){ov=t(ov)}function l3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Iy(this),e,...n);return SC.set(r,e.sort?e.sort():[e]),Ys(r)}:i3().includes(t)?function(...e){return t.apply(Iy(this),e),Ys(xC.get(this))}:function(...e){return Ys(t.apply(Iy(this),e))}}function u3(t){return typeof t=="function"?l3(t):(t instanceof IDBTransaction&&o3(t),n3(t,r3())?new Proxy(t,ov):t)}function Ys(t){if(t instanceof IDBRequest)return s3(t);if(Sy.has(t))return Sy.get(t);const e=u3(t);return e!==t&&(Sy.set(t,e),bw.set(e,t)),e}const Iy=t=>bw.get(t);function c3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=Ys(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ys(l.result),h.oldVersion,h.newVersion,Ys(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const h3=["get","getKey","getAll","getAllKeys","count"],d3=["put","add","delete","clear"],Cy=new Map;function hb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h3.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&h.done]))[0]};return Cy.set(e,o),o}a3(t=>({...t,get:(e,n,r)=>hb(e,n)||t.get(e,n,r),has:(e,n)=>!!hb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function p3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const av="@firebase/app",db="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Tw("@firebase/app"),m3="@firebase/app-compat",g3="@firebase/analytics-compat",y3="@firebase/analytics",v3="@firebase/app-check-compat",w3="@firebase/app-check",_3="@firebase/auth",E3="@firebase/auth-compat",T3="@firebase/database",b3="@firebase/data-connect",x3="@firebase/database-compat",S3="@firebase/functions",I3="@firebase/functions-compat",C3="@firebase/installations",A3="@firebase/installations-compat",P3="@firebase/messaging",R3="@firebase/messaging-compat",k3="@firebase/performance",D3="@firebase/performance-compat",O3="@firebase/remote-config",N3="@firebase/remote-config-compat",M3="@firebase/storage",L3="@firebase/storage-compat",V3="@firebase/firestore",j3="@firebase/vertexai",F3="@firebase/firestore-compat",$3="firebase",U3="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",B3={[av]:"fire-core",[m3]:"fire-core-compat",[y3]:"fire-analytics",[g3]:"fire-analytics-compat",[w3]:"fire-app-check",[v3]:"fire-app-check-compat",[_3]:"fire-auth",[E3]:"fire-auth-compat",[T3]:"fire-rtdb",[b3]:"fire-data-connect",[x3]:"fire-rtdb-compat",[S3]:"fire-fn",[I3]:"fire-fn-compat",[C3]:"fire-iid",[A3]:"fire-iid-compat",[P3]:"fire-fcm",[R3]:"fire-fcm-compat",[k3]:"fire-perf",[D3]:"fire-perf-compat",[O3]:"fire-rc",[N3]:"fire-rc-compat",[M3]:"fire-gcs",[L3]:"fire-gcs-compat",[V3]:"fire-fst",[F3]:"fire-fst-compat",[j3]:"fire-vertex","fire-js":"fire-js",[$3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Map,z3=new Map,uv=new Map;function fb(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jl(t){const e=t.name;if(uv.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,t);for(const n of yp.values())fb(n,t);for(const n of z3.values())fb(n,t);return!0}function xw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Wh("app","Firebase",q3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=U3;function IC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=TC()),!n)throw Xs.create("no-options");const o=yp.get(i);if(o){if(gp(n,o.options)&&gp(r,o.config))return o;throw Xs.create("duplicate-app",{appName:i})}const l=new XV(i);for(const h of uv.values())l.addComponent(h);const u=new H3(n,r,l);return yp.set(i,u),u}function CC(t=lv){const e=yp.get(t);if(!e&&t===lv&&TC())return IC();if(!e)throw Xs.create("no-app",{appName:t});return e}function Js(t,e,n){var r;let i=(r=B3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(u.join(" "));return}Jl(new da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="firebase-heartbeat-database",G3=1,Yc="firebase-heartbeat-store";let Ay=null;function AC(){return Ay||(Ay=c3(W3,G3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),Ay}async function K3(t){try{const n=(await AC()).transaction(Yc),r=await n.objectStore(Yc).get(PC(t));return await n.done,r}catch(e){if(e instanceof Ji)Bi.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function pb(t,e){try{const r=(await AC()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,PC(t)),await r.done}catch(n){if(n instanceof Ji)Bi.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function PC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=1024,Y3=30*24*60*60*1e3;class X3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=Y3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mb(),{heartbeatsToSend:r,unsentEntries:i}=J3(this._heartbeatsCache.heartbeats),o=mp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Bi.warn(n),""}}}function mb(){return new Date().toISOString().substring(0,10)}function J3(t,e=Q3){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),gb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FV()?$V().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gb(t){return mp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){Jl(new da("platform-logger",e=>new f3(e),"PRIVATE")),Jl(new da("heartbeat",e=>new X3(e),"PRIVATE")),Js(av,db,t),Js(av,db,"esm2017"),Js("fire-js","")}e4("");var t4="firebase",n4="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(t4,n4,"app");var cv=function(t,e){return cv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},cv(t,e)};function Zi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Sw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function r4(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{d(r.next(m))}catch(y){l(y)}}function h(m){try{d(r.throw(m))}catch(y){l(y)}}function d(m){m.done?o(m.value):i(m.value).then(u,h)}d((r=r.apply(t,e||[])).next())})}function RC(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(d){return function(m){return h([d,m])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(m){d=[6,m],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zi(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function qi(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Dl(t){return this instanceof Dl?(this.v=t,this):new Dl(t)}function i4(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(E){return function(x){return Promise.resolve(x).then(E,y)}}function u(E,x){r[E]&&(i[E]=function(b){return new Promise(function(R,P){o.push([E,b,R,P])>1||h(E,b)})},x&&(i[E]=x(i[E])))}function h(E,x){try{d(r[E](x))}catch(b){_(o[0][3],b)}}function d(E){E.value instanceof Dl?Promise.resolve(E.value.v).then(m,y):_(o[0][2],E)}function m(E){h("next",E)}function y(E){h("throw",E)}function _(E,x){E(x),o.shift(),o.length&&h(o[0][0],o[0][1])}}function s4(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zl=="function"?Zl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(u,h){l=t[o](l),i(u,h,l.done,l.value)})}}function i(o,l,u,h){Promise.resolve(h).then(function(d){o({value:d,done:u})},l)}}function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o4=kC,DC=new Wh("auth","Firebase",kC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Tw("@firebase/auth");function a4(t,...e){vp.logLevel<=Ue.WARN&&vp.warn(`Auth (${mu}): ${t}`,...e)}function Gf(t,...e){vp.logLevel<=Ue.ERROR&&vp.error(`Auth (${mu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw Cw(t,...e)}function Ir(t,...e){return Cw(t,...e)}function Iw(t,e,n){const r=Object.assign(Object.assign({},o4()),{[e]:n});return new Wh("auth","Firebase",r).create(e,{appName:t.name})}function sa(t){return Iw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(t,"argument-error"),Iw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DC.create(t,...e)}function Oe(t,e,...n){if(!t)throw Cw(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gf(e),new Error(e)}function Hi(t,e){t||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u4(){return yb()==="http:"||yb()==="https:"}function yb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u4()||MV()||"connection"in navigator)?navigator.onLine:!0}function h4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=DV()||LV()}get(){return c4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new Kh(3e4,6e4);function Pw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gu(t,e,n,r,i={}){return NC(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Gh(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},o);return NV()||(d.referrerPolicy="no-referrer"),OC.fetch()(MC(t,t.config.apiHost,n,u),d)})}async function NC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d4),e);try{const i=new m4(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Df(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Df(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Df(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Iw(t,m,d);Qr(t,m)}}catch(i){if(i instanceof Ji)throw i;Qr(t,"network-request-failed",{message:String(i)})}}async function p4(t,e,n,r,i={}){const o=await gu(t,e,n,r,i);return"mfaPendingCredential"in o&&Qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function MC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Aw(t.config,i):`${t.config.apiScheme}://${i}`}class m4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),f4.get())})}}function Df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ir(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t,e){return gu(t,"POST","/v1/accounts:delete",e)}async function LC(t,e){return gu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y4(t,e=!1){const n=Un(t),r=await n.getIdToken(e),i=Rw(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jc(Py(i.auth_time)),issuedAtTime:jc(Py(i.iat)),expirationTime:jc(Py(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Py(t){return Number(t)*1e3}function Rw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const i=_C(n);return i?JSON.parse(i):(Gf("Failed to decode base64 JWT payload"),null)}catch(i){return Gf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vb(t){const e=Rw(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ji&&v4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xc(t,LC(n,{idToken:r}));Oe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VC(o.providerUserInfo):[],u=E4(t.providerData,l),h=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?d:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function _4(t){const e=Un(t);await wp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VC(t){return t.map(e=>{var{providerId:n}=e,r=Sw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){const n=await NC(t,{},async()=>{const r=Gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=MC(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",OC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b4(t,e){return gu(t,"POST","/v2/accounts:revokeToken",Pw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await T4(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Ol;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Oe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y4(this,e)}reload(){return _4(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await Xc(this,g4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,u,h,d,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,b=(u=n.tenantId)!==null&&u!==void 0?u:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,P=(d=n.createdAt)!==null&&d!==void 0?d:void 0,N=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:W,isAnonymous:X,providerData:J,stsTokenManager:j}=n;Oe(V&&j,e,"internal-error");const D=Ol.fromJSON(this.name,j);Oe(typeof V=="string",e,"internal-error"),Is(y,e.name),Is(_,e.name),Oe(typeof W=="boolean",e,"internal-error"),Oe(typeof X=="boolean",e,"internal-error"),Is(E,e.name),Is(x,e.name),Is(b,e.name),Is(R,e.name),Is(P,e.name),Is(N,e.name);const L=new Mi({uid:V,auth:e,email:_,emailVerified:W,displayName:y,isAnonymous:X,photoURL:x,phoneNumber:E,tenantId:b,stsTokenManager:D,createdAt:P,lastLoginAt:N});return J&&Array.isArray(J)&&(L.providerData=J.map(B=>Object.assign({},B))),R&&(L._redirectEventId=R),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const o=new Mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?VC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Ol;u.updateFromIdToken(r);const h=new Mi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;function Li(t){Hi(t instanceof Function,"Expected a class definition");let e=wb.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jC.type="NONE";const _b=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(Li(_b),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Li(_b);const l=Kf(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(l);if(m){const y=Mi._fromJSON(e,m);d!==o&&(u=y),o=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Nl(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Nl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qC(e))return"Blackberry";if(HC(e))return"Webos";if($C(e))return"Safari";if((e.includes("chrome/")||UC(e))&&!e.includes("edge/"))return"Chrome";if(zC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FC(t=fn()){return/firefox\//i.test(t)}function $C(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UC(t=fn()){return/crios\//i.test(t)}function BC(t=fn()){return/iemobile/i.test(t)}function zC(t=fn()){return/android/i.test(t)}function qC(t=fn()){return/blackberry/i.test(t)}function HC(t=fn()){return/webos/i.test(t)}function kw(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x4(t=fn()){var e;return kw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S4(){return VV()&&document.documentMode===10}function WC(t=fn()){return kw(t)||zC(t)||HC(t)||qC(t)||/windows phone/i.test(t)||BC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e=[]){let n;switch(t){case"Browser":n=Eb(fn());break;case"Worker":n=`${Eb(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e={}){return gu(t,"GET","/v2/passwordPolicy",Pw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=6;class P4{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:A4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tb(this),this.idTokenSubscription=new Tb(this),this.beforeStateQueue=new I4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LC(this,{idToken:e}),r=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Oi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(sa(this));const n=e?Un(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C4(this),n=new P4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&a4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function um(t){return Un(t)}let Tb=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HV(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k4(t){Dw=t}function D4(t){return Dw.loadJS(t)}function O4(){return Dw.gapiScript}function N4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e){const n=xw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gp(o,e??{}))return i;Qr(i,"already-initialized")}return n.initialize({options:e})}function L4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V4(t,e,n){const r=um(t);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=KC(e),{host:l,port:u}=j4(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),F4()}function KC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j4(t){const e=KC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:bb(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:bb(l)}}}function bb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e){return p4(t,"POST","/v1/accounts:signInWithIdp",Pw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="http://localhost";class fa extends QC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Sw(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new fa(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ml(e,n)}buildRequest(){const e={requestUri:$4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Qh{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Qh{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Qh{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Mi._fromIdTokenResponse(e,r,i),l=xb(r);return new eu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xb(r);return new eu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends Ji{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _p(e,n,r,i)}}function YC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(t,o,e,r):o})}async function U4(t,e,n=!1){const r=await Xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(t,e,n=!1){const{auth:r}=t;if(Oi(r.app))return Promise.reject(sa(r));const i="reauthenticate";try{const o=await Xc(t,YC(r,i,e,t),n);Oe(o.idToken,r,"internal-error");const l=Rw(o.idToken);Oe(l,r,"internal-error");const{sub:u}=l;return Oe(t.uid===u,r,"user-mismatch"),eu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e,n=!1){if(Oi(t.app))return Promise.reject(sa(t));const r="signIn",i=await YC(t,r,e),o=await eu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e){return Un(t).setPersistence(e)}function H4(t,e,n,r){return Un(t).onIdTokenChanged(e,n,r)}function W4(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}function G4(t,e,n,r){return Un(t).onAuthStateChanged(e,n,r)}function K4(t){return Un(t).signOut()}const Ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=1e3,Y4=10;class JC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);S4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const ZC=JC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eA.type="SESSION";const tA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async d=>d(n.origin,o)),h=await X4(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const d=Nw("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function Z4(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function ej(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nj(){return nA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebaseLocalStorageDb",rj=1,Tp="firebaseLocalStorage",iA="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hm(t,e){return t.transaction([Tp],e?"readwrite":"readonly").objectStore(Tp)}function ij(){const t=indexedDB.deleteDatabase(rA);return new Yh(t).toPromise()}function fv(){const t=indexedDB.open(rA,rj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tp,{keyPath:iA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tp)?e(r):(r.close(),await ij(),e(await fv()))})})}async function Sb(t,e,n){const r=hm(t,!0).put({[iA]:e,value:n});return new Yh(r).toPromise()}async function sj(t,e){const n=hm(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function Ib(t,e){const n=hm(t,!0).delete(e);return new Yh(n).toPromise()}const oj=800,aj=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(nj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ej(),!this.activeServiceWorker)return;this.sender=new J4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fv();return await Sb(e,Ep,"1"),await Ib(e,Ep),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=hm(i,!1).getAll();return new Yh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const lj=sA;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e){return e?Li(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends QC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uj(t){return z4(t.auth,new Mw(t),t.bypassAuthState)}function cj(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),B4(n,new Mw(t),t.bypassAuthState)}async function hj(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),U4(n,new Mw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uj;case"linkViaPopup":case"linkViaRedirect":return hj;case"reauthViaPopup":case"reauthViaRedirect":return cj;default:Qr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Kh(2e3,1e4);async function fj(t,e,n){if(Oi(t.app))return Promise.reject(Ir(t,"operation-not-supported-in-this-environment"));const r=um(t);l4(t,e,Ow);const i=oA(r,n);return new Qo(r,"signInViaPopup",e,i).executeNotNull()}class Qo extends aA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dj.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="pendingRedirect",Qf=new Map;class mj extends aA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await gj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gj(t,e){const n=wj(e),r=vj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yj(t,e){Qf.set(t._key(),e)}function vj(t){return Li(t._redirectPersistence)}function wj(t){return Kf(pj,t.config.apiKey,t.name)}async function _j(t,e,n=!1){if(Oi(t.app))return Promise.reject(sa(t));const r=um(t),i=oA(r,e),l=await new mj(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=10*60*1e3;class Tj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ej&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(e))}saveEventToCache(e){this.cachedEventUids.add(Cb(e)),this.lastProcessedEventTime=Date.now()}}function Cb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e={}){return gu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ij=/^https?/;async function Cj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xj(t);for(const n of e)try{if(Aj(n))return}catch{}Qr(t,"unauthorized-domain")}function Aj(t){const e=hv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Ij.test(n))return!1;if(Sj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Kh(3e4,6e4);function Ab(){const t=Br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rj(t){return new Promise((e,n)=>{var r,i,o;function l(){Ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ab(),n(Ir(t,"network-request-failed"))},timeout:Pj.get()})}if(!((i=(r=Br().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Br().gapi)===null||o===void 0)&&o.load)l();else{const u=N4("iframefcb");return Br()[u]=()=>{gapi.load?l():n(Ir(t,"network-request-failed"))},D4(`${O4()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function kj(t){return Yf=Yf||Rj(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=new Kh(5e3,15e3),Oj="__/auth/iframe",Nj="emulator/auth/iframe",Mj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vj(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Aw(e,Nj):`https://${t.config.authDomain}/${Oj}`,r={apiKey:e.apiKey,appName:t.name,v:mu},i=Lj.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gh(r).slice(1)}`}async function jj(t){const e=await kj(t),n=Br().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:Vj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ir(t,"network-request-failed"),u=Br().setTimeout(()=>{o(l)},Dj.get());function h(){Br().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$j=500,Uj=600,Bj="_blank",zj="http://localhost";class Pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qj(t,e,n,r=$j,i=Uj){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},Fj),{width:r.toString(),height:i.toString(),top:o,left:l}),d=fn().toLowerCase();n&&(u=UC(d)?Bj:n),FC(d)&&(e=e||zj,h.scrollbars="yes");const m=Object.entries(h).reduce((_,[E,x])=>`${_}${E}=${x},`,"");if(x4(d)&&u!=="_self")return Hj(e||"",u),new Pb(null);const y=window.open(e||"",u,m);Oe(y,t,"popup-blocked");try{y.focus()}catch{}return new Pb(y)}function Hj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="__/auth/handler",Gj="emulator/auth/handler",Kj=encodeURIComponent("fac");async function Rb(t,e,n,r,i,o){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mu,eventId:i};if(e instanceof Ow){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",qV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Qh){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),d=h?`#${Kj}=${encodeURIComponent(h)}`:"";return`${Qj(t)}?${Gh(u).slice(1)}${d}`}function Qj({config:t}){return t.emulator?Aw(t,Gj):`https://${t.authDomain}/${Wj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="webStorageSupport";class Yj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=_j,this._overrideRedirectResult=yj}async _openPopup(e,n,r,i){var o;Hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Rb(e,n,r,hv(),i);return qj(e,l,Nw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Rb(e,n,r,hv(),i);return Z4(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jj(e),r=new Tj(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ry,{type:Ry},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ry];l!==void 0&&n(!!l),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Cj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WC()||$C()||kw()}}const Xj=Yj;var kb="@firebase/auth",Db="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eF(t){Jl(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(t)},d=new R4(r,i,o,h);return L4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jl(new da("auth-internal",e=>{const n=um(e.getProvider("auth").getImmediate());return(r=>new Jj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(kb,Db,Zj(t)),Js(kb,Db,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=5*60,nF=bC("authIdTokenMaxAge")||tF;let Ob=null;const rF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nF)return;const i=n==null?void 0:n.token;Ob!==i&&(Ob=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iF(t=CC()){const e=xw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M4(t,{popupRedirectResolver:Xj,persistence:[lj,ZC,tA]}),r=bC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=rF(o.toString());W4(n,l,()=>l(n.currentUser)),H4(n,u=>l(u))}}const i=EC("auth");return i&&V4(n,`http://${i}`),n}function sF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ir("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",sF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eF("Browser");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,uA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,D){function L(){}L.prototype=D.prototype,j.D=D.prototype,j.prototype=new L,j.prototype.constructor=j,j.C=function(B,S,A){for(var I=Array(arguments.length-2),F=2;F<arguments.length;F++)I[F-2]=arguments[F];return D.prototype[S].apply(B,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,D,L){L||(L=0);var B=Array(16);if(typeof D=="string")for(var S=0;16>S;++S)B[S]=D.charCodeAt(L++)|D.charCodeAt(L++)<<8|D.charCodeAt(L++)<<16|D.charCodeAt(L++)<<24;else for(S=0;16>S;++S)B[S]=D[L++]|D[L++]<<8|D[L++]<<16|D[L++]<<24;D=j.g[0],L=j.g[1],S=j.g[2];var A=j.g[3],I=D+(A^L&(S^A))+B[0]+3614090360&4294967295;D=L+(I<<7&4294967295|I>>>25),I=A+(S^D&(L^S))+B[1]+3905402710&4294967295,A=D+(I<<12&4294967295|I>>>20),I=S+(L^A&(D^L))+B[2]+606105819&4294967295,S=A+(I<<17&4294967295|I>>>15),I=L+(D^S&(A^D))+B[3]+3250441966&4294967295,L=S+(I<<22&4294967295|I>>>10),I=D+(A^L&(S^A))+B[4]+4118548399&4294967295,D=L+(I<<7&4294967295|I>>>25),I=A+(S^D&(L^S))+B[5]+1200080426&4294967295,A=D+(I<<12&4294967295|I>>>20),I=S+(L^A&(D^L))+B[6]+2821735955&4294967295,S=A+(I<<17&4294967295|I>>>15),I=L+(D^S&(A^D))+B[7]+4249261313&4294967295,L=S+(I<<22&4294967295|I>>>10),I=D+(A^L&(S^A))+B[8]+1770035416&4294967295,D=L+(I<<7&4294967295|I>>>25),I=A+(S^D&(L^S))+B[9]+2336552879&4294967295,A=D+(I<<12&4294967295|I>>>20),I=S+(L^A&(D^L))+B[10]+4294925233&4294967295,S=A+(I<<17&4294967295|I>>>15),I=L+(D^S&(A^D))+B[11]+2304563134&4294967295,L=S+(I<<22&4294967295|I>>>10),I=D+(A^L&(S^A))+B[12]+1804603682&4294967295,D=L+(I<<7&4294967295|I>>>25),I=A+(S^D&(L^S))+B[13]+4254626195&4294967295,A=D+(I<<12&4294967295|I>>>20),I=S+(L^A&(D^L))+B[14]+2792965006&4294967295,S=A+(I<<17&4294967295|I>>>15),I=L+(D^S&(A^D))+B[15]+1236535329&4294967295,L=S+(I<<22&4294967295|I>>>10),I=D+(S^A&(L^S))+B[1]+4129170786&4294967295,D=L+(I<<5&4294967295|I>>>27),I=A+(L^S&(D^L))+B[6]+3225465664&4294967295,A=D+(I<<9&4294967295|I>>>23),I=S+(D^L&(A^D))+B[11]+643717713&4294967295,S=A+(I<<14&4294967295|I>>>18),I=L+(A^D&(S^A))+B[0]+3921069994&4294967295,L=S+(I<<20&4294967295|I>>>12),I=D+(S^A&(L^S))+B[5]+3593408605&4294967295,D=L+(I<<5&4294967295|I>>>27),I=A+(L^S&(D^L))+B[10]+38016083&4294967295,A=D+(I<<9&4294967295|I>>>23),I=S+(D^L&(A^D))+B[15]+3634488961&4294967295,S=A+(I<<14&4294967295|I>>>18),I=L+(A^D&(S^A))+B[4]+3889429448&4294967295,L=S+(I<<20&4294967295|I>>>12),I=D+(S^A&(L^S))+B[9]+568446438&4294967295,D=L+(I<<5&4294967295|I>>>27),I=A+(L^S&(D^L))+B[14]+3275163606&4294967295,A=D+(I<<9&4294967295|I>>>23),I=S+(D^L&(A^D))+B[3]+4107603335&4294967295,S=A+(I<<14&4294967295|I>>>18),I=L+(A^D&(S^A))+B[8]+1163531501&4294967295,L=S+(I<<20&4294967295|I>>>12),I=D+(S^A&(L^S))+B[13]+2850285829&4294967295,D=L+(I<<5&4294967295|I>>>27),I=A+(L^S&(D^L))+B[2]+4243563512&4294967295,A=D+(I<<9&4294967295|I>>>23),I=S+(D^L&(A^D))+B[7]+1735328473&4294967295,S=A+(I<<14&4294967295|I>>>18),I=L+(A^D&(S^A))+B[12]+2368359562&4294967295,L=S+(I<<20&4294967295|I>>>12),I=D+(L^S^A)+B[5]+4294588738&4294967295,D=L+(I<<4&4294967295|I>>>28),I=A+(D^L^S)+B[8]+2272392833&4294967295,A=D+(I<<11&4294967295|I>>>21),I=S+(A^D^L)+B[11]+1839030562&4294967295,S=A+(I<<16&4294967295|I>>>16),I=L+(S^A^D)+B[14]+4259657740&4294967295,L=S+(I<<23&4294967295|I>>>9),I=D+(L^S^A)+B[1]+2763975236&4294967295,D=L+(I<<4&4294967295|I>>>28),I=A+(D^L^S)+B[4]+1272893353&4294967295,A=D+(I<<11&4294967295|I>>>21),I=S+(A^D^L)+B[7]+4139469664&4294967295,S=A+(I<<16&4294967295|I>>>16),I=L+(S^A^D)+B[10]+3200236656&4294967295,L=S+(I<<23&4294967295|I>>>9),I=D+(L^S^A)+B[13]+681279174&4294967295,D=L+(I<<4&4294967295|I>>>28),I=A+(D^L^S)+B[0]+3936430074&4294967295,A=D+(I<<11&4294967295|I>>>21),I=S+(A^D^L)+B[3]+3572445317&4294967295,S=A+(I<<16&4294967295|I>>>16),I=L+(S^A^D)+B[6]+76029189&4294967295,L=S+(I<<23&4294967295|I>>>9),I=D+(L^S^A)+B[9]+3654602809&4294967295,D=L+(I<<4&4294967295|I>>>28),I=A+(D^L^S)+B[12]+3873151461&4294967295,A=D+(I<<11&4294967295|I>>>21),I=S+(A^D^L)+B[15]+530742520&4294967295,S=A+(I<<16&4294967295|I>>>16),I=L+(S^A^D)+B[2]+3299628645&4294967295,L=S+(I<<23&4294967295|I>>>9),I=D+(S^(L|~A))+B[0]+4096336452&4294967295,D=L+(I<<6&4294967295|I>>>26),I=A+(L^(D|~S))+B[7]+1126891415&4294967295,A=D+(I<<10&4294967295|I>>>22),I=S+(D^(A|~L))+B[14]+2878612391&4294967295,S=A+(I<<15&4294967295|I>>>17),I=L+(A^(S|~D))+B[5]+4237533241&4294967295,L=S+(I<<21&4294967295|I>>>11),I=D+(S^(L|~A))+B[12]+1700485571&4294967295,D=L+(I<<6&4294967295|I>>>26),I=A+(L^(D|~S))+B[3]+2399980690&4294967295,A=D+(I<<10&4294967295|I>>>22),I=S+(D^(A|~L))+B[10]+4293915773&4294967295,S=A+(I<<15&4294967295|I>>>17),I=L+(A^(S|~D))+B[1]+2240044497&4294967295,L=S+(I<<21&4294967295|I>>>11),I=D+(S^(L|~A))+B[8]+1873313359&4294967295,D=L+(I<<6&4294967295|I>>>26),I=A+(L^(D|~S))+B[15]+4264355552&4294967295,A=D+(I<<10&4294967295|I>>>22),I=S+(D^(A|~L))+B[6]+2734768916&4294967295,S=A+(I<<15&4294967295|I>>>17),I=L+(A^(S|~D))+B[13]+1309151649&4294967295,L=S+(I<<21&4294967295|I>>>11),I=D+(S^(L|~A))+B[4]+4149444226&4294967295,D=L+(I<<6&4294967295|I>>>26),I=A+(L^(D|~S))+B[11]+3174756917&4294967295,A=D+(I<<10&4294967295|I>>>22),I=S+(D^(A|~L))+B[2]+718787259&4294967295,S=A+(I<<15&4294967295|I>>>17),I=L+(A^(S|~D))+B[9]+3951481745&4294967295,j.g[0]=j.g[0]+D&4294967295,j.g[1]=j.g[1]+(S+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+S&4294967295,j.g[3]=j.g[3]+A&4294967295}r.prototype.u=function(j,D){D===void 0&&(D=j.length);for(var L=D-this.blockSize,B=this.B,S=this.h,A=0;A<D;){if(S==0)for(;A<=L;)i(this,j,A),A+=this.blockSize;if(typeof j=="string"){for(;A<D;)if(B[S++]=j.charCodeAt(A++),S==this.blockSize){i(this,B),S=0;break}}else for(;A<D;)if(B[S++]=j[A++],S==this.blockSize){i(this,B),S=0;break}}this.h=S,this.o+=D},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var D=1;D<j.length-8;++D)j[D]=0;var L=8*this.o;for(D=j.length-8;D<j.length;++D)j[D]=L&255,L/=256;for(this.u(j),j=Array(16),D=L=0;4>D;++D)for(var B=0;32>B;B+=8)j[L++]=this.g[D]>>>B&255;return j};function o(j,D){var L=u;return Object.prototype.hasOwnProperty.call(L,j)?L[j]:L[j]=D(j)}function l(j,D){this.h=D;for(var L=[],B=!0,S=j.length-1;0<=S;S--){var A=j[S]|0;B&&A==D||(L[S]=A,B=!1)}this.g=L}var u={};function h(j){return-128<=j&&128>j?o(j,function(D){return new l([D|0],0>D?-1:0)}):new l([j|0],0>j?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return y;if(0>j)return R(d(-j));for(var D=[],L=1,B=0;j>=L;B++)D[B]=j/L|0,L*=4294967296;return new l(D,0)}function m(j,D){if(j.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(j.charAt(0)=="-")return R(m(j.substring(1),D));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=d(Math.pow(D,8)),B=y,S=0;S<j.length;S+=8){var A=Math.min(8,j.length-S),I=parseInt(j.substring(S,S+A),D);8>A?(A=d(Math.pow(D,A)),B=B.j(A).add(d(I))):(B=B.j(L),B=B.add(d(I)))}return B}var y=h(0),_=h(1),E=h(16777216);t=l.prototype,t.m=function(){if(b(this))return-R(this).m();for(var j=0,D=1,L=0;L<this.g.length;L++){var B=this.i(L);j+=(0<=B?B:4294967296+B)*D,D*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(x(this))return"0";if(b(this))return"-"+R(this).toString(j);for(var D=d(Math.pow(j,6)),L=this,B="";;){var S=W(L,D).g;L=P(L,S.j(D));var A=((0<L.g.length?L.g[0]:L.h)>>>0).toString(j);if(L=S,x(L))return A+B;for(;6>A.length;)A="0"+A;B=A+B}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function x(j){if(j.h!=0)return!1;for(var D=0;D<j.g.length;D++)if(j.g[D]!=0)return!1;return!0}function b(j){return j.h==-1}t.l=function(j){return j=P(this,j),b(j)?-1:x(j)?0:1};function R(j){for(var D=j.g.length,L=[],B=0;B<D;B++)L[B]=~j.g[B];return new l(L,~j.h).add(_)}t.abs=function(){return b(this)?R(this):this},t.add=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],B=0,S=0;S<=D;S++){var A=B+(this.i(S)&65535)+(j.i(S)&65535),I=(A>>>16)+(this.i(S)>>>16)+(j.i(S)>>>16);B=I>>>16,A&=65535,I&=65535,L[S]=I<<16|A}return new l(L,L[L.length-1]&-2147483648?-1:0)};function P(j,D){return j.add(R(D))}t.j=function(j){if(x(this)||x(j))return y;if(b(this))return b(j)?R(this).j(R(j)):R(R(this).j(j));if(b(j))return R(this.j(R(j)));if(0>this.l(E)&&0>j.l(E))return d(this.m()*j.m());for(var D=this.g.length+j.g.length,L=[],B=0;B<2*D;B++)L[B]=0;for(B=0;B<this.g.length;B++)for(var S=0;S<j.g.length;S++){var A=this.i(B)>>>16,I=this.i(B)&65535,F=j.i(S)>>>16,me=j.i(S)&65535;L[2*B+2*S]+=I*me,N(L,2*B+2*S),L[2*B+2*S+1]+=A*me,N(L,2*B+2*S+1),L[2*B+2*S+1]+=I*F,N(L,2*B+2*S+1),L[2*B+2*S+2]+=A*F,N(L,2*B+2*S+2)}for(B=0;B<D;B++)L[B]=L[2*B+1]<<16|L[2*B];for(B=D;B<2*D;B++)L[B]=0;return new l(L,0)};function N(j,D){for(;(j[D]&65535)!=j[D];)j[D+1]+=j[D]>>>16,j[D]&=65535,D++}function V(j,D){this.g=j,this.h=D}function W(j,D){if(x(D))throw Error("division by zero");if(x(j))return new V(y,y);if(b(j))return D=W(R(j),D),new V(R(D.g),R(D.h));if(b(D))return D=W(j,R(D)),new V(R(D.g),D.h);if(30<j.g.length){if(b(j)||b(D))throw Error("slowDivide_ only works with positive integers.");for(var L=_,B=D;0>=B.l(j);)L=X(L),B=X(B);var S=J(L,1),A=J(B,1);for(B=J(B,2),L=J(L,2);!x(B);){var I=A.add(B);0>=I.l(j)&&(S=S.add(L),A=I),B=J(B,1),L=J(L,1)}return D=P(j,S.j(D)),new V(S,D)}for(S=y;0<=j.l(D);){for(L=Math.max(1,Math.floor(j.m()/D.m())),B=Math.ceil(Math.log(L)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),A=d(L),I=A.j(D);b(I)||0<I.l(j);)L-=B,A=d(L),I=A.j(D);x(A)&&(A=_),S=S.add(A),j=P(j,I)}return new V(S,j)}t.A=function(j){return W(this,j).h},t.and=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],B=0;B<D;B++)L[B]=this.i(B)&j.i(B);return new l(L,this.h&j.h)},t.or=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],B=0;B<D;B++)L[B]=this.i(B)|j.i(B);return new l(L,this.h|j.h)},t.xor=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],B=0;B<D;B++)L[B]=this.i(B)^j.i(B);return new l(L,this.h^j.h)};function X(j){for(var D=j.g.length+1,L=[],B=0;B<D;B++)L[B]=j.i(B)<<1|j.i(B-1)>>>31;return new l(L,j.h)}function J(j,D){var L=D>>5;D%=32;for(var B=j.g.length-L,S=[],A=0;A<B;A++)S[A]=0<D?j.i(A+L)>>>D|j.i(A+L+1)<<32-D:j.i(A+L);return new l(S,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Zs=l}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cA,Cc,hA,Xf,pv,dA,fA,pA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Of=="object"&&Of];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(f,v){if(v)e:{var T=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var G=f[O];if(!(G in T))break e;T=T[G]}f=f[f.length-1],O=T[f],v=v(O),v!=O&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var T=0,O=!1,G={next:function(){if(!O&&T<f.length){var Z=T++;return{value:v(Z,f[Z]),done:!1}}return O=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function d(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,T){return f.call.apply(f.bind,arguments)}function y(f,v,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,O),f.apply(v,G)}}return function(){return f.apply(v,arguments)}}function _(f,v,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function E(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function x(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,G,Z){for(var de=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)de[Ze-2]=arguments[Ze];return v.prototype[G].apply(O,de)}}function b(f){const v=f.length;if(0<v){const T=Array(v);for(let O=0;O<v;O++)T[O]=f[O];return T}return[]}function R(f,v){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(h(O)){const G=f.length||0,Z=O.length||0;f.length=G+Z;for(let de=0;de<Z;de++)f[G+de]=O[de]}else f.push(O)}}class P{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function W(f){return W[" "](f),f}W[" "]=function(){};var X=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function J(f,v,T){for(const O in f)v.call(T,f[O],O,f)}function j(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function D(f){const v={};for(const T in f)v[T]=f[T];return v}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,v){let T,O;for(let G=1;G<arguments.length;G++){O=arguments[G];for(T in O)f[T]=O[T];for(let Z=0;Z<L.length;Z++)T=L[Z],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function S(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function A(f){u.setTimeout(()=>{throw f},0)}function I(){var f=fe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,T){const O=me.get();O.set(v,T),this.h?this.h.next=O:this.g=O,this.h=O}}var me=new P(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,fe=new F,ae=()=>{const f=u.Promise.resolve(void 0);ie=()=>{f.then(q)}};var q=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(T){A(T)}var v=me;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}te=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return f}();function Re(f,v){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(X){e:{try{W(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}x(Re,ye);var Se={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),qe=0;function je(f,v,T,O,G){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!O,this.ha=G,this.key=++qe,this.da=this.fa=!1}function Ut(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ii(f){this.src=f,this.g={},this.h=0}ii.prototype.add=function(f,v,T,O,G){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var de=ts(f,v,O,G);return-1<de?(v=f[de],T||(v.fa=!1)):(v=new je(v,this.src,Z,!!O,G),v.fa=T,f.push(v)),v};function Sa(f,v){var T=v.type;if(T in f.g){var O=f.g[T],G=Array.prototype.indexOf.call(O,v,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(O,G,1),Z&&(Ut(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ts(f,v,T,O){for(var G=0;G<f.length;++G){var Z=f[G];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==O)return G}return-1}var mo="closure_lm_"+(1e6*Math.random()|0),Ia={};function Iu(f,v,T,O,G){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Iu(f,v[Z],T,O,G);return null}return T=Pu(T),f&&f[ze]?f.K(v,T,d(O)?!!O.capture:!1,G):Cu(f,v,T,!1,O,G)}function Cu(f,v,T,O,G,Z){if(!v)throw Error("Invalid event type");var de=d(G)?!!G.capture:!!G,Ze=Aa(f);if(Ze||(f[mo]=Ze=new ii(f)),T=Ze.add(v,T,O,de,Z),T.proxy)return T;if(O=fd(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)be||(G=de),G===void 0&&(G=!1),f.addEventListener(v.toString(),O,G);else if(f.attachEvent)f.attachEvent(oi(v.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fd(){function f(T){return v.call(f.src,f.listener,T)}const v=Au;return f}function Ca(f,v,T,O,G){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Ca(f,v[Z],T,O,G);else O=d(O)?!!O.capture:!!O,T=Pu(T),f&&f[ze]?(f=f.i,v=String(v).toString(),v in f.g&&(Z=f.g[v],T=ts(Z,T,O,G),-1<T&&(Ut(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete f.g[v],f.h--)))):f&&(f=Aa(f))&&(v=f.g[v.toString()],f=-1,v&&(f=ts(v,T,O,G)),(T=-1<f?v[f]:null)&&si(T))}function si(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ze])Sa(v.i,f);else{var T=f.type,O=f.proxy;v.removeEventListener?v.removeEventListener(T,O,f.capture):v.detachEvent?v.detachEvent(oi(T),O):v.addListener&&v.removeListener&&v.removeListener(O),(T=Aa(v))?(Sa(T,f),T.h==0&&(T.src=null,v[mo]=null)):Ut(f)}}}function oi(f){return f in Ia?Ia[f]:Ia[f]="on"+f}function Au(f,v){if(f.da)f=!0;else{v=new Re(v,this);var T=f.listener,O=f.ha||f.src;f.fa&&si(f),f=T.call(O,v)}return f}function Aa(f){return f=f[mo],f instanceof ii?f:null}var Pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(f){return typeof f=="function"?f:(f[Pa]||(f[Pa]=function(v){return f.handleEvent(v)}),f[Pa])}function kt(){ne.call(this),this.i=new ii(this),this.M=this,this.F=null}x(kt,ne),kt.prototype[ze]=!0,kt.prototype.removeEventListener=function(f,v,T,O){Ca(this,f,v,T,O)};function Dt(f,v){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=v.type||v,typeof v=="string")v=new ye(v,f);else if(v instanceof ye)v.target=v.target||f;else{var G=v;v=new ye(O,f),B(v,G)}if(G=!0,T)for(var Z=T.length-1;0<=Z;Z--){var de=v.g=T[Z];G=ai(de,O,!0,v)&&G}if(de=v.g=f,G=ai(de,O,!0,v)&&G,G=ai(de,O,!1,v)&&G,T)for(Z=0;Z<T.length;Z++)de=v.g=T[Z],G=ai(de,O,!1,v)&&G}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],O=0;O<T.length;O++)Ut(T[O]);delete f.g[v],f.h--}}this.F=null},kt.prototype.K=function(f,v,T,O){return this.i.add(String(f),v,!1,T,O)},kt.prototype.L=function(f,v,T,O){return this.i.add(String(f),v,!0,T,O)};function ai(f,v,T,O){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Z=0;Z<v.length;++Z){var de=v[Z];if(de&&!de.da&&de.capture==T){var Ze=de.listener,Ot=de.ha||de.src;de.fa&&Sa(f.i,de),G=Ze.call(Ot,O)!==!1&&G}}return G&&!O.defaultPrevented}function Ru(f,v,T){if(typeof f=="function")T&&(f=_(f,T));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function ns(f){f.g=Ru(()=>{f.g=null,f.i&&(f.i=!1,ns(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class go extends ne{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(f){ne.call(this),this.h=f,this.g={}}x(yo,ne);var ku=[];function Du(f){J(f.g,function(v,T){this.g.hasOwnProperty(T)&&si(v)},f),f.g={}}yo.prototype.N=function(){yo.aa.N.call(this),Du(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ou=u.JSON.stringify,Nu=u.JSON.parse,Mu=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function vo(){}vo.prototype.h=null;function Ra(f){return f.h||(f.h=f.i())}function ka(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ye.call(this,"d")}x(Ar,ye);function Da(){ye.call(this,"c")}x(Da,ye);var Pr={},Lu=null;function wo(){return Lu=Lu||new kt}Pr.La="serverreachability";function Vu(f){ye.call(this,Pr.La,f)}x(Vu,ye);function li(f){const v=wo();Dt(v,new Vu(v))}Pr.STAT_EVENT="statevent";function ju(f,v){ye.call(this,Pr.STAT_EVENT,f),this.stat=v}x(ju,ye);function Tt(f){const v=wo();Dt(v,new ju(v,f))}Pr.Ma="timingevent";function Oa(f,v){ye.call(this,Pr.Ma,f),this.size=v}x(Oa,ye);function lr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function _o(){this.g=!0}_o.prototype.xa=function(){this.g=!1};function Eo(f,v,T,O,G,Z){f.info(function(){if(f.g)if(Z)for(var de="",Ze=Z.split("&"),Ot=0;Ot<Ze.length;Ot++){var Ge=Ze[Ot].split("=");if(1<Ge.length){var Bt=Ge[0];Ge=Ge[1];var Ct=Bt.split("_");de=2<=Ct.length&&Ct[1]=="type"?de+(Bt+"="+Ge+"&"):de+(Bt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+O+") [attempt "+G+"]: "+v+`
`+T+`
`+de})}function Na(f,v,T,O,G,Z,de){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+G+"]: "+v+`
`+T+`
`+Z+" "+de})}function ur(f,v,T,O){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+jm(f,T)+(O?" "+O:"")})}function Fu(f,v){f.info(function(){return"TIMEOUT: "+v})}_o.prototype.info=function(){};function jm(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var G=O[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return Ou(T)}catch{return v}}var Ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function To(){}x(To,vo),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},cr=new To;function hr(f,v,T,O){this.j=f,this.i=v,this.l=T,this.R=O||1,this.U=new yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new md}function md(){this.i=null,this.g="",this.h=!1}var $u={},La={};function Va(f,v,T){f.L=1,f.v=as(Nn(v)),f.m=T,f.P=!0,Uu(f,null)}function Uu(f,v){f.F=Date.now(),rt(f),f.A=Nn(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),us(T.i,"t",O),f.C=0,T=f.j.J,f.h=new md,f.g=Od(f.j,T?v:null,!f.m),0<f.O&&(f.M=new go(_(f.Y,f,f.g),f.O)),v=f.U,T=f.g,O=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(ku[0]=G.toString()),G=ku);for(var Z=0;Z<G.length;Z++){var de=Iu(T,G[Z],O||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),li(),Eo(f.i,f.u,f.A,f.l,f.R,f.m)}hr.prototype.ca=function(f){f=f.target;const v=this.M;v&&En(f)==3?v.j():this.Y(f)},hr.prototype.Y=function(f){try{if(f==this.g)e:{const Ct=En(this.g);var v=this.g.Ba();const Wn=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||Ct!=4||v==7||(v==8||0>=Wn?li(3):li(2)),bo(this);var T=this.g.Z();this.X=T;t:if(gd(this)){var O=Gu(this.g);f="";var G=O.length,Z=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),rs(this);var de="";break t}this.h.i=new u.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,f+=this.h.i.decode(O[v],{stream:!(Z&&v==G-1)});O.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,Na(this.i,this.u,this.A,this.l,this.R,Ct,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Ot=this.g;if((Ze=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Ze)){var Ge=Ze;break t}}Ge=null}if(T=Ge)ur(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bu(this,T);else{this.o=!1,this.s=3,Tt(12),qn(this),rs(this);break e}}if(this.P){T=!0;let Ln;for(;!this.J&&this.C<de.length;)if(Ln=Fm(this,de),Ln==La){Ct==4&&(this.s=4,Tt(14),T=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==$u){this.s=4,Tt(15),ur(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else ur(this.i,this.l,Ln,null),Bu(this,Ln);if(gd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||de.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)ur(this.i,this.l,de,"[Invalid Chunked Response]"),qn(this),rs(this);else if(0<de.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Qu(Bt),Bt.M=!0,Tt(11))}}else ur(this.i,this.l,de,null),Bu(this,de);Ct==4&&qn(this),this.o&&!this.J&&(Ct==4?Ka(this.j,this):(this.o=!1,rt(this)))}else za(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),qn(this),rs(this)}}}catch{}finally{}};function gd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Fm(f,v){var T=f.C,O=v.indexOf(`
`,T);return O==-1?La:(T=Number(v.substring(T,O)),isNaN(T)?$u:(O+=1,O+T>v.length?La:(v=v.slice(O,O+T),f.C=O+T,v)))}hr.prototype.cancel=function(){this.J=!0,qn(this)};function rt(f){f.S=Date.now()+f.I,yd(f,f.I)}function yd(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=lr(_(f.ba,f),v)}function bo(f){f.B&&(u.clearTimeout(f.B),f.B=null)}hr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Fu(this.i,this.A),this.L!=2&&(li(),Tt(17)),qn(this),this.s=2,rs(this)):yd(this,this.S-f)};function rs(f){f.j.G==0||f.J||Ka(f.j,f)}function qn(f){bo(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Du(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Bu(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||pn(T.h,f))){if(!f.K&&pn(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var G=O;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ga(T),gr(T);else break e;Wa(T),Tt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=lr(_(T.Za,T),6e3));if(1>=wd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fi(T,11)}else if((f.K||T.g==f)&&Ga(T),!N(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let Ge=G[v];if(T.T=Ge[0],Ge=Ge[1],T.G==2)if(Ge[0]=="c"){T.K=Ge[1],T.ia=Ge[2];const Bt=Ge[3];Bt!=null&&(T.la=Bt,T.j.info("VER="+T.la));const Ct=Ge[4];Ct!=null&&(T.Aa=Ct,T.j.info("SVER="+T.Aa));const Wn=Ge[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(O=1.5*Wn,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Ln=f.g;if(Ln){const Ro=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var Z=O.h;Z.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(zu(Z,Z.h),Z.h=null))}if(O.D){const Ya=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(O.ya=Ya,tt(O.I,O.D,Ya))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var de=f;if(O.qa=Dd(O,O.J?O.ia:null,O.W),de.K){_d(O.h,de);var Ze=de,Ot=O.L;Ot&&(Ze.I=Ot),Ze.B&&(bo(Ze),rt(Ze)),O.g=de}else Po(O);0<T.i.length&&Or(T)}else Ge[0]!="stop"&&Ge[0]!="close"||fi(T,7);else T.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?fi(T,7):Kt(T):Ge[0]!="noop"&&T.l&&T.l.ta(Ge),T.v=0)}}li(4)}catch{}}var vd=class{constructor(f,v){this.g=f,this.map=v}};function xo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wd(f){return f.h?1:f.g?f.g.size:0}function pn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function zu(f,v){f.g?f.g.add(v):f.h=v}function _d(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}xo.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ed(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return b(f.i)}function ja(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var v=[],T=f.length,O=0;O<T;O++)v.push(f[O]);return v}v=[],T=0;for(O in f)v[T++]=f[O];return v}function Fa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const O in f)v[T++]=O;return v}}}function is(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=Fa(f),O=ja(f),G=O.length,Z=0;Z<G;Z++)v.call(void 0,O[Z],T&&T[Z],f)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $m(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),G=null;if(0<=O){var Z=f[T].substring(0,O);G=f[T].substring(O+1)}else Z=f[T];v(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ui(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ui){this.h=f.h,Io(this,f.j),this.o=f.o,this.g=f.g,ss(this,f.s),this.l=f.l;var v=f.i,T=new Rr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),os(this,T),this.m=f.m}else f&&(v=String(f).match(So))?(this.h=!1,Io(this,v[1]||"",!0),this.o=He(v[2]||""),this.g=He(v[3]||"",!0),ss(this,v[4]),this.l=He(v[5]||"",!0),os(this,v[6]||"",!0),this.m=He(v[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}ui.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ls(v,$a,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ls(v,$a,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ls(T,T.charAt(0)=="/"?xd:bd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ls(T,qu)),f.join("")};function Nn(f){return new ui(f)}function Io(f,v,T){f.j=T?He(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ss(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function os(f,v,T){v instanceof Rr?(f.i=v,kr(f.i,f.h)):(T||(v=ls(v,Sd)),f.i=new Rr(v,f.h))}function tt(f,v,T){f.i.set(v,T)}function as(f){return tt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function He(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ls(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Td),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Td(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var $a=/[#\/\?@]/g,bd=/[#\?:]/g,xd=/[#\?]/g,Sd=/[#\?@]/g,qu=/#/g;function Rr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Gt(f){f.g||(f.g=new Map,f.h=0,f.i&&$m(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Rr.prototype,t.add=function(f,v){Gt(this),this.i=null,f=Hn(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function dr(f,v){Gt(f),v=Hn(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function fr(f,v){return Gt(f),v=Hn(f,v),f.g.has(v)}t.forEach=function(f,v){Gt(this),this.g.forEach(function(T,O){T.forEach(function(G){f.call(v,G,O,this)},this)},this)},t.na=function(){Gt(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let O=0;O<v.length;O++){const G=f[O];for(let Z=0;Z<G.length;Z++)T.push(v[O])}return T},t.V=function(f){Gt(this);let v=[];if(typeof f=="string")fr(this,f)&&(v=v.concat(this.g.get(Hn(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},t.set=function(f,v){return Gt(this),this.i=null,f=Hn(this,f),fr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function us(f,v,T){dr(f,v),0<T.length&&(f.i=null,f.g.set(Hn(f,v),b(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var O=v[T];const Z=encodeURIComponent(String(O)),de=this.V(O);for(O=0;O<de.length;O++){var G=Z;de[O]!==""&&(G+="="+encodeURIComponent(String(de[O]))),f.push(G)}}return this.i=f.join("&")};function Hn(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function kr(f,v){v&&!f.j&&(Gt(f),f.i=null,f.g.forEach(function(T,O){var G=O.toLowerCase();O!=G&&(dr(this,O),us(this,G,T))},f)),f.j=v}function Um(f,v){const T=new _o;if(u.Image){const O=new Image;O.onload=E(_n,T,"TestLoadImage: loaded",!0,v,O),O.onerror=E(_n,T,"TestLoadImage: error",!1,v,O),O.onabort=E(_n,T,"TestLoadImage: abort",!1,v,O),O.ontimeout=E(_n,T,"TestLoadImage: timeout",!1,v,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else v(!1)}function Id(f,v){const T=new _o,O=new AbortController,G=setTimeout(()=>{O.abort(),_n(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:O.signal}).then(Z=>{clearTimeout(G),Z.ok?_n(T,"TestPingServer: ok",!0,v):_n(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),_n(T,"TestPingServer: error",!1,v)})}function _n(f,v,T,O,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),O(T)}catch{}}function Bm(){this.g=new Mu}function Cd(f,v,T){const O=T||"";try{is(f,function(G,Z){let de=G;d(G)&&(de=Ou(G)),v.push(O+Z+"="+encodeURIComponent(de))})}catch(G){throw v.push(O+"type="+encodeURIComponent("_badmap")),G}}function ci(f){this.l=f.Ub||null,this.j=f.eb||!1}x(ci,vo),ci.prototype.g=function(){return new Co(this.l,this.j)},ci.prototype.i=function(f){return function(){return f}}({});function Co(f,v){kt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Co,kt),t=Co.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,mr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ad(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ad(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?pr(this):mr(this),this.readyState==3&&Ad(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,pr(this))},t.Qa=function(f){this.g&&(this.response=f,pr(this))},t.ga=function(){this.g&&pr(this)};function pr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function mr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function hi(f){let v="";return J(f,function(T,O){v+=O,v+=":",v+=T,v+=`\r
`}),v}function cs(f,v,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=hi(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):tt(f,v,T))}function lt(f){kt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(lt,kt);var zm=/^https?$/i,Hu=["POST","PUT"];t=lt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?Ra(this.o):Ra(cr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Z){Ao(this,Z);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var G in O)T.set(G,O[G]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Z of O.keys())T.set(Z,O.get(Z));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Hu,v,void 0))||O||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of T)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){Ao(this,Z)}};function Ao(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Ua(f),Mn(f)}function Ua(f){f.A||(f.A=!0,Dt(f,"complete"),Dt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Dt(this,"complete"),Dt(this,"abort"),Mn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wu(this):this.bb())},t.bb=function(){Wu(this)};function Wu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||En(f)!=4||f.Z()!=2)){if(f.u&&En(f)==4)Ru(f.Ea,0,f);else if(Dt(f,"readystatechange"),En(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var O;if(O=de===0){var G=String(f.D).match(So)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),O=!zm.test(G?G.toLowerCase():"")}T=O}if(T)Dt(f,"complete"),Dt(f,"success");else{f.m=6;try{var Z=2<En(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",Ua(f)}}finally{Mn(f)}}}}function Mn(f,v){if(f.g){Ba(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Dt(f,"ready");try{T.onreadystatechange=O}catch{}}}function Ba(f){f.I&&(u.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function En(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Nu(v)}};function Gu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function za(f){const v={};f=(f.g&&2<=En(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(N(f[O]))continue;var T=S(f[O]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[G]||[];v[G]=Z,Z.push(T)}j(v,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function Ku(f){this.Aa=0,this.i=[],this.j=new _o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,f),this.cb=Dr("retryDelaySeedMs",1e4,f),this.Wa=Dr("forwardChannelMaxRetries",2,f),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new xo(f&&f.concurrentRequestLimit),this.Da=new Bm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ku.prototype,t.la=8,t.G=1,t.connect=function(f,v,T,O){Tt(0),this.W=f,this.H=v||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=Dd(this,null,this.W),Or(this)};function Kt(f){if(qa(f),f.G==3){var v=f.U++,T=Nn(f.I);if(tt(T,"SID",f.K),tt(T,"RID",v),tt(T,"TYPE","terminate"),di(f,T),v=new hr(f,f.j,v),v.L=2,v.v=as(Nn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.v,T=!0),T||(v.g=Od(v.j,null),v.g.ea(v.v)),v.F=Date.now(),rt(v)}kd(f)}function gr(f){f.g&&(Qu(f),f.g.cancel(),f.g=null)}function qa(f){gr(f),f.u&&(u.clearTimeout(f.u),f.u=null),Ga(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Or(f){if(!On(f.h)&&!f.s){f.s=!0;var v=f.Ga;ie||ae(),te||(ie(),te=!0),fe.add(v,f),f.B=0}}function qm(f,v){return wd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=lr(_(f.Ga,f,v),Rd(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new hr(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=D(Z),B(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=hs(this,G,v),T=Nn(this.I),tt(T,"RID",f),tt(T,"CVER",22),this.D&&tt(T,"X-HTTP-Session-Id",this.D),di(this,T),Z&&(this.O?v="headers="+encodeURIComponent(String(hi(Z)))+"&"+v:this.m&&cs(T,this.m,Z)),zu(this.h,G),this.Ua&&tt(T,"TYPE","init"),this.P?(tt(T,"$req",v),tt(T,"SID","null"),G.T=!0,Va(G,T,null)):Va(G,T,v),this.G=2}}else this.G==3&&(f?Ha(this,f):this.i.length==0||On(this.h)||Ha(this))};function Ha(f,v){var T;v?T=v.l:T=f.U++;const O=Nn(f.I);tt(O,"SID",f.K),tt(O,"RID",T),tt(O,"AID",f.T),di(f,O),f.m&&f.o&&cs(O,f.m,f.o),T=new hr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=hs(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),zu(f.h,T),Va(T,O,v)}function di(f,v){f.H&&J(f.H,function(T,O){tt(v,O,T)}),f.l&&is({},function(T,O){tt(v,O,T)})}function hs(f,v,T){T=Math.min(f.i.length,T);var O=f.l?_(f.l.Na,f.l,f):null;e:{var G=f.i;let Z=-1;for(;;){const de=["count="+T];Z==-1?0<T?(Z=G[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let Ze=!0;for(let Ot=0;Ot<T;Ot++){let Ge=G[Ot].g;const Bt=G[Ot].map;if(Ge-=Z,0>Ge)Z=Math.max(0,G[Ot].g-100),Ze=!1;else try{Cd(Bt,de,"req"+Ge+"_")}catch{O&&O(Bt)}}if(Ze){O=de.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,O}function Po(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ie||ae(),te||(ie(),te=!0),fe.add(v,f),f.v=0}}function Wa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=lr(_(f.Fa,f),Rd(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Pd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=lr(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),gr(this),Pd(this))};function Qu(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Pd(f){f.g=new hr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Nn(f.qa);tt(v,"RID","rpc"),tt(v,"SID",f.K),tt(v,"AID",f.T),tt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&tt(v,"TO",f.ja),tt(v,"TYPE","xmlhttp"),di(f,v),f.m&&f.o&&cs(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=as(Nn(v)),T.m=null,T.P=!0,Uu(T,f)}t.Za=function(){this.C!=null&&(this.C=null,gr(this),Wa(this),Tt(19))};function Ga(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Ka(f,v){var T=null;if(f.g==v){Ga(f),Qu(f),f.g=null;var O=2}else if(pn(f.h,v))T=v.D,_d(f.h,v),O=1;else return;if(f.G!=0){if(v.o)if(O==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=f.B;O=wo(),Dt(O,new Oa(O,T)),Or(f)}else Po(f);else if(G=v.s,G==3||G==0&&0<v.X||!(O==1&&qm(f,v)||O==2&&Wa(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),G){case 1:fi(f,5);break;case 4:fi(f,10);break;case 3:fi(f,6);break;default:fi(f,2)}}}function Rd(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function fi(f,v){if(f.j.info("Error code "+v),v==2){var T=_(f.fb,f),O=f.Xa;const G=!O;O=new ui(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Io(O,"https"),as(O),G?Um(O.toString(),T):Id(O.toString(),T)}else Tt(2);f.G=0,f.l&&f.l.sa(v),kd(f),qa(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function kd(f){if(f.G=0,f.ka=[],f.l){const v=Ed(f.h);(v.length!=0||f.i.length!=0)&&(R(f.ka,v),R(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function Dd(f,v,T){var O=T instanceof ui?Nn(T):new ui(T);if(O.g!="")v&&(O.g=v+"."+O.g),ss(O,O.s);else{var G=u.location;O=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Z=new ui(null);O&&Io(Z,O),v&&(Z.g=v),G&&ss(Z,G),T&&(Z.l=T),O=Z}return T=f.D,v=f.ya,T&&v&&tt(O,T,v),tt(O,"VER",f.la),di(f,O),O}function Od(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new lt(new ci({eb:T})):new lt(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}t=Yu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qa(){}Qa.prototype.g=function(f,v){return new mn(f,v)};function mn(f,v){kt.call(this),this.g=new Ku(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!N(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Nr(this)}x(mn,kt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Ou(f),f=T);v.i.push(new vd(v.Ya++,f)),v.G==3&&Or(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)};function Nd(f){Ar.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}x(Nd,Ar);function Md(){Da.call(this),this.status=1}x(Md,Da);function Nr(f){this.g=f}x(Nr,Yu),Nr.prototype.ua=function(){Dt(this.g,"a")},Nr.prototype.ta=function(f){Dt(this.g,new Nd(f))},Nr.prototype.sa=function(f){Dt(this.g,new Md)},Nr.prototype.ra=function(){Dt(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,pA=function(){return new Qa},fA=function(){return wo()},dA=Pr,pv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,Xf=Ma,pd.COMPLETE="complete",hA=pd,ka.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Cc=ka,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,cA=lt}).apply(typeof Of<"u"?Of:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Tw("@firebase/firestore");function wl(){return pa.logLevel}function we(t,...e){if(pa.logLevel<=Ue.DEBUG){const n=e.map(Lw);pa.debug(`Firestore (${yu}): ${t}`,...n)}}function Wi(t,...e){if(pa.logLevel<=Ue.ERROR){const n=e.map(Lw);pa.error(`Firestore (${yu}): ${t}`,...n)}}function tu(t,...e){if(pa.logLevel<=Ue.WARN){const n=e.map(Lw);pa.warn(`Firestore (${yu}): ${t}`,...n)}}function Lw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${yu}) INTERNAL ASSERTION FAILED: `+t;throw Wi(e),new Error(e)}function Je(t,e){t||Ne()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class aF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lF{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new eo,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new eo)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new mA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new ln(e)}}class uF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new hF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function nu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ft(0,0))}static max(){return new Me(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(),r===void 0?r=e.length-n:r>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Fr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Fr.isNumericId(e),i=Fr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fr.extractNumericId(e).compare(Fr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class wt extends Fr{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const pF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Fr{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return pF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(wt.fromString(e))}static fromName(e){return new Pe(wt.fromString(e).popFirst(5))}static empty(){return new Pe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new wt(e.slice()))}}function mF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new ro(i,Pe.empty(),e)}function gF(t){return new ro(t.readTime,t.key,-1)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(Me.min(),Pe.empty(),-1)}static max(){return new ro(Me.max(),Pe.empty(),-1)}}function yF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==vF)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&n()},h=>r(h))}),l=!0,o===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next(m=>{l[d]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new re((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _F(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dm.oe=-1;function fm(t){return t==null}function bp(t){return t===0&&1/t==-1/0}function EF(t){return typeof t=="number"&&Number.isInteger(t)&&!bp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lb(e)),e=bF(t.get(n),e);return Lb(e)}function bF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Lb(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(e){return new jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new xr([])}unionWith(e){let n=new $t(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vA("Invalid base64 string: "+o):o}}(e);return new en(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const xF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(Je(!!t),typeof t=="string"){let e=0;const n=xF.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pm(t){const e=t.mapValue.fields.__previous_value__;return Vw(e)?pm(e):e}function Jc(t){const e=io(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,i,o,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d}}class Zc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vw(t)?4:CF(t)?9007199254740991:IF(t)?10:11:Ne()}function Yr(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=io(i.timestampValue),u=io(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return so(i.bytesValue).isEqual(so(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=It(i.doubleValue),u=It(o.doubleValue);return l===u?bp(l)===bp(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return nu(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(Vb(l)!==Vb(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Yr(l[h],u[h])))return!1;return!0}(t,e);default:return Ne()}}function eh(t,e){return(t.values||[]).find(n=>Yr(n,e))!==void 0}function ru(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=It(o.integerValue||o.doubleValue),h=It(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return Fb(t.timestampValue,e.timestampValue);case 4:return Fb(Jc(t),Jc(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,l){const u=so(o),h=so(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let d=0;d<u.length&&d<h.length;d++){const m=We(u[d],h[d]);if(m!==0)return m}return We(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=We(It(o.latitude),It(l.latitude));return u!==0?u:We(It(o.longitude),It(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $b(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,d,m;const y=o.fields||{},_=l.fields||{},E=(u=y.value)===null||u===void 0?void 0:u.arrayValue,x=(h=_.value)===null||h===void 0?void 0:h.arrayValue,b=We(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0);return b!==0?b:$b(E,x)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===Mf.mapValue&&l===Mf.mapValue)return 0;if(o===Mf.mapValue)return 1;if(l===Mf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const _=We(h[y],m[y]);if(_!==0)return _;const E=ru(u[h[y]],d[m[y]]);if(E!==0)return E}return We(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Ne()}}function Fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=io(t),r=io(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function $b(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ru(n[i],r[i]);if(o)return o}return We(n.length,r.length)}function iu(t){return mv(t)}function mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return so(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=mv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${mv(n.fields[l])}`;return i+"}"}(t.mapValue):Ne()}function Jf(t){switch(oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pm(t);return e?16+Jf(e):16;case 5:return 2*t.stringValue.length;case 6:return so(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Jf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return va(r.fields,(o,l)=>{i+=o.length+Jf(l)}),i}(t.mapValue);default:throw Ne()}}function gv(t){return!!t&&"integerValue"in t}function jw(t){return!!t&&"arrayValue"in t}function Ub(t){return!!t&&"nullValue"in t}function Bb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zf(t){return!!t&&"mapValue"in t}function IF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Fc(l):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){va(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rr(Fc(this.value))}}function wA(t){const e=[];return va(t.fields,(n,r)=>{const i=new Zt([n]);if(Zf(r)){const o=wA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new un(e,0,Me.min(),Me.min(),Me.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,Me.min(),Me.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Me.min(),Me.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.position=e,this.inclusive=n}}function zb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(l.referenceValue),n.key):r=ru(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n="asc"){this.field=e,this.dir=n}}function AF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class Vt extends _A{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RF(e,n,r):n==="array-contains"?new OF(e,r):n==="in"?new NF(e,r):n==="not-in"?new MF(e,r):n==="array-contains-any"?new LF(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kF(e,r):new DF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ru(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends _A{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xr(e,n)}matches(e){return EA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function EA(t){return t.op==="and"}function TA(t){return PF(t)&&EA(t)}function PF(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function yv(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+iu(t.value);if(TA(t))return t.filters.map(e=>yv(e)).join(",");{const e=t.filters.map(n=>yv(n)).join(",");return`${t.op}(${e})`}}function bA(t,e){return t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)}(t,e):t instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&bA(l,i.filters[u]),!0):!1}(t,e):void Ne()}function xA(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${iu(n.value)}`}(t):t instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(xA).join(" ,")+"}"}(t):"Filter"}class RF extends Vt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class kF extends Vt{constructor(e,n){super(e,"in",n),this.keys=SA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DF extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=SA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class OF extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jw(n)&&eh(n.arrayValue,this.value)}}class NF extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class MF extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eh(this.value.arrayValue,n)}}class LF extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function Hb(t,e=null,n=[],r=[],i=null,o=null,l=null){return new VF(t,e,n,r,i,o,l)}function Fw(t){const e=Le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>iu(r)).join(",")),e.ue=n}return e.ue}function $w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qb(t.startAt,e.startAt)&&qb(t.endAt,e.endAt)}function vv(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jF(t,e,n,r,i,o,l,u){return new mm(t,e,n,r,i,o,l,u)}function Uw(t){return new mm(t)}function Wb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FF(t){return t.collectionGroup!==null}function $c(t){const e=Le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new $t(Zt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sp(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Sp(Zt.keyField(),r))}return e.ce}function zr(t){const e=Le(t);return e.le||(e.le=$F(e,$c(t))),e.le}function $F(t,e){if(t.limitType==="F")return Hb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sp(i.field,o)});const n=t.endAt?new xp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xp(t.startAt.position,t.startAt.inclusive):null;return Hb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wv(t,e,n){return new mm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gm(t,e){return $w(zr(t),zr(e))&&t.limitType===e.limitType}function IA(t){return`${Fw(zr(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xA(i)).join(", ")}]`),fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>iu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>iu(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function ym(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of $c(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const d=zb(l,u,h);return l.inclusive?d<=0:d<0}(r.startAt,$c(r),i)||r.endAt&&!function(l,u,h){const d=zb(l,u,h);return l.inclusive?d>=0:d>0}(r.endAt,$c(r),i))}(t,e)}function UF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CA(t){return(e,n)=>{let r=!1;for(const i of $c(t)){const o=BF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function BF(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,l,u){const h=l.data.field(o),d=u.data.field(o);return h!==null&&d!==null?ru(h,d):Ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return yA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new gt(Pe.comparator);function Gi(){return zF}const AA=new gt(Pe.comparator);function Ac(...t){let e=AA;for(const n of t)e=e.insert(n.key,n);return e}function PA(t){let e=AA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return Uc()}function RA(){return Uc()}function Uc(){return new wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const qF=new gt(Pe.comparator),HF=new $t(Pe.comparator);function Be(...t){let e=HF;for(const n of t)e=e.add(n);return e}const WF=new $t(We);function GF(){return WF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(e)?"-0":e}}function kA(t){return{integerValue:""+t}}function KF(t,e){return EF(e)?kA(e):Bw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function QF(t,e,n){return t instanceof Ip?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Vw(o)&&(o=pm(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof th?OA(t,e):t instanceof nh?NA(t,e):function(i,o){const l=DA(i,o),u=Gb(l)+Gb(i.Pe);return gv(l)&&gv(i.Pe)?kA(u):Bw(i.serializer,u)}(t,e)}function YF(t,e,n){return t instanceof th?OA(t,e):t instanceof nh?NA(t,e):n}function DA(t,e){return t instanceof Cp?function(r){return gv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ip extends vm{}class th extends vm{constructor(e){super(),this.elements=e}}function OA(t,e){const n=MA(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class nh extends vm{constructor(e){super(),this.elements=e}}function NA(t,e){let n=MA(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class Cp extends vm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Gb(t){return It(t.integerValue||t.doubleValue)}function MA(t){return jw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function XF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof th&&i instanceof th||r instanceof nh&&i instanceof nh?nu(r.elements,i.elements,Yr):r instanceof Cp&&i instanceof Cp?Yr(r.Pe,i.Pe):r instanceof Ip&&i instanceof Ip}(t.transform,e.transform)}class JF{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wm{}function LA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zw(t.key,qr.none()):new Xh(t.key,t.data,qr.none());{const n=t.data,r=rr.empty();let i=new $t(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new _a(t.key,r,new xr(i.toArray()),qr.none())}}function ZF(t,e,n){t instanceof Xh?function(i,o,l){const u=i.value.clone(),h=Qb(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(i,o,l){if(!ep(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Qb(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(VA(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof Xh?function(o,l,u,h){if(!ep(o.precondition,l))return u;const d=o.value.clone(),m=Yb(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(o,l,u,h){if(!ep(o.precondition,l))return u;const d=Yb(o.fieldTransforms,h,l),m=l.data;return m.setAll(VA(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,l,u){return ep(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function e$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=DA(r.transform,i||null);o!=null&&(n===null&&(n=rr.empty()),n.set(r.field,o))}return n||null}function Kb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nu(r,i,(o,l)=>XF(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xh extends wm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends wm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qb(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,YF(l,u,n[i]))}return r}function Yb(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,QF(o,l,e))}return r}class zw extends wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t$ extends wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ZF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RA();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const h=LA(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(n,r)=>Kb(n,r))&&nu(this.baseMutations,e.baseMutations,(n,r)=>Kb(n,r))}}class qw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return qF}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new qw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ke;function s$(t){switch(t){default:return Ne();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function jA(t){if(t===void 0)return Wi("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Pt.OK:return ce.OK;case Pt.CANCELLED:return ce.CANCELLED;case Pt.UNKNOWN:return ce.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ce.INTERNAL;case Pt.UNAVAILABLE:return ce.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ce.NOT_FOUND;case Pt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Pt.ABORTED:return ce.ABORTED;case Pt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Pt.DATA_LOSS:return ce.DATA_LOSS;default:return Ne()}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=new Zs([4294967295,4294967295],0);function Xb(t){const e=o$().encode(t),n=new uA;return n.update(e),new Uint8Array(n.digest())}function Jb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([i,o],0)]}class Hw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pc(`Invalid padding: ${n}`);if(r<0)throw new Pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Zs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Zs.fromNumber(r)));return i.compare(a$)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Xb(e),[r,i]=Jb(n);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);if(!this.Ee(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Hw(o,i,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const n=Xb(e),[r,i]=Jb(n);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _m(Me.min(),i,new gt(We),Gi(),Be())}}class Jh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jh(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FA{constructor(e,n){this.targetId=e,this.me=n}}class $A{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zb{constructor(){this.fe=0,this.ge=ex(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),n=Be(),r=Be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne()}}),new Jh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ex()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class l${constructor(e){this.Be=e,this.Le=new Map,this.ke=Gi(),this.qe=Lf(),this.Qe=Lf(),this.Ke=new gt(We)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(vv(o))if(r===0){const l=new Pe(o.path);this.We(n,l,un.newNoDocument(l,Me.min()))}else Je(r===1);else{const l=this.Ze(n);if(l!==r){const u=this.Xe(e),h=u?this.et(u,e,l):1;if(h!==0){this.He(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=so(r).toUint8Array()}catch(h){if(h instanceof vA)return tu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Hw(l,i,o)}catch(h){return tu(h instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Te===0?null:u}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.Be.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Le.forEach((o,l)=>{const u=this.Ye(l);if(u){if(o.current&&vv(u.target)){const h=new Pe(u.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,un.newNoDocument(h,e))}o.be&&(n.set(l,o.ve()),o.Ce())}});let r=Be();this.Qe.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const d=this.Ye(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new _m(e,n,this.Ke,this.ke,r);return this.ke=Gi(),this.qe=Lf(),this.Qe=Lf(),this.Ke=new gt(We),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Zb,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new $t(We),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $t(We),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Zb),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Lf(){return new gt(Pe.comparator)}function ex(){return new gt(Pe.comparator)}const u$={asc:"ASCENDING",desc:"DESCENDING"},c$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h$={and:"AND",or:"OR"};class d${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _v(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function Ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f$(t,e){return Ap(t,e.toTimestamp())}function Hr(t){return Je(!!t),Me.fromTimestamp(function(n){const r=io(n);return new Ft(r.seconds,r.nanos)}(t))}function Ww(t,e){return Ev(t,e).canonicalString()}function Ev(t,e){const n=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BA(t){const e=wt.fromString(t);return Je(GA(e)),e}function Tv(t,e){return Ww(t.databaseId,e.path)}function ky(t,e){const n=BA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(qA(n))}function zA(t,e){return Ww(t.databaseId,e)}function p$(t){const e=BA(t);return e.length===4?wt.emptyPath():qA(e)}function bv(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qA(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tx(t,e,n){return{name:Tv(t,e),fields:n.value.mapValue.fields}}function m$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(Je(m===void 0||typeof m=="string"),en.fromBase64String(m||"")):(Je(m===void 0||m instanceof Buffer||m instanceof Uint8Array),en.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(d){const m=d.code===void 0?ce.UNKNOWN:jA(d.code);return new Ae(m,d.message||"")}(l);n=new $A(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ky(t,r.document.name),o=Hr(r.document.updateTime),l=r.document.createTime?Hr(r.document.createTime):Me.min(),u=new rr({mapValue:{fields:r.document.fields}}),h=un.newFoundDocument(i,o,l,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new tp(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ky(t,r.document),o=r.readTime?Hr(r.readTime):Me.min(),l=un.newNoDocument(i,o),u=r.removedTargetIds||[];n=new tp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ky(t,r.document),o=r.removedTargetIds||[];n=new tp([],o,i,null)}else{if(!("filter"in e))return Ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new i$(i,o),u=r.targetId;n=new FA(u,l)}}return n}function g$(t,e){let n;if(e instanceof Xh)n={update:tx(t,e.key,e.value)};else if(e instanceof zw)n={delete:Tv(t,e.key)};else if(e instanceof _a)n={update:tx(t,e.key,e.data),updateMask:S$(e.fieldMask)};else{if(!(e instanceof t$))return Ne();n={verify:Tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Ip)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof th)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof nh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cp)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw Ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:f$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(t,e.precondition)),n}function y$(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,o){let l=i.updateTime?Hr(i.updateTime):Hr(o);return l.isEqual(Me.min())&&(l=Hr(o)),new JF(l,i.transformResults||[])}(n,e))):[]}function v$(t,e){return{documents:[zA(t,e.path)]}}function w$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zA(t,i);const o=function(d){if(d.length!==0)return WA(Xr.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:El(_.field),direction:T$(_.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=_v(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ct:n,parent:i}}function _$(t){let e=p$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const _=HA(y);return _ instanceof Xr&&TA(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(x){return new Sp(Tl(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,fm(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,E=y.values||[];return new xp(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const _=!y.before,E=y.values||[];return new xp(E,_)}(n.endAt)),jF(e,i,l,o,u,"F",h,d)}function E$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tl(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tl(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tl(n.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tl(n.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Tl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xr.create(n.compositeFilter.filters.map(r=>HA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(t):Ne()}function T$(t){return u$[t]}function b$(t){return c$[t]}function x$(t){return h$[t]}function El(t){return{fieldPath:t.canonicalString()}}function Tl(t){return Zt.fromServerFormat(t.fieldPath)}function WA(t){return t instanceof Vt?function(n){if(n.op==="=="){if(Bb(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(Ub(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bb(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(Ub(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:b$(n.op),value:n.value}}}(t):t instanceof Xr?function(n){const r=n.getFilters().map(i=>WA(i));return r.length===1?r[0]:{compositeFilter:{op:x$(n.op),filters:r}}}(t):Ne()}function S$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,i,o=Me.min(),l=Me.min(),u=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.ht=e}}function C$(t){const e=_$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.ln=new P$}addToCollectionParentIndex(e,n){return this.ln.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ro.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class P${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(wt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new su(0)}static Qn(){return new su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class R${constructor(e){this.Gn=e,this.buffer=new $t(rx),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wu(n)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await vu(n)}await this.Yn(3e5)})}}class D${constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(dm.oe);const r=new R$(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,l,u,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),wl()<=Ue.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function O$(t,e){return new D$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.changes=new wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bc(r.mutation,i,xr.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const i=Yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Ac();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let o=Gi();const l=Uc(),u=function(){return Uc()}();return n.forEach((h,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof _a)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Bc(m.mutation,d,m.mutation.getFieldMask(),Ft.now())):l.set(d.key,xr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((d,m)=>l.set(d,m)),n.forEach((d,m)=>{var y;return u.set(d,new M$(m,(y=l.get(d))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Uc();let i=new gt((l,u)=>l-u),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||xr.empty();m=u.applyToLocalView(d,m),r.set(h,m);const y=(i.get(u.batchId)||Be()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,m=h.value,y=RA();m.forEach(_=>{if(!o.has(_)){const E=LA(n.get(_),r.get(_));E!==null&&y.set(_,E),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,y))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(Yo());let u=-1,h=o;return l.next(d=>re.forEach(d,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?re.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{h=h.insert(m,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,h,d,Be())).next(m=>({batchId:u,changes:PA(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Ac();return this.indexManager.getCollectionParents(e,o).next(u=>re.forEach(u,h=>{const d=function(y,_){return new mm(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,un.newInvalidDocument(m)))});let u=Ac();return l.forEach((h,d)=>{const m=o.get(h);m!==void 0&&Bc(m.mutation,d,xr.empty(),Ft.now()),ym(n,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return re.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hr(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:C$(i.bundledQuery),readTime:Hr(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.overlays=new gt(Pe.comparator),this.dr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return re.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=Yo(),o=n.length+1,l=new Pe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gt((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=Yo(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Yo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=i)););return re.resolve(u)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new r$(n,r));let o=this.dr.get(n);o===void 0&&(o=Be(),this.dr.set(n,o)),this.dr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.Er=new $t(Wt.Ar),this.Rr=new $t(Wt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Wt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Pe(new wt([])),r=new Wt(n,e),i=new Wt(n,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Pe(new wt([])),r=new Wt(n,e),i=new Wt(n,e+1);let o=Be();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Wt(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Pe.comparator(e.key,n.key)||We(e.br,n.br)}static Vr(e,n){return We(e.br,n.br)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new $t(Wt.Ar)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new n$(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new Wt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),i=new Wt(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const u=this.Cr(l.br);o.push(u)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(We);return n.forEach(i=>{const o=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{r=r.add(u.br)})}),re.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const l=new Wt(new Pe(o),0);let u=new $t(We);return this.vr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(h.br)),!0)},l),re.resolve(this.Mr(u))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return re.forEach(n.mutations,i=>{const o=new Wt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Wt(n,0),i=this.vr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.Nr=e,this.docs=function(){return new gt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Gi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Gi();const l=n.path,u=new Pe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||yF(gF(m),r)<=0||(i.has(m.key)||ym(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ne()}Br(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new B$(this)}getSize(e){return re.resolve(this.size)}}class B$ extends N${constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.persistence=e,this.Lr=new wa(n=>Fw(n),$w),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gw,this.targetCount=0,this.Qr=su.qn()}forEachTarget(e,n){return this.Lr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),re.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new su(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Un(n),re.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Lr.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n){this.Kr={},this.overlays={},this.$r=new dm(0),this.Ur=!1,this.Ur=!0,this.Wr=new F$,this.referenceDelegate=e(this),this.Gr=new z$(this),this.indexManager=new A$,this.remoteDocumentCache=function(i){return new U$(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new I$(n),this.jr=new V$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new $$(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new q$(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return re.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class q$ extends wF{constructor(e){super(),this.currentSequenceNumber=e}}class Kw{constructor(e){this.persistence=e,this.Zr=new Gw,this.Xr=null}static ei(e){return new Kw(e)}get ti(){if(this.Xr)return this.Xr;throw Ne()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),re.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ti,r=>{const i=Pe.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return re.or([()=>re.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Pp{constructor(e,n){this.persistence=e,this.ri=new wa(r=>TF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=O$(this,n)}static ei(e,n){return new Pp(e,n)}Hr(){}Jr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return re.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,n).next(u=>{u||(r++,o.removeEntry(l,Me.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jf(e.data.value)),n}ir(e,n,r){return re.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Be(),i=Be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Qw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jV()?8:_F(fn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new H$;return this.ts(e,n,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,n,l,u.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(wl()<=Ue.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),re.resolve()):(wl()<=Ue.DEBUG&&we("QueryEngine","Query:",_l(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(wl()<=Ue.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):re.resolve())}Xi(e,n){if(Wb(n))return re.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wv(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Be(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.rs(n,u);return this.ss(n,d,l,h.readTime)?this.Xi(e,wv(n,null,"F")):this.os(e,d,n,h)}))})))}es(e,n,r,i){return Wb(n)||i.isEqual(Me.min())?re.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(n,o);return this.ss(n,l,r,i)?re.resolve(null):(wl()<=Ue.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_l(n)),this.os(e,l,n,mF(i,-1)).next(u=>u))})}rs(e,n){let r=new $t(CA(e));return n.forEach((i,o)=>{ym(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return wl()<=Ue.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",_l(n)),this.Zi.getDocumentsMatchingQuery(e,n,ro.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new gt(We),this.cs=new wa(o=>Fw(o),$w),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L$(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function K$(t,e,n,r){return new G$(t,e,n,r)}async function QA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=Be();for(const d of i){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(d=>({Ts:d,removedBatchIds:l,addedBatchIds:u}))})})}function Q$(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(u,h,d,m){const y=d.batch,_=y.keys();let E=re.resolve();return _.forEach(x=>{E=E.next(()=>m.getEntry(h,x)).next(b=>{const R=d.docVersions.get(x);Je(R!==null),b.version.compareTo(R)<0&&(y.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),m.addEntry(b)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Be();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Y$(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const u=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;u.push(n.Gr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.Gr.addMatchingKeys(o,m.addedDocuments,y)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(en.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(y,E),function(b,R,P){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(_,E,m)&&u.push(n.Gr.updateTargetData(o,E))});let h=Gi(),d=Be();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(X$(o,l,e.documentUpdates).next(m=>{h=m.Is,d=m.ds})),!r.isEqual(Me.min())){const m=n.Gr.getLastRemoteSnapshotVersion(o).next(y=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return re.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,d)).next(()=>h)}).then(o=>(n.us=i,o))}function X$(t,e,n){let r=Be(),i=Be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=Gi();return n.forEach((u,h)=>{const d=o.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):we("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)}),{Is:l,ds:i}})}function J$(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z$(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):n.Gr.allocateTargetId(r).next(l=>(i=new Ks(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function xv(t,e,n){const r=Le(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!wu(l))throw l;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function ix(t,e,n){const r=Le(t);let i=Me.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,m){const y=Le(h),_=y.cs.get(m);return _!==void 0?re.resolve(y.us.get(_)):y.Gr.getTargetData(d,m)}(r,l,zr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,n?i:Me.min(),n?o:Be())).next(u=>(e9(r,UF(e),u),{documents:u,Es:o})))}function e9(t,e,n){let r=t.ls.get(e)||Me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class sx{constructor(){this.activeTargetIds=GF()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this._o=new sx,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf=null;function Dy(){return Vf===null?Vf=function(){return 268435456+Math.round(2147483648*Math.random())}():Vf++,"0x"+Vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class s9 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,l){const u=Dy(),h=this.No(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(d,o,l),this.Lo(n,h,d,i).then(m=>(we("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw tu("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}ko(n,r,i,o,l,u){return this.Oo(n,r,i,o,l)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>n[l]=o),i&&i.headers.forEach((o,l)=>n[l]=o)}No(n,r){const i=r9[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,i){const o=Dy();return new Promise((l,u)=>{const h=new cA;h.setWithCredentials(!0),h.listenOnce(hA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Xf.NO_ERROR:const m=h.getResponseJson();we(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Xf.TIMEOUT:we(on,`RPC '${e}' ${o} timed out`),u(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const y=h.getStatus();if(we(on,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const x=function(R){const P=R.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN}(E.status);u(new Ae(x,E.message))}else u(new Ae(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{we(on,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);we(on,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",d,r,15)})}qo(e,n,r){const i=Dy(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pA(),u=fA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");we(on,`Creating RPC '${e}' stream ${i}: ${m}`,h);const y=l.createWebChannel(m,h);let _=!1,E=!1;const x=new i9({Eo:R=>{E?we(on,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(we(on,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),we(on,`RPC '${e}' stream ${i} sending:`,R),y.send(R))},Ao:()=>y.close()}),b=(R,P,N)=>{R.listen(P,V=>{try{N(V)}catch(W){setTimeout(()=>{throw W},0)}})};return b(y,Cc.EventType.OPEN,()=>{E||(we(on,`RPC '${e}' stream ${i} transport opened.`),x.So())}),b(y,Cc.EventType.CLOSE,()=>{E||(E=!0,we(on,`RPC '${e}' stream ${i} transport closed`),x.Do())}),b(y,Cc.EventType.ERROR,R=>{E||(E=!0,tu(on,`RPC '${e}' stream ${i} transport errored:`,R),x.Do(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))}),b(y,Cc.EventType.MESSAGE,R=>{var P;if(!E){const N=R.data[0];Je(!!N);const V=N,W=(V==null?void 0:V.error)||((P=V[0])===null||P===void 0?void 0:P.error);if(W){we(on,`RPC '${e}' stream ${i} received error:`,W);const X=W.status;let J=function(L){const B=Pt[L];if(B!==void 0)return jA(B)}(X),j=W.message;J===void 0&&(J=ce.INTERNAL,j="Unknown error status: "+X+" with message "+W.message),E=!0,x.Do(new Ae(J,j)),y.close()}else we(on,`RPC '${e}' stream ${i} received:`,N),x.vo(N)}}),b(u,dA.STAT_EVENT,R=>{R.stat===pv.PROXY?we(on,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===pv.NOPROXY&&we(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function Oy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){return new d$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i,o,l,u,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new XA(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o9 extends JA{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=m$(this.serializer,e),r=function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?Hr(l.readTime):Me.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=bv(this.serializer),n.addTarget=function(o,l){let u;const h=l.target;if(u=vv(h)?{documents:v$(o,h)}:{query:w$(o,h).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=UA(o,l.resumeToken);const d=_v(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Me.min())>0){u.readTime=Ap(o,l.snapshotVersion.toTimestamp());const d=_v(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=E$(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=bv(this.serializer),n.removeTarget=e,this.c_(n)}}class a9 extends JA{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=y$(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=bv(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>g$(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Ev(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ce.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,Ev(n,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(ce.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wi(n),this.C_=!1):we("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{Ea(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(h){const d=Le(h);d.k_.add(4),await Zh(d),d.K_.set("Unknown"),d.k_.delete(4),await Tm(d)}(this))})}),this.K_=new u9(r,i)}}async function Tm(t){if(Ea(t))for(const e of t.q_)await e(!0)}async function Zh(t){for(const e of t.q_)await e(!1)}function ZA(t,e){const n=Le(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Zw(n)?Jw(n):_u(n).s_()&&Xw(n,e))}function Yw(t,e){const n=Le(t),r=_u(n);n.L_.delete(e),r.s_()&&eP(n,e),n.L_.size===0&&(r.s_()?r.a_():Ea(n)&&n.K_.set("Unknown"))}function Xw(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).V_(e)}function eP(t,e){t.U_.xe(e),_u(t).m_(e)}function Jw(t){t.U_=new l$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.K_.F_()}function Zw(t){return Ea(t)&&!_u(t).i_()&&t.L_.size>0}function Ea(t){return Le(t).k_.size===0}function tP(t){t.U_=void 0}async function h9(t){t.K_.set("Online")}async function d9(t){t.L_.forEach((e,n)=>{Xw(t,e)})}async function f9(t,e){tP(t),Zw(t)?(t.K_.O_(e),Jw(t)):t.K_.set("Unknown")}async function p9(t,e,n){if(t.K_.set("Online"),e instanceof $A&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.L_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.L_.delete(u),i.U_.removeTarget(u))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rp(t,r)}else if(e instanceof tp?t.U_.$e(e):e instanceof FA?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Me.min()))try{const r=await YA(t.localStore);n.compareTo(r)>=0&&await function(o,l){const u=o.U_.it(l);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.L_.get(d);m&&o.L_.set(d,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,d)=>{const m=o.L_.get(h);if(!m)return;o.L_.set(h,m.withResumeToken(en.EMPTY_BYTE_STRING,m.snapshotVersion)),eP(o,h);const y=new Ks(m.target,h,d,m.sequenceNumber);Xw(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await Rp(t,r)}}async function Rp(t,e,n){if(!wu(e))throw e;t.k_.add(1),await Zh(t),t.K_.set("Offline"),n||(n=()=>YA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Tm(t)})}function nP(t,e){return e().catch(n=>Rp(t,n,e))}async function bm(t){const e=Le(t),n=ao(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;m9(e);)try{const i=await J$(e.localStore,r);if(i===null){e.B_.length===0&&n.a_();break}r=i.batchId,g9(e,i)}catch(i){await Rp(e,i)}rP(e)&&iP(e)}function m9(t){return Ea(t)&&t.B_.length<10}function g9(t,e){t.B_.push(e);const n=ao(t);n.s_()&&n.f_&&n.g_(e.mutations)}function rP(t){return Ea(t)&&!ao(t).i_()&&t.B_.length>0}function iP(t){ao(t).start()}async function y9(t){ao(t).w_()}async function v9(t){const e=ao(t);for(const n of t.B_)e.g_(n.mutations)}async function w9(t,e,n){const r=t.B_.shift(),i=qw.from(r,e,n);await nP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bm(t)}async function _9(t,e){e&&ao(t).f_&&await async function(r,i){if(function(l){return s$(l)&&l!==ce.ABORTED}(i.code)){const o=r.B_.shift();ao(r).__(),await nP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await bm(r)}}(t,e),rP(t)&&iP(t)}async function ax(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Ea(n);n.k_.add(3),await Zh(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Tm(n)}async function E9(t,e){const n=Le(t);e?(n.k_.delete(2),await Tm(n)):e||(n.k_.add(2),await Zh(n),n.K_.set("Unknown"))}function _u(t){return t.W_||(t.W_=function(n,r,i){const o=Le(n);return o.b_(),new o9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:h9.bind(null,t),mo:d9.bind(null,t),po:f9.bind(null,t),R_:p9.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Zw(t)?Jw(t):t.K_.set("Unknown")):(await t.W_.stop(),tP(t))})),t.W_}function ao(t){return t.G_||(t.G_=function(n,r,i){const o=Le(n);return o.b_(),new a9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:y9.bind(null,t),po:_9.bind(null,t),p_:v9.bind(null,t),y_:w9.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await bm(t)):(await t.G_.stop(),t.B_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new e0(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t0(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),wu(t))return new Ae(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Ac(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.z_=new gt(Pe.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ne():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ou{constructor(e,n,r,i,o,l,u,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new ou(e,n,Ll.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class b9{constructor(){this.queries=ux(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Le(n),o=i.queries;i.queries=ux(),o.forEach((l,u)=>{for(const h of u.J_)h.onError(r)})})(this,new Ae(ce.ABORTED,"Firestore shutting down"))}}function ux(){return new wa(t=>IA(t),gm)}async function x9(t,e){const n=Le(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new T9,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=t0(l,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&n0(n)}async function S9(t,e){const n=Le(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I9(t,e){const n=Le(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.J_)u.ta(i)&&(r=!0);l.H_=i}}r&&n0(n)}function C9(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function n0(t){t.X_.forEach(e=>{e.next()})}var Sv,cx;(cx=Sv||(Sv={})).na="default",cx.Cache="cache";class A9{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.key=e}}class oP{constructor(e){this.key=e}}class P9{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Be(),this.mutatedKeys=Be(),this.Va=CA(e),this.ma=new Ll(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new lx,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),E=ym(this.query,y)?y:null,x=!!_&&this.mutatedKeys.has(_.key),b=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;_&&E?_.data.isEqual(E.data)?x!==b&&(r.track({type:3,doc:E}),R=!0):this.ya(_,E)||(r.track({type:2,doc:E}),R=!0,(h&&this.Va(E,h)>0||d&&this.Va(E,d)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),R=!0):_&&!E&&(r.track({type:1,doc:_}),R=!0,(h||d)&&(u=!0)),R&&(E?(l=l.add(E),o=b?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{ma:l,pa:r,ss:u,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,y)=>function(E,x){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return b(E)-b(x)}(m.type,y.type)||this.Va(m.doc,y.doc)),this.wa(r),i=i!=null&&i;const u=n&&!i?this.Sa():[],h=this.Ra.size===0&&this.current&&!i?1:0,d=h!==this.Aa;return this.Aa=h,l.length!==0||d?{snapshot:new ou(this.query,e.ma,o,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lx,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Be(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new oP(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new sP(r))}),n}va(e){this.Ea=e.Es,this.Ra=Be();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ou.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class R9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k9{constructor(e){this.key=e,this.Fa=!1}}class D9{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new wa(u=>IA(u),gm),this.Oa=new Map,this.Na=new Set,this.Ba=new gt(Pe.comparator),this.La=new Map,this.ka=new Gw,this.qa={},this.Qa=new Map,this.Ka=su.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function O9(t,e,n=!0){const r=dP(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await aP(r,e,n,!0),i}async function N9(t,e){const n=dP(t);await aP(n,e,!0,!1)}async function aP(t,e,n,r){const i=await Z$(t.localStore,zr(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await M9(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&ZA(t.remoteStore,i),u}async function M9(t,e,n,r,i){t.Ua=(y,_,E)=>async function(b,R,P,N){let V=R.view.ga(P);V.ss&&(V=await ix(b.localStore,R.query,!1).then(({documents:j})=>R.view.ga(j,V)));const W=N&&N.targetChanges.get(R.targetId),X=N&&N.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(V,b.isPrimaryClient,W,X);return dx(b,R.targetId,J.ba),J.snapshot}(t,y,_,E);const o=await ix(t.localStore,e,!0),l=new P9(e,o.Es),u=l.ga(o.documents),h=Jh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(u,t.isPrimaryClient,h);dx(t,n,d.ba);const m=new R9(e,n,l);return t.xa.set(e,m),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),d.snapshot}async function L9(t,e,n){const r=Le(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(l=>!gm(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yw(r.remoteStore,i.targetId),Iv(r,i.targetId)}).catch(vu)):(Iv(r,i.targetId),await xv(r.localStore,i.targetId,!0))}async function V9(t,e){const n=Le(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yw(n.remoteStore,r.targetId))}async function j9(t,e,n){const r=H9(t);try{const i=await function(l,u){const h=Le(l),d=Ft.now(),m=u.reduce((E,x)=>E.add(x.key),Be());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=Gi(),b=Be();return h.hs.getEntries(E,m).next(R=>{x=R,x.forEach((P,N)=>{N.isValidDocument()||(b=b.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,x)).next(R=>{y=R;const P=[];for(const N of u){const V=e$(N,y.get(N.key).overlayedDocument);V!=null&&P.push(new _a(N.key,V,wA(V.value.mapValue),qr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,P,u)}).next(R=>{_=R;const P=R.applyToLocalDocumentSet(y,b);return h.documentOverlayCache.saveOverlays(E,R.batchId,P)})}).then(()=>({batchId:_.batchId,changes:PA(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let d=l.qa[l.currentUser.toKey()];d||(d=new gt(We)),d=d.insert(u,h),l.qa[l.currentUser.toKey()]=d}(r,i.batchId,n),await ed(r,i.changes),await bm(r.remoteStore)}catch(i){const o=t0(i,"Failed to persist write");n.reject(o)}}async function lP(t,e){const n=Le(t);try{const r=await Y$(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.La.get(o);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Je(l.Fa):i.removedDocuments.size>0&&(Je(l.Fa),l.Fa=!1))}),await ed(n,r,e)}catch(r){await vu(r)}}function hx(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=Le(l);h.onlineState=u;let d=!1;h.queries.forEach((m,y)=>{for(const _ of y.J_)_.ea(u)&&(d=!0)}),d&&n0(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.La.get(e),o=i&&i.key;if(o){let l=new gt(Pe.comparator);l=l.insert(o,un.newNoDocument(o,Me.min()));const u=Be().add(o),h=new _m(Me.min(),new Map,new gt(We),l,u);await lP(r,h),r.Ba=r.Ba.remove(o),r.La.delete(e),r0(r)}else await xv(r.localStore,e,!1).then(()=>Iv(r,e,n)).catch(vu)}async function $9(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await Q$(n.localStore,e);cP(n,r,null),uP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ed(n,i)}catch(i){await vu(i)}}async function U9(t,e,n){const r=Le(t);try{const i=await function(l,u){const h=Le(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,u).next(y=>(Je(y!==null),m=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(r.localStore,e);cP(r,e,n),uP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ed(r,i)}catch(i){await vu(i)}}function uP(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function cP(t,e,n){const r=Le(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Iv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||hP(t,r)})}function hP(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(Yw(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),r0(t))}function dx(t,e,n){for(const r of n)r instanceof sP?(t.ka.addReference(r.key,e),B9(t,r)):r instanceof oP?(we("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||hP(t,r.key)):Ne()}function B9(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(we("SyncEngine","New document in limbo: "+n),t.Na.add(r),r0(t))}function r0(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Pe(wt.fromString(e)),r=t.Ka.next();t.La.set(r,new k9(n)),t.Ba=t.Ba.insert(n,r),ZA(t.remoteStore,new Ks(zr(Uw(n.path)),r,"TargetPurposeLimboResolution",dm.oe))}}async function ed(t,e,n){const r=Le(t),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((u,h)=>{l.push(r.Ua(h,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const y=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){i.push(d);const y=Qw.zi(h.targetId,d);o.push(y)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,d){const m=Le(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>re.forEach(d,_=>re.forEach(_.Wi,E=>m.persistence.referenceDelegate.addReference(y,_.targetId,E)).next(()=>re.forEach(_.Gi,E=>m.persistence.referenceDelegate.removeReference(y,_.targetId,E)))))}catch(y){if(!wu(y))throw y;we("LocalStore","Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const E=m.us.get(_),x=E.snapshotVersion,b=E.withLastLimboFreeSnapshotVersion(x);m.us=m.us.insert(_,b)}}}(r.localStore,o))}async function z9(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await QA(n.localStore,e);n.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(h=>{h.reject(new Ae(ce.CANCELLED,l))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ed(n,r.Ts)}}function q9(t,e){const n=Le(t),r=n.La.get(e);if(r&&r.Fa)return Be().add(r.key);{let i=Be();const o=n.Oa.get(e);if(!o)return i;for(const l of o){const u=n.xa.get(l);i=i.unionWith(u.view.fa)}return i}}function dP(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.Ma.R_=I9.bind(null,e.eventManager),e.Ma.Wa=C9.bind(null,e.eventManager),e}function H9(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U9.bind(null,e),e}class kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return K$(this.persistence,new W$,e.initialUser,this.serializer)}ja(e){return new KA(Kw.ei,this.serializer)}za(e){return new t9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kp.provider={build:()=>new kp};class W9 extends kp{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Je(this.persistence.referenceDelegate instanceof Pp);const r=this.persistence.referenceDelegate.garbageCollector;return new k$(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new KA(r=>Pp.ei(r,n),this.serializer)}}class Cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z9.bind(null,this.syncEngine),await E9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b9}()}createDatastore(e){const n=Em(e.databaseInfo.databaseId),r=function(o){return new s9(o)}(e.databaseInfo);return function(o,l,u,h){return new l9(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,u){return new c9(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>hx(this.syncEngine,n,0),function(){return ox.p()?new ox:new n9}())}createSyncEngine(e,n){return function(i,o,l,u,h,d,m){const y=new D9(i,o,l,u,h,d);return m&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Le(i);we("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Zh(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cv.provider={build:()=>new Cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=gA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{we("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=t0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ny(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q9(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ax(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ax(e.remoteStore,i)),t._onlineComponents=e}async function Q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tu("Error using user provided cache. Falling back to memory cache: "+n),await Ny(t,new kp)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Ny(t,new W9(void 0));return t._offlineComponents}async function fP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await fx(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await fx(t,new Cv))),t._onlineComponents}function Y9(t){return fP(t).then(e=>e.syncEngine)}async function X9(t){const e=await fP(t),n=e.eventManager;return n.onListen=O9.bind(null,e.syncEngine),n.onUnlisten=L9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V9.bind(null,e.syncEngine),n}function J9(t,e,n={}){const r=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,d){const m=new G9({next:_=>{m.eu(),l.enqueueAndForget(()=>S9(o,y));const E=_.docs.has(u);!E&&_.fromCache?d.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&h&&h.source==="server"?d.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new A9(Uw(u.path),m,{includeMetadataChanges:!0,ua:!0});return x9(o,y)}(await X9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e,n){if(!n)throw new Ae(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e6(t,e,n,r){if(e===!0&&r===!0)throw new Ae(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mx(t){if(!Pe.isDocumentKey(t))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function au(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=i0(t);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class s0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oF;switch(r.type){case"firstParty":return new cF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=px.get(n);r&&(we("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())}(this),Promise.resolve()}}function t6(t,e,n,r={}){var i;const o=(t=au(t,s0))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=ln.MOCK_USER;else{u=kV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ln(d)}t._authCredentials=new aF(new mA(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new o0(this.firestore,e,this._query)}}class sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class rh extends o0{constructor(e,n,r){super(e,n,Uw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Pe(e))}withConverter(e){return new rh(this.firestore,e,this._path)}}function yx(t,e,...n){if(t=Un(t),arguments.length===1&&(e=gA.newId()),Z9("doc","path",e),t instanceof s0){const r=wt.fromString(e,...n);return mx(r),new sr(t,null,new Pe(r))}{if(!(t instanceof sr||t instanceof rh))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return mx(r),new sr(t.firestore,t instanceof rh?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new XA(this,"async_queue_retry"),this.fu=()=>{const r=Oy();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Oy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new eo;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!wu(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=e0.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Ne()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class xm extends s0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vx(e),this._firestoreClient=void 0,await e}}}function n6(t,e){const n=typeof t=="object"?t:CC(),r=typeof t=="string"?t:"(default)",i=xw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PV("firestore");o&&t6(i,...o)}return i}function mP(t){if(t._terminated)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r6(t),t._firestoreClient}function r6(t){var e,n,r;const i=t._freezeSettings(),o=function(u,h,d,m){return new SF(u,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,pP(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new K9(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(en.fromBase64String(e))}catch(n){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lu(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=/^__.*__$/;class s6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xh(e,this.data,n,this.fieldTransforms)}}function yP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class c0{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new c0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Dp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(yP(this.Mu)&&i6.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class o6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Em(e)}$u(e,n,r,i=!1){return new c0({Mu:e,methodName:n,Ku:r,path:Zt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a6(t){const e=t._freezeSettings(),n=Em(t._databaseId);return new o6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l6(t,e,n,r,i,o={}){const l=t.$u(o.merge||o.mergeFields?2:0,e,n,i);EP("Data must be an object, but it was:",l,r);const u=wP(r,l);let h,d;if(o.merge)h=new xr(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=u6(e,y,n);if(!l.contains(_))throw new Ae(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);h6(m,_)||m.push(_)}h=new xr(m),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new s6(new rr(u),h,d)}function vP(t,e){if(_P(t=Un(t)))return EP("Unsupported field value:",e,t),wP(t,e);if(t instanceof gP)return function(r,i){if(!yP(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let h=vP(u,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ft.fromDate(r);return{timestampValue:Ap(i.serializer,o)}}if(r instanceof Ft){const o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(i.serializer,o)}}if(r instanceof l0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lu)return{bytesValue:UA(i.serializer,r._byteString)};if(r instanceof sr){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof u0)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.qu("VectorValues must only contain numeric values.");return Bw(u.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${i0(r)}`)}(t,e)}function wP(t,e){const n={};return yA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,(r,i)=>{const o=vP(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _P(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof l0||t instanceof lu||t instanceof sr||t instanceof gP||t instanceof u0)}function EP(t,e,n){if(!_P(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=i0(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function u6(t,e,n){if((e=Un(e))instanceof a0)return e._internalPath;if(typeof e=="string")return TP(t,e);throw Dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const c6=new RegExp("[~\\*/\\[\\]]");function TP(t,e,n){if(e.search(c6)>=0)throw Dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new a0(...e.split("."))._internalPath}catch{throw Dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dp(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Ae(ce.INVALID_ARGUMENT,u+t+h)}function h6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d6 extends bP{data(){return super.data()}}function xP(t,e){return typeof e=="string"?TP(t,e):e instanceof a0?e._internalPath:e._delegate._internalPath}class f6{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return va(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>It(l.doubleValue));return new u0(o)}convertGeoPoint(e){return new l0(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=io(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);Je(GA(r));const i=new Zc(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return i.isEqual(n)||Wi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SP extends bP{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new g6(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class g6 extends SP{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){t=au(t,sr);const e=au(t.firestore,xm);return J9(mP(e),t._key).then(n=>_6(e,t,n))}class v6 extends f6{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function wx(t,e,n){t=au(t,sr);const r=au(t.firestore,xm),i=p6(t.converter,e,n);return IP(r,[l6(a6(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qr.none())])}function w6(t){return IP(au(t.firestore,xm),[new zw(t._key,qr.none())])}function IP(t,e){return function(r,i){const o=new eo;return r.asyncQueue.enqueueAndForget(async()=>j9(await Y9(r),i,o)),o.promise}(mP(t),e)}function _6(t,e,n){const r=n.docs.get(e._key),i=new v6(t);return new SP(t,i,e._key,r,new m6(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){yu=i})(mu),Jl(new da("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new xm(new lF(r.getProvider("auth-internal")),new dF(r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(d.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Js(Mb,"4.7.6",e),Js(Mb,"4.7.6","esm2017")})();const E6={apiKey:"AIzaSyBaK1O5W5pPk2GUWZ84EXdjoBneRMABB6Q",authDomain:"shopping-website-52c65.firebaseapp.com",projectId:"shopping-website-52c65",storageBucket:"shopping-website-52c65.firebasestorage.app",messagingSenderId:"815560022538",appId:"1:815560022538:web:6100d979b42721ea6f5df3",measurementId:"G-G8YP77NF0H"},CP=IC(E6),_x=n6(CP),np=iF(CP),T6=new Di,h0=U.createContext(),b6=({children:t})=>{const[e,n]=U.useState(null),[r,i]=U.useState(!0);return U.useEffect(()=>{const o=G4(np,l=>{n(l),i(!1)});return()=>o()},[]),k.jsxs(h0.Provider,{value:{user:e,setUser:n},children:[!r&&t," "]})};function AP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=AP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oa(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=AP(t))&&(r&&(r+=" "),r+=e);return r}function x6(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}x6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var td=t=>typeof t=="number"&&!isNaN(t),ma=t=>typeof t=="string",Ki=t=>typeof t=="function",S6=t=>ma(t)||td(t),Av=t=>ma(t)||Ki(t)?t:null,I6=(t,e)=>t===!1||td(t)&&t>0?t:e,Pv=t=>U.isValidElement(t)||ma(t)||Ki(t)||td(t);function C6(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function A6({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:u,done:h,nodeRef:d,isIn:m,playToast:y}){let _=n?`${t}--${l}`:t,E=n?`${e}--${l}`:e,x=U.useRef(0);return U.useLayoutEffect(()=>{let b=d.current,R=_.split(" "),P=N=>{N.target===d.current&&(y(),b.removeEventListener("animationend",P),b.removeEventListener("animationcancel",P),x.current===0&&N.type!=="animationcancel"&&b.classList.remove(...R))};b.classList.add(...R),b.addEventListener("animationend",P),b.addEventListener("animationcancel",P)},[]),U.useEffect(()=>{let b=d.current,R=()=>{b.removeEventListener("animationend",R),r?C6(b,h,i):h()};m||(u?R():(x.current=1,b.className+=` ${E}`,b.addEventListener("animationend",R)))},[m]),Ve.createElement(Ve.Fragment,null,o)}}function Ex(t,e){return{content:PP(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function PP(t,e,n=!1){return U.isValidElement(t)&&!ma(t.type)?U.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ki(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function P6({closeToast:t,theme:e,ariaLabel:n="close"}){return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function R6({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:o,controlledProgress:l,progress:u,rtl:h,isIn:d,theme:m}){let y=i||l&&u===0,_={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(_.transform=`scaleX(${u})`);let E=oa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),x=Ki(o)?o({rtl:h,type:r,defaultClassName:E}):oa(E,o),b={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&n()}};return Ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),Ve.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:x,style:_,...b}))}var k6=1,RP=()=>`${k6++}`;function D6(t,e,n){let r=1,i=0,o=[],l=[],u=e,h=new Map,d=new Set,m=N=>(d.add(N),()=>d.delete(N)),y=()=>{l=Array.from(h.values()),d.forEach(N=>N())},_=({containerId:N,toastId:V,updateId:W})=>{let X=N?N!==t:t!==1,J=h.has(V)&&W==null;return X||J},E=(N,V)=>{h.forEach(W=>{var X;(V==null||V===W.props.toastId)&&((X=W.toggle)==null||X.call(W,N))})},x=N=>{var V,W;(W=(V=N.props)==null?void 0:V.onClose)==null||W.call(V,N.removalReason),N.isActive=!1},b=N=>{if(N==null)h.forEach(x);else{let V=h.get(N);V&&x(V)}y()},R=()=>{i-=o.length,o=[]},P=N=>{var V,W;let{toastId:X,updateId:J}=N.props,j=J==null;N.staleId&&h.delete(N.staleId),N.isActive=!0,h.set(X,N),y(),n(Ex(N,j?"added":"updated")),j&&((W=(V=N.props).onOpen)==null||W.call(V))};return{id:t,props:u,observe:m,toggle:E,removeToast:b,toasts:h,clearQueue:R,buildToast:(N,V)=>{if(_(V))return;let{toastId:W,updateId:X,data:J,staleId:j,delay:D}=V,L=X==null;L&&i++;let B={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(V).filter(([A,I])=>I!=null)),toastId:W,updateId:X,data:J,isIn:!1,className:Av(V.className||u.toastClassName),progressClassName:Av(V.progressClassName||u.progressClassName),autoClose:V.isLoading?!1:I6(V.autoClose,u.autoClose),closeToast(A){h.get(W).removalReason=A,b(W)},deleteToast(){let A=h.get(W);if(A!=null){if(n(Ex(A,"removed")),h.delete(W),i--,i<0&&(i=0),o.length>0){P(o.shift());return}y()}}};B.closeButton=u.closeButton,V.closeButton===!1||Pv(V.closeButton)?B.closeButton=V.closeButton:V.closeButton===!0&&(B.closeButton=Pv(u.closeButton)?u.closeButton:!0);let S={content:N,props:B,staleId:j};u.limit&&u.limit>0&&i>u.limit&&L?o.push(S):td(D)?setTimeout(()=>{P(S)},D):P(S)},setProps(N){u=N},setToggle:(N,V)=>{let W=h.get(N);W&&(W.toggle=V)},isToastActive:N=>{var V;return(V=h.get(N))==null?void 0:V.isActive},getSnapshot:()=>l}}var vn=new Map,ih=[],Rv=new Set,O6=t=>Rv.forEach(e=>e(t)),kP=()=>vn.size>0;function N6(){ih.forEach(t=>OP(t.content,t.options)),ih=[]}var M6=(t,{containerId:e})=>{var n;return(n=vn.get(e||1))==null?void 0:n.toasts.get(t)};function DP(t,e){var n;if(e)return!!((n=vn.get(e))!=null&&n.isToastActive(t));let r=!1;return vn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function L6(t){if(!kP()){ih=ih.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||S6(t))vn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=vn.get(t.containerId);e?e.removeToast(t.id):vn.forEach(n=>{n.removeToast(t.id)})}}var V6=(t={})=>{vn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function OP(t,e){Pv(t)&&(kP()||ih.push({content:t,options:e}),vn.forEach(n=>{n.buildToast(t,e)}))}function j6(t){var e;(e=vn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function NP(t,e){vn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function F6(t){let e=t.containerId||1;return{subscribe(n){let r=D6(e,t,O6);vn.set(e,r);let i=r.observe(n);return N6(),()=>{i(),vn.delete(e)}},setProps(n){var r;(r=vn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=vn.get(e))==null?void 0:n.getSnapshot()}}}function $6(t){return Rv.add(t),()=>{Rv.delete(t)}}function U6(t){return t&&(ma(t.toastId)||td(t.toastId))?t.toastId:RP()}function nd(t,e){return OP(t,e),e.toastId}function Sm(t,e){return{...e,type:e&&e.type||t,toastId:U6(e)}}function Im(t){return(e,n)=>nd(e,Sm(t,n))}function Qe(t,e){return nd(t,Sm("default",e))}Qe.loading=(t,e)=>nd(t,Sm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function B6(t,{pending:e,error:n,success:r},i){let o;e&&(o=ma(e)?Qe.loading(e,i):Qe.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,m,y)=>{if(m==null){Qe.dismiss(o);return}let _={type:d,...l,...i,data:y},E=ma(m)?{render:m}:m;return o?Qe.update(o,{..._,...E}):Qe(E.render,{..._,...E}),y},h=Ki(t)?t():t;return h.then(d=>u("success",r,d)).catch(d=>u("error",n,d)),h}Qe.promise=B6;Qe.success=Im("success");Qe.info=Im("info");Qe.error=Im("error");Qe.warning=Im("warning");Qe.warn=Qe.warning;Qe.dark=(t,e)=>nd(t,Sm("default",{theme:"dark",...e}));function z6(t){L6(t)}Qe.dismiss=z6;Qe.clearWaitingQueue=V6;Qe.isActive=DP;Qe.update=(t,e={})=>{let n=M6(t,e);if(n){let{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:RP()};o.toastId!==t&&(o.staleId=t);let l=o.render||i;delete o.render,nd(l,o)}};Qe.done=t=>{Qe.update(t,{progress:1})};Qe.onChange=$6;Qe.play=t=>NP(!0,t);Qe.pause=t=>NP(!1,t);function q6(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=U.useRef(F6(t)).current;i(t);let o=(e=U.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(u){if(!o)return[];let h=new Map;return t.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:m}=d.props;h.has(m)||h.set(m,[]),h.get(m).push(d)}),Array.from(h,d=>u(d[0],d[1]))}return{getToastToRender:l,isToastActive:DP,count:o==null?void 0:o.length}}function H6(t){let[e,n]=U.useState(!1),[r,i]=U.useState(!1),o=U.useRef(null),l=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:h,closeToast:d,onClick:m,closeOnClick:y}=t;j6({id:t.toastId,containerId:t.containerId,fn:n}),U.useEffect(()=>{if(t.pauseOnFocusLoss)return _(),()=>{E()}},[t.pauseOnFocusLoss]);function _(){document.hasFocus()||P(),window.addEventListener("focus",R),window.addEventListener("blur",P)}function E(){window.removeEventListener("focus",R),window.removeEventListener("blur",P)}function x(j){if(t.draggable===!0||t.draggable===j.pointerType){N();let D=o.current;l.canCloseOnClick=!0,l.canDrag=!0,D.style.transition="none",t.draggableDirection==="x"?(l.start=j.clientX,l.removalDistance=D.offsetWidth*(t.draggablePercent/100)):(l.start=j.clientY,l.removalDistance=D.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(j){let{top:D,bottom:L,left:B,right:S}=o.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&t.pauseOnHover&&j.clientX>=B&&j.clientX<=S&&j.clientY>=D&&j.clientY<=L?P():R()}function R(){n(!0)}function P(){n(!1)}function N(){l.didMove=!1,document.addEventListener("pointermove",W),document.addEventListener("pointerup",X)}function V(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",X)}function W(j){let D=o.current;if(l.canDrag&&D){l.didMove=!0,e&&P(),t.draggableDirection==="x"?l.delta=j.clientX-l.start:l.delta=j.clientY-l.start,l.start!==j.clientX&&(l.canCloseOnClick=!1);let L=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;D.style.transform=`translate3d(${L},0)`,D.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function X(){V();let j=o.current;if(l.canDrag&&l.didMove&&j){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let J={onPointerDown:x,onPointerUp:b};return u&&h&&(J.onMouseEnter=P,t.stacked||(J.onMouseLeave=R)),y&&(J.onClick=j=>{m&&m(j),l.canCloseOnClick&&d(!0)}),{playToast:R,pauseToast:P,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:J}}var W6=typeof window<"u"?U.useLayoutEffect:U.useEffect,Cm=({theme:t,type:e,isLoading:n,...r})=>Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function G6(t){return Ve.createElement(Cm,{...t},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function K6(t){return Ve.createElement(Cm,{...t},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Q6(t){return Ve.createElement(Cm,{...t},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Y6(t){return Ve.createElement(Cm,{...t},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function X6(){return Ve.createElement("div",{className:"Toastify__spinner"})}var kv={info:K6,warning:G6,success:Q6,error:Y6,spinner:X6},J6=t=>t in kv;function Z6({theme:t,type:e,isLoading:n,icon:r}){let i=null,o={theme:t,type:e};return r===!1||(Ki(r)?i=r({...o,isLoading:n}):U.isValidElement(r)?i=U.cloneElement(r,o):n?i=kv.spinner():J6(e)&&(i=kv[e](o))),i}var eU=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=H6(t),{closeButton:l,children:u,autoClose:h,onClick:d,type:m,hideProgressBar:y,closeToast:_,transition:E,position:x,className:b,style:R,progressClassName:P,updateId:N,role:V,progress:W,rtl:X,toastId:J,deleteToast:j,isIn:D,isLoading:L,closeOnClick:B,theme:S,ariaLabel:A}=t,I=oa("Toastify__toast",`Toastify__toast-theme--${S}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":B}),F=Ki(b)?b({rtl:X,position:x,type:m,defaultClassName:I}):oa(I,b),me=Z6(t),ee=!!W||!h,ie={closeToast:_,type:m,theme:S},te=null;return l===!1||(Ki(l)?te=l(ie):U.isValidElement(l)?te=U.cloneElement(l,ie):te=P6(ie)),Ve.createElement(E,{isIn:D,done:j,position:x,preventExitTransition:n,nodeRef:r,playToast:o},Ve.createElement("div",{id:J,tabIndex:0,onClick:d,"data-in":D,className:F,...i,style:R,ref:r,...D&&{role:V,"aria-label":A}},me!=null&&Ve.createElement("div",{className:oa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},me),PP(u,t,!e),te,!t.customProgressBar&&Ve.createElement(R6,{...N&&!ee?{key:`p-${N}`}:{},rtl:X,theme:S,delay:h,isRunning:e,isIn:D,closeToast:_,hide:y,type:m,className:P,controlledProgress:ee,progress:W||0})))},tU=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),nU=A6(tU("bounce",!0)),rU={position:"top-right",transition:nU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function iU(t){let e={...rU,...t},n=t.stacked,[r,i]=U.useState(!0),o=U.useRef(null),{getToastToRender:l,isToastActive:u,count:h}=q6(e),{className:d,style:m,rtl:y,containerId:_,hotKeys:E}=e;function x(R){let P=oa("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":y});return Ki(d)?d({position:R,rtl:y,defaultClassName:P}):oa(P,Av(d))}function b(){n&&(i(!0),Qe.play())}return W6(()=>{var R;if(n){let P=o.current.querySelectorAll('[data-in="true"]'),N=12,V=(R=e.position)==null?void 0:R.includes("top"),W=0,X=0;Array.from(P).reverse().forEach((J,j)=>{let D=J;D.classList.add("Toastify__toast--stacked"),j>0&&(D.dataset.collapsed=`${r}`),D.dataset.pos||(D.dataset.pos=V?"top":"bot");let L=W*(r?.2:1)+(r?0:N*j);D.style.setProperty("--y",`${V?L:L*-1}px`),D.style.setProperty("--g",`${N}`),D.style.setProperty("--s",`${1-(r?X:0)}`),W+=D.offsetHeight,X+=.025})}},[r,h,n]),U.useEffect(()=>{function R(P){var N;let V=o.current;E(P)&&((N=V.querySelector('[tabIndex="0"]'))==null||N.focus(),i(!1),Qe.pause()),P.key==="Escape"&&(document.activeElement===V||V!=null&&V.contains(document.activeElement))&&(i(!0),Qe.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[E]),Ve.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{n&&(i(!1),Qe.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,P)=>{let N=P.length?{...m}:{...m,pointerEvents:"none"};return Ve.createElement("div",{tabIndex:-1,className:x(R),"data-stacked":n,style:N,key:`c-${R}`},P.map(({content:V,props:W})=>Ve.createElement(eU,{...W,stacked:n,collapseAll:b,isIn:u(W.toastId,W.containerId),key:`t-${W.key}`},V)))}))}var MP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tx=Ve.createContext&&Ve.createContext(MP),sU=["attr","size","title"];function oU(t,e){if(t==null)return{};var n=aU(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}function bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(n),!0).forEach(function(r){lU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lU(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=cU(t,"string");return typeof e=="symbol"?e:e+""}function cU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LP(t){return t&&t.map((e,n)=>Ve.createElement(e.tag,Np({key:n},e.attr),LP(e.child)))}function fo(t){return e=>Ve.createElement(hU,Op({attr:Np({},t.attr)},e),LP(t.child))}function hU(t){var e=n=>{var{attr:r,size:i,title:o}=t,l=oU(t,sU),u=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Ve.createElement("svg",Op({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:Np(Np({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Ve.createElement("title",null,o),t.children)};return Tx!==void 0?Ve.createElement(Tx.Consumer,null,n=>e(n)):e(MP)}function dU(t){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function fU(t){return fo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function pU(t){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function mU(t){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function gU(t){return fo({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function yU(t){return fo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}const vU=()=>{const{user:t}=U.useContext(h0),[e,n]=U.useState([]),[r,i]=U.useState({}),[o,l]=U.useState("全部"),[u,h]=U.useState(["全部"]),[d,m]=U.useState(!0);U.useEffect(()=>{const E=b=>{b.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")},x=b=>{b.preventDefault()};return document.addEventListener("contextmenu",E),document.addEventListener("dragstart",x),()=>{document.removeEventListener("contextmenu",E),document.removeEventListener("dragstart",x)}},[]),U.useEffect(()=>{(async()=>{try{m(!0);const R=(await pp.fetch(`*[_type == "category"] | order(name asc) { 
          name,
          "slug": slug.current
        }`)).map(V=>V.name);h(["全部",...R]);const N=await pp.fetch(`*[_type == "product"] {
          _id,
          price,
          name,
          "slug": slug.current,
          "categoryName": category->name,
          "categorySlug": category->slug.current,
          "imageUrl": images[0].asset->url
        }`);n(N)}catch(x){console.error("獲取數據時發生錯誤:",x),Qe.error("獲取產品時發生錯誤，請稍後再試")}finally{m(!1)}})()},[]),U.useEffect(()=>{t?(async()=>{const x=yx(_x,"favorites",t.uid),b=await y6(x);b.exists()?i(b.data().favorites||{}):i({})})():i({})},[t]);const y=async E=>{if(!t){Qe.warn("請先登入才能收藏商品",{position:"top-right",autoClose:2e3});return}const x=yx(_x,"favorites",t.uid);let b={...r};try{r[E._id]?(delete b[E._id],Qe.info("已取消收藏",{position:"top-right",autoClose:2e3}),Object.keys(b).length===0?await w6(x):await wx(x,{favorites:b},{merge:!0})):(b[E._id]={id:E._id,name:E.name,price:E.price,imageUrl:E.imageUrl,slug:E.slug,categoryName:E.categoryName},await wx(x,{favorites:b},{merge:!0}),Qe.success("已加入收藏",{position:"top-right",autoClose:2e3})),i(b)}catch(R){console.error("收藏商品時發生錯誤:",R),Qe.error("收藏商品時發生錯誤，請稍後再試",{position:"top-right",autoClose:2e3})}},_=o==="全部"?e:e.filter(E=>E.categoryName===o);return d?k.jsx("div",{className:"flex justify-center items-center h-64",children:"載入中..."}):k.jsx("div",{className:"bg-white",children:k.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24",children:[k.jsx("div",{className:"mb-8 border-b border-gray-200",children:k.jsx("div",{className:"flex space-x-8 overflow-x-auto pb-1",children:u.map(E=>k.jsx("button",{className:`whitespace-nowrap pb-4 px-1 font-medium text-sm ${o===E?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l(E),children:E},E))})}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:_.map(E=>k.jsxs("div",{className:"relative group",children:[k.jsx("button",{className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md z-10",onClick:()=>y(E),children:k.jsx(mU,{className:`text-xl ${r[E._id]?"text-red-500":"text-gray-400"}`})}),k.jsxs(Sr,{to:`/product/${E.slug}`,className:"block",children:[k.jsx("div",{className:"overflow-hidden rounded-lg bg-gray-100 aspect-w-4 aspect-h-3",children:k.jsx("img",{src:E.imageUrl||"/placeholder.jpg",alt:E.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:x=>{x.target.src="/placeholder.jpg"},onDragStart:x=>x.preventDefault()})}),k.jsxs("div",{className:"mt-3",children:[k.jsx("h3",{className:"font-medium text-gray-900",children:E.name}),k.jsxs("p",{className:"mt-1 text-gray-600",children:["$",E.price]}),E.categoryName&&k.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-gray-100 text-xs rounded-full text-gray-600",children:E.categoryName})]})]})]},E._id))}),_.length===0&&k.jsx("div",{className:"text-center py-12",children:k.jsx("p",{className:"text-gray-500",children:"此分類下暫無產品"})})]})})},VP=()=>{const t=[{id:1,title:"Hidden Gems of Southeast Asia",description:"Discover breathtaking destinations off the beaten path that will transform your perspective on travel.",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 15, 2024",readTime:"8 min read",rating:4,slug:"hidden-gems-southeast-asia"},{id:2,title:"European Food Markets: A Culinary Journey",description:"From Barcelona's La Boqueria to Istanbul's Grand Bazaar, explore the world's most vibrant food scenes.",image:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 12, 2024",readTime:"6 min read",rating:4.8,slug:"european-food-markets"},{id:3,title:"Solo Travel in Japan: Complete Guide",description:"Navigate the Land of the Rising Sun with confidence. Essential tips for first-time solo travelers.",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 10, 2024",readTime:"12 min read",rating:4.9,slug:"solo-travel-japan"},{id:4,title:"Mountain Adventures in the Alps",description:"Experience the breathtaking beauty of Alpine peaks and discover hiking trails that will leave you speechless.",image:"https://images.unsplash.com/photo-1464822759844-d150baec0494?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 08, 2024",readTime:"10 min read",rating:4.7,slug:"mountain-adventures-alps"},{id:5,title:"Street Art Capitals of the World",description:"Explore vibrant street art scenes from Berlin to Buenos Aires and discover the stories behind the walls.",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 05, 2024",readTime:"7 min read",rating:4.5,slug:"street-art-capitals"},{id:6,title:"Island Hopping in the Mediterranean",description:"Sail through crystal-clear waters and discover hidden coves in the most beautiful Mediterranean islands.",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 03, 2024",readTime:"9 min read",rating:4.6,slug:"mediterranean-island-hopping"},{id:7,title:"Northern Lights: A Photographer's Dream",description:"Capture the magic of Aurora Borealis with expert tips and the best locations for stunning photographs.",image:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Nov 28, 2024",readTime:"11 min read",rating:4.9,slug:"northern-lights-photography"},{id:8,title:"Desert Safari Adventures",description:"Experience the thrill of desert exploration from the Sahara to the Arabian Peninsula's golden dunes.",image:"https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Nov 25, 2024",readTime:"8 min read",rating:4.4,slug:"desert-safari-adventures"},{id:9,title:"Urban Exploration: Modern Architecture",description:"Discover architectural marvels in world's most innovative cities and the stories behind their design.",image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Nov 22, 2024",readTime:"6 min read",rating:4.3,slug:"urban-exploration-architecture"}];return k.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Latest Adventures"}),k.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Follow our journey as we explore the most beautiful places on Earth and share insider tips for your next adventure."})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>k.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[k.jsxs("div",{className:"relative",children:[k.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),k.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-full px-2 py-1 flex items-center shadow-sm",children:[k.jsx("span",{className:"text-yellow-500 text-sm",children:"★"}),k.jsx("span",{className:"text-sm font-medium ml-1",children:e.rating})]})]}),k.jsxs("div",{className:"p-6",children:[k.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors",children:k.jsx(Sr,{to:`/blog/${e.slug}`,children:e.title})}),k.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),k.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsxs("span",{className:"flex items-center",children:[k.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.date]}),k.jsxs("span",{className:"flex items-center",children:[k.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.readTime]})]})}),k.jsx("div",{className:"mt-4",children:k.jsxs(Sr,{to:`/blog/${e.slug}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors",children:["Read More",k.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]},e.id))})]})})},jP=!(typeof navigator>"u")&&navigator.product==="ReactNative",FP={timeout:jP?6e4:12e4},wU=function(t){const e={...FP,...typeof t=="string"?{url:t}:t};if(e.timeout=$P(e.timeout),e.query){const{url:n,searchParams:r}=function(i){const o=i.indexOf("?");if(o===-1)return{url:i,searchParams:new URLSearchParams};const l=i.slice(0,o),u=i.slice(o+1);if(!jP)return{url:l,searchParams:new URLSearchParams(u)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const h=new URLSearchParams;for(const d of u.split("&")){const[m,y]=d.split("=");m&&h.append(xx(m),xx(y||""))}return{url:l,searchParams:h}}(e.url);for(const[i,o]of Object.entries(e.query)){if(o!==void 0)if(Array.isArray(o))for(const u of o)r.append(i,u);else r.append(i,o);const l=r.toString();l&&(e.url=`${n}?${l}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function xx(t){return decodeURIComponent(t.replace(/\+/g," "))}function $P(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?$P(FP.timeout):{connect:e,socket:e}}const _U=/^https?:\/\//i,EU=function(t){if(!_U.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function UP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const TU=["request","response","progress","error","abort"],Sx=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function BP(t,e){const n=[],r=Sx.reduce((o,l)=>(o[l]=o[l]||[],o),{processOptions:[wU],validateOptions:[EU]});function i(o){const l=TU.reduce((E,x)=>(E[x]=function(){const b=Object.create(null);let R=0;return{publish:function(P){for(const N in b)b[N](P)},subscribe:function(P){const N=R++;return b[N]=P,function(){delete b[N]}}}}(),E),{}),u=(E=>function(x,b,...R){const P=x==="onError";let N=b;for(let V=0;V<E[x].length&&(N=(0,E[x][V])(N,...R),!P||N);V++);return N})(r),h=u("processOptions",o);u("validateOptions",h);const d={options:h,channels:l,applyMiddleware:u};let m;const y=l.request.subscribe(E=>{m=e(E,(x,b)=>((R,P,N)=>{let V=R,W=P;if(!V)try{W=u("onResponse",P,N)}catch(X){W=null,V=X}V=V&&u("onError",V,N),V?l.error.publish(V):W&&l.response.publish(W)})(x,b,E))});l.abort.subscribe(()=>{y(),m&&m.abort()});const _=u("onReturn",l,d);return _===l&&l.request.publish(d),_}return i.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Sx.forEach(l=>{o[l]&&r[l].push(o[l])}),n.push(o),i},i.clone=()=>BP(n,e),t.forEach(i.use),i}var Ix,Cx,bU=UP(function(){if(Cx)return Ix;Cx=1;var t=function(n){return n.replace(/^\s+|\s+$/g,"")},e=function(n){return Object.prototype.toString.call(n)==="[object Array]"};return Ix=function(n){if(!n)return{};for(var r=Object.create(null),i=t(n).split(`
`),o=0;o<i.length;o++){var l=i[o],u=l.indexOf(":"),h=t(l.slice(0,u)).toLowerCase(),d=t(l.slice(u+1));typeof r[h]>"u"?r[h]=d:e(r[h])?r[h].push(d):r[h]=[r[h],d]}return r}}()),xh,Sh,Hl,Ih,Ai,Ch,Ah,AS;let Dv=(AS=class{constructor(){le(this,"onabort");le(this,"onerror");le(this,"onreadystatechange");le(this,"ontimeout");le(this,"readyState",0);le(this,"response");le(this,"responseText","");le(this,"responseType","");le(this,"status");le(this,"statusText");le(this,"withCredentials");ge(this,xh);ge(this,Sh);ge(this,Hl);ge(this,Ih,{});ge(this,Ai);ge(this,Ch,{});ge(this,Ah)}open(e,n,r){var i;pe(this,xh,e),pe(this,Sh,n),pe(this,Hl,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),pe(this,Ai,void 0)}abort(){M(this,Ai)&&M(this,Ai).abort()}getAllResponseHeaders(){return M(this,Hl)}setRequestHeader(e,n){M(this,Ih)[e]=n}setInit(e,n=!0){pe(this,Ch,e),pe(this,Ah,n)}send(e){const n=this.responseType!=="arraybuffer",r={...M(this,Ch),method:M(this,xh),headers:M(this,Ih),body:e};typeof AbortController=="function"&&M(this,Ah)&&(pe(this,Ai,new AbortController),typeof EventTarget<"u"&&M(this,Ai).signal instanceof EventTarget&&(r.signal=M(this,Ai).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(M(this,Sh),r).then(i=>{var o;return i.headers.forEach((l,u)=>{pe(this,Hl,M(this,Hl)+`${u}: ${l}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(o=this.onreadystatechange)==null||o.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var o;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(o=this.onreadystatechange)==null||o.call(this)}).catch(i=>{var o,l;i.name!=="AbortError"?(o=this.onerror)==null||o.call(this,i):(l=this.onabort)==null||l.call(this)})}},xh=new WeakMap,Sh=new WeakMap,Hl=new WeakMap,Ih=new WeakMap,Ai=new WeakMap,Ch=new WeakMap,Ah=new WeakMap,AS);const Ov=typeof XMLHttpRequest=="function"?"xhr":"fetch",xU=Ov==="xhr"?XMLHttpRequest:Dv,SU=(t,e)=>{const n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},o=t.applyMiddleware("interceptRequest",void 0,{adapter:Ov,context:t});if(o){const b=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(b)}}let l=new xU;l instanceof Dv&&typeof r.fetch=="object"&&l.setInit(r.fetch,r.useAbortSignal??!0);const u=r.headers,h=r.timeout;let d=!1,m=!1,y=!1;if(l.onerror=b=>{x(l instanceof Dv?b instanceof Error?b:new Error(`Request error while attempting to reach is ${r.url}`,{cause:b}):new Error(`Request error while attempting to reach is ${r.url}${b.lengthComputable?`(${b.loaded} of ${b.total} bytes transferred)`:""}`))},l.ontimeout=b=>{x(new Error(`Request timeout while attempting to reach ${r.url}${b.lengthComputable?`(${b.loaded} of ${b.total} bytes transferred)`:""}`))},l.onabort=()=>{E(!0),d=!0},l.onreadystatechange=function(){h&&(E(),i.socket=setTimeout(()=>_("ESOCKETTIMEDOUT"),h.socket)),!d&&l&&l.readyState===4&&l.status!==0&&function(){if(!(d||m||y)){if(l.status===0)return void x(new Error("Unknown XHR error"));E(),m=!0,e(null,{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:r.url,method:r.method,headers:bU(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText})}}()},l.open(r.method,r.url,!0),l.withCredentials=!!r.withCredentials,u&&l.setRequestHeader)for(const b in u)u.hasOwnProperty(b)&&l.setRequestHeader(b,u[b]);return r.rawBody&&(l.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:Ov,request:l,context:t}),l.send(r.body||null),h&&(i.connect=setTimeout(()=>_("ETIMEDOUT"),h.connect)),{abort:function(){d=!0,l&&l.abort()}};function _(b){y=!0,l.abort();const R=new Error(b==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);R.code=b,t.channels.error.publish(R)}function E(b){(b||d||l&&l.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(b){if(m)return;E(!0),m=!0,l=null;const R=b||new Error(`Network error while attempting to reach ${r.url}`);R.isNetworkError=!0,R.request=r,e(R)}},IU=(t=[],e=SU)=>BP(t,e);var CU={},Ax,Px,Rx,kx,Dx,My={exports:{}};Dx||(Dx=1,function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,l=0;r[0].replace(/%[a-zA-Z%]/g,u=>{u!=="%%"&&(o++,u==="%c"&&(l=o))}),r.splice(l,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=CU.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(kx?Rx:(kx=1,Rx=function(r){function i(u){let h,d,m,y=null;function _(...E){if(!_.enabled)return;const x=_,b=Number(new Date),R=b-(h||b);x.diff=R,x.prev=h,x.curr=b,h=b,E[0]=i.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let P=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(N,V)=>{if(N==="%%")return"%";P++;const W=i.formatters[V];if(typeof W=="function"){const X=E[P];N=W.call(x,X),E.splice(P,1),P--}return N}),i.formatArgs.call(x,E),(x.log||i.log).apply(x,E)}return _.namespace=u,_.useColors=i.useColors(),_.color=i.selectColor(u),_.extend=o,_.destroy=i.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(d!==i.namespaces&&(d=i.namespaces,m=i.enabled(u)),m),set:E=>{y=E}}),typeof i.init=="function"&&i.init(_),_}function o(u,h){const d=i(this.namespace+(typeof h>"u"?":":h)+u);return d.log=this.log,d}function l(u,h){let d=0,m=0,y=-1,_=0;for(;d<u.length;)if(m<h.length&&(h[m]===u[d]||h[m]==="*"))h[m]==="*"?(y=m,_=d,m++):(d++,m++);else{if(y===-1)return!1;m=y+1,_++,d=_}for(;m<h.length&&h[m]==="*";)m++;return m===h.length}return i.debug=i,i.default=i,i.coerce=function(u){return u instanceof Error?u.stack||u.message:u},i.disable=function(){const u=[...i.names,...i.skips.map(h=>"-"+h)].join(",");return i.enable(""),u},i.enable=function(u){i.save(u),i.namespaces=u,i.names=[],i.skips=[];const h=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of h)d[0]==="-"?i.skips.push(d.slice(1)):i.names.push(d)},i.enabled=function(u){for(const h of i.skips)if(l(u,h))return!1;for(const h of i.names)if(l(u,h))return!0;return!1},i.humanize=function(){if(Px)return Ax;Px=1;var u=1e3,h=60*u,d=60*h,m=24*d,y=7*m;function _(E,x,b,R){var P=x>=1.5*b;return Math.round(E/b)+" "+R+(P?"s":"")}return Ax=function(E,x){x=x||{};var b,R,P=typeof E;if(P==="string"&&E.length>0)return function(N){if(!((N=String(N)).length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(V){var W=parseFloat(V[1]);switch((V[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*W;case"weeks":case"week":case"w":return W*y;case"days":case"day":case"d":return W*m;case"hours":case"hour":case"hrs":case"hr":case"h":return W*d;case"minutes":case"minute":case"mins":case"min":case"m":return W*h;case"seconds":case"second":case"secs":case"sec":case"s":return W*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return W;default:return}}}}(E);if(P==="number"&&isFinite(E))return x.long?(b=E,(R=Math.abs(b))>=m?_(b,R,m,"day"):R>=d?_(b,R,d,"hour"):R>=h?_(b,R,h,"minute"):R>=u?_(b,R,u,"second"):b+" ms"):function(N){var V=Math.abs(N);return V>=m?Math.round(N/m)+"d":V>=d?Math.round(N/d)+"h":V>=h?Math.round(N/h)+"m":V>=u?Math.round(N/u)+"s":N+"ms"}(E);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(E))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(u=>{i[u]=r[u]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return i.colors[Math.abs(h)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(My,My.exports)),My.exports;const AU=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function Ox(t){return Object.prototype.toString.call(t)==="[object Object]"}function PU(t){if(Ox(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Ox(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const RU=["boolean","string","number"];function kU(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||AU(e)||RU.indexOf(typeof e)===-1&&!Array.isArray(e)&&!PU(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function DU(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:e(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Rc={};typeof globalThis<"u"?Rc=globalThis:typeof window<"u"?Rc=window:typeof global<"u"?Rc=global:typeof self<"u"&&(Rc=self);var OU=Rc;function NU(t={}){const e=t.implementation||OU.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(o=>i.error(o)),n.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),n.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function MU(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;function r(i){return o=>{const l=o.lengthComputable?o.loaded/o.total*100:-1;n.channels.progress.publish({stage:i,percent:l,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var zP=(t,e,n)=>(n.method==="GET"||n.method==="HEAD")&&(t.isNetworkError||!1);function LU(t){return 100*Math.pow(2,t)+100*Math.random()}const d0=(t={})=>(e=>{const n=e.maxRetries||5,r=e.retryDelay||LU,i=e.shouldRetry;return{onError:(o,l)=>{const u=l.options,h=u.maxRetries||n,d=u.retryDelay||r,m=u.shouldRetry||i,y=u.attemptNumber||0;if((_=u.body)!==null&&typeof _=="object"&&typeof _.pipe=="function"||!m(o,y,u)||y>=h)return o;var _;const E=Object.assign({},l,{options:Object.assign({},u,{attemptNumber:y+1})});return setTimeout(()=>l.channels.request.publish(E),d(y)),null}}})({shouldRetry:zP,...t});d0.shouldRetry=zP;function ht(t){return typeof t=="function"}function f0(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ly=f0(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Mp(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var rd=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=Zl(l),h=u.next();!h.done;h=u.next()){var d=h.value;d.remove(this)}}catch(b){e={error:b}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}else l.remove(this);var m=this.initialTeardown;if(ht(m))try{m()}catch(b){o=b instanceof Ly?b.errors:[b]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var _=Zl(y),E=_.next();!E.done;E=_.next()){var x=E.value;try{Nx(x)}catch(b){o=o??[],b instanceof Ly?o=qi(qi([],zi(o)),zi(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}}if(o)throw new Ly(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Nx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Mp(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Mp(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),qP=rd.EMPTY;function HP(t){return t instanceof rd||t&&"closed"in t&&ht(t.remove)&&ht(t.add)&&ht(t.unsubscribe)}function Nx(t){ht(t)?t():t.unsubscribe()}var VU={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},WP={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,qi([t,e],zi(n)))},clearTimeout:function(t){var e=WP.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function GP(t){WP.setTimeout(function(){throw t})}function Mx(){}function rp(t){t()}var p0=function(t){Zi(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,HP(n)&&n.add(r)):r.destination=$U,r}return e.create=function(n,r,i){return new sh(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(rd),jU=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){jf(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){jf(r)}else jf(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){jf(n)}},t}(),sh=function(t){Zi(e,t);function e(n,r,i){var o=t.call(this)||this,l;return ht(n)||!n?l={next:n??void 0,error:r??void 0,complete:i??void 0}:l=n,o.destination=new jU(l),o}return e}(p0);function jf(t){GP(t)}function FU(t){throw t}var $U={closed:!0,next:Mx,error:FU,complete:Mx},m0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Am(t){return t}function UU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return KP(t)}function KP(t){return t.length===0?Am:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Et=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=zU(e)?e:new sh(e,n,r);return rp(function(){var l=i,u=l.operator,h=l.source;o.add(u?u.call(o,h):h?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Lx(n),new n(function(i,o){var l=new sh({next:function(u){try{e(u)}catch(h){o(h),l.unsubscribe()}},error:o,complete:i});r.subscribe(l)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[m0]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return KP(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Lx(e),new e(function(r,i){var o;n.subscribe(function(l){return o=l},function(l){return i(l)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function Lx(t){var e;return(e=t??VU.Promise)!==null&&e!==void 0?e:Promise}function BU(t){return t&&ht(t.next)&&ht(t.error)&&ht(t.complete)}function zU(t){return t&&t instanceof p0||BU(t)&&HP(t)}function qU(t){return ht(t==null?void 0:t.lift)}function ni(t){return function(e){if(qU(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lo(t,e,n,r,i){return new HU(t,e,n,r,i)}var HU=function(t){Zi(e,t);function e(n,r,i,o,l,u){var h=t.call(this,n)||this;return h.onFinalize=l,h.shouldUnsubscribe=u,h._next=r?function(d){try{r(d)}catch(m){n.error(m)}}:t.prototype._next,h._error=o?function(d){try{o(d)}catch(m){n.error(m)}finally{this.unsubscribe()}}:t.prototype._error,h._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:t.prototype._complete,h}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(p0),WU=f0(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),g0=function(t){Zi(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Vx(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new WU},e.prototype.next=function(n){var r=this;rp(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=Zl(r.currentObservers),u=l.next();!u.done;u=l.next()){var h=u.value;h.next(n)}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;rp(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;rp(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,l=i.isStopped,u=i.observers;return o||l?qP:(this.currentObservers=null,u.push(n),new rd(function(){r.currentObservers=null,Mp(u,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,l=r.isStopped;i?n.error(o):l&&n.complete()},e.prototype.asObservable=function(){var n=new Et;return n.source=this,n},e.create=function(n,r){return new Vx(n,r)},e}(Et),Vx=function(t){Zi(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:qP},e}(g0),y0={now:function(){return(y0.delegate||Date).now()},delegate:void 0},GU=function(t){Zi(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=y0);var o=t.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return e.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,l=r._infiniteTimeWindow,u=r._timestampProvider,h=r._windowTime;i||(o.push(n),!l&&o.push(u.now()+h)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,l=i._buffer,u=l.slice(),h=0;h<u.length&&!n.closed;h+=o?1:2)n.next(u[h]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,l=n._infiniteTimeWindow,u=(l?1:2)*r;if(r<1/0&&u<o.length&&o.splice(0,o.length-u),!l){for(var h=i.now(),d=0,m=1;m<o.length&&o[m]<=h;m+=2)d=m;d&&o.splice(0,d+1)}},e}(g0),KU=function(t){Zi(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(rd),jx={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,qi([t,e],zi(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},QU=function(t){Zi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,l=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(l,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(l,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),jx.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&jx.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(l){i=!0,o=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Mp(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(KU),Fx=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=y0.now,t}(),YU=function(t){Zi(e,t);function e(n,r){r===void 0&&(r=Fx.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(Fx),XU=new YU(QU),JU=XU,QP=new Et(function(t){return t.complete()});function ZU(t){return t&&ht(t.schedule)}function v0(t){return t[t.length-1]}function e5(t){return ht(v0(t))?t.pop():void 0}function w0(t){return ZU(v0(t))?t.pop():void 0}function t5(t,e){return typeof v0(t)=="number"?t.pop():e}var YP=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function XP(t){return ht(t==null?void 0:t.then)}function JP(t){return ht(t[m0])}function ZP(t){return Symbol.asyncIterator&&ht(t==null?void 0:t[Symbol.asyncIterator])}function eR(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function n5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tR=n5();function nR(t){return ht(t==null?void 0:t[tR])}function rR(t){return i4(this,arguments,function(){var n,r,i,o;return RC(this,function(l){switch(l.label){case 0:n=t.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,Dl(n.read())];case 3:return r=l.sent(),i=r.value,o=r.done,o?[4,Dl(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,Dl(i)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function iR(t){return ht(t==null?void 0:t.getReader)}function ri(t){if(t instanceof Et)return t;if(t!=null){if(JP(t))return r5(t);if(YP(t))return i5(t);if(XP(t))return s5(t);if(ZP(t))return sR(t);if(nR(t))return o5(t);if(iR(t))return a5(t)}throw eR(t)}function r5(t){return new Et(function(e){var n=t[m0]();if(ht(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function i5(t){return new Et(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function s5(t){return new Et(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,GP)})}function o5(t){return new Et(function(e){var n,r;try{for(var i=Zl(t),o=i.next();!o.done;o=i.next()){var l=o.value;if(e.next(l),e.closed)return}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function sR(t){return new Et(function(e){l5(t,e).catch(function(n){return e.error(n)})})}function a5(t){return sR(rR(t))}function l5(t,e){var n,r,i,o;return r4(this,void 0,void 0,function(){var l,u;return RC(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),n=s4(t),h.label=1;case 1:return[4,n.next()];case 2:if(r=h.sent(),!!r.done)return[3,4];if(l=r.value,e.next(l),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=h.sent(),i={error:u},[3,11];case 6:return h.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function aa(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function oR(t,e){return e===void 0&&(e=0),ni(function(n,r){n.subscribe(lo(r,function(i){return aa(r,t,function(){return r.next(i)},e)},function(){return aa(r,t,function(){return r.complete()},e)},function(i){return aa(r,t,function(){return r.error(i)},e)}))})}function aR(t,e){return e===void 0&&(e=0),ni(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function u5(t,e){return ri(t).pipe(aR(e),oR(e))}function c5(t,e){return ri(t).pipe(aR(e),oR(e))}function h5(t,e){return new Et(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function d5(t,e){return new Et(function(n){var r;return aa(n,e,function(){r=t[tR](),aa(n,e,function(){var i,o,l;try{i=r.next(),o=i.value,l=i.done}catch(u){n.error(u);return}l?n.complete():n.next(o)},0,!0)}),function(){return ht(r==null?void 0:r.return)&&r.return()}})}function lR(t,e){if(!t)throw new Error("Iterable cannot be null");return new Et(function(n){aa(n,e,function(){var r=t[Symbol.asyncIterator]();aa(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function f5(t,e){return lR(rR(t),e)}function p5(t,e){if(t!=null){if(JP(t))return u5(t,e);if(YP(t))return h5(t,e);if(XP(t))return c5(t,e);if(ZP(t))return lR(t,e);if(nR(t))return d5(t,e);if(iR(t))return f5(t,e)}throw eR(t)}function id(t,e){return e?p5(t,e):ri(t)}function Pm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=w0(t);return id(t,n)}function uR(t,e){var n=ht(t)?t:function(){return t},r=function(i){return i.error(n())};return new Et(r)}function m5(t){return!!t&&(t instanceof Et||ht(t.lift)&&ht(t.subscribe))}var g5=f0(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Lt(t,e){return new Promise(function(n,r){var i=!1,o;t.subscribe({next:function(l){o=l,i=!0},error:r,complete:function(){i?n(o):r(new g5)}})})}function y5(t){return t instanceof Date&&!isNaN(t)}function wn(t,e){return ni(function(n,r){var i=0;n.subscribe(lo(r,function(o){r.next(t.call(e,o,i++))}))})}var v5=Array.isArray;function w5(t,e){return v5(e)?t.apply(void 0,qi([],zi(e))):t(e)}function _5(t){return wn(function(e){return w5(t,e)})}function E5(t,e,n){return n===void 0&&(n=Am),function(r){$x(e,function(){for(var i=t.length,o=new Array(i),l=i,u=i,h=function(m){$x(e,function(){var y=id(t[m],e),_=!1;y.subscribe(lo(r,function(E){o[m]=E,_||(_=!0,u--),u||r.next(n(o.slice()))},function(){--l||r.complete()}))},r)},d=0;d<i;d++)h(d)})}}function $x(t,e,n){e()}function T5(t,e,n,r,i,o,l,u){var h=[],d=0,m=0,y=!1,_=function(){y&&!h.length&&!d&&e.complete()},E=function(b){return d<r?x(b):h.push(b)},x=function(b){d++;var R=!1;ri(n(b,m++)).subscribe(lo(e,function(P){e.next(P)},function(){R=!0},void 0,function(){if(R)try{d--;for(var P=function(){var N=h.shift();l||x(N)};h.length&&d<r;)P();_()}catch(N){e.error(N)}}))};return t.subscribe(lo(e,E,function(){y=!0,_()})),function(){}}function sd(t,e,n){return n===void 0&&(n=1/0),ht(e)?sd(function(r,i){return wn(function(o,l){return e(r,o,i,l)})(ri(t(r,i)))},n):(typeof e=="number"&&(n=e),ni(function(r,i){return T5(r,i,t,n)}))}function cR(t){return t===void 0&&(t=1/0),sd(Am,t)}function b5(){return cR(1)}function hR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b5()(id(t,w0(t)))}function dR(t){return new Et(function(e){ri(t()).subscribe(e)})}function x5(t,e,n){return n===void 0&&(n=JU),new Et(function(r){var i=y5(t)?1e3-n.now():t;i<0&&(i=0);var o=0;return n.schedule(function(){r.closed||(r.next(o++),r.complete())},i)})}function S5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=w0(t),r=t5(t,1/0),i=t;return i.length?i.length===1?ri(i[0]):cR(r)(id(i,n)):QP}var I5=Array.isArray;function C5(t){return t.length===1&&I5(t[0])?t[0]:t}function Eu(t,e){return ni(function(n,r){var i=0;n.subscribe(lo(r,function(o){return t.call(e,o,i++)&&r.next(o)}))})}function _0(t){return ni(function(e,n){var r=null,i=!1,o;r=e.subscribe(lo(n,void 0,void 0,function(l){o=ri(t(l,_0(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=e5(t);return n?UU(fR.apply(void 0,qi([],zi(t))),_5(n)):ni(function(r,i){E5(qi([r],zi(C5(t))))(i)})}function A5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fR.apply(void 0,qi([],zi(t)))}function pR(t){return ni(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function mR(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new g0}:e,r=t.resetOnError,i=r===void 0?!0:r,o=t.resetOnComplete,l=o===void 0?!0:o,u=t.resetOnRefCountZero,h=u===void 0?!0:u;return function(d){var m,y,_,E=0,x=!1,b=!1,R=function(){y==null||y.unsubscribe(),y=void 0},P=function(){R(),m=_=void 0,x=b=!1},N=function(){var V=m;P(),V==null||V.unsubscribe()};return ni(function(V,W){E++,!b&&!x&&R();var X=_=_??n();W.add(function(){E--,E===0&&!b&&!x&&(y=Vy(N,h))}),X.subscribe(W),!m&&E>0&&(m=new sh({next:function(J){return X.next(J)},error:function(J){b=!0,R(),y=Vy(P,i,J),X.error(J)},complete:function(){x=!0,R(),y=Vy(P,l),X.complete()}}),ri(V).subscribe(m))})(d)}}function Vy(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new sh({next:function(){i.unsubscribe(),t()}});return ri(e.apply(void 0,qi([],zi(n)))).subscribe(i)}}function P5(t,e,n){var r,i=!1;return r=t,mR({connector:function(){return new GU(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function R5(t,e,n){var r=ht(t)||e||n?{next:t,error:e,complete:n}:t;return r?ni(function(i,o){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var u=!0;i.subscribe(lo(o,function(h){var d;(d=r.next)===null||d===void 0||d.call(r,h),o.next(h)},function(){var h;u=!1,(h=r.complete)===null||h===void 0||h.call(r),o.complete()},function(h){var d;u=!1,(d=r.error)===null||d===void 0||d.call(r,h),o.error(h)},function(){var h,d;u&&((h=r.unsubscribe)===null||h===void 0||h.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Am}var gR={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},E0={0:8203,1:8204,2:8205,3:65279},k5=new Array(4).fill(String.fromCodePoint(E0[0])).join("");function D5(t){let e=JSON.stringify(t);return`${k5}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(E0[i])).join("")}).join("")}`}function O5(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function N5(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function VG(t,e,n="auto"){return n===!0||n==="auto"&&(O5(t)||N5(t))?t:`${t}${D5(e)}`}Object.fromEntries(Object.entries(E0).map(t=>t.reverse()));Object.fromEntries(Object.entries(gR).map(t=>t.reverse()));var M5=`${Object.values(gR).map(t=>`\\u{${t.toString(16)}}`).join("")}`,Ux=new RegExp(`[${M5}]{4,}`,"gu");function L5(t){var e;return{cleaned:t.replace(Ux,""),encoded:((e=t.match(Ux))==null?void 0:e[0])||""}}function V5(t){return t&&JSON.parse(L5(JSON.stringify(t)).cleaned)}function j5(t){return V5(t)}class F5 extends Error{constructor(n){const r=yR(n);super(r.message);le(this,"response");le(this,"statusCode",400);le(this,"responseBody");le(this,"details");Object.assign(this,r)}}class $5 extends Error{constructor(n){const r=yR(n);super(r.message);le(this,"response");le(this,"statusCode",500);le(this,"responseBody");le(this,"details");Object.assign(this,r)}}function yR(t){const e=t.body,n={response:t,statusCode:t.statusCode,responseBody:q5(e,t),message:"",details:void 0};if(e.error&&e.message)return n.message=`${e.error} - ${e.message}`,n;if(U5(e)||B5(e)){const r=e.error.items||[],i=r.slice(0,5).map(l=>{var u;return(u=l.error)==null?void 0:u.description}).filter(Boolean);let o=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(o+=`
...and ${r.length-5} more`),n.message=`${e.error.description}${o}`,n.details=e.error,n}return e.error&&e.error.description?(n.message=e.error.description,n.details=e.error,n):(n.message=e.error||e.message||z5(t),n)}function U5(t){return Lp(t)&&Lp(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function B5(t){return Lp(t)&&Lp(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function Lp(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function z5(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function q5(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}class H5 extends Error{constructor({projectId:n}){super("CorsOriginError");le(this,"projectId");le(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const W5={onResponse:t=>{if(t.statusCode>=500)throw new $5(t);if(t.statusCode>=400)throw new F5(t);return t}};function G5(){const t={};return{onResponse:e=>{const n=e.headers["x-sanity-warning"],r=Array.isArray(n)?n:[n];for(const i of r)!i||t[i]||(t[i]=!0,console.warn(i));return e}}}function Bx(t){return IU([d0({shouldRetry:K5}),...t,G5(),kU(),DU(),MU(),W5,NU({implementation:Et})])}function K5(t,e,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),o=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||i)&&o?!0:d0.shouldRetry(t,e,n)}const Q5="https://www.sanity.io/help/";function T0(t){return Q5+t}const zx=["image","file"],qx=["before","after","replace"],vR=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Y5=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},X5=t=>{if(zx.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${zx.join(", ")}`)},zc=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},wR=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},Vp=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);wR(t,e._id)},J5=(t,e,n)=>{const r="insert(at, selector, items)";if(qx.indexOf(t)===-1){const i=qx.map(o=>`"${o}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},_R=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},ER=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},TR=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},Ur=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function Z5(t){let e=!1,n;return(...r)=>(e||(n=t(...r),e=!0),n)}const Ta=t=>Z5((...e)=>console.warn(t.join(" "),...e)),eB=Ta(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),tB=Ta(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),nB=Ta(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),rB=Ta(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),iB=Ta(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${T0("js-client-browser-token")} for more information and how to hide this warning.`]),sB=Ta(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),oB=Ta(["Using the Sanity client without specifying an API version is deprecated.",`See ${T0("js-client-api-version")}`]),aB="apicdn.sanity.io",qc={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},lB=["localhost","127.0.0.1","0.0.0.0"],uB=t=>lB.indexOf(t)!==-1;function cB(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function bR(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const xR=(t,e)=>{const n={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||qc.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};n.apiVersion||oB();const r={...qc,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const _=T0("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${_}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&TR(r),typeof r.perspective<"u"&&bR(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,l=o&&uB(window.location.hostname),u=!!r.token;r.withCredentials&&u&&(sB(),r.withCredentials=!1),o&&l&&u&&r.ignoreBrowserTokenWarning!==!0?iB():typeof r.useCdn>"u"&&tB(),i&&Y5(r.projectId),r.dataset&&vR(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?ER(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===qc.apiHost,r.useCdn===!0&&r.withCredentials&&eB(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,cB(r.apiVersion);const h=r.apiHost.split("://",2),d=h[0],m=h[1],y=r.isDefaultApi?aB:m;return i?(r.url=`${d}://${r.projectId}.${m}/v${r.apiVersion}`,r.cdnUrl=`${d}://${r.projectId}.${y}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class SR extends Error{constructor(){super(...arguments);le(this,"name","ConnectionFailedError")}}class hB extends Error{constructor(n,r,i={}){super(n,i);le(this,"name","DisconnectError");le(this,"reason");this.reason=r}}class dB extends Error{constructor(n,r){super(n);le(this,"name","ChannelError");le(this,"data");this.data=r}}class fB extends Error{constructor(n,r,i={}){super(n,i);le(this,"name","MessageError");le(this,"data");this.data=r}}class Hx extends Error{constructor(){super(...arguments);le(this,"name","MessageParseError")}}const pB=["channelError","disconnect"];function IR(t,e){return dR(()=>{const n=t();return m5(n)?n:Pm(n)}).pipe(sd(n=>mB(n,e)))}function mB(t,e){return new Et(n=>{const r=e.includes("open"),i=e.includes("reconnect");function o(d){if("data"in d){const[m,y]=Wx(d);n.error(m?new Hx("Unable to parse EventSource error message",{cause:y}):new fB((y==null?void 0:y.data).message,y));return}t.readyState===t.CLOSED?n.error(new SR("EventSource connection failed")):i&&n.next({type:"reconnect"})}function l(){n.next({type:"open"})}function u(d){var _;const[m,y]=Wx(d);if(m){n.error(new Hx("Unable to parse EventSource message",{cause:m}));return}if(d.type==="channelError"){n.error(new dB(gB(y==null?void 0:y.data),y.data));return}if(d.type==="disconnect"){n.error(new hB(`Server disconnected client: ${((_=y.data)==null?void 0:_.reason)||"unknown error"}`));return}n.next({type:d.type,id:d.lastEventId,...y.data?{data:y.data}:{}})}t.addEventListener("error",o),r&&t.addEventListener("open",l);const h=[...new Set([...pB,...e])].filter(d=>d!=="error"&&d!=="open"&&d!=="reconnect");return h.forEach(d=>t.addEventListener(d,u)),()=>{t.removeEventListener("error",o),r&&t.removeEventListener("open",l),h.forEach(d=>t.removeEventListener(d,u)),t.close()}})}function Wx(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...yB(e)?{}:{data:e}}]}catch(e){return[e,null]}}function gB(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function yB(t){for(const e in t)return!1;return!0}function CR(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class AR{constructor(e,n={}){le(this,"selection");le(this,"operations");this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return zc("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return J5(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after",`${e}[-1]`,n)}prepend(e,n){return this.insert("before",`${e}[0]`,n)}splice(e,n,r,i){const o=typeof r>"u"||r===-1,l=n<0?n-1:n,u=o?-1:Math.max(0,n+r),h=l<0&&u>=0?"":u,d=`${e}[${l}:${h}]`;return this.insert("replace",d,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...CR(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n,r=!0){return zc(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}}var na;const s_=class s_ extends AR{constructor(n,r,i){super(n,r);ge(this,na);pe(this,na,i)}clone(){return new s_(this.selection,{...this.operations},M(this,na))}commit(n){if(!M(this,na))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return M(this,na).mutate({patch:this.serialize()},i)}};na=new WeakMap;let la=s_;var ra;const o_=class o_ extends AR{constructor(n,r,i){super(n,r);ge(this,ra);pe(this,ra,i)}clone(){return new o_(this.selection,{...this.operations},M(this,ra))}commit(n){if(!M(this,ra))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return M(this,ra).mutate({patch:this.serialize()},i)}};ra=new WeakMap;let Qs=o_;const PR={returnDocuments:!1};class RR{constructor(e=[],n){le(this,"operations");le(this,"trxId");this.operations=e,this.trxId=n}create(e){return zc("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return zc(n,e),Vp(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return zc(n,e),Vp(n,e),this._add({[n]:e})}delete(e){return wR("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var Pi;const a_=class a_ extends RR{constructor(n,r,i){super(n,i);ge(this,Pi);pe(this,Pi,r)}clone(){return new a_([...this.operations],M(this,Pi),this.trxId)}commit(n){if(!M(this,Pi))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return M(this,Pi).mutate(this.serialize(),Object.assign({transactionId:this.trxId},PR,n||{}))}patch(n,r){const i=typeof r=="function",o=typeof n!="string"&&n instanceof Qs,l=typeof n=="object"&&("query"in n||"id"in n);if(o)return this._add({patch:n.serialize()});if(i){const u=r(new Qs(n,{},M(this,Pi)));if(!(u instanceof Qs))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:u.serialize()})}if(l){const u=new Qs(n,r||{},M(this,Pi));return this._add({patch:u.serialize()})}return this._add({patch:{id:n,...r}})}};Pi=new WeakMap;let jp=a_;var Us;const l_=class l_ extends RR{constructor(n,r,i){super(n,i);ge(this,Us);pe(this,Us,r)}clone(){return new l_([...this.operations],M(this,Us),this.trxId)}commit(n){if(!M(this,Us))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return M(this,Us).mutate(this.serialize(),Object.assign({transactionId:this.trxId},PR,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof la)return this._add({patch:n.serialize()});if(i){const o=r(new la(n,{},M(this,Us)));if(!(o instanceof la))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:n,...r}})}};Us=new WeakMap;let Fp=l_;const vB="X-Sanity-Project-ID";function wB(t,e={}){const n={},r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[vB]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const kR=({query:t,params:e={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:l,...u}=n;i&&r.append("tag",i),r.append("query",t);for(const[h,d]of Object.entries(e))r.append(`$${h}`,JSON.stringify(d));for(const[h,d]of Object.entries(u))d&&r.append(h,`${d}`);return l===!1&&r.append("returnQuery","false"),o===!1&&r.append("includeMutations","false"),`?${r}`},_B=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,EB=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:_B(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),b0=t=>t.type==="response",TB=t=>t.body,bB=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),xB=11264;function DR(t,e,n,r,i={},o={}){const l="stega"in o?{...n||{},...typeof o.stega=="boolean"?{enabled:o.stega}:o.stega||{}}:n,u=l.enabled?j5(i):i,h=o.filterResponse===!1?x=>x:x=>x.result,{cache:d,next:m,...y}={useAbortSignal:typeof o.signal<"u",resultSourceMap:l.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:o.filterResponse===!1&&o.returnQuery!==!1},_=typeof d<"u"||typeof m<"u"?{...y,fetch:{cache:d,next:m}}:y,E=Tu(t,e,"query",{query:r,params:u},_);return l.enabled?E.pipe(A5(id(em(()=>import("./stegaEncodeSourceMap-Bvr__IbZ.js"),[]).then(function(x){return x.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:x})=>x))),wn(([x,b])=>{const R=b(x.result,x.resultSourceMap,l);return h({...x,result:R})})):E.pipe(wn(h))}function OR(t,e,n,r={}){const i={uri:ar(t,"doc",n),json:!0,tag:r.tag,signal:r.signal};return ad(t,e,i).pipe(Eu(b0),wn(o=>o.body.documents&&o.body.documents[0]))}function NR(t,e,n,r={}){const i={uri:ar(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return ad(t,e,i).pipe(Eu(b0),wn(o=>{const l=bB(o.body.documents||[],u=>u._id);return n.map(u=>l[u]||null)}))}function MR(t,e,n,r){return Vp("createIfNotExists",n),Rm(t,e,n,"createIfNotExists",r)}function LR(t,e,n,r){return Vp("createOrReplace",n),Rm(t,e,n,"createOrReplace",r)}function VR(t,e,n,r){return Tu(t,e,"mutate",{mutations:[{delete:CR(n)}]},r)}function jR(t,e,n,r){let i;n instanceof Qs||n instanceof la?i={patch:n.serialize()}:n instanceof jp||n instanceof Fp?i=n.serialize():i=n;const o=Array.isArray(i)?i:[i],l=r&&r.transactionId||void 0;return Tu(t,e,"mutate",{mutations:o,transactionId:l},r)}function FR(t,e,n,r){const i=Array.isArray(n)?n:[n],o=r&&r.transactionId||void 0,l=r&&r.skipCrossDatasetReferenceValidation||void 0,u=r&&r.dryRun||void 0;return Tu(t,e,"actions",{actions:i,transactionId:o,skipCrossDatasetReferenceValidation:l,dryRun:u},r)}function Tu(t,e,n,r,i={}){const o=n==="mutate",l=n==="actions",u=n==="query",h=o||l?"":kR(r),d=!o&&!l&&h.length<xB,m=d?h:"",y=i.returnFirst,{timeout:_,token:E,tag:x,headers:b,returnQuery:R,lastLiveEventId:P,cacheMode:N}=i,V=ar(t,n,m),W={method:d?"GET":"POST",uri:V,json:!0,body:d?void 0:r,query:o&&EB(i),timeout:_,headers:b,token:E,tag:x,returnQuery:R,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(P)?P[0]:P,cacheMode:N,canUseCdn:u,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return ad(t,e,W).pipe(Eu(b0),wn(TB),wn(X=>{if(!o)return X;const J=X.results||[];if(i.returnDocuments)return y?J[0]&&J[0].document:J.map(L=>L.document);const j=y?"documentId":"documentIds",D=y?J[0]&&J[0].id:J.map(L=>L.id);return{transactionId:X.transactionId,results:J,[j]:D}}))}function Rm(t,e,n,r,i={}){const o={[r]:n},l=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Tu(t,e,"mutate",{mutations:[o]},l)}const od=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,$R=(t,e)=>od(t)&&e.startsWith(ar(t,"query")),SB=(t,e)=>od(t)&&e.startsWith(ar(t,"mutate")),IB=(t,e)=>od(t)&&e.startsWith(ar(t,"doc","")),CB=(t,e)=>od(t)&&e.startsWith(ar(t,"listen")),AB=(t,e)=>od(t)&&e.startsWith(ar(t,"history","")),PB=(t,e)=>e.startsWith("/data/")||$R(t,e)||SB(t,e)||IB(t,e)||CB(t,e)||AB(t,e);function ad(t,e,n){const r=n.url||n.uri,i=t.config(),o=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&PB(t,r):n.canUseCdn;let l=(n.useCdn??i.useCdn)&&o;const u=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(u&&n.tag!==null&&(n.query={tag:ER(u),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&$R(t,r)){const m=n.resultSourceMap??i.resultSourceMap;m!==void 0&&m!==!1&&(n.query={resultSourceMap:m,...n.query});const y=n.perspective||i.perspective;typeof y<"u"&&(y==="previewDrafts"&&rB(),bR(y),n.query={perspective:Array.isArray(y)?y.join(","):y,...n.query},(Array.isArray(y)&&y.length>0||y==="previewDrafts"||y==="drafts")&&l&&(l=!1,nB())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),l&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const h=wB(i,Object.assign({},n,{url:x0(t,r,l)})),d=new Et(m=>e(h,i.requester).subscribe(m));return n.signal?d.pipe(RB(n.signal)):d}function Cr(t,e,n){return ad(t,e,n).pipe(Eu(r=>r.type==="response"),wn(r=>r.body))}function ar(t,e,n){const r=t.config();if(r["~experimental_resource"]){TR(r);const l=OB(r),u=n!==void 0?`${e}/${n}`:e;return`${l}/${u}`.replace(/\/($|\?)/,"$1")}const i=_R(r),o=`/${e}/${i}`;return`/data${n!==void 0?`${o}/${n}`:o}`.replace(/\/($|\?)/,"$1")}function x0(t,e,n=!1){const{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}function RB(t){return e=>new Et(n=>{const r=()=>n.error(DB(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const kB=!!globalThis.DOMException;function DB(t){if(kB)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}const OB=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};var Ph,Rh;class NB{constructor(e,n){ge(this,Ph);ge(this,Rh);pe(this,Ph,e),pe(this,Rh,n)}upload(e,n,r){return UR(M(this,Ph),M(this,Rh),e,n,r)}}Ph=new WeakMap,Rh=new WeakMap;var kh,Dh;class MB{constructor(e,n){ge(this,kh);ge(this,Dh);pe(this,kh,e),pe(this,Dh,n)}upload(e,n,r){const i=UR(M(this,kh),M(this,Dh),e,n,r);return Lt(i.pipe(Eu(o=>o.type==="response"),wn(o=>o.body.document)))}}kh=new WeakMap,Dh=new WeakMap;function UR(t,e,n,r,i={}){X5(n);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const l=t.config(),u=VB(i,r),{tag:h,label:d,title:m,description:y,creditLine:_,filename:E,source:x}=u,b={label:d,title:m,description:y,filename:E,meta:o,creditLine:_};return x&&(b.sourceId=x.id,b.sourceName=x.name,b.sourceUrl=x.url),ad(t,e,{tag:h,method:"POST",timeout:u.timeout||0,uri:LB(l,n),headers:u.contentType?{"Content-Type":u.contentType}:{},query:b,body:r})}function LB(t,e){const n=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:o}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${o}/assets/${n}`;case"media-library":return`/media-libraries/${o}/upload`;case"dashboard":return`/dashboards/${o}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=_R(t);return`assets/${n}/${r}`}function VB(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var jB=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const FB=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),BR=dR(()=>em(()=>import("./browser-BHHetU9h.js").then(t=>t.b),[])).pipe(wn(({default:t})=>t),P5(1));function zR(){return function(t){return t.pipe(_0((e,n)=>e instanceof SR?hR(Pm({type:"reconnect"}),x5(1e3).pipe(sd(()=>n))):uR(()=>e)))}}const $B=14800,UB=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],BB={includeResult:!0};function qR(t,e,n={}){const{url:r,token:i,withCredentials:o,requestTagPrefix:l}=this.config(),u=n.tag&&l?[l,n.tag].join("."):n.tag,h={...jB(n,BB),tag:u},d=FB(h,UB),m=kR({query:t,params:e,options:{tag:u,...d}}),y=`${r}${ar(this,"listen",m)}`;if(y.length>$B)return uR(()=>new Error("Query too large for listener"));const _=h.events?h.events:["mutation"],E={};return o&&(E.withCredentials=!0),i&&(E.headers={Authorization:`Bearer ${i}`}),IR(()=>(typeof EventSource>"u"||E.headers?BR:Pm(EventSource)).pipe(wn(x=>new x(y,E))),_).pipe(zR(),Eu(x=>_.includes(x.type)),wn(x=>({type:x.type,..."data"in x?x.data:{}})))}function zB(t,e){return qB(typeof t=="function"?{predicate:t,...e}:t)}function qB(t){return e=>{let n,r=!1;const{predicate:i,...o}=t,l=e.pipe(R5(h=>{t.predicate(h)&&(r=!0,n=h)}),pR(()=>{r=!1,n=void 0}),mR(o)),u=new Et(h=>{r&&h.next(n),h.complete()});return S5(l,u)}}const Gx="2021-03-25";var Bs;class HR{constructor(e){ge(this,Bs);pe(this,Bs,e)}events({includeDrafts:e=!1,tag:n}={}){Ur("live",M(this,Bs).config());const{projectId:r,apiVersion:i,token:o,withCredentials:l,requestTagPrefix:u}=M(this,Bs).config(),h=i.replace(/^v/,"");if(h!=="X"&&h<Gx)throw new Error(`The live events API requires API version ${Gx} or later. The current API version is ${h}. Please update your API version to use this feature.`);if(e&&!o&&!l)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const d=ar(M(this,Bs),"live/events"),m=new URL(M(this,Bs).getUrl(d,!1)),y=n&&u?[u,n].join("."):n;y&&m.searchParams.set("tag",y),e&&m.searchParams.set("includeDrafts","true");const _={};e&&o&&(_.headers={Authorization:`Bearer ${o}`}),e&&l&&(_.withCredentials=!0);const E=`${m.href}::${JSON.stringify(_)}`,x=jy.get(E);if(x)return x;const b=IR(()=>(typeof EventSource>"u"||_.headers?BR:Pm(EventSource)).pipe(wn(N=>new N(m.href,_))),["message","restart","welcome","reconnect","goaway"]).pipe(zR(),wn(N=>{if(N.type==="message"){const{data:V,...W}=N;return{...W,tags:V.tags}}return N})),R=HB(m,{method:"OPTIONS",mode:"cors",credentials:_.withCredentials?"include":"omit",headers:_.headers}).pipe(sd(()=>QP),_0(()=>{throw new H5({projectId:r})})),P=hR(R,b).pipe(pR(()=>jy.delete(E)),zB({predicate:N=>N.type==="welcome"}));return jy.set(E,P),P}}Bs=new WeakMap;function HB(t,e){return new Et(n=>{const r=new AbortController,i=r.signal;return fetch(t,{...e,signal:r.signal}).then(o=>{n.next(o),n.complete()},o=>{i.aborted||n.error(o)}),()=>r.abort()})}const jy=new Map;var zs,qs;class WB{constructor(e,n){ge(this,zs);ge(this,qs);pe(this,zs,e),pe(this,qs,n)}create(e,n){return Vl(M(this,zs),M(this,qs),"PUT",e,n)}edit(e,n){return Vl(M(this,zs),M(this,qs),"PATCH",e,n)}delete(e){return Vl(M(this,zs),M(this,qs),"DELETE",e)}list(){return Cr(M(this,zs),M(this,qs),{uri:"/datasets",tag:null})}}zs=new WeakMap,qs=new WeakMap;var nr,Hs;class GB{constructor(e,n){ge(this,nr);ge(this,Hs);pe(this,nr,e),pe(this,Hs,n)}create(e,n){return Ur("dataset",M(this,nr).config()),Lt(Vl(M(this,nr),M(this,Hs),"PUT",e,n))}edit(e,n){return Ur("dataset",M(this,nr).config()),Lt(Vl(M(this,nr),M(this,Hs),"PATCH",e,n))}delete(e){return Ur("dataset",M(this,nr).config()),Lt(Vl(M(this,nr),M(this,Hs),"DELETE",e))}list(){return Ur("dataset",M(this,nr).config()),Lt(Cr(M(this,nr),M(this,Hs),{uri:"/datasets",tag:null}))}}nr=new WeakMap,Hs=new WeakMap;function Vl(t,e,n,r,i){return Ur("dataset",t.config()),vR(r),Cr(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var Ws,Wl;class KB{constructor(e,n){ge(this,Ws);ge(this,Wl);pe(this,Ws,e),pe(this,Wl,n)}list(e){Ur("projects",M(this,Ws).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Cr(M(this,Ws),M(this,Wl),{uri:n})}getById(e){return Ur("projects",M(this,Ws).config()),Cr(M(this,Ws),M(this,Wl),{uri:`/projects/${e}`})}}Ws=new WeakMap,Wl=new WeakMap;var Gs,Gl;class QB{constructor(e,n){ge(this,Gs);ge(this,Gl);pe(this,Gs,e),pe(this,Gl,n)}list(e){Ur("projects",M(this,Gs).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Lt(Cr(M(this,Gs),M(this,Gl),{uri:n}))}getById(e){return Ur("projects",M(this,Gs).config()),Lt(Cr(M(this,Gs),M(this,Gl),{uri:`/projects/${e}`}))}}Gs=new WeakMap,Gl=new WeakMap;var Oh,Nh;class YB{constructor(e,n){ge(this,Oh);ge(this,Nh);pe(this,Oh,e),pe(this,Nh,n)}getById(e){return Cr(M(this,Oh),M(this,Nh),{uri:`/users/${e}`})}}Oh=new WeakMap,Nh=new WeakMap;var Mh,Lh;class XB{constructor(e,n){ge(this,Mh);ge(this,Lh);pe(this,Mh,e),pe(this,Lh,n)}getById(e){return Lt(Cr(M(this,Mh),M(this,Lh),{uri:`/users/${e}`}))}}Mh=new WeakMap,Lh=new WeakMap;var Ri,Rt;const Qp=class Qp{constructor(e,n=qc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");ge(this,Ri);ge(this,Rt);le(this,"listen",qR);this.config(n),pe(this,Rt,e),this.assets=new NB(this,M(this,Rt)),this.datasets=new WB(this,M(this,Rt)),this.live=new HR(this),this.projects=new KB(this,M(this,Rt)),this.users=new YB(this,M(this,Rt))}clone(){return new Qp(M(this,Rt),this.config())}config(e){if(e===void 0)return{...M(this,Ri)};if(M(this,Ri)&&M(this,Ri).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return pe(this,Ri,xR(e,M(this,Ri)||{})),this}withConfig(e){const n=this.config();return new Qp(M(this,Rt),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return DR(this,M(this,Rt),M(this,Ri).stega,e,n,r)}getDocument(e,n){return OR(this,M(this,Rt),e,n)}getDocuments(e,n){return NR(this,M(this,Rt),e,n)}create(e,n){return Rm(this,M(this,Rt),e,"create",n)}createIfNotExists(e,n){return MR(this,M(this,Rt),e,n)}createOrReplace(e,n){return LR(this,M(this,Rt),e,n)}delete(e,n){return VR(this,M(this,Rt),e,n)}mutate(e,n){return jR(this,M(this,Rt),e,n)}patch(e,n){return new la(e,n,this)}transaction(e){return new Fp(e,this)}action(e,n){return FR(this,M(this,Rt),e,n)}request(e){return Cr(this,M(this,Rt),e)}getUrl(e,n){return x0(this,e,n)}getDataUrl(e,n){return ar(this,e,n)}};Ri=new WeakMap,Rt=new WeakMap;let Nv=Qp;var ki,xt;const Yp=class Yp{constructor(e,n=qc){le(this,"assets");le(this,"datasets");le(this,"live");le(this,"projects");le(this,"users");le(this,"observable");ge(this,ki);ge(this,xt);le(this,"listen",qR);this.config(n),pe(this,xt,e),this.assets=new MB(this,M(this,xt)),this.datasets=new GB(this,M(this,xt)),this.live=new HR(this),this.projects=new QB(this,M(this,xt)),this.users=new XB(this,M(this,xt)),this.observable=new Nv(e,n)}clone(){return new Yp(M(this,xt),this.config())}config(e){if(e===void 0)return{...M(this,ki)};if(M(this,ki)&&M(this,ki).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),pe(this,ki,xR(e,M(this,ki)||{})),this}withConfig(e){const n=this.config();return new Yp(M(this,xt),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return Lt(DR(this,M(this,xt),M(this,ki).stega,e,n,r))}getDocument(e,n){return Lt(OR(this,M(this,xt),e,n))}getDocuments(e,n){return Lt(NR(this,M(this,xt),e,n))}create(e,n){return Lt(Rm(this,M(this,xt),e,"create",n))}createIfNotExists(e,n){return Lt(MR(this,M(this,xt),e,n))}createOrReplace(e,n){return Lt(LR(this,M(this,xt),e,n))}delete(e,n){return Lt(VR(this,M(this,xt),e,n))}mutate(e,n){return Lt(jR(this,M(this,xt),e,n))}patch(e,n){return new Qs(e,n,this)}transaction(e){return new jp(e,this)}action(e,n){return Lt(FR(this,M(this,xt),e,n))}request(e){return Lt(Cr(this,M(this,xt),e))}dataRequest(e,n,r){return Lt(Tu(this,M(this,xt),e,n,r))}getUrl(e,n){return x0(this,e,n)}getDataUrl(e,n){return ar(this,e,n)}};ki=new WeakMap,xt=new WeakMap;let Mv=Yp;function JB(t,e){return{requester:Bx(t),createClient:n=>{const r=Bx(t);return new e((i,o)=>(o||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var ZB=[];const e8=JB(ZB,Mv),t8=e8.createClient;var ip={exports:{}},n8=ip.exports,Kx;function r8(){return Kx||(Kx=1,function(t,e){(function(n,r){t.exports=r()})(n8,function(){function n(){return n=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(S[F]=I[F])}return S},n.apply(this,arguments)}function r(S,A){if(S){if(typeof S=="string")return i(S,A);var I=Object.prototype.toString.call(S).slice(8,-1);if(I==="Object"&&S.constructor&&(I=S.constructor.name),I==="Map"||I==="Set")return Array.from(S);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return i(S,A)}}function i(S,A){(A==null||A>S.length)&&(A=S.length);for(var I=0,F=new Array(A);I<A;I++)F[I]=S[I];return F}function o(S,A){var I=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(I)return(I=I.call(S)).next.bind(I);if(Array.isArray(S)||(I=r(S))||A){I&&(S=I);var F=0;return function(){return F>=S.length?{done:!0}:{done:!1,value:S[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function u(S){var A=S.split("-"),I=A[1],F=A[2],me=A[3];if(!I||!F||!me)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');var ee=F.split("x"),ie=ee[0],te=ee[1],fe=+ie,ae=+te,q=isFinite(fe)&&isFinite(ae);if(!q)throw new Error("Malformed asset _ref '"+S+`'. Expected an id like "`+l+'".');return{id:I,width:fe,height:ae,format:me}}var h=function(A){var I=A;return I?typeof I._ref=="string":!1},d=function(A){var I=A;return I?typeof I._id=="string":!1},m=function(A){var I=A;return I&&I.asset?typeof I.asset.url=="string":!1};function y(S){if(!S)return null;var A;if(typeof S=="string"&&_(S))A={asset:{_ref:E(S)}};else if(typeof S=="string")A={asset:{_ref:S}};else if(h(S))A={asset:S};else if(d(S))A={asset:{_ref:S._id||""}};else if(m(S))A={asset:{_ref:E(S.asset.url)}};else if(typeof S.asset=="object")A=n({},S);else return null;var I=S;return I.crop&&(A.crop=I.crop),I.hotspot&&(A.hotspot=I.hotspot),x(A)}function _(S){return/^https?:\/\//.test(""+S)}function E(S){var A=S.split("/").slice(-1);return("image-"+A[0]).replace(/\.([a-z]+)$/,"-$1")}function x(S){if(S.crop&&S.hotspot)return S;var A=n({},S);return A.crop||(A.crop={left:0,top:0,bottom:0,right:0}),A.hotspot||(A.hotspot={x:.5,y:.5,height:1,width:1}),A}var b=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function R(S){var A=n({},S||{}),I=A.source;delete A.source;var F=y(I);if(!F)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var me=F.asset._ref||F.asset._id||"",ee=u(me),ie=Math.round(F.crop.left*ee.width),te=Math.round(F.crop.top*ee.height),fe={left:ie,top:te,width:Math.round(ee.width-F.crop.right*ee.width-ie),height:Math.round(ee.height-F.crop.bottom*ee.height-te)},ae=F.hotspot.height*ee.height/2,q=F.hotspot.width*ee.width/2,ne=F.hotspot.x*ee.width,ye=F.hotspot.y*ee.height,be={left:ne-q,top:ye-ae,right:ne+q,bottom:ye+ae};return A.rect||A.focalPoint||A.ignoreImageParams||A.crop||(A=n({},A,N({crop:fe,hotspot:be},A))),P(n({},A,{asset:ee}))}function P(S){var A=(S.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=S.vanityName?"/"+S.vanityName:"",F=S.asset.id+"-"+S.asset.width+"x"+S.asset.height+"."+S.asset.format+I,me=A+"/images/"+S.projectId+"/"+S.dataset+"/"+F,ee=[];if(S.rect){var ie=S.rect,te=ie.left,fe=ie.top,ae=ie.width,q=ie.height,ne=te!==0||fe!==0||q!==S.asset.height||ae!==S.asset.width;ne&&ee.push("rect="+te+","+fe+","+ae+","+q)}S.bg&&ee.push("bg="+S.bg),S.focalPoint&&(ee.push("fp-x="+S.focalPoint.x),ee.push("fp-y="+S.focalPoint.y));var ye=[S.flipHorizontal&&"h",S.flipVertical&&"v"].filter(Boolean).join("");return ye&&ee.push("flip="+ye),b.forEach(function(be){var Re=be[0],Se=be[1];typeof S[Re]<"u"?ee.push(Se+"="+encodeURIComponent(S[Re])):typeof S[Se]<"u"&&ee.push(Se+"="+encodeURIComponent(S[Se]))}),ee.length===0?me:me+"?"+ee.join("&")}function N(S,A){var I,F=A.width,me=A.height;if(!(F&&me))return{width:F,height:me,rect:S.crop};var ee=S.crop,ie=S.hotspot,te=F/me,fe=ee.width/ee.height;if(fe>te){var ae=Math.round(ee.height),q=Math.round(ae*te),ne=Math.max(0,Math.round(ee.top)),ye=Math.round((ie.right-ie.left)/2+ie.left),be=Math.max(0,Math.round(ye-q/2));be<ee.left?be=ee.left:be+q>ee.left+ee.width&&(be=ee.left+ee.width-q),I={left:be,top:ne,width:q,height:ae}}else{var Re=ee.width,Se=Math.round(Re/te),ze=Math.max(0,Math.round(ee.left)),qe=Math.round((ie.bottom-ie.top)/2+ie.top),je=Math.max(0,Math.round(qe-Se/2));je<ee.top?je=ee.top:je+Se>ee.top+ee.height&&(je=ee.top+ee.height-Se),I={left:ze,top:je,width:Re,height:Se}}return{width:F,height:me,rect:I}}var V=["clip","crop","fill","fillmax","max","scale","min"],W=["top","bottom","left","right","center","focalpoint","entropy"],X=["format"];function J(S){return S&&"config"in S?typeof S.config=="function":!1}function j(S){return S&&"clientConfig"in S?typeof S.clientConfig=="object":!1}function D(S){for(var A=b,I=o(A),F;!(F=I()).done;){var me=F.value,ee=me[0],ie=me[1];if(S===ee||S===ie)return ee}return S}function L(S){if(J(S)){var A=S.config(),I=A.apiHost,F=A.projectId,me=A.dataset,ee=I||"https://api.sanity.io";return new B(null,{baseUrl:ee.replace(/^https:\/\/api\./,"https://cdn."),projectId:F,dataset:me})}if(j(S)){var ie=S.clientConfig,te=ie.apiHost,fe=ie.projectId,ae=ie.dataset,q=te||"https://api.sanity.io";return new B(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:fe,dataset:ae})}return new B(null,S||{})}var B=function(){function S(I,F){this.options=void 0,this.options=I?n({},I.options||{},F||{}):n({},F||{})}var A=S.prototype;return A.withOptions=function(F){var me=F.baseUrl||this.options.baseUrl,ee={baseUrl:me};for(var ie in F)if(F.hasOwnProperty(ie)){var te=D(ie);ee[te]=F[ie]}return new S(this,n({baseUrl:me},ee))},A.image=function(F){return this.withOptions({source:F})},A.dataset=function(F){return this.withOptions({dataset:F})},A.projectId=function(F){return this.withOptions({projectId:F})},A.bg=function(F){return this.withOptions({bg:F})},A.dpr=function(F){return this.withOptions(F&&F!==1?{dpr:F}:{})},A.width=function(F){return this.withOptions({width:F})},A.height=function(F){return this.withOptions({height:F})},A.focalPoint=function(F,me){return this.withOptions({focalPoint:{x:F,y:me}})},A.maxWidth=function(F){return this.withOptions({maxWidth:F})},A.minWidth=function(F){return this.withOptions({minWidth:F})},A.maxHeight=function(F){return this.withOptions({maxHeight:F})},A.minHeight=function(F){return this.withOptions({minHeight:F})},A.size=function(F,me){return this.withOptions({width:F,height:me})},A.blur=function(F){return this.withOptions({blur:F})},A.sharpen=function(F){return this.withOptions({sharpen:F})},A.rect=function(F,me,ee,ie){return this.withOptions({rect:{left:F,top:me,width:ee,height:ie}})},A.format=function(F){return this.withOptions({format:F})},A.invert=function(F){return this.withOptions({invert:F})},A.orientation=function(F){return this.withOptions({orientation:F})},A.quality=function(F){return this.withOptions({quality:F})},A.forceDownload=function(F){return this.withOptions({download:F})},A.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},A.flipVertical=function(){return this.withOptions({flipVertical:!0})},A.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},A.fit=function(F){if(V.indexOf(F)===-1)throw new Error('Invalid fit mode "'+F+'"');return this.withOptions({fit:F})},A.crop=function(F){if(W.indexOf(F)===-1)throw new Error('Invalid crop mode "'+F+'"');return this.withOptions({crop:F})},A.saturation=function(F){return this.withOptions({saturation:F})},A.auto=function(F){if(X.indexOf(F)===-1)throw new Error('Invalid auto mode "'+F+'"');return this.withOptions({auto:F})},A.pad=function(F){return this.withOptions({pad:F})},A.vanityName=function(F){return this.withOptions({vanityName:F})},A.frame=function(F){if(F!==1)throw new Error('Invalid frame value "'+F+'"');return this.withOptions({frame:F})},A.url=function(){return R(this.options)},A.toString=function(){return this.url()},S}();return L})}(ip)),ip.exports}var i8=r8();const s8=du(i8),WR=t8({projectId:"yn77xan2",dataset:"production",useCdn:!0,apiVersion:"2023-05-03"}),o8=s8(WR),Fy=t=>o8.image(t),GR=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null),[l,u]=U.useState("all");U.useEffect(()=>{(async()=>{try{const V=await WR.fetch(`*[_type == "gallery"] | order(order asc, _createdAt desc) {
          _id,
          title,
          description,
          image,
          alt,
          category,
          featured,
          order
        }`);console.log("Fetched images from Sanity:",V),V&&V.length>0?e(V):(console.log("No images found in Sanity, using fallback data"),e(h))}catch(N){console.error("Error fetching gallery images:",N),e(h)}finally{r(!1)}})()},[]);const h=[{_id:"1",title:"Cycling Action Shot 1",description:"Intense cycling moment captured at the track",image:{asset:{url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}},alt:"Cyclists racing on track",category:"cycling",featured:!0},{_id:"2",title:"Cycling Action Shot 2",description:"Close competition between riders",image:{asset:{url:"https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}},alt:"Multiple cyclists racing",category:"cycling",featured:!1},{_id:"3",title:"Motorbike Detail 1",description:"Beautiful motorcycle engineering",image:{asset:{url:"https://images.unsplash.com/photo-1583121274602-3e2820c69888?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}},alt:"Detailed view of motorcycle",category:"motorbikes",featured:!1}],d=l==="all"?t:t.filter(P=>P.category===l),m=["all",...new Set(t.map(P=>P.category).filter(Boolean))],y=P=>{o(P),document.body.style.overflow="hidden"},_=()=>{o(null),document.body.style.overflow="unset"},E=()=>{const N=(d.findIndex(V=>V._id===i._id)+1)%d.length;o(d[N])},x=()=>{const P=d.findIndex(V=>V._id===i._id),N=P===0?d.length-1:P-1;o(d[N])};U.useEffect(()=>{const P=N=>{i&&(N.key==="Escape"&&_(),N.key==="ArrowRight"&&E(),N.key==="ArrowLeft"&&x())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[i,d]);const b=P=>{var V;if(console.log("Processing image for URL:",P),P!=null&&P.asset)try{const W=Fy(P).width(800).height(600).fit("crop").url();return console.log("Generated Sanity URL:",W),W}catch(W){console.error("Error generating Sanity URL:",W)}const N=((V=P==null?void 0:P.asset)==null?void 0:V.url)||(P==null?void 0:P.url)||"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80";return console.log("Using fallback URL:",N),N},R=P=>{var N,V,W;return(N=P==null?void 0:P.asset)!=null&&N._ref||(V=P==null?void 0:P.asset)!=null&&V._id?Fy(P).width(1200).height(900).fit("crop").url():((W=P==null?void 0:P.asset)==null?void 0:W.url)||(P==null?void 0:P.url)||""};return n?k.jsx("div",{className:"min-h-screen flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):k.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Gallery"}),k.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore our collection of racing moments, motorcycles, and event highlights"})]}),k.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:m.map(P=>k.jsx("button",{onClick:()=>u(P),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${l===P?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-blue-50 hover:text-blue-600 shadow-md"}`,children:P.charAt(0).toUpperCase()+P.slice(1).replace("-"," ")},P))}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(P=>k.jsxs("div",{className:"group cursor-pointer bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",onClick:()=>y(P),children:[k.jsxs("div",{className:"relative overflow-hidden",children:[k.jsx("img",{src:b(P.image),alt:P.alt||P.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",onError:N=>{console.log("Image failed to load:",N.target.src),N.target.src=" ://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),k.jsx("div",{className:"absolute inset-0  bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:k.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:k.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})}),P.featured&&k.jsx("div",{className:"absolute top-4 left-4",children:k.jsx("span",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Featured"})})]}),k.jsxs("div",{className:"p-6",children:[k.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:P.title}),P.description&&k.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:P.description}),P.category&&k.jsx("div",{className:"mt-3",children:k.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:P.category.replace("-"," ")})})]})]},P._id))}),d.length===0&&k.jsx("div",{className:"text-center py-12",children:k.jsx("p",{className:"text-gray-500 text-lg",children:"No images found for the selected category."})})]}),i&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:k.jsxs("div",{className:"relative max-w-5xl max-h-full",children:[k.jsx("button",{onClick:_,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:k.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),k.jsx("button",{onClick:x,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",children:k.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k.jsx("button",{onClick:E,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",children:k.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),k.jsx("img",{src:R(i.image),alt:i.alt||i.title,className:"max-w-full max-h-full object-contain"}),k.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6",children:[k.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:i.title}),i.description&&k.jsx("p",{className:"text-gray-300 text-sm",children:i.description})]})]})})]})},a8=()=>k.jsxs("div",{children:[k.jsx(vU,{}),k.jsx(VP,{}),k.jsx(GR,{})]});function l8(t){return fo({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}const KR=U.createContext({});function u8(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const S0=U.createContext(null),QR=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function c8(t=!0){const e=U.useContext(S0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=U.useId();U.useEffect(()=>{t&&i(o)},[t]);const l=U.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const I0=typeof window<"u",h8=I0?U.useLayoutEffect:U.useEffect,$n=t=>t;let Lv=$n;function C0(t){let e;return()=>(e===void 0&&(e=t()),e)}const uu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ji=t=>t*1e3,Fi=t=>t/1e3,d8={skipAnimations:!1,useManualTiming:!1};function f8(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(d){o.has(d)&&(h.schedule(d),t()),d(l)}const h={schedule:(d,m=!1,y=!1)=>{const E=y&&r?e:n;return m&&o.add(d),E.has(d)||E.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,h.process(d))}};return h}const Ff=["read","resolveKeyframes","update","preRender","render","postRender"],p8=40;function YR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Ff.reduce((P,N)=>(P[N]=f8(o),P),{}),{read:u,resolveKeyframes:h,update:d,preRender:m,render:y,postRender:_}=l,E=()=>{const P=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,p8),1),i.timestamp=P,i.isProcessing=!0,u.process(i),h.process(i),d.process(i),m.process(i),y.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},x=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:Ff.reduce((P,N)=>{const V=l[N];return P[N]=(W,X=!1,J=!1)=>(n||x(),V.schedule(W,X,J)),P},{}),cancel:P=>{for(let N=0;N<Ff.length;N++)l[Ff[N]].cancel(P)},state:i,steps:l}}const{schedule:at,cancel:uo,state:Xt,steps:$y}=YR(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0),XR=U.createContext({strict:!1}),Qx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const t in Qx)cu[t]={isEnabled:e=>Qx[t].some(n=>!!e[n])};function m8(t){for(const e in t)cu[e]={...cu[e],...t[e]}}const g8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $p(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||g8.has(t)}let JR=t=>!$p(t);function y8(t){t&&(JR=e=>e.startsWith("on")?!$p(e):t(e))}try{y8(require("@emotion/is-prop-valid").default)}catch{}function v8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(JR(i)||n===!0&&$p(i)||!e&&!$p(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function w8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const km=U.createContext({});function oh(t){return typeof t=="string"||Array.isArray(t)}function Dm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const A0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],P0=["initial",...A0];function Om(t){return Dm(t.animate)||P0.some(e=>oh(t[e]))}function ZR(t){return!!(Om(t)||t.variants)}function _8(t,e){if(Om(t)){const{initial:n,animate:r}=t;return{initial:n===!1||oh(n)?n:void 0,animate:oh(r)?r:void 0}}return t.inherit!==!1?e:{}}function E8(t){const{initial:e,animate:n}=_8(t,U.useContext(km));return U.useMemo(()=>({initial:e,animate:n}),[Yx(e),Yx(n)])}function Yx(t){return Array.isArray(t)?t.join(" "):t}const T8=Symbol.for("motionComponentSymbol");function Sl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function b8(t,e,n){return U.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sl(n)&&(n.current=r))},[e])}const R0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),x8="framerAppearId",ek="data-"+R0(x8),{schedule:k0,cancel:jG}=YR(queueMicrotask,!1),tk=U.createContext({});function S8(t,e,n,r,i){var o,l;const{visualElement:u}=U.useContext(km),h=U.useContext(XR),d=U.useContext(S0),m=U.useContext(QR).reducedMotion,y=U.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const _=y.current,E=U.useContext(tk);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&I8(y.current,n,i,E);const x=U.useRef(!1);U.useInsertionEffect(()=>{_&&x.current&&_.update(n,d)});const b=n[ek],R=U.useRef(!!b&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,b))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,b)));return h8(()=>{_&&(x.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),k0.render(_.render),R.current&&_.animationState&&_.animationState.animateChanges())}),U.useEffect(()=>{_&&(!R.current&&_.animationState&&_.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,b)}),R.current=!1))}),_}function I8(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nk(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Sl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:d})}function nk(t){if(t)return t.options.allowProjection!==!1?t.projection:nk(t.parent)}function C8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,l;t&&m8(t);function u(d,m){let y;const _={...U.useContext(QR),...d,layoutId:A8(d)},{isStatic:E}=_,x=E8(d),b=r(d,E);if(!E&&I0){P8();const R=R8(_);y=R.MeasureLayout,x.visualElement=S8(i,b,_,e,R.ProjectionNode)}return k.jsxs(km.Provider,{value:x,children:[y&&x.visualElement?k.jsx(y,{visualElement:x.visualElement,..._}):null,n(i,d,b8(b,x.visualElement,m),b,E,x.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&l!==void 0?l:""})`}`;const h=U.forwardRef(u);return h[T8]=i,h}function A8({layoutId:t}){const e=U.useContext(KR).id;return e&&t!==void 0?e+"-"+t:t}function P8(t,e){U.useContext(XR).strict}function R8(t){const{drag:e,layout:n}=cu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const k8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D0(t){return typeof t!="string"||t.includes("-")?!1:!!(k8.indexOf(t)>-1||/[A-Z]/u.test(t))}function Xx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function O0(t,e,n,r){if(typeof e=="function"){const[i,o]=Xx(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=Xx(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const Vv=t=>Array.isArray(t),D8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),O8=t=>Vv(t)?t[t.length-1]||0:t,cn=t=>!!(t&&t.getVelocity);function sp(t){const e=cn(t)?t.get():t;return D8(e)?e.toValue():e}function N8({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const l={latestValues:M8(r,i,o,t),renderState:e()};return n&&(l.onMount=u=>n({props:r,current:u,...l}),l.onUpdate=u=>n(u)),l}const rk=t=>(e,n)=>{const r=U.useContext(km),i=U.useContext(S0),o=()=>N8(t,e,r,i);return n?o():u8(o)};function M8(t,e,n,r){const i={},o=r(t,{});for(const _ in o)i[_]=sp(o[_]);let{initial:l,animate:u}=t;const h=Om(t),d=ZR(t);e&&d&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!Dm(y)){const _=Array.isArray(y)?y:[y];for(let E=0;E<_.length;E++){const x=O0(t,_[E]);if(x){const{transitionEnd:b,transition:R,...P}=x;for(const N in P){let V=P[N];if(Array.isArray(V)){const W=m?V.length-1:0;V=V[W]}V!==null&&(i[N]=V)}for(const N in b)i[N]=b[N]}}}return i}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(bu),ik=t=>e=>typeof e=="string"&&e.startsWith(t),sk=ik("--"),L8=ik("var(--"),N0=t=>L8(t)?V8.test(t.split("/*")[0].trim()):!1,V8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ok=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qi=(t,e,n)=>n>e?e:n<t?t:n,xu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ah={...xu,transform:t=>Qi(0,1,t)},$f={...xu,default:1},ld=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),As=ld("deg"),Wr=ld("%"),ke=ld("px"),j8=ld("vh"),F8=ld("vw"),Jx={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},$8={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke},U8={rotate:As,rotateX:As,rotateY:As,rotateZ:As,scale:$f,scaleX:$f,scaleY:$f,scaleZ:$f,skew:As,skewX:As,skewY:As,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:ah,originX:Jx,originY:Jx,originZ:ke},Zx={...xu,transform:Math.round},M0={...$8,...U8,zIndex:Zx,size:ke,fillOpacity:ah,strokeOpacity:ah,numOctaves:Zx},B8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z8=bu.length;function q8(t,e,n){let r="",i=!0;for(let o=0;o<z8;o++){const l=bu[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const d=ok(u,M0[l]);if(!h){i=!1;const m=B8[l]||l;r+=`${m}(${d}) `}n&&(e[l]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function L0(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const d=e[h];if(ba.has(h)){l=!0;continue}else if(sk(h)){i[h]=d;continue}else{const m=ok(d,M0[h]);h.startsWith("origin")?(u=!0,o[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=q8(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${d} ${m}`}}const H8={offset:"stroke-dashoffset",array:"stroke-dasharray"},W8={offset:"strokeDashoffset",array:"strokeDasharray"};function G8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?H8:W8;t[o.offset]=ke.transform(-r);const l=ke.transform(e),u=ke.transform(n);t[o.array]=`${l} ${u}`}function e1(t,e,n){return typeof t=="string"?t:ke.transform(e+n*t)}function K8(t,e,n){const r=e1(e,t.x,t.width),i=e1(n,t.y,t.height);return`${r} ${i}`}function V0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...d},m,y){if(L0(t,d,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E,dimensions:x}=t;_.transform&&(x&&(E.transform=_.transform),delete _.transform),x&&(i!==void 0||o!==void 0||E.transform)&&(E.transformOrigin=K8(x,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),l!==void 0&&G8(_,l,u,h,!1)}const j0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ak=()=>({...j0(),attrs:{}}),F0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const uk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ck(t,e,n,r){lk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(uk.has(i)?i:R0(i),e.attrs[i])}const Up={};function Q8(t){Object.assign(Up,t)}function hk(t,{layout:e,layoutId:n}){return ba.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Up[t]||t==="opacity")}function $0(t,e,n){var r;const{style:i}=t,o={};for(const l in i)(cn(i[l])||e.style&&cn(e.style[l])||hk(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=i[l]);return o}function dk(t,e,n){const r=$0(t,e,n);for(const i in t)if(cn(t[i])||cn(e[i])){const o=bu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function Y8(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const t1=["x","y","width","height","cx","cy","r"],X8={useVisualState:rk({scrapeMotionValuesFromProps:dk,createRenderState:ak,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const u in i)if(ba.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<t1.length;u++){const h=t1[u];t[h]!==e[h]&&(l=!0)}l&&at.read(()=>{Y8(n,r),at.render(()=>{V0(r,i,F0(n.tagName),t.transformTemplate),ck(n,r)})})}})},J8={useVisualState:rk({scrapeMotionValuesFromProps:$0,createRenderState:j0})};function fk(t,e,n){for(const r in e)!cn(e[r])&&!hk(r,n)&&(t[r]=e[r])}function Z8({transformTemplate:t},e){return U.useMemo(()=>{const n=j0();return L0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ez(t,e){const n=t.style||{},r={};return fk(r,n,t),Object.assign(r,Z8(t,e)),r}function tz(t,e){const n={},r=ez(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function nz(t,e,n,r){const i=U.useMemo(()=>{const o=ak();return V0(o,e,F0(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};fk(o,t.style,t),i.style={...o,...i.style}}return i}function rz(t=!1){return(n,r,i,{latestValues:o},l)=>{const h=(D0(n)?nz:tz)(r,o,l,n),d=v8(r,typeof n=="string",t),m=n!==U.Fragment?{...d,...h,ref:i}:{},{children:y}=r,_=U.useMemo(()=>cn(y)?y.get():y,[y]);return U.createElement(n,{...m,children:_})}}function iz(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...D0(r)?X8:J8,preloadedFeatures:t,useRender:rz(i),createVisualElement:e,Component:r};return C8(l)}}function pk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Nm(t,e,n){const r=t.getProps();return O0(r,e,n!==void 0?n:r.custom,t)}const sz=C0(()=>window.ScrollTimeline!==void 0);class oz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(sz()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class az extends oz{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function U0(t,e){return t?t[e]||t.default||t:void 0}const jv=2e4;function mk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jv;)e+=n,r=t.next(e);return e>=jv?1/0:e}function B0(t){return typeof t=="function"}function n1(t,e){t.timeline=e,t.onfinish=null}const z0=t=>Array.isArray(t)&&typeof t[0]=="number",lz={linearEasing:void 0};function uz(t,e){const n=C0(t);return()=>{var r;return(r=lz[e])!==null&&r!==void 0?r:n()}}const Bp=uz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(uu(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function yk(t){return!!(typeof t=="function"&&Bp()||!t||typeof t=="string"&&(t in Fv||Bp())||z0(t)||Array.isArray(t)&&t.every(yk))}const kc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Fv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function vk(t,e){if(t)return typeof t=="function"&&Bp()?gk(t,e):z0(t)?kc(t):Array.isArray(t)?t.map(n=>vk(n,e)||Fv.easeOut):Fv[t]}const br={x:!1,y:!1};function wk(){return br.x||br.y}function cz(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function _k(t,e){const n=cz(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function r1(t){return e=>{e.pointerType==="touch"||wk()||t(e)}}function hz(t,e,n={}){const[r,i,o]=_k(t,n),l=r1(u=>{const{target:h}=u,d=e(u);if(typeof d!="function"||!h)return;const m=r1(y=>{d(y),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}const Ek=(t,e)=>e?t===e?!0:Ek(t,e.parentElement):!1,q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fz(t){return dz.has(t.tagName)||t.tabIndex!==-1}const Dc=new WeakSet;function i1(t){return e=>{e.key==="Enter"&&t(e)}}function Uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=i1(()=>{if(Dc.has(n))return;Uy(n,"down");const i=i1(()=>{Uy(n,"up")}),o=()=>Uy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function s1(t){return q0(t)&&!wk()}function mz(t,e,n={}){const[r,i,o]=_k(t,n),l=u=>{const h=u.currentTarget;if(!s1(u)||Dc.has(h))return;Dc.add(h);const d=e(u),m=(E,x)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!s1(E)||!Dc.has(h))&&(Dc.delete(h),typeof d=="function"&&d(E,{success:x}))},y=E=>{m(E,n.useGlobalTarget||Ek(h,E.target))},_=E=>{m(E,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",_,i)};return r.forEach(u=>{!fz(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",d=>pz(d,i),i)}),o}function gz(t){return t==="x"||t==="y"?br[t]?null:(br[t]=!0,()=>{br[t]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}const Tk=new Set(["width","height","top","left","right","bottom",...bu]);let op;function yz(){op=void 0}const Gr={now:()=>(op===void 0&&Gr.set(Xt.isProcessing||d8.useManualTiming?Xt.timestamp:performance.now()),op),set:t=>{op=t,queueMicrotask(yz)}};function H0(t,e){t.indexOf(e)===-1&&t.push(e)}function W0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class G0{constructor(){this.subscriptions=[]}add(e){return H0(this.subscriptions,e),()=>W0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function bk(t,e){return e?t*(1e3/e):0}const o1=30,vz=t=>!isNaN(parseFloat(t));class wz{constructor(e,n={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Gr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G0);const r=this.events[e].add(n);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>o1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,o1);return bk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lh(t,e){return new wz(t,e)}function _z(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lh(n))}function Ez(t,e){const n=Nm(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const u=O8(o[l]);_z(t,l,u)}}function Tz(t){return!!(cn(t)&&t.add)}function $v(t,e){const n=t.getValue("willChange");if(Tz(n))return n.add(e)}function xk(t){return t.props[ek]}const Sk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bz=1e-7,xz=12;function Sz(t,e,n,r,i){let o,l,u=0;do l=e+(n-e)/2,o=Sk(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>bz&&++u<xz);return l}function ud(t,e,n,r){if(t===e&&n===r)return $n;const i=o=>Sz(o,0,1,t,n);return o=>o===0||o===1?o:Sk(i(o),e,r)}const Ik=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ck=t=>e=>1-t(1-e),Ak=ud(.33,1.53,.69,.99),K0=Ck(Ak),Pk=Ik(K0),Rk=t=>(t*=2)<1?.5*K0(t):.5*(2-Math.pow(2,-10*(t-1))),Q0=t=>1-Math.sin(Math.acos(t)),kk=Ck(Q0),Dk=Ik(Q0),Ok=t=>/^0[^.\s]+$/u.test(t);function Iz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ok(t):!0}const Hc=t=>Math.round(t*1e5)/1e5,Y0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Cz(t){return t==null}const Az=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,X0=(t,e)=>n=>!!(typeof n=="string"&&Az.test(n)&&n.startsWith(t)||e&&!Cz(n)&&Object.prototype.hasOwnProperty.call(n,e)),Nk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(Y0);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Pz=t=>Qi(0,255,t),By={...xu,transform:t=>Math.round(Pz(t))},Xo={test:X0("rgb","red"),parse:Nk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+By.transform(t)+", "+By.transform(e)+", "+By.transform(n)+", "+Hc(ah.transform(r))+")"};function Rz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Uv={test:X0("#"),parse:Rz,transform:Xo.transform},Il={test:X0("hsl","hue"),parse:Nk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wr.transform(Hc(e))+", "+Wr.transform(Hc(n))+", "+Hc(ah.transform(r))+")"},an={test:t=>Xo.test(t)||Uv.test(t)||Il.test(t),parse:t=>Xo.test(t)?Xo.parse(t):Il.test(t)?Il.parse(t):Uv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xo.transform(t):Il.transform(t)},kz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Dz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Y0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kz))===null||n===void 0?void 0:n.length)||0)>0}const Mk="number",Lk="color",Oz="var",Nz="var(",a1="${}",Mz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(Mz,h=>(an.test(h)?(r.color.push(o),i.push(Lk),n.push(an.parse(h))):h.startsWith(Nz)?(r.var.push(o),i.push(Oz),n.push(h)):(r.number.push(o),i.push(Mk),n.push(parseFloat(h))),++o,a1)).split(a1);return{values:n,split:u,indexes:r,types:i}}function Vk(t){return uh(t).values}function jk(t){const{split:e,types:n}=uh(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const u=n[l];u===Mk?o+=Hc(i[l]):u===Lk?o+=an.transform(i[l]):o+=i[l]}return o}}const Lz=t=>typeof t=="number"?0:t;function Vz(t){const e=Vk(t);return jk(t)(e.map(Lz))}const co={test:Dz,parse:Vk,createTransformer:jk,getAnimatableNone:Vz},jz=new Set(["brightness","contrast","saturate","opacity"]);function Fz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Y0)||[];if(!r)return t;const i=n.replace(r,"");let o=jz.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const $z=/\b([a-z-]*)\(.*?\)/gu,Bv={...co,getAnimatableNone:t=>{const e=t.match($z);return e?e.map(Fz).join(" "):t}},Uz={...M0,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Bv,WebkitFilter:Bv},J0=t=>Uz[t];function Fk(t,e){let n=J0(t);return n!==Bv&&(n=co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Bz=new Set(["auto","none","0"]);function zz(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!Bz.has(o)&&uh(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Fk(n,i)}const l1=t=>t===xu||t===ke,u1=(t,e)=>parseFloat(t.split(", ")[e]),c1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return u1(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?u1(o[1],t):0}},qz=new Set(["x","y","z"]),Hz=bu.filter(t=>!qz.has(t));function Wz(t){const e=[];return Hz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const hu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:c1(4,13),y:c1(5,14)};hu.translateX=hu.x;hu.translateY=hu.y;const ua=new Set;let zv=!1,qv=!1;function $k(){if(qv){const t=Array.from(ua).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Wz(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qv=!1,zv=!1,ua.forEach(t=>t.complete()),ua.clear()}function Uk(){ua.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qv=!0)})}function Gz(){Uk(),$k()}class Z0{constructor(e,n,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ua.add(this),zv||(zv=!0,at.read(Uk),at.resolveKeyframes($k))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ua.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ua.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Bk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Kz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qz(t){const e=Kz.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function zk(t,e,n=1){const[r,i]=Qz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return Bk(l)?parseFloat(l):l}return N0(i)?zk(i,e,n+1):i}const qk=t=>e=>e.test(t),Yz={test:t=>t==="auto",parse:t=>t},Hk=[xu,ke,Wr,As,F8,j8,Yz],h1=t=>Hk.find(qk(t));class Wk extends Z0{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),N0(d))){const m=zk(d,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Tk.has(r)||e.length!==2)return;const[i,o]=e,l=h1(i),u=h1(o);if(l!==u)if(l1(l)&&l1(u))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Iz(e[i])&&r.push(i);r.length&&zz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=hu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,d])=>{n.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const d1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(co.test(t)||t==="0")&&!t.startsWith("url("));function Xz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Jz(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=d1(i,e),u=d1(o,e);return!l||!u?!1:Xz(t)||(n==="spring"||B0(n))&&r}const Zz=t=>t!==null;function Mm(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Zz),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const e7=40;class Gk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>e7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Gz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:d}=this.options;if(!d&&!Jz(e,r,i,o))if(l)this.options.duration=0;else{h==null||h(Mm(e,this.options,n)),u==null||u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const mt=(t,e,n)=>t+(e-t)*n;function zy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function t7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=zy(h,u,t+1/3),o=zy(h,u,t),l=zy(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function zp(t,e){return n=>n>0?e:t}const qy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},n7=[Uv,Xo,Il],r7=t=>n7.find(e=>e.test(t));function f1(t){const e=r7(t);if(!e)return!1;let n=e.parse(t);return e===Il&&(n=t7(n)),n}const p1=(t,e)=>{const n=f1(t),r=f1(e);if(!n||!r)return zp(t,e);const i={...n};return o=>(i.red=qy(n.red,r.red,o),i.green=qy(n.green,r.green,o),i.blue=qy(n.blue,r.blue,o),i.alpha=mt(n.alpha,r.alpha,o),Xo.transform(i))},i7=(t,e)=>n=>e(t(n)),cd=(...t)=>t.reduce(i7),Hv=new Set(["none","hidden"]);function s7(t,e){return Hv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function o7(t,e){return n=>mt(t,e,n)}function e_(t){return typeof t=="number"?o7:typeof t=="string"?N0(t)?zp:an.test(t)?p1:u7:Array.isArray(t)?Kk:typeof t=="object"?an.test(t)?p1:a7:zp}function Kk(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>e_(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function a7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=e_(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function l7(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],h=(n=t.values[u])!==null&&n!==void 0?n:0;r[o]=h,i[l]++}return r}const u7=(t,e)=>{const n=co.createTransformer(e),r=uh(t),i=uh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Hv.has(t)&&!i.values.length||Hv.has(e)&&!r.values.length?s7(t,e):cd(Kk(l7(r,i),i.values),n):zp(t,e)};function Qk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):e_(t)(t,e)}const c7=5;function Yk(t,e,n){const r=Math.max(e-c7,0);return bk(n-t(r),e-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},m1=.001;function h7({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:r=vt.mass}){let i,o,l=1-e;l=Qi(vt.minDamping,vt.maxDamping,l),t=Qi(vt.minDuration,vt.maxDuration,Fi(t)),l<1?(i=d=>{const m=d*l,y=m*t,_=m-n,E=Wv(d,l),x=Math.exp(-y);return m1-_/E*x},o=d=>{const y=d*l*t,_=y*n+n,E=Math.pow(l,2)*Math.pow(d,2)*t,x=Math.exp(-y),b=Wv(Math.pow(d,2),l);return(-i(d)+m1>0?-1:1)*((_-E)*x)/b}):(i=d=>{const m=Math.exp(-d*t),y=(d-n)*t+1;return-.001+m*y},o=d=>{const m=Math.exp(-d*t),y=(n-d)*(t*t);return m*y});const u=5/t,h=f7(i,o,u);if(t=ji(t),isNaN(h))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:t}}}const d7=12;function f7(t,e,n){let r=n;for(let i=1;i<d7;i++)r=r-t(r)/e(r);return r}function Wv(t,e){return t*Math.sqrt(1-e*e)}const p7=["duration","bounce"],m7=["stiffness","damping","mass"];function g1(t,e){return e.some(n=>t[n]!==void 0)}function g7(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!g1(t,m7)&&g1(t,p7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Qi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:vt.mass,stiffness:i,damping:o}}else{const n=h7(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Xk(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:d,mass:m,duration:y,velocity:_,isResolvedFromDuration:E}=g7({...n,velocity:-Fi(n.velocity||0)}),x=_||0,b=d/(2*Math.sqrt(h*m)),R=l-o,P=Fi(Math.sqrt(h/m)),N=Math.abs(R)<5;r||(r=N?vt.restSpeed.granular:vt.restSpeed.default),i||(i=N?vt.restDelta.granular:vt.restDelta.default);let V;if(b<1){const X=Wv(P,b);V=J=>{const j=Math.exp(-b*P*J);return l-j*((x+b*P*R)/X*Math.sin(X*J)+R*Math.cos(X*J))}}else if(b===1)V=X=>l-Math.exp(-P*X)*(R+(x+P*R)*X);else{const X=P*Math.sqrt(b*b-1);V=J=>{const j=Math.exp(-b*P*J),D=Math.min(X*J,300);return l-j*((x+b*P*R)*Math.sinh(D)+X*R*Math.cosh(D))/X}}const W={calculatedDuration:E&&y||null,next:X=>{const J=V(X);if(E)u.done=X>=y;else{let j=0;b<1&&(j=X===0?ji(x):Yk(V,X,J));const D=Math.abs(j)<=r,L=Math.abs(l-J)<=i;u.done=D&&L}return u.value=u.done?l:J,u},toString:()=>{const X=Math.min(mk(W),jv),J=gk(j=>W.next(X*j).value,X,30);return X+"ms "+J}};return W}function y1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:d=.5,restSpeed:m}){const y=t[0],_={done:!1,value:y},E=D=>u!==void 0&&D<u||h!==void 0&&D>h,x=D=>u===void 0?h:h===void 0||Math.abs(u-D)<Math.abs(h-D)?u:h;let b=n*e;const R=y+b,P=l===void 0?R:l(R);P!==R&&(b=P-y);const N=D=>-b*Math.exp(-D/r),V=D=>P+N(D),W=D=>{const L=N(D),B=V(D);_.done=Math.abs(L)<=d,_.value=_.done?P:B};let X,J;const j=D=>{E(_.value)&&(X=D,J=Xk({keyframes:[_.value,x(_.value)],velocity:Yk(V,D,_.value),damping:i,stiffness:o,restDelta:d,restSpeed:m}))};return j(0),{calculatedDuration:null,next:D=>{let L=!1;return!J&&X===void 0&&(L=!0,W(D),j(D)),X!==void 0&&D>=X?J.next(D-X):(!L&&W(D),_)}}}const y7=ud(.42,0,1,1),v7=ud(0,0,.58,1),Jk=ud(.42,0,.58,1),w7=t=>Array.isArray(t)&&typeof t[0]!="number",v1={linear:$n,easeIn:y7,easeInOut:Jk,easeOut:v7,circIn:Q0,circInOut:Dk,circOut:kk,backIn:K0,backInOut:Pk,backOut:Ak,anticipate:Rk},w1=t=>{if(z0(t)){Lv(t.length===4);const[e,n,r,i]=t;return ud(e,n,r,i)}else if(typeof t=="string")return Lv(v1[t]!==void 0),v1[t];return t};function _7(t,e,n){const r=[],i=n||Qk,o=t.length-1;for(let l=0;l<o;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||$n:e;u=cd(h,u)}r.push(u)}return r}function E7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Lv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=_7(e,r,i),h=u.length,d=m=>{if(l&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const _=uu(t[y],t[y+1],m);return u[y](_)};return n?m=>d(Qi(t[0],t[o-1],m)):d}function T7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=uu(0,e,r);t.push(mt(n,1,i))}}function b7(t){const e=[0];return T7(e,t.length-1),e}function x7(t,e){return t.map(n=>n*e)}function S7(t,e){return t.map(()=>e||Jk).splice(0,t.length-1)}function qp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=w7(r)?r.map(w1):w1(r),o={done:!1,value:e[0]},l=x7(n&&n.length===e.length?n:b7(e),t),u=E7(l,e,{ease:Array.isArray(i)?i:S7(e,i)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const I7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>at.update(e,!0),stop:()=>uo(e),now:()=>Xt.isProcessing?Xt.timestamp:Gr.now()}},C7={decay:y1,inertia:y1,tween:qp,keyframes:qp,spring:Xk},A7=t=>t/100;class t_ extends Gk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Z0,u=(h,d)=>this.onKeyframesResolved(h,d);this.resolver=new l(o,u,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,u=B0(n)?n:C7[n]||qp;let h,d;u!==qp&&typeof e[0]!="number"&&(h=cd(A7,Qk(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(d=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=mk(m));const{calculatedDuration:y}=m,_=y+i,E=_*(r+1)-i;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:d,totalDuration:m,resolvedDuration:y}=r;if(this.startTime===null)return o.next(0);const{delay:_,repeat:E,repeatType:x,repeatDelay:b,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-_*(this.speed>=0?1:-1),N=this.speed>=0?P<0:P>m;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let V=this.currentTime,W=o;if(E){const D=Math.min(this.currentTime,m)/y;let L=Math.floor(D),B=D%1;!B&&D>=1&&(B=1),B===1&&L--,L=Math.min(L,E+1),!!(L%2)&&(x==="reverse"?(B=1-B,b&&(B-=b/y)):x==="mirror"&&(W=l)),V=Qi(0,1,B)*y}const X=N?{done:!1,value:h[0]}:W.next(V);u&&(X.value=u(X.value));let{done:J}=X;!N&&d!==null&&(J=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return j&&i!==void 0&&(X.value=Mm(h,this.options,i)),R&&R(X.value),j&&this.finish(),X}get duration(){const{resolved:e}=this;return e?Fi(e.calculatedDuration):0}get time(){return Fi(this.currentTime)}set time(e){e=ji(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=I7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const P7=new Set(["opacity","clipPath","filter","transform"]);function R7(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const d={[e]:n};h&&(d.offset=h);const m=vk(u,i);return Array.isArray(m)&&(d.easing=m),t.animate(d,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const k7=C0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hp=10,D7=2e4;function O7(t){return B0(t.type)||t.type==="spring"||!yk(t.ease)}function N7(t,e){const n=new t_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<D7;)r=n.sample(o),i.push(r.value),o+=Hp;return{times:void 0,keyframes:i,duration:o-Hp,ease:"linear"}}const Zk={anticipate:Rk,backInOut:Pk,circInOut:Dk};function M7(t){return t in Zk}class _1 extends Gk{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new Wk(o,(l,u)=>this.onKeyframesResolved(l,u),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:o,ease:l,type:u,motionValue:h,name:d,startTime:m}=this.options;if(!(!((r=h.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&Bp()&&M7(l)&&(l=Zk[l]),O7(this.options)){const{onComplete:_,onUpdate:E,motionValue:x,element:b,...R}=this.options,P=N7(e,R);e=P.keyframes,e.length===1&&(e[1]=e[0]),i=P.duration,o=P.times,l=P.ease,u="keyframes"}const y=R7(h.owner.current,d,e,{...this.options,duration:i,times:o,ease:l});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(n1(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;h.set(Mm(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:o,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Fi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Fi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ji(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return $n;const{animation:r}=n;n1(r,e)}return $n}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:y,element:_,...E}=this.options,x=new t_({...E,keyframes:r,duration:i,type:o,ease:l,times:u,isGenerator:!0}),b=ji(this.time);d.setWithVelocity(x.sample(b-Hp).value,x.sample(b).value,Hp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:l,type:u}=e;return k7()&&r&&P7.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}}const L7={type:"spring",stiffness:500,damping:25,restSpeed:10},V7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j7={type:"keyframes",duration:.8},F7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$7=(t,{keyframes:e})=>e.length>2?j7:ba.has(t)?t.startsWith("scale")?V7(e[1]):L7:F7;function U7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const n_=(t,e,n,r={},i,o)=>l=>{const u=U0(r,t)||{},h=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ji(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};U7(u)||(m={...m,...$7(t,m)}),m.duration&&(m.duration=ji(m.duration)),m.repeatDelay&&(m.repeatDelay=ji(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const _=Mm(m.keyframes,u);if(_!==void 0)return at.update(()=>{m.onUpdate(_),m.onComplete()}),new az([])}return!o&&_1.supports(m)?new _1(m):new t_(m)};function B7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function e2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const _=t.getValue(y,(o=t.latestValues[y])!==null&&o!==void 0?o:null),E=h[y];if(E===void 0||m&&B7(m,y))continue;const x={delay:n,...U0(l||{},y)};let b=!1;if(window.MotionHandoffAnimation){const P=xk(t);if(P){const N=window.MotionHandoffAnimation(P,y,at);N!==null&&(x.startTime=N,b=!0)}}$v(t,y),_.start(n_(y,_,E,t.shouldReduceMotion&&Tk.has(y)?{type:!1}:x,t,b));const R=_.animation;R&&d.push(R)}return u&&Promise.all(d).then(()=>{at.update(()=>{u&&Ez(t,u)})}),d}function Gv(t,e,n={}){var r;const i=Nm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(e2(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=o;return z7(t,e,m+d,y,_,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[d,m]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function z7(t,e,n=0,r=0,i=1,o){const l=[],u=(t.variantChildren.size-1)*r,h=i===1?(d=0)=>d*r:(d=0)=>u-d*r;return Array.from(t.variantChildren).sort(q7).forEach((d,m)=>{d.notify("AnimationStart",e),l.push(Gv(d,e,{...o,delay:n+h(m)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(l)}function q7(t,e){return t.sortNodePosition(e)}function H7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Gv(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Gv(t,e,n);else{const i=typeof e=="function"?Nm(t,e,n.custom):e;r=Promise.all(e2(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const W7=P0.length;function t2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?t2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<W7;n++){const r=P0[n],i=t.props[r];(oh(i)||i===!1)&&(e[r]=i)}return e}const G7=[...A0].reverse(),K7=A0.length;function Q7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>H7(t,n,r)))}function Y7(t){let e=Q7(t),n=E1(),r=!0;const i=h=>(d,m)=>{var y;const _=Nm(t,m,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:E,transitionEnd:x,...b}=_;d={...d,...b,...x}}return d};function o(h){e=h(t)}function l(h){const{props:d}=t,m=t2(t.parent)||{},y=[],_=new Set;let E={},x=1/0;for(let R=0;R<K7;R++){const P=G7[R],N=n[P],V=d[P]!==void 0?d[P]:m[P],W=oh(V),X=P===h?N.isActive:null;X===!1&&(x=R);let J=V===m[P]&&V!==d[P]&&W;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),N.protectedKeys={...E},!N.isActive&&X===null||!V&&!N.prevProp||Dm(V)||typeof V=="boolean")continue;const j=X7(N.prevProp,V);let D=j||P===h&&N.isActive&&!J&&W||R>x&&W,L=!1;const B=Array.isArray(V)?V:[V];let S=B.reduce(i(P),{});X===!1&&(S={});const{prevResolvedValues:A={}}=N,I={...A,...S},F=ie=>{D=!0,_.has(ie)&&(L=!0,_.delete(ie)),N.needsAnimating[ie]=!0;const te=t.getValue(ie);te&&(te.liveStyle=!1)};for(const ie in I){const te=S[ie],fe=A[ie];if(E.hasOwnProperty(ie))continue;let ae=!1;Vv(te)&&Vv(fe)?ae=!pk(te,fe):ae=te!==fe,ae?te!=null?F(ie):_.add(ie):te!==void 0&&_.has(ie)?F(ie):N.protectedKeys[ie]=!0}N.prevProp=V,N.prevResolvedValues=S,N.isActive&&(E={...E,...S}),r&&t.blockInitialAnimation&&(D=!1),D&&(!(J&&j)||L)&&y.push(...B.map(ie=>({animation:ie,options:{type:P}})))}if(_.size){const R={};_.forEach(P=>{const N=t.getBaseTarget(P),V=t.getValue(P);V&&(V.liveStyle=!0),R[P]=N??null}),y.push({animation:R})}let b=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(y):Promise.resolve()}function u(h,d){var m;if(n[h].isActive===d)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(_=>{var E;return(E=_.animationState)===null||E===void 0?void 0:E.setActive(h,d)}),n[h].isActive=d;const y=l(h);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=E1(),r=!0}}}function X7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pk(e,t):!1}function zo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E1(){return{animate:zo(!0),whileInView:zo(),whileHover:zo(),whileTap:zo(),whileDrag:zo(),whileFocus:zo(),exit:zo()}}class po{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J7 extends po{constructor(e){super(e),e.animationState||(e.animationState=Y7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Z7=0;class eq extends po{constructor(){super(...arguments),this.id=Z7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tq={animation:{Feature:J7},exit:{Feature:eq}};function ch(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hd(t){return{point:{x:t.pageX,y:t.pageY}}}const nq=t=>e=>q0(e)&&t(e,hd(e));function Wc(t,e,n,r){return ch(t,e,nq(n),r)}const T1=(t,e)=>Math.abs(t-e);function rq(t,e){const n=T1(t.x,e.x),r=T1(t.y,e.y);return Math.sqrt(n**2+r**2)}class n2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Wy(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=rq(y.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:x}=y,{timestamp:b}=Xt;this.history.push({...x,timestamp:b});const{onStart:R,onMove:P}=this.handlers;_||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Hy(_,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:E,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Wy(y.type==="pointercancel"?this.lastMoveEventInfo:Hy(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,R),x&&x(y,R)},!q0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=hd(e),u=Hy(l,this.transformPagePoint),{point:h}=u,{timestamp:d}=Xt;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=n;m&&m(e,Wy(u,this.history)),this.removeListeners=cd(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uo(this.updatePoint)}}function Hy(t,e){return e?{point:e(t.point)}:t}function b1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wy({point:t},e){return{point:t,delta:b1(t,r2(e)),offset:b1(t,iq(e)),velocity:sq(e,.1)}}function iq(t){return t[0]}function r2(t){return t[t.length-1]}function sq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=r2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ji(e)));)n--;if(!r)return{x:0,y:0};const o=Fi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const i2=1e-4,oq=1-i2,aq=1+i2,s2=.01,lq=0-s2,uq=0+s2;function Bn(t){return t.max-t.min}function cq(t,e,n){return Math.abs(t-e)<=n}function x1(t,e,n,r=.5){t.origin=r,t.originPoint=mt(e.min,e.max,t.origin),t.scale=Bn(n)/Bn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=oq&&t.scale<=aq||isNaN(t.scale))&&(t.scale=1),(t.translate>=lq&&t.translate<=uq||isNaN(t.translate))&&(t.translate=0)}function Gc(t,e,n,r){x1(t.x,e.x,n.x,r?r.originX:void 0),x1(t.y,e.y,n.y,r?r.originY:void 0)}function S1(t,e,n){t.min=n.min+e.min,t.max=t.min+Bn(e)}function hq(t,e,n){S1(t.x,e.x,n.x),S1(t.y,e.y,n.y)}function I1(t,e,n){t.min=e.min-n.min,t.max=t.min+Bn(e)}function Kc(t,e,n){I1(t.x,e.x,n.x),I1(t.y,e.y,n.y)}function dq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?mt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?mt(n,t,r.max):Math.min(t,n)),t}function C1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fq(t,{top:e,left:n,bottom:r,right:i}){return{x:C1(t.x,n,i),y:C1(t.y,e,r)}}function A1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pq(t,e){return{x:A1(t.x,e.x),y:A1(t.y,e.y)}}function mq(t,e){let n=.5;const r=Bn(t),i=Bn(e);return i>r?n=uu(e.min,e.max-r,t.min):r>i&&(n=uu(t.min,t.max-i,e.min)),Qi(0,1,n)}function gq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kv=.35;function yq(t=Kv){return t===!1?t=0:t===!0&&(t=Kv),{x:P1(t,"left","right"),y:P1(t,"top","bottom")}}function P1(t,e,n){return{min:R1(t,e),max:R1(t,n)}}function R1(t,e){return typeof t=="number"?t:t[e]||0}const k1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:k1(),y:k1()}),D1=()=>({min:0,max:0}),St=()=>({x:D1(),y:D1()});function er(t){return[t("x"),t("y")]}function o2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gy(t){return t===void 0||t===1}function Qv({scale:t,scaleX:e,scaleY:n}){return!Gy(t)||!Gy(e)||!Gy(n)}function Wo(t){return Qv(t)||a2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function a2(t){return O1(t.x)||O1(t.y)}function O1(t){return t&&t!=="0%"}function Wp(t,e,n){const r=t-n,i=e*r;return n+i}function N1(t,e,n,r,i){return i!==void 0&&(t=Wp(t,i,r)),Wp(t,n,r)+e}function Yv(t,e=0,n=1,r,i){t.min=N1(t.min,e,n,r,i),t.max=N1(t.max,e,n,r,i)}function l2(t,{x:e,y:n}){Yv(t.x,e.translate,e.scale,e.originPoint),Yv(t.y,n.translate,n.scale,n.originPoint)}const M1=.999999999999,L1=1.0000000000001;function _q(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,l2(t,l)),r&&Wo(o.latestValues)&&Pl(t,o.latestValues))}e.x<L1&&e.x>M1&&(e.x=1),e.y<L1&&e.y>M1&&(e.y=1)}function Al(t,e){t.min=t.min+e,t.max=t.max+e}function V1(t,e,n,r,i=.5){const o=mt(t.min,t.max,i);Yv(t,e,n,o,r)}function Pl(t,e){V1(t.x,e.x,e.scaleX,e.scale,e.originX),V1(t.y,e.y,e.scaleY,e.scale,e.originY)}function u2(t,e){return o2(wq(t.getBoundingClientRect(),e))}function Eq(t,e,n){const r=u2(t,n),{scroll:i}=e;return i&&(Al(r.x,i.offset.x),Al(r.y,i.offset.y)),r}const c2=({current:t})=>t?t.ownerDocument.defaultView:null,Tq=new WeakMap;class bq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hd(m).point)},o=(m,y)=>{const{drag:_,dragPropagation:E,onDragStart:x}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gz(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(R=>{let P=this.getAxisMotionValue(R).get()||0;if(Wr.test(P)){const{projection:N}=this.visualElement;if(N&&N.layout){const V=N.layout.layoutBox[R];V&&(P=Bn(V)*(parseFloat(P)/100))}}this.originPoint[R]=P}),x&&at.postRender(()=>x(m,y)),$v(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:x,onDrag:b}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:R}=y;if(E&&this.currentDirection===null){this.currentDirection=xq(R),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",y.point,R),this.updateAxis("y",y.point,R),this.visualElement.render(),b&&b(m,y)},u=(m,y)=>this.stop(m,y),h=()=>er(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new n2(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:c2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&at.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Uf(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=dq(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Sl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=fq(i.layoutBox,n):this.constraints=!1,this.elastic=yq(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&er(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=gq(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Eq(r,i.root,this.visualElement.getTransformPagePoint());let l=pq(i.layout.layoutBox,o);if(n){const u=n(vq(l));this.hasMutatedConstraints=!!u,u&&(l=o2(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=er(m=>{if(!Uf(m,n,this.currentDirection))return;let y=h[m]||{};l&&(y={min:0,max:0});const _=i?200:1e6,E=i?40:1e7,x={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,x)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $v(this.visualElement,e),r.start(n_(e,r,0,n,this.visualElement,!1))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:r}=this.getProps();if(!Uf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];o.set(e[n]-mt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};er(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=mq({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(l=>{if(!Uf(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];u.set(mt(h,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;Tq.set(this.visualElement,this);const e=this.visualElement.current,n=Wc(e,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Sl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const l=ch(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(er(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Kv,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Uf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Sq extends po{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new bq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const j1=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class Iq extends po{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new n2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:j1(e),onStart:j1(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&at.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ap={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const n=F1(t,e.target.x),r=F1(t,e.target.y);return`${n}% ${r}%`}},Cq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=co.parse(t);if(i.length>5)return r;const o=co.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const d=mt(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),o(i)}};class Aq extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Q8(Pq),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ap.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||at.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),k0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h2(t){const[e,n]=c8(),r=U.useContext(KR);return k.jsx(Aq,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(tk),isPresent:e,safeToRemove:n})}const Pq={borderRadius:{...bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bc,borderTopRightRadius:bc,borderBottomLeftRadius:bc,borderBottomRightRadius:bc,boxShadow:Cq};function Rq(t,e,n){const r=cn(t)?t:lh(t);return r.start(n_("",r,e,n)),r.animation}function kq(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Dq=(t,e)=>t.depth-e.depth;class Oq{constructor(){this.children=[],this.isDirty=!1}add(e){H0(this.children,e),this.isDirty=!0}remove(e){W0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Dq),this.isDirty=!1,this.children.forEach(e)}}function Nq(t,e){const n=Gr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(uo(r),t(o-e))};return at.read(r,!0),()=>uo(r)}const d2=["TopLeft","TopRight","BottomLeft","BottomRight"],Mq=d2.length,$1=t=>typeof t=="string"?parseFloat(t):t,U1=t=>typeof t=="number"||ke.test(t);function Lq(t,e,n,r,i,o){i?(t.opacity=mt(0,n.opacity!==void 0?n.opacity:1,Vq(r)),t.opacityExit=mt(e.opacity!==void 0?e.opacity:1,0,jq(r))):o&&(t.opacity=mt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<Mq;l++){const u=`border${d2[l]}Radius`;let h=B1(e,u),d=B1(n,u);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||U1(h)===U1(d)?(t[u]=Math.max(mt($1(h),$1(d),r),0),(Wr.test(d)||Wr.test(h))&&(t[u]+="%")):t[u]=d}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,r))}function B1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Vq=f2(0,.5,kk),jq=f2(.5,.95,$n);function f2(t,e,n){return r=>r<t?0:r>e?1:n(uu(t,e,r))}function z1(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){z1(t.x,e.x),z1(t.y,e.y)}function q1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function H1(t,e,n,r,i){return t-=e,t=Wp(t,1/n,r),i!==void 0&&(t=Wp(t,1/i,r)),t}function Fq(t,e=0,n=1,r=.5,i,o=t,l=t){if(Wr.test(e)&&(e=parseFloat(e),e=mt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=mt(o.min,o.max,r);t===o&&(u-=e),t.min=H1(t.min,e,n,u,i),t.max=H1(t.max,e,n,u,i)}function W1(t,e,[n,r,i],o,l){Fq(t,e[n],e[r],e[i],e.scale,o,l)}const $q=["x","scaleX","originX"],Uq=["y","scaleY","originY"];function G1(t,e,n,r){W1(t.x,e,$q,n?n.x:void 0,r?r.x:void 0),W1(t.y,e,Uq,n?n.y:void 0,r?r.y:void 0)}function K1(t){return t.translate===0&&t.scale===1}function p2(t){return K1(t.x)&&K1(t.y)}function Q1(t,e){return t.min===e.min&&t.max===e.max}function Bq(t,e){return Q1(t.x,e.x)&&Q1(t.y,e.y)}function Y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function m2(t,e){return Y1(t.x,e.x)&&Y1(t.y,e.y)}function X1(t){return Bn(t.x)/Bn(t.y)}function J1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zq{constructor(){this.members=[]}add(e){H0(this.members,e),e.scheduleRender()}remove(e){if(W0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qq(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:y,rotateY:_,skewX:E,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),E&&(r+=`skewX(${E}deg) `),x&&(r+=`skewY(${x}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Go={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Oc=typeof window<"u"&&window.MotionDebug!==void 0,Ky=["","X","Y","Z"],Hq={visibility:"hidden"},Z1=1e3;let Wq=0;function Qy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function g2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&g2(r)}function y2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=Wq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oc&&(Go.totalNodes=Go.resolvedTargetDeltas=Go.recalculatedProjection=0),this.nodes.forEach(Qq),this.nodes.forEach(eH),this.nodes.forEach(tH),this.nodes.forEach(Yq),Oc&&window.MotionDebug.record(Go)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oq)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new G0),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kq(l),this.instance=l;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(d||h)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=Nq(_,250),ap.hasAnimatedSinceResize&&(ap.hasAnimatedSinceResize=!1,this.nodes.forEach(tS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeTargetChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||m.getDefaultTransition()||oH,{onLayoutAnimationStart:R,onLayoutAnimationComplete:P}=m.getProps(),N=!this.targetLayout||!m2(this.targetLayout,x)||E,V=!_&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||V||_&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,V);const W={...U0(b,"layout"),onPlay:R,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||tS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nH),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eS);return}this.isUpdating||this.nodes.forEach(Jq),this.isUpdating=!1,this.nodes.forEach(Zq),this.nodes.forEach(Gq),this.nodes.forEach(Kq),this.clearAllSnapshots();const u=Gr.now();Xt.delta=Qi(0,1e3/60,u-Xt.timestamp),Xt.timestamp=u,Xt.isProcessing=!0,$y.update.process(Xt),$y.preRender.process(Xt),$y.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xq),this.sharedNodes.forEach(rH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!p2(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;l&&(u||Wo(this.latestValues)||m)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),aH(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return St();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(lH))){const{scroll:m}=this.root;m&&(Al(h.x,m.offset.x),Al(h.y,m.offset.y))}return h}removeElementScroll(l){var u;const h=St();if(Zn(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Zn(h,l),Al(h.x,y.offset.x),Al(h.y,y.offset.y))}return h}applyTransform(l,u=!1){const h=St();Zn(h,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Pl(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Wo(m.latestValues)&&Pl(h,m.latestValues)}return Wo(this.latestValues)&&Pl(h,this.latestValues),h}removeTransform(l){const u=St();Zn(u,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Wo(d.latestValues))continue;Qv(d.latestValues)&&d.updateSnapshot();const m=St(),y=d.measurePageBox();Zn(m,y),G1(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Wo(this.latestValues)&&G1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Kc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),l2(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Kc(this.relativeTargetOrigin,this.target,E.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oc&&Go.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qv(this.parent.latestValues)||a2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Zn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;_q(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=St());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(q1(this.prevProjectionDelta.x,this.projectionDelta.x),q1(this.prevProjectionDelta.y,this.projectionDelta.y)),Gc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!J1(this.projectionDelta.x,this.prevProjectionDelta.x)||!J1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Oc&&Go.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},y=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=St(),E=h?h.source:void 0,x=this.layout?this.layout.source:void 0,b=E!==x,R=this.getStack(),P=!R||R.members.length<=1,N=!!(b&&!P&&this.options.crossfade===!0&&!this.path.some(sH));this.animationProgress=0;let V;this.mixTargetDelta=W=>{const X=W/1e3;nS(y.x,l.x,X),nS(y.y,l.y,X),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iH(this.relativeTarget,this.relativeTargetOrigin,_,X),V&&Bq(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=St()),Zn(V,this.relativeTarget)),b&&(this.animationValues=m,Lq(m,d,this.latestValues,X,N,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{ap.hasAnimatedSinceResize=!0,this.currentAnimation=Rq(0,Z1,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:d,latestValues:m}=l;if(!(!u||!h||!d)){if(this!==l&&this.layout&&d&&v2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||St();const y=Bn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=Bn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}Zn(u,h),Pl(u,m),Gc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new zq),this.sharedNodes.get(l).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const d={};h.z&&Qy("z",l,d,this.animationValues);for(let m=0;m<Ky.length;m++)Qy(`rotate${Ky[m]}`,l,d,this.animationValues),Qy(`skew${Ky[m]}`,l,d,this.animationValues);l.render();for(const m in d)l.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Hq;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sp(l==null?void 0:l.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=sp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Wo(this.latestValues)&&(b.transform=m?m({},""):"none",this.hasProjected=!1),b}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),d.transform=qq(this.projectionDeltaWithTransform,this.treeScale,_),m&&(d.transform=m(_,d.transform));const{x:E,y:x}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,y.animationValues?d.opacity=y===this?(h=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:d.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const b in Up){if(_[b]===void 0)continue;const{correct:R,applyTo:P}=Up[b],N=d.transform==="none"?_[b]:R(_[b],y);if(P){const V=P.length;for(let W=0;W<V;W++)d[P[W]]=N}else d[b]=N}return this.options.layoutId&&(d.pointerEvents=y===this?sp(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(eS),this.root.sharedNodes.clear()}}}function Gq(t){t.updateLayout()}function Kq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?er(y=>{const _=l?n.measuredBox[y]:n.layoutBox[y],E=Bn(_);_.min=r[y].min,_.max=_.min+E}):v2(o,n.layoutBox,r)&&er(y=>{const _=l?n.measuredBox[y]:n.layoutBox[y],E=Bn(r[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=Cl();Gc(u,r,n.layoutBox);const h=Cl();l?Gc(h,t.applyTransform(i,!0),n.measuredBox):Gc(h,r,n.layoutBox);const d=!p2(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const x=St();Kc(x,n.layoutBox,_.layoutBox);const b=St();Kc(b,r,E.layoutBox),m2(x,b)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Qq(t){Oc&&Go.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Yq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Xq(t){t.clearSnapshot()}function eS(t){t.clearMeasurements()}function Jq(t){t.isLayoutDirty=!1}function Zq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eH(t){t.resolveTargetDelta()}function tH(t){t.calcProjection()}function nH(t){t.resetSkewAndRotation()}function rH(t){t.removeLeadSnapshot()}function nS(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rS(t,e,n,r){t.min=mt(e.min,n.min,r),t.max=mt(e.max,n.max,r)}function iH(t,e,n,r){rS(t.x,e.x,n.x,r),rS(t.y,e.y,n.y,r)}function sH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oH={duration:.45,ease:[.4,0,.1,1]},iS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sS=iS("applewebkit/")&&!iS("chrome/")?Math.round:$n;function oS(t){t.min=sS(t.min),t.max=sS(t.max)}function aH(t){oS(t.x),oS(t.y)}function v2(t,e,n){return t==="position"||t==="preserve-aspect"&&!cq(X1(e),X1(n),.2)}function lH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const uH=y2({attachResizeListener:(t,e)=>ch(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},w2=y2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yy.current){const t=new uH({});t.mount(window),t.setOptions({layoutScroll:!0}),Yy.current=t}return Yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cH={pan:{Feature:Iq},drag:{Feature:Sq,ProjectionNode:w2,MeasureLayout:h2}};function aS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&at.postRender(()=>o(e,hd(e)))}class hH extends po{mount(){const{current:e}=this.node;e&&(this.unmount=hz(e,n=>(aS(this.node,n,"Start"),r=>aS(this.node,r,"End"))))}unmount(){}}class dH extends po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cd(ch(this.node.current,"focus",()=>this.onFocus()),ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lS(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&at.postRender(()=>o(e,hd(e)))}class fH extends po{mount(){const{current:e}=this.node;e&&(this.unmount=mz(e,n=>(lS(this.node,n,"Start"),(r,{success:i})=>lS(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xv=new WeakMap,Xy=new WeakMap,pH=t=>{const e=Xv.get(t.target);e&&e(t)},mH=t=>{t.forEach(pH)};function gH({root:t,...e}){const n=t||document;Xy.has(n)||Xy.set(n,{});const r=Xy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mH,{root:t,...e})),r[i]}function yH(t,e,n){const r=gH(e);return Xv.set(t,n),r.observe(t),()=>{Xv.delete(t),r.unobserve(t)}}const vH={some:0,all:1};class wH extends po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vH[i]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=d?m:y;_&&_(h)};return yH(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_H(e,n))&&this.startObserver()}unmount(){}}function _H({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const EH={inView:{Feature:wH},tap:{Feature:fH},focus:{Feature:dH},hover:{Feature:hH}},TH={layout:{ProjectionNode:w2,MeasureLayout:h2}},Jv={current:null},_2={current:!1};function bH(){if(_2.current=!0,!!I0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jv.current=t.matches;t.addListener(e),e()}else Jv.current=!1}const xH=[...Hk,an,co],SH=t=>xH.find(qk(t)),uS=new WeakMap;function IH(t,e,n){for(const r in e){const i=e[r],o=n[r];if(cn(i))t.addValue(r,i);else if(cn(o))t.addValue(r,lh(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,lh(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Gr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,at.render(this.render,!1,!0))};const{latestValues:h,renderState:d,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Om(n),this.isVariantNode=ZR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const x=_[E];h[E]!==void 0&&cn(x)&&x.set(h[E],!1)}}mount(e){this.current=e,uS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_2.current||bH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uS.delete(this.current),this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ba.has(e),i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cu){const n=cu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cS.length;r++){const i=cS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=IH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=lh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Bk(i)||Ok(i))?i=parseFloat(i):!SH(i)&&co.test(n)&&(i=Fk(e,n)),this.setBaseTarget(e,cn(i)?i.get():i)),cn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=O0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!cn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class E2 extends CH{constructor(){super(...arguments),this.KeyframeResolver=Wk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AH(t){return window.getComputedStyle(t)}class PH extends E2{constructor(){super(...arguments),this.type="html",this.renderInstance=lk}readValueFromInstance(e,n){if(ba.has(n)){const r=J0(n);return r&&r.default||0}else{const r=AH(e),i=(sk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return u2(e,n)}build(e,n,r){L0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return $0(e,n,r)}}class RH extends E2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ba.has(n)){const r=J0(n);return r&&r.default||0}return n=uk.has(n)?n:R0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return dk(e,n,r)}build(e,n,r){V0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){ck(e,n,r,i)}mount(e){this.isSVGTag=F0(e.tagName),super.mount(e)}}const kH=(t,e)=>D0(t)?new RH(e):new PH(e,{allowProjection:t!==U.Fragment}),DH=iz({...tq,...EH,...cH,...TH},kH),ir=w8(DH);var Jy,hS;function OH(){if(hS)return Jy;hS=1;function t(e,n,r){var i,o,l,u,h;n==null&&(n=100);function d(){var y=Date.now()-u;y<n&&y>=0?i=setTimeout(d,n-y):(i=null,r||(h=e.apply(l,o),l=o=null))}var m=function(){l=this,o=arguments,u=Date.now();var y=r&&!i;return i||(i=setTimeout(d,n)),y&&(h=e.apply(l,o),l=o=null),h};return m.clear=function(){i&&(clearTimeout(i),i=null)},m.flush=function(){i&&(h=e.apply(l,o),l=o=null,clearTimeout(i),i=null)},m}return t.debounce=t,Jy=t,Jy}var NH=OH();const dS=du(NH);function MH(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1};const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,u]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),d=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,y=U.useRef(!1);U.useEffect(()=>(y.current=!0,()=>void(y.current=!1)));const[_,E,x]=U.useMemo(()=>{const N=()=>{if(!h.current.element)return;const{left:V,top:W,width:X,height:J,bottom:j,right:D,x:L,y:B}=h.current.element.getBoundingClientRect(),S={left:V,top:W,width:X,height:J,bottom:j,right:D,x:L,y:B};h.current.element instanceof HTMLElement&&i&&(S.height=h.current.element.offsetHeight,S.width=h.current.element.offsetWidth),Object.freeze(S),y.current&&!FH(h.current.lastBounds,S)&&u(h.current.lastBounds=S)};return[N,m?dS(N,m):N,d?dS(N,d):N]},[u,i,d,m]);function b(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(N=>N.removeEventListener("scroll",x,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function R(){h.current.element&&(h.current.resizeObserver=new o(x),h.current.resizeObserver.observe(h.current.element),n&&h.current.scrollContainers&&h.current.scrollContainers.forEach(N=>N.addEventListener("scroll",x,{capture:!0,passive:!0})))}const P=N=>{!N||N===h.current.element||(b(),h.current.element=N,h.current.scrollContainers=T2(N),R())};return VH(x,!!n),LH(E),U.useEffect(()=>{b(),R()},[n,x,E]),U.useEffect(()=>b,[]),[P,l,_]}function LH(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function VH(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function T2(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...T2(t.parentElement)]}const jH=["x","y","top","bottom","left","right","width","height"],FH=(t,e)=>jH.every(n=>t[n]===e[n]),$H=({title:t,children:e,defaultOpen:n=!1})=>{const[r,{height:i}]=MH(),[o,l]=U.useState(n);return k.jsxs(ir.div,{animate:o?"open":"closed",className:"border-b-[1px] border-b-slate-300",children:[k.jsxs("button",{onClick:()=>l(u=>!u),className:"flex w-full items-center justify-between gap-4 py-6",children:[k.jsx(ir.span,{variants:{open:{color:"rgba(3, 6, 23, 1)"},closed:{color:"rgba(3, 6, 23, 0.8)"}},className:"bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-left text-lg font-medium",children:t}),k.jsx(ir.span,{variants:{open:{rotate:"180deg",color:"rgb(124 58 237)"},closed:{rotate:"0deg",color:"#030617"}},children:k.jsx(l8,{className:"text-2xl"})})]}),k.jsx(ir.div,{initial:!1,animate:{height:o?i:"0px",marginBottom:o?"24px":"0px"},className:"overflow-hidden text-slate-600",children:k.jsx("div",{ref:r,children:e})})]})},UH=({images:t})=>{const[e,n]=U.useState(0);return!t||t.length===0?k.jsx("div",{className:"h-96 bg-gray-100 flex items-center justify-center",children:"無圖片"}):k.jsxs("div",{className:"flex flex-col",children:[k.jsx("div",{className:"relative overflow-hidden min-h-[100px] flex items-center justify-center",children:k.jsx("img",{src:t[e],alt:"Product",className:"max-w-[60%]  object-contain",onDragStart:r=>r.preventDefault()})}),t.length>1&&k.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2",children:t.map((r,i)=>k.jsx("button",{onClick:()=>n(i),className:`flex-shrink-0 h-20 w-20 rounded-md overflow-hidden border-2 ${e===i?"border-blue-500":"border-transparent"}`,children:k.jsx("img",{src:r,alt:`Thumbnail ${i+1}`,className:"h-full w-full object-cover",onDragStart:o=>o.preventDefault()})},i))})]})},BH=()=>{const{slug:t}=$S(),[e,n]=U.useState(null),[r,i]=U.useState(!0),[o,l]=U.useState(null);return U.useEffect(()=>{const u=d=>{d.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")};document.addEventListener("contextmenu",u);const h=d=>{d.preventDefault()};return document.addEventListener("dragstart",h),()=>{document.removeEventListener("contextmenu",u),document.removeEventListener("dragstart",h)}},[]),U.useEffect(()=>{(async()=>{try{i(!0),l(null);const d=await pp.fetch(`*[_type == "product" && slug.current == $slug][0] {
          _id,
          "images": images[].asset->url,
          name,
          price,
          description,
          "slug": slug.current,
          "categoryName": category->name
        }`,{slug:t});if(!d)throw new Error("Product not found");n(d)}catch(h){l(h.message)}finally{i(!1)}})()},[t]),r?k.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):o?k.jsxs("div",{className:"flex justify-center items-center h-64 text-red-500",children:["Error: ",o]}):k.jsxs("div",{className:"bg-white -mt-6",children:[k.jsx("div",{className:"w-full px-4",children:k.jsx(UH,{images:e.images})}),k.jsxs("div",{className:"mx-auto max-w-screen-xl px-4 md:px-8",children:[k.jsxs("div",{className:"mb-8",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("span",{className:"mb-1 inline-block text-gray-500",children:e.categoryName}),k.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:e.name})]}),k.jsx("div",{className:"mb-6 flex items-center gap-3",children:k.jsx("span",{className:"text-sm text-gray-500 transition duration-100",children:"56 Ratings"})}),k.jsxs("div",{className:"mb-6",children:[k.jsxs("div",{className:"flex items-end gap-2",children:[k.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["$",e.price]}),k.jsxs("span",{className:"mb-0.5 text-red-500 line-through",children:["$",e.price+30]})]}),k.jsx("span",{className:"text-sm text-gray-500",children:"不含運費"})]}),k.jsx("div",{className:"mb-8",children:k.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"加入購物車"})})]}),k.jsxs("div",{className:"py-8 border-t border-gray-200",children:[k.jsx("h3",{className:"mb-6 text-xl font-semibold",children:"產品描述"}),k.jsx($H,{title:"特色",defaultOpen:!0,children:k.jsx("p",{children:e.description})})]})]})]})};var Zy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var fS;function zH(){return fS||(fS=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Zy)),Zy.exports}var qH=zH();const xa=du(qH);function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(null,arguments)}function b2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function pS(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function HH(t){var e=WH(t,"string");return typeof e=="symbol"?e:String(e)}function WH(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GH(t,e,n){var r=U.useRef(t!==void 0),i=U.useState(e),o=i[0],l=i[1],u=t!==void 0,h=r.current;return r.current=u,!u&&h&&o!==e&&l(e),[u?t:o,U.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),_=1;_<m;_++)y[_-1]=arguments[_];n&&n.apply(void 0,[d].concat(y)),l(d)},[n])]}function KH(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,l=o[pS(r)],u=o[r],h=b2(o,[pS(r),r].map(HH)),d=e[r],m=GH(u,l,t[d]),y=m[0],_=m[1];return Zv({},h,(i={},i[r]=y,i[d]=_,i))},t)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ew(t,e)}function QH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ew(t,e)}const YH=["xxl","xl","lg","md","sm","xs"],XH="xs",JH=U.createContext({prefixes:{},breakpoints:YH,minBreakpoint:XH});function Su(t,e){const{prefixes:n}=U.useContext(JH);return t||n[e]||e}function ZH(t){return t&&t.ownerDocument||document}function eW(t){var e=ZH(t);return e&&e.defaultView||window}function tW(t,e){return eW(t).getComputedStyle(t,e)}var nW=/([A-Z])/g;function rW(t){return t.replace(nW,"-$1").toLowerCase()}var iW=/^ms-/;function Bf(t){return rW(t).replace(iW,"-ms-")}var sW=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function oW(t){return!!(t&&sW.test(t))}function Gp(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Bf(e))||tW(t).getPropertyValue(Bf(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(Bf(i)):oW(i)?r+=i+"("+o+") ":n+=Bf(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const mS={disabled:!1},x2=Ve.createContext(null);var aW=function(e){return e.scrollTop},Nc="unmounted",Ps="exited",Rs="entering",Ko="entered",Kp="exiting",es=function(t){QH(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,h;return o.appearStatus=null,r.in?u?(h=Ps,o.appearStatus=Rs):h=Ko:r.unmountOnExit||r.mountOnEnter?h=Nc:h=Ps,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Nc?{status:Ps}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Rs&&l!==Ko&&(o=Rs):(l===Rs||l===Ko)&&(o=Kp)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Rs){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Sc.findDOMNode(this);l&&aW(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ps&&this.setState({status:Nc})},n.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,h=this.props.nodeRef?[u]:[Sc.findDOMNode(this),u],d=h[0],m=h[1],y=this.getTimeouts(),_=u?y.appear:y.enter;if(!i&&!l||mS.disabled){this.safeSetState({status:Ko},function(){o.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Rs},function(){o.props.onEntering(d,m),o.onTransitionEnd(_,function(){o.safeSetState({status:Ko},function(){o.props.onEntered(d,m)})})})},n.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Sc.findDOMNode(this);if(!o||mS.disabled){this.safeSetState({status:Ps},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Kp},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Ps},function(){i.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Sc.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Nc)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=b2(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ve.createElement(x2.Provider,{value:null},typeof l=="function"?l(i,u):Ve.cloneElement(Ve.Children.only(l),u))},e}(Ve.Component);es.contextType=x2;es.propTypes={};function yl(){}es.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yl,onEntering:yl,onEntered:yl,onExit:yl,onExiting:yl,onExited:yl};es.UNMOUNTED=Nc;es.EXITED=Ps;es.ENTERING=Rs;es.ENTERED=Ko;es.EXITING=Kp;function lW(){const t=U.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function uW(t){if(!t||typeof t=="function")return null;const{major:e}=lW();return e>=19?t.props.ref:t.ref}const cW=!!(typeof window<"u"&&window.document&&window.document.createElement);var tw=!1,nw=!1;try{var ev={get passive(){return tw=!0},get once(){return nw=tw=!0}};cW&&(window.addEventListener("test",ev,ev),window.removeEventListener("test",ev,!0))}catch{}function hW(t,e,n,r){if(r&&typeof r!="boolean"&&!nw){var i=r.once,o=r.capture,l=n;!nw&&i&&(l=n.__once||function u(h){this.removeEventListener(e,u,o),n.call(this,h)},n.__once=l),t.addEventListener(e,l,tw?r:o)}t.addEventListener(e,n,r)}function dW(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function S2(t,e,n,r){return hW(t,e,n,r),function(){dW(t,e,n,r)}}function fW(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function pW(t){var e=Gp(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function mW(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||fW(t,"transitionend",!0)},e+n),o=S2(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function gW(t,e,n,r){n==null&&(n=pW(t)||0);var i=mW(t,n,r),o=S2(t,"transitionend",e);return function(){i(),o()}}function gS(t,e){const n=Gp(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function yW(t,e){const n=gS(t,"transitionDuration"),r=gS(t,"transitionDelay"),i=gW(t,o=>{o.target===t&&(i(),e(o))},n+r)}function xc(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function vW(t){t.offsetHeight}const yS=t=>!t||typeof t=="function"?t:e=>{t.current=e};function wW(t,e){const n=yS(t),r=yS(e);return i=>{n&&n(i),r&&r(i)}}function _W(t,e){return U.useMemo(()=>wW(t,e),[t,e])}function EW(t){return t&&"setState"in t?Sc.findDOMNode(t):t??null}const TW=Ve.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:l,children:u,childRef:h,...d},m)=>{const y=U.useRef(null),_=_W(y,h),E=J=>{_(EW(J))},x=J=>j=>{J&&y.current&&J(y.current,j)},b=U.useCallback(x(t),[t]),R=U.useCallback(x(e),[e]),P=U.useCallback(x(n),[n]),N=U.useCallback(x(r),[r]),V=U.useCallback(x(i),[i]),W=U.useCallback(x(o),[o]),X=U.useCallback(x(l),[l]);return k.jsx(es,{ref:m,...d,onEnter:b,onEntered:P,onEntering:R,onExit:N,onExited:W,onExiting:V,addEndListener:X,nodeRef:y,children:typeof u=="function"?(J,j)=>u(J,{...j,ref:E}):Ve.cloneElement(u,{ref:E})})}),bW={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xW(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=bW[t];return r+parseInt(Gp(e,i[0]),10)+parseInt(Gp(e,i[1]),10)}const SW={[Ps]:"collapse",[Kp]:"collapsing",[Rs]:"collapsing",[Ko]:"collapse show"},IW=Ve.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:l,dimension:u="height",in:h=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:_=!1,getDimensionValue:E=xW,...x},b)=>{const R=typeof u=="function"?u():u,P=U.useMemo(()=>xc(J=>{J.style[R]="0"},t),[R,t]),N=U.useMemo(()=>xc(J=>{const j=`scroll${R[0].toUpperCase()}${R.slice(1)}`;J.style[R]=`${J[j]}px`},e),[R,e]),V=U.useMemo(()=>xc(J=>{J.style[R]=null},n),[R,n]),W=U.useMemo(()=>xc(J=>{J.style[R]=`${E(R,J)}px`,vW(J)},r),[r,E,R]),X=U.useMemo(()=>xc(J=>{J.style[R]=null},i),[R,i]);return k.jsx(TW,{ref:b,addEndListener:yW,...x,"aria-expanded":x.role?h:null,onEnter:P,onEntering:N,onEntered:V,onExit:W,onExiting:X,childRef:uW(l),in:h,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:_,children:(J,j)=>Ve.cloneElement(l,{...j,className:xa(o,l.props.className,SW[J],R==="width"&&"collapse-horizontal")})})});function I2(t,e){return Array.isArray(t)?t.includes(e):t===e}const dd=U.createContext({});dd.displayName="AccordionContext";const r_=U.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:i,...o},l)=>{const{activeEventKey:u}=U.useContext(dd);return e=Su(e,"accordion-collapse"),k.jsx(IW,{ref:l,in:I2(u,i),...o,className:xa(n,e),children:k.jsx(t,{children:U.Children.only(r)})})});r_.displayName="AccordionCollapse";const Lm=U.createContext({eventKey:""});Lm.displayName="AccordionItemContext";const C2=U.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:h,...d},m)=>{e=Su(e,"accordion-body");const{eventKey:y}=U.useContext(Lm);return k.jsx(r_,{eventKey:y,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:h,children:k.jsx(t,{ref:m,...d,className:xa(n,e)})})});C2.displayName="AccordionBody";function CW(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:i}=U.useContext(dd);return o=>{let l=t===n?null:t;i&&(Array.isArray(n)?n.includes(t)?l=n.filter(u=>u!==t):l=[...n,t]:l=[t]),r==null||r(l,o),e==null||e(o)}}const i_=U.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...i},o)=>{e=Su(e,"accordion-button");const{eventKey:l}=U.useContext(Lm),u=CW(l,r),{activeEventKey:h}=U.useContext(dd);return t==="button"&&(i.type="button"),k.jsx(t,{ref:o,onClick:u,...i,"aria-expanded":Array.isArray(h)?h.includes(l):l===h,className:xa(n,e,!I2(h,l)&&"collapsed")})});i_.displayName="AccordionButton";const A2=U.forwardRef(({as:t="h2","aria-controls":e,bsPrefix:n,className:r,children:i,onClick:o,...l},u)=>(n=Su(n,"accordion-header"),k.jsx(t,{ref:u,...l,className:xa(r,n),children:k.jsx(i_,{onClick:o,"aria-controls":e,children:i})})));A2.displayName="AccordionHeader";const P2=U.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...i},o)=>{e=Su(e,"accordion-item");const l=U.useMemo(()=>({eventKey:r}),[r]);return k.jsx(Lm.Provider,{value:l,children:k.jsx(t,{ref:o,...i,className:xa(n,e)})})});P2.displayName="AccordionItem";const R2=U.forwardRef((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:i,className:o,onSelect:l,flush:u,alwaysOpen:h,...d}=KH(t,{activeKey:"onSelect"}),m=Su(i,"accordion"),y=U.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:h}),[r,l,h]);return k.jsx(dd.Provider,{value:y,children:k.jsx(n,{ref:e,...d,className:xa(o,m,u&&`${m}-flush`)})})});R2.displayName="Accordion";const qo=Object.assign(R2,{Button:i_,Collapse:r_,Item:P2,Header:A2,Body:C2});function AW(){return k.jsx("div",{className:" ",children:k.jsxs(qo,{className:"mb-7",defaultActiveKey:"0",children:[k.jsxs(qo.Item,{eventKey:"0",children:[k.jsx(qo.Header,{children:"Accordion Item #1"}),k.jsx(qo.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),k.jsxs(qo.Item,{eventKey:"1",children:[k.jsx(qo.Header,{children:"Accordion Item #2"}),k.jsx(qo.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})})}function PW(t){return fo({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const RW=()=>{const t=FS(),{user:e,setUser:n}=U.useContext(h0),r=async()=>{try{await q4(np,ZC);const o=await fj(np,T6);n(o.user),t("/")}catch(o){console.error("Error during Google login:",o.message)}},i=async()=>{try{await K4(np),n(null),t("/")}catch(o){console.error("Error during logout:",o.message)}};return k.jsx("div",{className:"flex items-center gap-4",children:e?k.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"登出"}):k.jsx("div",{className:"relative w-full h-screen",children:k.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 max-w-sm w-full p-6 rounded-lg shadow-lg text-center",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Log into Your Account"}),k.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sign in to your account with your social profile"}),k.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 w-full mt-4 bg-red-500 text-white py-3 rounded-full text-lg font-semibold shadow-md hover:bg-red-600 transition",children:[k.jsx(PW,{className:"text-2xl bg-white rounded-full p-1"}),"Sign in with Google"]})]})})})},kW=()=>{const{slug:t}=$S(),e=[{id:1,title:"Hidden Gems of Southeast Asia",description:"Discover breathtaking destinations off the beaten path that will transform your perspective on travel.",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 15, 2024",readTime:"8 min read",rating:4,slug:"hidden-gems-southeast-asia",author:"Sarah Johnson",content:`
        <p>Southeast Asia has always been a magnet for travelers seeking adventure, culture, and natural beauty. While popular destinations like Bangkok, Bali, and Singapore draw millions of visitors annually, there's a whole world of hidden gems waiting to be discovered by those willing to venture off the beaten path.</p>
        
        <h2>The Untouched Islands of Raja Ampat</h2>
        <p>Located in Indonesia's West Papua province, Raja Ampat is often called the "Crown Jewel of Marine Biodiversity." This remote archipelago consists of four main islands surrounded by smaller islets, offering some of the world's most pristine diving and snorkeling experiences.</p>
        
        <p>The waters here are home to over 1,500 species of fish and 75% of all known coral species. What makes Raja Ampat truly special is its commitment to conservation – local communities have established marine protected areas that ensure these underwater treasures remain unspoiled for future generations.</p>
        
        <h2>The Ancient Temples of Bagan</h2>
        <p>While Angkor Wat gets most of the attention, Myanmar's Bagan offers an equally spectacular temple experience with far fewer crowds. This ancient city is home to over 2,000 Buddhist temples and pagodas scattered across a vast plain.</p>
        
        <p>The best way to experience Bagan is from a hot air balloon at sunrise, watching the mist rise from the Irrawaddy River as the golden temples emerge from the morning haze. It's a sight that will stay with you forever.</p>
        
        <h2>The Floating Markets of Can Tho</h2>
        <p>Vietnam's Mekong Delta is famous for its floating markets, but most tourists only visit the commercialized ones near Ho Chi Minh City. For a more authentic experience, head to Can Tho's Cai Rang floating market, where local farmers have been trading fruits and vegetables from their boats for generations.</p>
        
        <p>Arrive early in the morning to see the market at its most vibrant, with boats laden with pineapples, dragon fruit, and other tropical produce creating a colorful mosaic on the water.</p>
      `},{id:2,title:"European Food Markets: A Culinary Journey",description:"From Barcelona's La Boqueria to Istanbul's Grand Bazaar, explore the world's most vibrant food scenes.",image:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 12, 2024",readTime:"6 min read",rating:4.8,slug:"european-food-markets",author:"Marco Rodriguez",content:`
        <p>Europe's food markets are more than just places to shop – they're cultural institutions that have been feeding communities for centuries. Each market tells a story of local traditions, seasonal ingredients, and culinary heritage passed down through generations.</p>
        
        <h2>La Boqueria, Barcelona</h2>
        <p>Perhaps the most famous food market in Europe, La Boqueria has been serving Barcelona since the 13th century. Located just off Las Ramblas, this vibrant market is a feast for all the senses.</p>
        
        <p>Don't miss the fresh fruit juices, jamón ibérico, and the incredible variety of seafood. The market's colorful displays of fruits and vegetables are Instagram-worthy, but the real magic happens when you taste the incredible flavors.</p>
        
        <h2>Borough Market, London</h2>
        <p>London's Borough Market is a food lover's paradise, showcasing the best of British and international cuisine. Dating back to the 13th century, it's one of the oldest food markets in London.</p>
        
        <p>Sample artisanal cheeses, freshly baked bread, and gourmet street food from around the world. The market's Victorian architecture provides a stunning backdrop for your culinary adventure.</p>
      `},{id:3,title:"Solo Travel in Japan: Complete Guide",description:"Navigate the Land of the Rising Sun with confidence. Essential tips for first-time solo travelers.",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 10, 2024",readTime:"12 min read",rating:4.9,slug:"solo-travel-japan",author:"Yuki Tanaka",content:`
        <p>Japan is one of the world's best destinations for solo travelers. The country's safety, efficiency, and unique culture make it an ideal place to explore on your own. Here's everything you need to know for your first solo adventure in the Land of the Rising Sun.</p>
        
        <h2>Getting Around: The JR Pass</h2>
        <p>The Japan Rail Pass is your ticket to exploring the country efficiently and affordably. This pass gives you unlimited access to most JR trains, including the famous shinkansen (bullet trains).</p>
        
        <p>Purchase your JR Pass before arriving in Japan for the best rates. The 7-day pass is perfect for first-time visitors planning to visit Tokyo, Kyoto, and Osaka.</p>
        
        <h2>Where to Stay: Capsule Hotels and Ryokans</h2>
        <p>Japan offers unique accommodation options perfect for solo travelers. Capsule hotels provide affordable, safe, and clean lodging in city centers, while traditional ryokans offer an authentic Japanese experience with tatami mats, futon beds, and communal baths.</p>
        
        <h2>Cultural Etiquette</h2>
        <p>Understanding Japanese etiquette will enhance your travel experience. Always bow when greeting, remove shoes when entering homes or certain restaurants, and avoid eating while walking. These small gestures show respect for local customs.</p>
      `},{id:4,title:"Mountain Adventures in the Alps",description:"Experience the breathtaking beauty of Alpine peaks and discover hiking trails that will leave you speechless.",image:"https://images.unsplash.com/photo-1464822759844-d150baec0494?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 08, 2024",readTime:"10 min read",rating:4.7,slug:"mountain-adventures-alps",author:"Elena Schmidt",content:`
        <p>The Alps stretch across eight countries and offer some of the world's most spectacular mountain scenery. From the iconic Matterhorn to the pristine lakes of Austria, this mountain range provides endless opportunities for adventure seekers and nature lovers alike.</p>
        
        <h2>The Classic Alpine Hiking Routes</h2>
        <p>The Tour du Mont Blanc is perhaps the most famous long-distance hiking trail in the Alps, circling the Mont Blanc massif through France, Italy, and Switzerland. This 170-kilometer trek takes you through diverse landscapes, from glacial valleys to high alpine meadows.</p>
        
        <p>For those seeking a shorter but equally rewarding experience, the Haute Route from Chamonix to Zermatt offers stunning glacier views and challenging terrain that will test even experienced hikers.</p>
        
        <h2>Alpine Lakes and Villages</h2>
        <p>The Alps are home to countless pristine lakes, each more beautiful than the last. Lake Bled in Slovenia, with its fairy-tale island church, and Lake Annecy in France, known as the "Pearl of the French Alps," are must-visit destinations.</p>
        
        <p>Don't miss the charming mountain villages like Hallstatt in Austria or Gimmelwald in Switzerland, where traditional Alpine culture is still very much alive.</p>
        
        <h2>Best Time to Visit</h2>
        <p>Summer (June to September) is ideal for hiking and outdoor activities, while winter transforms the Alps into a wonderland perfect for skiing and snowboarding. Spring and autumn offer fewer crowds and stunning seasonal colors.</p>
      `},{id:5,title:"Street Art Capitals of the World",description:"Explore vibrant street art scenes from Berlin to Buenos Aires and discover the stories behind the walls.",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 05, 2024",readTime:"7 min read",rating:4.5,slug:"street-art-capitals",author:"Diego Martinez",content:`
        <p>Street art has evolved from underground rebellion to mainstream cultural expression, transforming urban landscapes around the world. These cities have embraced street art as a legitimate art form, creating open-air galleries that tell stories of culture, politics, and human experience.</p>
        
        <h2>Berlin: The Graffiti Capital</h2>
        <p>Berlin's street art scene is legendary, with the East Side Gallery being the longest remaining section of the Berlin Wall, now covered in murals by international artists. The city's liberal attitude toward street art has created neighborhoods like Kreuzberg and Friedrichshain that are living canvases.</p>
        
        <p>Take a street art tour through these districts to discover hidden gems and learn about the political and social messages behind the artwork.</p>
        
        <h2>Buenos Aires: South American Expression</h2>
        <p>Buenos Aires has one of the most vibrant street art scenes in South America. The city's economic struggles have given rise to powerful political murals, while neighborhoods like Palermo and San Telmo showcase colorful, artistic expressions of Argentine culture.</p>
        
        <p>The city even offers official street art tours, showing how the local government has embraced this form of artistic expression.</p>
        
        <h2>Melbourne: Laneway Culture</h2>
        <p>Melbourne's famous laneways are a maze of street art, from large-scale murals to intricate stencil work. The city's street art is constantly evolving, with new pieces appearing regularly in areas like Hosier Lane and AC/DC Lane.</p>
      `},{id:6,title:"Island Hopping in the Mediterranean",description:"Sail through crystal-clear waters and discover hidden coves in the most beautiful Mediterranean islands.",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 03, 2024",readTime:"9 min read",rating:4.6,slug:"mediterranean-island-hopping",author:"Sofia Papadopoulos",content:`
        <p>The Mediterranean Sea is dotted with thousands of islands, each offering its own unique blend of history, culture, and natural beauty. Island hopping in this ancient sea is like traveling through time, from prehistoric ruins to medieval fortresses to modern beach resorts.</p>
        
        <h2>The Greek Islands: Cycladic Beauty</h2>
        <p>The Cyclades offer the quintessential Greek island experience with their white-washed buildings, blue-domed churches, and dramatic clifftop villages. Start with Santorini for its famous sunsets, then explore Mykonos for its vibrant nightlife, and discover hidden gems like Folegandros and Sifnos.</p>
        
        <p>Each island has its own personality - from the party atmosphere of Ios to the artistic community of Hydra, where cars are banned and donkeys still carry goods through narrow stone streets.</p>
        
        <h2>The Balearic Islands: Spanish Paradise</h2>
        <p>Spain's Balearic Islands offer a perfect mix of beach relaxation and cultural exploration. Ibiza is famous for its electronic music scene, but also boasts UNESCO World Heritage sites and pristine beaches. Mallorca combines stunning coastlines with charming mountain villages and excellent hiking.</p>
        
        <p>Don't overlook Menorca, a UNESCO Biosphere Reserve with some of the most unspoiled beaches in the Mediterranean.</p>
        
        <h2>Planning Your Island-Hopping Adventure</h2>
        <p>The best time for island hopping is late spring through early fall when ferry services are most frequent. Consider purchasing an island-hopping pass for cost-effective travel, and always book accommodations in advance during peak summer months.</p>
      `},{id:7,title:"Northern Lights: A Photographer's Dream",description:"Capture the magic of Aurora Borealis with expert tips and the best locations for stunning photographs.",image:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Nov 28, 2024",readTime:"11 min read",rating:4.9,slug:"northern-lights-photography",author:"Lars Andersen",content:`
        <p>The Aurora Borealis, or Northern Lights, is one of nature's most spectacular phenomena. These dancing curtains of light have captivated humans for millennia, and with the right knowledge and equipment, you can capture their ethereal beauty in stunning photographs.</p>
        
        <h2>Understanding the Aurora</h2>
        <p>The Northern Lights occur when charged particles from the sun interact with Earth's magnetic field and atmosphere. The best viewing occurs during the dark months from September to March, with peak activity around the equinoxes.</p>
        
        <p>Aurora activity follows an 11-year solar cycle, and we're currently approaching solar maximum, making this an excellent time for aurora photography.</p>
        
        <h2>Best Locations for Aurora Photography</h2>
        <p>Iceland offers some of the most accessible aurora viewing, with Reykjavik as a base for northern expeditions. The Jökulsárlón glacier lagoon provides stunning foreground elements for your aurora shots.</p>
        
        <p>Northern Norway, particularly around Tromsø, offers excellent aurora chances and the unique opportunity to photograph the lights reflecting off fjords. Finnish Lapland and northern Sweden provide pristine wilderness settings with minimal light pollution.</p>
        
        <h2>Photography Techniques</h2>
        <p>Use a sturdy tripod and shoot in manual mode with a wide-angle lens. Start with ISO 1600-3200, aperture f/2.8 or wider, and exposure times of 10-25 seconds. Focus manually on infinity and use the camera's timer or a remote shutter to avoid camera shake.</p>
        
        <p>Include interesting foreground elements like trees, mountains, or buildings to create more compelling compositions. The contrast between the earthbound elements and the celestial display creates powerful visual narratives.</p>
      `},{id:8,title:"Desert Safari Adventures",description:"Experience the thrill of desert exploration from the Sahara to the Arabian Peninsula's golden dunes.",image:"https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Nov 25, 2024",readTime:"8 min read",rating:4.4,slug:"desert-safari-adventures",author:"Amira Hassan",content:`
        <p>Desert safaris offer a unique blend of adventure, culture, and natural beauty. From the vast expanses of the Sahara to the towering dunes of the Arabian Peninsula, these landscapes provide unforgettable experiences that connect us with some of Earth's most extreme environments.</p>
        
        <h2>The Sahara: World's Largest Hot Desert</h2>
        <p>Morocco's Sahara Desert, accessible from cities like Marrakech and Fez, offers some of the most accessible desert safari experiences. The Erg Chebbi dunes near Merzouga rise up to 150 meters high and provide spectacular sunrise and sunset views.</p>
        
        <p>A traditional camel trek to a Berber camp allows you to experience desert life as nomads have for centuries. Sleep under a canopy of stars more brilliant than you've ever seen, and wake to the haunting call to prayer echoing across the dunes.</p>
        
        <h2>Arabian Peninsula: Luxury Desert Experiences</h2>
        <p>The UAE's desert safaris combine traditional Bedouin culture with modern luxury. Dubai and Abu Dhabi offer everything from thrilling dune bashing in 4x4 vehicles to elegant desert resorts where you can enjoy gourmet dining under the stars.</p>
        
        <p>Don't miss the opportunity to try sandboarding, falconry demonstrations, and traditional henna painting. The contrast between the ultra-modern cities and the timeless desert creates a unique cultural experience.</p>
        
        <h2>Essential Desert Safari Tips</h2>
        <p>Pack light, breathable clothing for the day and warm layers for surprisingly cold desert nights. Bring plenty of water, sunscreen, and a hat. Respect local customs and the fragile desert ecosystem by staying on designated paths and taking only photographs.</p>
        
        <p>The best time for desert safaris is during cooler months (October to March) when daytime temperatures are more comfortable for outdoor activities.</p>
      `},{id:9,title:"Urban Exploration: Modern Architecture",description:"Discover architectural marvels in world's most innovative cities and the stories behind their design.",image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Nov 22, 2024",readTime:"6 min read",rating:4.3,slug:"urban-exploration-architecture",author:"Alexander Chen",content:`
        <p>Modern architecture has transformed city skylines around the world, creating iconic structures that define urban landscapes. These architectural marvels are not just buildings – they're statements of human ambition, technological advancement, and artistic vision.</p>
        
        <h2>Dubai: Futuristic Desert Metropolis</h2>
        <p>Dubai's skyline is a testament to architectural ambition. The Burj Khalifa, standing at 828 meters, redefined what's possible in skyscraper construction. The building's design, inspired by Islamic architecture and desert flowers, demonstrates how modern structures can honor cultural heritage.</p>
        
        <p>The Museum of the Future, with its distinctive torus shape covered in Arabic calligraphy, represents Dubai's vision of innovation. Its unique design challenges traditional architectural concepts while serving as a symbol of the city's forward-thinking approach.</p>
        
        <h2>Singapore: Green Architecture Pioneer</h2>
        <p>Singapore has pioneered sustainable urban architecture with buildings like the Parkroyal Collection Pickering, which features more greenery than the park it replaced. The city's commitment to biophilic design creates urban oases that improve air quality and provide natural cooling.</p>
        
        <p>The Gardens by the Bay Supertrees are engineering marvels that combine art, architecture, and environmental technology. These 50-meter tall structures collect rainwater, generate solar power, and provide ventilation for the conservatories.</p>
        
        <h2>Copenhagen: Human-Centered Design</h2>
        <p>Copenhagen's architecture prioritizes human well-being and environmental sustainability. The 8 House by Bjarke Ingels Group creates a mountain-like structure where residents can bike from street level to the 11th floor, redefining urban living.</p>
        
        <p>The city's commitment to carbon neutrality by 2025 has driven innovative architectural solutions that balance aesthetic appeal with environmental responsibility.</p>
      `}],n=e.find(r=>r.slug===t);return n?k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsxs("div",{className:"relative h-96 overflow-hidden",children:[k.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),k.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:k.jsxs("div",{className:"text-center text-white max-w-4xl px-4",children:[k.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:n.title}),k.jsx("p",{className:"text-xl opacity-90",children:n.description})]})})]}),k.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[k.jsx("div",{className:"mb-8",children:k.jsxs(Sr,{to:"/blog",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[k.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Blog"]})}),k.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:k.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[k.jsxs("div",{className:"flex items-center space-x-6",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:n.author.split(" ").map(r=>r[0]).join("")}),k.jsxs("div",{className:"ml-3",children:[k.jsx("p",{className:"font-medium text-gray-900",children:n.author}),k.jsx("p",{className:"text-sm text-gray-500",children:n.date})]})]}),k.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[k.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.readTime]})]}),k.jsxs("div",{className:"flex items-center bg-yellow-50 rounded-full px-3 py-1",children:[k.jsx("span",{className:"text-yellow-500",children:"★"}),k.jsx("span",{className:"text-sm font-medium ml-1",children:n.rating})]})]})}),k.jsx("article",{className:"bg-white rounded-lg shadow-sm p-8",children:k.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:n.content}})}),k.jsxs("div",{className:"mt-12",children:[k.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Adventures"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(r=>r.id!==n.id).slice(0,3).map(r=>k.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[k.jsx("img",{src:r.image,alt:r.title,className:"w-full h-32 object-cover"}),k.jsxs("div",{className:"p-4",children:[k.jsx("h4",{className:"font-bold text-gray-900 mb-2 hover:text-blue-600",children:k.jsx(Sr,{to:`/blog/${r.slug}`,children:r.title})}),k.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:r.description}),k.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[k.jsx("span",{children:r.date}),k.jsx("span",{children:r.readTime})]})]})]},r.id))})]})]})]}):k.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog Post Not Found"}),k.jsx("p",{className:"text-gray-600 mb-8",children:"The blog post you're looking for doesn't exist."}),k.jsx(Sr,{to:"/blog",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Blog"})]})})},DW=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"About Page"}),k.jsx("p",{children:"About content will go here."})]}),OW=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Service Page"}),k.jsx("p",{children:"Service content will go here."})]}),NW=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Resume Page"}),k.jsx("p",{children:"Resume content will go here."})]}),MW=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Portfolio Page"}),k.jsx("p",{children:"Portfolio content will go here."})]}),LW=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials Page"}),k.jsx("p",{children:"Testimonials content will go here."})]}),VW=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Contact Page"}),k.jsx("p",{children:"Contact content will go here."})]}),jW=()=>vO([{path:"/",element:k.jsx(a8,{})},{path:"/problem",element:k.jsx(AW,{})},{path:"/login",element:k.jsx(RW,{})},{path:"/product/:slug",element:k.jsx(BH,{})},{path:"/blog",element:k.jsx(VP,{})},{path:"/blog/:slug",element:k.jsx(kW,{})},{path:"/gallery",element:k.jsx(GR,{})},{path:"/about",element:k.jsx(DW,{})},{path:"/service",element:k.jsx(OW,{})},{path:"/resume",element:k.jsx(NW,{})},{path:"/portfolio",element:k.jsx(MW,{})},{path:"/testimonials",element:k.jsx(LW,{})},{path:"/contact",element:k.jsx(VW,{})}]),FW=()=>{const t=Yi(),e=t.pathname==="/"||t.pathname==="/portfolio"||t.pathname==="/about"||t.pathname==="/service"||t.pathname==="/resume"||t.pathname==="/testimonials"||t.pathname==="/contact";return k.jsxs("div",{className:`${e?"bg-teal-400":""} overflow-x-hidden`,children:[k.jsx($W,{}),e&&k.jsx(UW,{})]})},$W=()=>{const[t,e]=U.useState(!1),n=Yi(),r=n.pathname==="/"||n.pathname==="/portfolio"||n.pathname==="/about"||n.pathname==="/service"||n.pathname==="/resume"||n.pathname==="/testimonials"||n.pathname==="/contact";return k.jsxs("nav",{className:`${r?"bg-teal-400":"bg-white border-b border-gray-200"} px-6 py-4 flex items-center justify-between relative w-full max-w-full overflow-x-hidden`,children:[k.jsx(Sr,{to:"/",className:`${r?"text-black hover:text-gray-700":"text-gray-800 hover:text-indigo-600"} font-bold text-xl tracking-wider transition-colors duration-200`,children:"Kevin攝影"}),k.jsxs("div",{className:"hidden md:flex items-center space-x-4 lg:space-x-8 flex-wrap",children:[k.jsx(vl,{to:"/",text:"首頁",isPortfolioPage:r}),k.jsx(vl,{to:"/blog",text:"Blog",isPortfolioPage:r}),k.jsx(vl,{to:"/problem",text:"問與答Q&A",isPortfolioPage:r}),k.jsx(vl,{to:"/about",text:"About",isPortfolioPage:r}),k.jsx(vl,{to:"/gallery",text:"攝影照片",isPortfolioPage:r}),k.jsx(vl,{to:"/portfolio",text:"Portfolio",isPortfolioPage:r}),k.jsx(BW,{text:"Contact",isPortfolioPage:r})]}),k.jsx("button",{className:`md:hidden ${r?"text-black":"text-gray-800"}`,onClick:()=>e(!t),children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t&&k.jsx("div",{className:`absolute top-full left-0 right-0 ${r?"bg-teal-400":"bg-white border-b border-gray-200"} md:hidden z-50`,children:k.jsxs("div",{className:"flex flex-col space-y-4 px-6 py-4",children:[k.jsx(Cs,{to:"/",text:"首頁",isPortfolioPage:r}),k.jsx(Cs,{to:"/blog",text:"Blog",isPortfolioPage:r}),k.jsx(Cs,{to:"/problem",text:"問與答Q&A",isPortfolioPage:r}),k.jsx(Cs,{to:"/about",text:"About",isPortfolioPage:r}),k.jsx(Cs,{to:"/gallery",text:"攝影照片",isPortfolioPage:r}),k.jsx(Cs,{to:"/resume",text:"Resume",isPortfolioPage:r}),k.jsx(Cs,{to:"/portfolio",text:"Portfolio",isPortfolioPage:r}),k.jsx(Cs,{to:"/testimonials",text:"Testimonials",isPortfolioPage:r}),k.jsx(zW,{text:"Contact",isPortfolioPage:r})]})})]})},UW=()=>k.jsxs("div",{className:"flex items-center justify-between px-6 lg:px-20 py-20 min-h-[calc(100vh-80px)] w-full max-w-full overflow-x-hidden",children:[k.jsx("div",{className:"flex-1 max-w-2xl",children:k.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[k.jsx("p",{className:"text-black text-lg mb-4",children:"嗨~"}),k.jsx("h1",{className:"text-black text-5xl lg:text-6xl font-bold mb-4",children:"我是Kevin"}),k.jsx("h2",{className:"text-black text-2xl lg:text-3xl font-semibold mb-6",children:"分享攝影照片"}),k.jsx("p",{className:"text-black text-lg mb-8 leading-relaxed max-w-xl"}),k.jsx(ir.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-black text-white px-8 py-3 rounded-md font-medium hover:bg-gray-800 transition-colors",children:"Contact Me"})]})}),k.jsx("div",{className:"hidden lg:block flex-1 flex justify-center",children:k.jsx(ir.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"relative",children:k.jsx("div",{className:"w-80 h-80 rounded-full overflow-hidden border-4 border-black shadow-2xl",children:k.jsx("img",{src:"https://res.cloudinary.com/dtbj43yha/image/upload/v1753798709/mountain_jdi9k6.jpg",alt:"Lorenzo Fellon",className:"w-full h-full object-cover"})})})})]}),vl=({to:t,text:e,isPortfolioPage:n})=>k.jsx(Sr,{to:t,className:`${n?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),Cs=({to:t,text:e,isPortfolioPage:n})=>k.jsx(Sr,{to:t,className:`${n?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),BW=({text:t,isPortfolioPage:e})=>{const n=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return k.jsx("button",{onClick:n,className:`${e?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:t})},zW=({text:t,isPortfolioPage:e})=>{const n=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return k.jsx("button",{onClick:n,className:`${e?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:t})};class Vm{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const qW=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},bl={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:qW()},HW=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},WW=async(t,e,n={})=>{const r=await fetch(bl.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),o=new Vm(r.status,i);if(r.ok)return o;throw o},GW=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},KW=t=>t.webdriver||!t.languages||t.languages.length===0,QW=()=>new Vm(451,"Unavailable For Headless Browser"),YW=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},XW=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},JW=(t,e)=>t instanceof FormData?t.get(e):t[e],ZW=(t,e)=>{if(XW(t))return!1;YW(t.list,t.watchVariable);const n=JW(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},eG=()=>new Vm(403,"Forbidden"),tG=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},nG=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},rG=async(t,e,n)=>{if(!e.throttle||!n)return!1;tG(e.throttle,e.id);const r=e.id||t;return await nG(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},iG=()=>new Vm(429,"Too Many Requests"),sG=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},oG=t=>typeof t=="string"?document.querySelector(t):t,aG=async(t,e,n,r)=>{const i=HW(r),o=i.publicKey||bl.publicKey,l=i.blockHeadless||bl.blockHeadless,u=bl.storageProvider||i.storageProvider,h={...bl.blockList,...i.blockList},d={...bl.limitRate,...i.limitRate};if(l&&KW(navigator))return Promise.reject(QW());const m=oG(n);GW(o,t,e),sG(m);const y=new FormData(m);return ZW(h,y)?Promise.reject(eG()):await rG(location.pathname,d,u)?Promise.reject(iG()):(y.append("lib_version","4.4.1"),y.append("service_id",t),y.append("template_id",e),y.append("user_id",o),WW("/api/v1.0/email/send-form",y))},lG=()=>{const[t,e]=U.useState({name:"",phone:"",email:"",message:""}),[n,r]=U.useState(!1),i=U.useRef(),o=u=>{e({...t,[u.target.name]:u.target.value})},l=async u=>{u.preventDefault(),r(!0);try{await aG("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",i.current,"YOUR_PUBLIC_KEY"),Qe.success("訊息已成功發送！我們會盡快回覆您。",{position:"top-right",autoClose:3e3}),e({name:"",phone:"",email:"",message:""})}catch(h){console.error("EmailJS error:",h),Qe.error("發送失敗，請稍後再試或直接聯繫我們。",{position:"top-right",autoClose:3e3})}finally{r(!1)}};return k.jsxs("footer",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:[k.jsx("div",{className:"container mx-auto px-6 py-16",children:k.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[k.jsxs(ir.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"space-y-8",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent"}),k.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"聯絡我"})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(yU,{className:"text-teal-400 text-xl"}),k.jsx("span",{className:"text-gray-300",children:" "})]}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(pU,{className:"text-teal-400 text-xl"}),k.jsx("span",{className:"text-gray-300",children:"a411758@gmail.com"})]}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(gU,{className:"text-teal-400 text-xl"}),k.jsx("span",{className:"text-gray-300",children:"台灣 台北市"})]})]}),k.jsxs("div",{className:"flex space-x-6",children:[k.jsx(ir.a,{href:"https://instagram.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-gradient-to-r from-pink-500 to-purple-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:k.jsx(fU,{className:"text-2xl text-white"})}),k.jsx(ir.a,{href:"https://facebook.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-blue-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:k.jsx(dU,{className:"text-2xl text-white"})})]})]}),k.jsxs(ir.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700",children:[k.jsx("h3",{className:"text-2xl font-semibold mb-6 text-center",children:"發送訊息"}),k.jsxs("form",{ref:i,onSubmit:l,className:"space-y-6",children:[k.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"姓名 *"}),k.jsx("input",{type:"text",name:"name",value:t.name,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的姓名"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電話"}),k.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:o,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電話"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電子信箱 *"}),k.jsx("input",{type:"email",name:"email",value:t.email,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電子信箱"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"訊息內容 *"}),k.jsx("textarea",{name:"message",value:t.message,onChange:o,required:!0,rows:"5",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300 resize-none",placeholder:""})]}),k.jsx(ir.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:n?"發送中...":"發送訊息"})]})]})]})}),k.jsx("div",{className:"border-t border-gray-700",children:k.jsx("div",{className:"container mx-auto px-6 py-6",children:k.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[k.jsx("div",{className:"text-gray-400 text-sm",children:"© 2025 Kevin攝影. All rights reserved."}),k.jsxs("div",{className:"flex space-x-6 text-sm text-gray-400",children:[k.jsx("a",{href:"/privacy",className:"hover:text-teal-400 transition-colors",children:"隱私政策"}),k.jsx("a",{href:"/terms",className:"hover:text-teal-400 transition-colors",children:"服務條款"})]})]})})})]})},uG=()=>k.jsx(b6,{children:k.jsxs(tN,{children:[k.jsx(FW,{})," ",k.jsx(iU,{}),k.jsx(jW,{}),k.jsx(lG,{}),"  "]})});BD.createRoot(document.getElementById("root")).render(k.jsx(U.StrictMode,{children:k.jsx(uG,{})}));export{VG as C,dG as a,du as g,CI as i};
