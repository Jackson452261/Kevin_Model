var FP=Object.defineProperty;var ww=t=>{throw TypeError(t)};var jP=(t,e,n)=>e in t?FP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Te=(t,e,n)=>jP(t,typeof e!="symbol"?e+"":e,n),Ew=(t,e,n)=>e.has(t)||ww("Cannot "+n);var q=(t,e,n)=>(Ew(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?ww("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ve=(t,e,n,r)=>(Ew(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ic(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jm={exports:{}},Cu={},Um={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function UP(){if(Tw)return Fe;Tw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,I={};function R(z,ee,ge){this.props=z,this.context=ee,this.refs=I,this.updater=ge||T}R.prototype.isReactComponent={},R.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=R.prototype;function V(z,ee,ge){this.props=z,this.context=ee,this.refs=I,this.updater=ge||T}var U=V.prototype=new D;U.constructor=V,x(U,R.prototype),U.isPureReactComponent=!0;var G=Array.isArray,J=Object.prototype.hasOwnProperty,Z={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function A(z,ee,ge){var Ie,De={},Ne=null,Ke=null;if(ee!=null)for(Ie in ee.ref!==void 0&&(Ke=ee.ref),ee.key!==void 0&&(Ne=""+ee.key),ee)J.call(ee,Ie)&&!O.hasOwnProperty(Ie)&&(De[Ie]=ee[Ie]);var Ge=arguments.length-2;if(Ge===1)De.children=ge;else if(1<Ge){for(var Xe=Array(Ge),Lt=0;Lt<Ge;Lt++)Xe[Lt]=arguments[Lt+2];De.children=Xe}if(z&&z.defaultProps)for(Ie in Ge=z.defaultProps,Ge)De[Ie]===void 0&&(De[Ie]=Ge[Ie]);return{$$typeof:t,type:z,key:Ne,ref:Ke,props:De,_owner:Z.current}}function N(z,ee){return{$$typeof:t,type:z.type,key:ee,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function b(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return ee[ge]})}var k=/\/+/g;function C(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?b(""+z.key):ee.toString(36)}function X(z,ee,ge,Ie,De){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var Ke=!1;if(z===null)Ke=!0;else switch(Ne){case"string":case"number":Ke=!0;break;case"object":switch(z.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=z,De=De(Ke),z=Ie===""?"."+C(Ke,0):Ie,G(De)?(ge="",z!=null&&(ge=z.replace(k,"$&/")+"/"),X(De,ee,ge,"",function(Lt){return Lt})):De!=null&&(F(De)&&(De=N(De,ge+(!De.key||Ke&&Ke.key===De.key?"":(""+De.key).replace(k,"$&/")+"/")+z)),ee.push(De)),1;if(Ke=0,Ie=Ie===""?".":Ie+":",G(z))for(var Ge=0;Ge<z.length;Ge++){Ne=z[Ge];var Xe=Ie+C(Ne,Ge);Ke+=X(Ne,ee,ge,Xe,De)}else if(Xe=w(z),typeof Xe=="function")for(z=Xe.call(z),Ge=0;!(Ne=z.next()).done;)Ne=Ne.value,Xe=Ie+C(Ne,Ge++),Ke+=X(Ne,ee,ge,Xe,De);else if(Ne==="object")throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ke}function Ae(z,ee,ge){if(z==null)return z;var Ie=[],De=0;return X(z,Ie,"","",function(Ne){return ee.call(ge,Ne,De++)}),Ie}function fe(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var ce={current:null},ne={transition:null},de={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Ae,forEach:function(z,ee,ge){Ae(z,function(){ee.apply(this,arguments)},ge)},count:function(z){var ee=0;return Ae(z,function(){ee++}),ee},toArray:function(z){return Ae(z,function(ee){return ee})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Fe.Component=R,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=V,Fe.StrictMode=r,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Fe.act=le,Fe.cloneElement=function(z,ee,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ie=x({},z.props),De=z.key,Ne=z.ref,Ke=z._owner;if(ee!=null){if(ee.ref!==void 0&&(Ne=ee.ref,Ke=Z.current),ee.key!==void 0&&(De=""+ee.key),z.type&&z.type.defaultProps)var Ge=z.type.defaultProps;for(Xe in ee)J.call(ee,Xe)&&!O.hasOwnProperty(Xe)&&(Ie[Xe]=ee[Xe]===void 0&&Ge!==void 0?Ge[Xe]:ee[Xe])}var Xe=arguments.length-2;if(Xe===1)Ie.children=ge;else if(1<Xe){Ge=Array(Xe);for(var Lt=0;Lt<Xe;Lt++)Ge[Lt]=arguments[Lt+2];Ie.children=Ge}return{$$typeof:t,type:z.type,key:De,ref:Ne,props:Ie,_owner:Ke}},Fe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Fe.createElement=A,Fe.createFactory=function(z){var ee=A.bind(null,z);return ee.type=z,ee},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:c,render:z}},Fe.isValidElement=F,Fe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:fe}},Fe.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},Fe.startTransition=function(z){var ee=ne.transition;ne.transition={};try{z()}finally{ne.transition=ee}},Fe.unstable_act=le,Fe.useCallback=function(z,ee){return ce.current.useCallback(z,ee)},Fe.useContext=function(z){return ce.current.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z){return ce.current.useDeferredValue(z)},Fe.useEffect=function(z,ee){return ce.current.useEffect(z,ee)},Fe.useId=function(){return ce.current.useId()},Fe.useImperativeHandle=function(z,ee,ge){return ce.current.useImperativeHandle(z,ee,ge)},Fe.useInsertionEffect=function(z,ee){return ce.current.useInsertionEffect(z,ee)},Fe.useLayoutEffect=function(z,ee){return ce.current.useLayoutEffect(z,ee)},Fe.useMemo=function(z,ee){return ce.current.useMemo(z,ee)},Fe.useReducer=function(z,ee,ge){return ce.current.useReducer(z,ee,ge)},Fe.useRef=function(z){return ce.current.useRef(z)},Fe.useState=function(z){return ce.current.useState(z)},Fe.useSyncExternalStore=function(z,ee,ge){return ce.current.useSyncExternalStore(z,ee,ge)},Fe.useTransition=function(){return ce.current.useTransition()},Fe.version="18.3.1",Fe}var Sw;function Ey(){return Sw||(Sw=1,Um.exports=UP()),Um.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function BP(){if(xw)return Cu;xw=1;var t=Ey(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},w=null,T=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(T=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:w,ref:T,props:_,_owner:i.current}}return Cu.Fragment=n,Cu.jsx=l,Cu.jsxs=l,Cu}var Iw;function $P(){return Iw||(Iw=1,jm.exports=BP()),jm.exports}var j=$P(),M=Ey();const Me=Ic(M);var dh={},Bm={exports:{}},wn={},$m={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function zP(){return Cw||(Cw=1,function(t){function e(ne,de){var le=ne.length;ne.push(de);e:for(;0<le;){var z=le-1>>>1,ee=ne[z];if(0<i(ee,de))ne[z]=de,ne[le]=ee,le=z;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var de=ne[0],le=ne.pop();if(le!==de){ne[0]=le;e:for(var z=0,ee=ne.length,ge=ee>>>1;z<ge;){var Ie=2*(z+1)-1,De=ne[Ie],Ne=Ie+1,Ke=ne[Ne];if(0>i(De,le))Ne<ee&&0>i(Ke,De)?(ne[z]=Ke,ne[Ne]=le,z=Ne):(ne[z]=De,ne[Ie]=le,z=Ie);else if(Ne<ee&&0>i(Ke,le))ne[z]=Ke,ne[Ne]=le,z=Ne;else break e}}return de}function i(ne,de){var le=ne.sortIndex-de.sortIndex;return le!==0?le:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,w=3,T=!1,x=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(ne){for(var de=n(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ne)r(p),de.sortIndex=de.expirationTime,e(f,de);else break;de=n(p)}}function G(ne){if(I=!1,U(ne),!x)if(n(f)!==null)x=!0,fe(J);else{var de=n(p);de!==null&&ce(G,de.startTime-ne)}}function J(ne,de){x=!1,I&&(I=!1,D(A),A=-1),T=!0;var le=w;try{for(U(de),_=n(f);_!==null&&(!(_.expirationTime>de)||ne&&!b());){var z=_.callback;if(typeof z=="function"){_.callback=null,w=_.priorityLevel;var ee=z(_.expirationTime<=de);de=t.unstable_now(),typeof ee=="function"?_.callback=ee:_===n(f)&&r(f),U(de)}else r(f);_=n(f)}if(_!==null)var ge=!0;else{var Ie=n(p);Ie!==null&&ce(G,Ie.startTime-de),ge=!1}return ge}finally{_=null,w=le,T=!1}}var Z=!1,O=null,A=-1,N=5,F=-1;function b(){return!(t.unstable_now()-F<N)}function k(){if(O!==null){var ne=t.unstable_now();F=ne;var de=!0;try{de=O(!0,ne)}finally{de?C():(Z=!1,O=null)}}else Z=!1}var C;if(typeof V=="function")C=function(){V(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Ae=X.port2;X.port1.onmessage=k,C=function(){Ae.postMessage(null)}}else C=function(){R(k,0)};function fe(ne){O=ne,Z||(Z=!0,C())}function ce(ne,de){A=R(function(){ne(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){x||T||(x=!0,fe(J))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var le=w;w=de;try{return ne()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=w;w=ne;try{return de()}finally{w=le}},t.unstable_scheduleCallback=function(ne,de,le){var z=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,ne={id:g++,callback:de,priorityLevel:ne,startTime:le,expirationTime:ee,sortIndex:-1},le>z?(ne.sortIndex=le,e(p,ne),n(f)===null&&ne===n(p)&&(I?(D(A),A=-1):I=!0,ce(G,le-z))):(ne.sortIndex=ee,e(f,ne),x||T||(x=!0,fe(J))),ne},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(ne){var de=w;return function(){var le=w;w=de;try{return ne.apply(this,arguments)}finally{w=le}}}}(zm)),zm}var Aw;function qP(){return Aw||(Aw=1,$m.exports=zP()),$m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function HP(){if(bw)return wn;bw=1;var t=Ey(),e=qP();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function T(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,o,u,d){if(o===null||typeof o>"u"||T(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(s,o,u,d,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new I(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(D,V);R[o]=new I(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(D,V);R[o]=new I(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(D,V);R[o]=new I(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,o,u,d){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,u,m,d)&&(u=null),d||m===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Z=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),b=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,z;function ee(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var ge=!1;function Ie(s,o){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var d=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){d=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=d.stack.split(`
`),S=m.length-1,L=v.length-1;1<=S&&0<=L&&m[S]!==v[L];)L--;for(;1<=S&&0<=L;S--,L--)if(m[S]!==v[L]){if(S!==1||L!==1)do if(S--,L--,0>L||m[S]!==v[L]){var B=`
`+m[S].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=S&&0<=L);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function De(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Ie(s.type,!1),s;case 11:return s=Ie(s.type.render,!1),s;case 1:return s=Ie(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case Z:return"Portal";case N:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case k:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case fe:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function Ke(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lt(s){var o=Xe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Hr(s){s._valueTracker||(s._valueTracker=Lt(s))}function Ho(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Xe(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function Ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ls(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Wo(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Ge(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Dl(s,o){o=o.checked,o!=null&&U(s,"checked",o,!1)}function Nl(s,o){Dl(s,o);var u=Ge(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ko(s,o.type,u):o.hasOwnProperty("defaultValue")&&Ko(s,o.type,Ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Yc(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ko(s,o,u){(o!=="number"||Ni(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Wr=Array.isArray;function Kr(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Ge(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ol(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Go(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Wr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ge(u)}}function Qo(s,o){var u=Ge(o.value),d=Ge(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function Vl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function At(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?At(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Gr,Ll=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Gr=Gr||document.createElement("div"),Gr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Gr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Oi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fs=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(s){Fs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ms[o]=Ms[s]})});function Ml(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ms.hasOwnProperty(s)&&Ms[s]?(""+o).trim():o+"px"}function Fl(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Ml(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var jl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(s,o){if(o){if(jl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Bl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function Xo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yo=null,Mn=null,vr=null;function Jo(s){if(s=fu(s)){if(typeof Yo!="function")throw Error(n(280));var o=s.stateNode;o&&(o=bf(o),Yo(s.stateNode,s.type,o))}}function _r(s){Mn?vr?vr.push(s):vr=[s]:Mn=s}function $l(){if(Mn){var s=Mn,o=vr;if(vr=Mn=null,Jo(s),o)for(s=0;s<o.length;s++)Jo(o[s])}}function Us(s,o){return s(o)}function zl(){}var Qr=!1;function ql(s,o,u){if(Qr)return s(o,u);Qr=!0;try{return Us(s,o,u)}finally{Qr=!1,(Mn!==null||vr!==null)&&(zl(),$l())}}function wt(s,o){var u=s.stateNode;if(u===null)return null;var d=bf(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Zo=!1;if(c)try{var er={};Object.defineProperty(er,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Zo=!1}function Bs(s,o,u,d,m,v,S,L,B){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(ie){this.onError(ie)}}var $s=!1,ea=null,tr=!1,Hl=null,dp={onError:function(s){$s=!0,ea=s}};function ta(s,o,u,d,m,v,S,L,B){$s=!1,ea=null,Bs.apply(dp,arguments)}function Jc(s,o,u,d,m,v,S,L,B){if(ta.apply(this,arguments),$s){if($s){var Q=ea;$s=!1,ea=null}else throw Error(n(198));tr||(tr=!0,Hl=Q)}}function nr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function zs(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function rr(s){if(nr(s)!==s)throw Error(n(188))}function Zc(s){var o=s.alternate;if(!o){if(o=nr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return rr(m),s;if(v===d)return rr(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var S=!1,L=m.child;L;){if(L===u){S=!0,u=m,d=v;break}if(L===d){S=!0,d=m,u=v;break}L=L.sibling}if(!S){for(L=v.child;L;){if(L===u){S=!0,u=v,d=m;break}if(L===d){S=!0,d=v,u=m;break}L=L.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Wl(s){return s=Zc(s),s!==null?na(s):null}function na(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=na(s);if(o!==null)return o;s=s.sibling}return null}var ra=e.unstable_scheduleCallback,Kl=e.unstable_cancelCallback,ef=e.unstable_shouldYield,pp=e.unstable_requestPaint,nt=e.unstable_now,tf=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,Vi=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,Gl=e.unstable_LowPriority,nf=e.unstable_IdlePriority,Hs=null,An=null;function rf(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Hs,s,void 0,(s.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:of,Ql=Math.log,sf=Math.LN2;function of(s){return s>>>=0,s===0?32:31-(Ql(s)/sf|0)|0}var ia=64,sa=4194304;function Li(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ws(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes,S=u&268435455;if(S!==0){var L=S&~m;L!==0?d=Li(L):(v&=S,v!==0&&(d=Li(v)))}else S=u&~m,S!==0?d=Li(S):v!==0&&(d=Li(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(d&4&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-ln(o),m=1<<u,d|=s[u],o&=~m;return d}function mp(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var S=31-ln(v),L=1<<S,B=m[S];B===-1?(!(L&u)||L&d)&&(m[S]=mp(L,o)):B<=o&&(s.expiredLanes|=L),v&=~L}}function bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ks(){var s=ia;return ia<<=1,!(ia&4194240)&&(ia=64),s}function Mi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Fi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ln(o),s[o]=u}function et(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ln(u),v=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~v}}function ji(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-ln(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var Be=0;function Ui(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var af,oa,lf,uf,cf,Xl=!1,wr=[],$t=null,ir=null,sr=null,Bi=new Map,jn=new Map,Er=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(s,o){switch(s){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(o.pointerId)}}function dn(s,o,u,d,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=fu(o),o!==null&&oa(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function yp(s,o,u,d,m){switch(o){case"focusin":return $t=dn($t,s,o,u,d,m),!0;case"dragenter":return ir=dn(ir,s,o,u,d,m),!0;case"mouseover":return sr=dn(sr,s,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Bi.set(v,dn(Bi.get(v)||null,s,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,jn.set(v,dn(jn.get(v)||null,s,o,u,d,m)),!0}return!1}function hf(s){var o=Js(s.target);if(o!==null){var u=nr(o);if(u!==null){if(o=u.tag,o===13){if(o=zs(u),o!==null){s.blockedOn=o,cf(s.priority,function(){lf(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=aa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);js=d,u.target.dispatchEvent(d),js=null}else return o=fu(u),o!==null&&oa(o),s.blockedOn=u,!1;o.shift()}return!0}function Gs(s,o,u){Yr(s)&&u.delete(o)}function df(){Xl=!1,$t!==null&&Yr($t)&&($t=null),ir!==null&&Yr(ir)&&(ir=null),sr!==null&&Yr(sr)&&(sr=null),Bi.forEach(Gs),jn.forEach(Gs)}function or(s,o){s.blockedOn===o&&(s.blockedOn=null,Xl||(Xl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,df)))}function ar(s){function o(m){return or(m,s)}if(0<wr.length){or(wr[0],s);for(var u=1;u<wr.length;u++){var d=wr[u];d.blockedOn===s&&(d.blockedOn=null)}}for($t!==null&&or($t,s),ir!==null&&or(ir,s),sr!==null&&or(sr,s),Bi.forEach(o),jn.forEach(o),u=0;u<Er.length;u++)d=Er[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<Er.length&&(u=Er[0],u.blockedOn===null);)hf(u),u.blockedOn===null&&Er.shift()}var Jr=G.ReactCurrentBatchConfig,$i=!0;function lt(s,o,u,d){var m=Be,v=Jr.transition;Jr.transition=null;try{Be=1,Yl(s,o,u,d)}finally{Be=m,Jr.transition=v}}function vp(s,o,u,d){var m=Be,v=Jr.transition;Jr.transition=null;try{Be=4,Yl(s,o,u,d)}finally{Be=m,Jr.transition=v}}function Yl(s,o,u,d){if($i){var m=aa(s,o,u,d);if(m===null)Pp(s,o,d,Qs,u),ff(s,d);else if(yp(m,s,o,u,d))d.stopPropagation();else if(ff(s,d),o&4&&-1<gp.indexOf(s)){for(;m!==null;){var v=fu(m);if(v!==null&&af(v),v=aa(s,o,u,d),v===null&&Pp(s,o,d,Qs,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else Pp(s,o,d,null,u)}}var Qs=null;function aa(s,o,u,d){if(Qs=null,s=Xo(d),s=Js(s),s!==null)if(o=nr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=zs(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Qs=s,null}function Jl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tf()){case qs:return 1;case Vi:return 4;case Fn:case Gl:return 16;case nf:return 536870912;default:return 16}default:return 16}}var Pn=null,la=null,pn=null;function Zl(){if(pn)return pn;var s,o=la,u=o.length,d,m="value"in Pn?Pn.value:Pn.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var S=u-s;for(d=1;d<=S&&o[u-d]===m[v-d];d++);return pn=m.slice(s,1<d?1-d:void 0)}function ua(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Tr(){return!0}function eu(){return!1}function zt(s){function o(u,d,m,v,S){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Tr:eu,this.isPropagationStopped=eu,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),o}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=zt(lr),Sr=le({},lr,{view:0,detail:0}),_p=zt(Sr),fa,Zr,zi,Xs=le({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zi&&(zi&&s.type==="mousemove"?(fa=s.screenX-zi.screenX,Zr=s.screenY-zi.screenY):Zr=fa=0,zi=s),fa)},movementY:function(s){return"movementY"in s?s.movementY:Zr}}),ha=zt(Xs),tu=le({},Xs,{dataTransfer:0}),pf=zt(tu),da=le({},Sr,{relatedTarget:0}),pa=zt(da),mf=le({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=zt(mf),gf=le({},lr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yf=zt(gf),vf=le({},lr,{data:0}),nu=zt(vf),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wf(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_f[s])?!!o[s]:!1}function xr(){return wf}var h=le({},Sr,{key:function(s){if(s.key){var o=ma[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?un[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=zt(h),E=le({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=zt(E),H=le({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Y=zt(H),ue=le({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=zt(ue),Pt=le({},Xs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=zt(Pt),Mt=[9,13,27,32],xt=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var Rn=c&&"TextEvent"in window&&!Un,Ys=c&&(!xt||Un&&8<Un&&11>=Un),ga=" ",p_=!1;function m_(s,o){switch(s){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function Lb(s,o){switch(s){case"compositionend":return g_(o);case"keypress":return o.which!==32?null:(p_=!0,ga);case"textInput":return s=o.data,s===ga&&p_?null:s;default:return null}}function Mb(s,o){if(ya)return s==="compositionend"||!xt&&m_(s,o)?(s=Zl(),pn=la=Pn=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ys&&o.locale!=="ko"?null:o.data;default:return null}}var Fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Fb[s.type]:o==="textarea"}function v_(s,o,u,d){_r(d),o=If(o,"onChange"),0<o.length&&(u=new ca("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var ru=null,iu=null;function jb(s){L_(s,0)}function Ef(s){var o=Ta(s);if(Ho(o))return s}function Ub(s,o){if(s==="change")return o}var __=!1;if(c){var wp;if(c){var Ep="oninput"in document;if(!Ep){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),Ep=typeof w_.oninput=="function"}wp=Ep}else wp=!1;__=wp&&(!document.documentMode||9<document.documentMode)}function E_(){ru&&(ru.detachEvent("onpropertychange",T_),iu=ru=null)}function T_(s){if(s.propertyName==="value"&&Ef(iu)){var o=[];v_(o,iu,s,Xo(s)),ql(jb,o)}}function Bb(s,o,u){s==="focusin"?(E_(),ru=o,iu=u,ru.attachEvent("onpropertychange",T_)):s==="focusout"&&E_()}function $b(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ef(iu)}function zb(s,o){if(s==="click")return Ef(o)}function qb(s,o){if(s==="input"||s==="change")return Ef(o)}function Hb(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ur=typeof Object.is=="function"?Object.is:Hb;function su(s,o){if(ur(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!ur(s[m],o[m]))return!1}return!0}function S_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function x_(s,o){var u=S_(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=S_(u)}}function I_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?I_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function C_(){for(var s=window,o=Ni();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Ni(s.document)}return o}function Tp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Wb(s){var o=C_(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&I_(u.ownerDocument.documentElement,u)){if(d!==null&&Tp(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!s.extend&&v>d&&(m=d,d=v,v=m),m=x_(u,v);var S=x_(u,d);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Kb=c&&"documentMode"in document&&11>=document.documentMode,va=null,Sp=null,ou=null,xp=!1;function A_(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xp||va==null||va!==Ni(d)||(d=va,"selectionStart"in d&&Tp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ou&&su(ou,d)||(ou=d,d=If(Sp,"onSelect"),0<d.length&&(o=new ca("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=va)))}function Tf(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var _a={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},Ip={},b_={};c&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Sf(s){if(Ip[s])return Ip[s];if(!_a[s])return s;var o=_a[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in b_)return Ip[s]=o[u];return s}var P_=Sf("animationend"),R_=Sf("animationiteration"),k_=Sf("animationstart"),D_=Sf("transitionend"),N_=new Map,O_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(s,o){N_.set(s,o),a(o,[s])}for(var Cp=0;Cp<O_.length;Cp++){var Ap=O_[Cp],Gb=Ap.toLowerCase(),Qb=Ap[0].toUpperCase()+Ap.slice(1);qi(Gb,"on"+Qb)}qi(P_,"onAnimationEnd"),qi(R_,"onAnimationIteration"),qi(k_,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(D_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function V_(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,Jc(d,o,void 0,s),s.currentTarget=null}function L_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var L=d[S],B=L.instance,Q=L.currentTarget;if(L=L.listener,B!==v&&m.isPropagationStopped())break e;V_(m,L,Q),v=B}else for(S=0;S<d.length;S++){if(L=d[S],B=L.instance,Q=L.currentTarget,L=L.listener,B!==v&&m.isPropagationStopped())break e;V_(m,L,Q),v=B}}}if(tr)throw s=Hl,tr=!1,Hl=null,s}function st(s,o){var u=o[Vp];u===void 0&&(u=o[Vp]=new Set);var d=s+"__bubble";u.has(d)||(M_(o,s,2,!1),u.add(d))}function bp(s,o,u){var d=0;o&&(d|=4),M_(u,s,d,o)}var xf="_reactListening"+Math.random().toString(36).slice(2);function lu(s){if(!s[xf]){s[xf]=!0,r.forEach(function(u){u!=="selectionchange"&&(Xb.has(u)||bp(u,!1,s),bp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[xf]||(o[xf]=!0,bp("selectionchange",!1,o))}}function M_(s,o,u,d){switch(Jl(o)){case 1:var m=lt;break;case 4:m=vp;break;default:m=Yl}u=m.bind(null,o,u,s),m=void 0,!Zo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Pp(s,o,u,d,m){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var L=d.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;S=S.return}for(;L!==null;){if(S=Js(L),S===null)return;if(B=S.tag,B===5||B===6){d=v=S;continue e}L=L.parentNode}}d=d.return}ql(function(){var Q=v,ie=Xo(u),se=[];e:{var re=N_.get(s);if(re!==void 0){var he=ca,ye=s;switch(s){case"keypress":if(ua(u)===0)break e;case"keydown":case"keyup":he=y;break;case"focusin":ye="focus",he=pa;break;case"focusout":ye="blur",he=pa;break;case"beforeblur":case"afterblur":he=pa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Y;break;case P_:case R_:case k_:he=ei;break;case D_:he=Ze;break;case"scroll":he=_p;break;case"wheel":he=ze;break;case"copy":case"cut":case"paste":he=yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=P}var ve=(o&4)!==0,Et=!ve&&s==="scroll",W=ve?re!==null?re+"Capture":null:re;ve=[];for(var $=Q,K;$!==null;){K=$;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,W!==null&&(ae=wt($,W),ae!=null&&ve.push(uu($,ae,K)))),Et)break;$=$.return}0<ve.length&&(re=new he(re,ye,null,u,ie),se.push({event:re,listeners:ve}))}}if(!(o&7)){e:{if(re=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",re&&u!==js&&(ye=u.relatedTarget||u.fromElement)&&(Js(ye)||ye[ti]))break e;if((he||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,he?(ye=u.relatedTarget||u.toElement,he=Q,ye=ye?Js(ye):null,ye!==null&&(Et=nr(ye),ye!==Et||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=Q),he!==ye)){if(ve=ha,ae="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ve=P,ae="onPointerLeave",W="onPointerEnter",$="pointer"),Et=he==null?re:Ta(he),K=ye==null?re:Ta(ye),re=new ve(ae,$+"leave",he,u,ie),re.target=Et,re.relatedTarget=K,ae=null,Js(ie)===Q&&(ve=new ve(W,$+"enter",ye,u,ie),ve.target=K,ve.relatedTarget=Et,ae=ve),Et=ae,he&&ye)t:{for(ve=he,W=ye,$=0,K=ve;K;K=wa(K))$++;for(K=0,ae=W;ae;ae=wa(ae))K++;for(;0<$-K;)ve=wa(ve),$--;for(;0<K-$;)W=wa(W),K--;for(;$--;){if(ve===W||W!==null&&ve===W.alternate)break t;ve=wa(ve),W=wa(W)}ve=null}else ve=null;he!==null&&F_(se,re,he,ve,!1),ye!==null&&Et!==null&&F_(se,Et,ye,ve,!0)}}e:{if(re=Q?Ta(Q):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var _e=Ub;else if(y_(re))if(__)_e=qb;else{_e=$b;var we=Bb}else(he=re.nodeName)&&he.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=zb);if(_e&&(_e=_e(s,Q))){v_(se,_e,u,ie);break e}we&&we(s,re,Q),s==="focusout"&&(we=re._wrapperState)&&we.controlled&&re.type==="number"&&Ko(re,"number",re.value)}switch(we=Q?Ta(Q):window,s){case"focusin":(y_(we)||we.contentEditable==="true")&&(va=we,Sp=Q,ou=null);break;case"focusout":ou=Sp=va=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,A_(se,u,ie);break;case"selectionchange":if(Kb)break;case"keydown":case"keyup":A_(se,u,ie)}var Ee;if(xt)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ya?m_(s,u)&&(be="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(be="onCompositionStart");be&&(Ys&&u.locale!=="ko"&&(ya||be!=="onCompositionStart"?be==="onCompositionEnd"&&ya&&(Ee=Zl()):(Pn=ie,la="value"in Pn?Pn.value:Pn.textContent,ya=!0)),we=If(Q,be),0<we.length&&(be=new nu(be,s,null,u,ie),se.push({event:be,listeners:we}),Ee?be.data=Ee:(Ee=g_(u),Ee!==null&&(be.data=Ee)))),(Ee=Rn?Lb(s,u):Mb(s,u))&&(Q=If(Q,"onBeforeInput"),0<Q.length&&(ie=new nu("onBeforeInput","beforeinput",null,u,ie),se.push({event:ie,listeners:Q}),ie.data=Ee))}L_(se,o)})}function uu(s,o,u){return{instance:s,listener:o,currentTarget:u}}function If(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=wt(s,u),v!=null&&d.unshift(uu(s,v,m)),v=wt(s,o),v!=null&&d.push(uu(s,v,m))),s=s.return}return d}function wa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function F_(s,o,u,d,m){for(var v=o._reactName,S=[];u!==null&&u!==d;){var L=u,B=L.alternate,Q=L.stateNode;if(B!==null&&B===d)break;L.tag===5&&Q!==null&&(L=Q,m?(B=wt(u,v),B!=null&&S.unshift(uu(u,B,L))):m||(B=wt(u,v),B!=null&&S.push(uu(u,B,L)))),u=u.return}S.length!==0&&s.push({event:o,listeners:S})}var Yb=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function j_(s){return(typeof s=="string"?s:""+s).replace(Yb,`
`).replace(Jb,"")}function Cf(s,o,u){if(o=j_(o),j_(s)!==o&&u)throw Error(n(425))}function Af(){}var Rp=null,kp=null;function Dp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,eP=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(s){return U_.resolve(null).then(s).catch(tP)}:Np;function tP(s){setTimeout(function(){throw s})}function Op(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),ar(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);ar(o)}function Hi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function B_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ea,cu="__reactProps$"+Ea,ti="__reactContainer$"+Ea,Vp="__reactEvents$"+Ea,nP="__reactListeners$"+Ea,rP="__reactHandles$"+Ea;function Js(s){var o=s[Ir];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ti]||u[Ir]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=B_(s);s!==null;){if(u=s[Ir])return u;s=B_(s)}return o}s=u,u=s.parentNode}return null}function fu(s){return s=s[Ir]||s[ti],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ta(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function bf(s){return s[cu]||null}var Lp=[],Sa=-1;function Wi(s){return{current:s}}function ot(s){0>Sa||(s.current=Lp[Sa],Lp[Sa]=null,Sa--)}function rt(s,o){Sa++,Lp[Sa]=s.current,s.current=o}var Ki={},Xt=Wi(Ki),mn=Wi(!1),Zs=Ki;function xa(s,o){var u=s.type.contextTypes;if(!u)return Ki;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function gn(s){return s=s.childContextTypes,s!=null}function Pf(){ot(mn),ot(Xt)}function $_(s,o,u){if(Xt.current!==Ki)throw Error(n(168));rt(Xt,o),rt(mn,u)}function z_(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,Ke(s)||"Unknown",m));return le({},u,d)}function Rf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ki,Zs=Xt.current,rt(Xt,s),rt(mn,mn.current),!0}function q_(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=z_(s,o,Zs),d.__reactInternalMemoizedMergedChildContext=s,ot(mn),ot(Xt),rt(Xt,s)):ot(mn),rt(mn,u)}var ni=null,kf=!1,Mp=!1;function H_(s){ni===null?ni=[s]:ni.push(s)}function iP(s){kf=!0,H_(s)}function Gi(){if(!Mp&&ni!==null){Mp=!0;var s=0,o=Be;try{var u=ni;for(Be=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}ni=null,kf=!1}catch(m){throw ni!==null&&(ni=ni.slice(s+1)),ra(qs,Gi),m}finally{Be=o,Mp=!1}}return null}var Ia=[],Ca=0,Df=null,Nf=0,Bn=[],$n=0,eo=null,ri=1,ii="";function to(s,o){Ia[Ca++]=Nf,Ia[Ca++]=Df,Df=s,Nf=o}function W_(s,o,u){Bn[$n++]=ri,Bn[$n++]=ii,Bn[$n++]=eo,eo=s;var d=ri;s=ii;var m=32-ln(d)-1;d&=~(1<<m),u+=1;var v=32-ln(o)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,ri=1<<32-ln(o)+m|u<<m|d,ii=v+s}else ri=1<<v|u<<m|d,ii=s}function Fp(s){s.return!==null&&(to(s,1),W_(s,1,0))}function jp(s){for(;s===Df;)Df=Ia[--Ca],Ia[Ca]=null,Nf=Ia[--Ca],Ia[Ca]=null;for(;s===eo;)eo=Bn[--$n],Bn[$n]=null,ii=Bn[--$n],Bn[$n]=null,ri=Bn[--$n],Bn[$n]=null}var kn=null,Dn=null,ut=!1,cr=null;function K_(s,o){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function G_(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,kn=s,Dn=Hi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,kn=s,Dn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=eo!==null?{id:ri,overflow:ii}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,kn=s,Dn=null,!0):!1;default:return!1}}function Up(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bp(s){if(ut){var o=Dn;if(o){var u=o;if(!G_(s,o)){if(Up(s))throw Error(n(418));o=Hi(u.nextSibling);var d=kn;o&&G_(s,o)?K_(d,u):(s.flags=s.flags&-4097|2,ut=!1,kn=s)}}else{if(Up(s))throw Error(n(418));s.flags=s.flags&-4097|2,ut=!1,kn=s}}}function Q_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kn=s}function Of(s){if(s!==kn)return!1;if(!ut)return Q_(s),ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Dp(s.type,s.memoizedProps)),o&&(o=Dn)){if(Up(s))throw X_(),Error(n(418));for(;o;)K_(s,o),o=Hi(o.nextSibling)}if(Q_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Dn=Hi(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Dn=null}}else Dn=kn?Hi(s.stateNode.nextSibling):null;return!0}function X_(){for(var s=Dn;s;)s=Hi(s.nextSibling)}function Aa(){Dn=kn=null,ut=!1}function $p(s){cr===null?cr=[s]:cr.push(s)}var sP=G.ReactCurrentBatchConfig;function hu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var L=m.refs;S===null?delete L[v]:L[v]=S},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Vf(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Y_(s){var o=s._init;return o(s._payload)}function J_(s){function o(W,$){if(s){var K=W.deletions;K===null?(W.deletions=[$],W.flags|=16):K.push($)}}function u(W,$){if(!s)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function d(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function m(W,$){return W=ns(W,$),W.index=0,W.sibling=null,W}function v(W,$,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<$?(W.flags|=2,$):K):(W.flags|=2,$)):(W.flags|=1048576,$)}function S(W){return s&&W.alternate===null&&(W.flags|=2),W}function L(W,$,K,ae){return $===null||$.tag!==6?($=Nm(K,W.mode,ae),$.return=W,$):($=m($,K),$.return=W,$)}function B(W,$,K,ae){var _e=K.type;return _e===O?ie(W,$,K.props.children,ae,K.key):$!==null&&($.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===fe&&Y_(_e)===$.type)?(ae=m($,K.props),ae.ref=hu(W,$,K),ae.return=W,ae):(ae=sh(K.type,K.key,K.props,null,W.mode,ae),ae.ref=hu(W,$,K),ae.return=W,ae)}function Q(W,$,K,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Om(K,W.mode,ae),$.return=W,$):($=m($,K.children||[]),$.return=W,$)}function ie(W,$,K,ae,_e){return $===null||$.tag!==7?($=uo(K,W.mode,ae,_e),$.return=W,$):($=m($,K),$.return=W,$)}function se(W,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Nm(""+$,W.mode,K),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return K=sh($.type,$.key,$.props,null,W.mode,K),K.ref=hu(W,null,$),K.return=W,K;case Z:return $=Om($,W.mode,K),$.return=W,$;case fe:var ae=$._init;return se(W,ae($._payload),K)}if(Wr($)||de($))return $=uo($,W.mode,K,null),$.return=W,$;Vf(W,$)}return null}function re(W,$,K,ae){var _e=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return _e!==null?null:L(W,$,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case J:return K.key===_e?B(W,$,K,ae):null;case Z:return K.key===_e?Q(W,$,K,ae):null;case fe:return _e=K._init,re(W,$,_e(K._payload),ae)}if(Wr(K)||de(K))return _e!==null?null:ie(W,$,K,ae,null);Vf(W,K)}return null}function he(W,$,K,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(K)||null,L($,W,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case J:return W=W.get(ae.key===null?K:ae.key)||null,B($,W,ae,_e);case Z:return W=W.get(ae.key===null?K:ae.key)||null,Q($,W,ae,_e);case fe:var we=ae._init;return he(W,$,K,we(ae._payload),_e)}if(Wr(ae)||de(ae))return W=W.get(K)||null,ie($,W,ae,_e,null);Vf($,ae)}return null}function ye(W,$,K,ae){for(var _e=null,we=null,Ee=$,be=$=0,Ut=null;Ee!==null&&be<K.length;be++){Ee.index>be?(Ut=Ee,Ee=null):Ut=Ee.sibling;var Ye=re(W,Ee,K[be],ae);if(Ye===null){Ee===null&&(Ee=Ut);break}s&&Ee&&Ye.alternate===null&&o(W,Ee),$=v(Ye,$,be),we===null?_e=Ye:we.sibling=Ye,we=Ye,Ee=Ut}if(be===K.length)return u(W,Ee),ut&&to(W,be),_e;if(Ee===null){for(;be<K.length;be++)Ee=se(W,K[be],ae),Ee!==null&&($=v(Ee,$,be),we===null?_e=Ee:we.sibling=Ee,we=Ee);return ut&&to(W,be),_e}for(Ee=d(W,Ee);be<K.length;be++)Ut=he(Ee,W,be,K[be],ae),Ut!==null&&(s&&Ut.alternate!==null&&Ee.delete(Ut.key===null?be:Ut.key),$=v(Ut,$,be),we===null?_e=Ut:we.sibling=Ut,we=Ut);return s&&Ee.forEach(function(rs){return o(W,rs)}),ut&&to(W,be),_e}function ve(W,$,K,ae){var _e=de(K);if(typeof _e!="function")throw Error(n(150));if(K=_e.call(K),K==null)throw Error(n(151));for(var we=_e=null,Ee=$,be=$=0,Ut=null,Ye=K.next();Ee!==null&&!Ye.done;be++,Ye=K.next()){Ee.index>be?(Ut=Ee,Ee=null):Ut=Ee.sibling;var rs=re(W,Ee,Ye.value,ae);if(rs===null){Ee===null&&(Ee=Ut);break}s&&Ee&&rs.alternate===null&&o(W,Ee),$=v(rs,$,be),we===null?_e=rs:we.sibling=rs,we=rs,Ee=Ut}if(Ye.done)return u(W,Ee),ut&&to(W,be),_e;if(Ee===null){for(;!Ye.done;be++,Ye=K.next())Ye=se(W,Ye.value,ae),Ye!==null&&($=v(Ye,$,be),we===null?_e=Ye:we.sibling=Ye,we=Ye);return ut&&to(W,be),_e}for(Ee=d(W,Ee);!Ye.done;be++,Ye=K.next())Ye=he(Ee,W,be,Ye.value,ae),Ye!==null&&(s&&Ye.alternate!==null&&Ee.delete(Ye.key===null?be:Ye.key),$=v(Ye,$,be),we===null?_e=Ye:we.sibling=Ye,we=Ye);return s&&Ee.forEach(function(MP){return o(W,MP)}),ut&&to(W,be),_e}function Et(W,$,K,ae){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case J:e:{for(var _e=K.key,we=$;we!==null;){if(we.key===_e){if(_e=K.type,_e===O){if(we.tag===7){u(W,we.sibling),$=m(we,K.props.children),$.return=W,W=$;break e}}else if(we.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===fe&&Y_(_e)===we.type){u(W,we.sibling),$=m(we,K.props),$.ref=hu(W,we,K),$.return=W,W=$;break e}u(W,we);break}else o(W,we);we=we.sibling}K.type===O?($=uo(K.props.children,W.mode,ae,K.key),$.return=W,W=$):(ae=sh(K.type,K.key,K.props,null,W.mode,ae),ae.ref=hu(W,$,K),ae.return=W,W=ae)}return S(W);case Z:e:{for(we=K.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(W,$.sibling),$=m($,K.children||[]),$.return=W,W=$;break e}else{u(W,$);break}else o(W,$);$=$.sibling}$=Om(K,W.mode,ae),$.return=W,W=$}return S(W);case fe:return we=K._init,Et(W,$,we(K._payload),ae)}if(Wr(K))return ye(W,$,K,ae);if(de(K))return ve(W,$,K,ae);Vf(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(u(W,$.sibling),$=m($,K),$.return=W,W=$):(u(W,$),$=Nm(K,W.mode,ae),$.return=W,W=$),S(W)):u(W,$)}return Et}var ba=J_(!0),Z_=J_(!1),Lf=Wi(null),Mf=null,Pa=null,zp=null;function qp(){zp=Pa=Mf=null}function Hp(s){var o=Lf.current;ot(Lf),s._currentValue=o}function Wp(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function Ra(s,o){Mf=s,zp=Pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(yn=!0),s.firstContext=null)}function zn(s){var o=s._currentValue;if(zp!==s)if(s={context:s,memoizedValue:o,next:null},Pa===null){if(Mf===null)throw Error(n(308));Pa=s,Mf.dependencies={lanes:0,firstContext:s}}else Pa=Pa.next=s;return o}var no=null;function Kp(s){no===null?no=[s]:no.push(s)}function e0(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Kp(o)):(u.next=m.next,m.next=u),o.interleaved=u,si(s,d)}function si(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Qi=!1;function Gp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function oi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Xi(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,Qe&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,si(s,u)}return m=d.interleaved,m===null?(o.next=o,Kp(d)):(o.next=m.next,m.next=o),d.interleaved=o,si(s,u)}function Ff(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ji(s,u)}}function n0(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function jf(s,o,u,d){var m=s.updateQueue;Qi=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var B=L,Q=B.next;B.next=null,S===null?v=Q:S.next=Q,S=B;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==S&&(L===null?ie.firstBaseUpdate=Q:L.next=Q,ie.lastBaseUpdate=B))}if(v!==null){var se=m.baseState;S=0,ie=Q=B=null,L=v;do{var re=L.lane,he=L.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:he,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ye=s,ve=L;switch(re=o,he=u,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){se=ye.call(he,se,re);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,re=typeof ye=="function"?ye.call(he,se,re):ye,re==null)break e;se=le({},se,re);break e;case 2:Qi=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,re=m.effects,re===null?m.effects=[L]:re.push(L))}else he={eventTime:he,lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(Q=ie=he,B=se):ie=ie.next=he,S|=re;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;re=L,L=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ie===null&&(B=se),m.baseState=B,m.firstBaseUpdate=Q,m.lastBaseUpdate=ie,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);so|=S,s.lanes=S,s.memoizedState=se}}function r0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var du={},Cr=Wi(du),pu=Wi(du),mu=Wi(du);function ro(s){if(s===du)throw Error(n(174));return s}function Qp(s,o){switch(rt(mu,o),rt(pu,s),rt(Cr,du),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:bt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=bt(o,s)}ot(Cr),rt(Cr,o)}function ka(){ot(Cr),ot(pu),ot(mu)}function i0(s){ro(mu.current);var o=ro(Cr.current),u=bt(o,s.type);o!==u&&(rt(pu,s),rt(Cr,u))}function Xp(s){pu.current===s&&(ot(Cr),ot(pu))}var ft=Wi(0);function Uf(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yp=[];function Jp(){for(var s=0;s<Yp.length;s++)Yp[s]._workInProgressVersionPrimary=null;Yp.length=0}var Bf=G.ReactCurrentDispatcher,Zp=G.ReactCurrentBatchConfig,io=0,ht=null,Rt=null,Ft=null,$f=!1,gu=!1,yu=0,oP=0;function Yt(){throw Error(n(321))}function em(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ur(s[u],o[u]))return!1;return!0}function tm(s,o,u,d,m,v){if(io=v,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Bf.current=s===null||s.memoizedState===null?cP:fP,s=u(d,m),gu){v=0;do{if(gu=!1,yu=0,25<=v)throw Error(n(301));v+=1,Ft=Rt=null,o.updateQueue=null,Bf.current=hP,s=u(d,m)}while(gu)}if(Bf.current=Hf,o=Rt!==null&&Rt.next!==null,io=0,Ft=Rt=ht=null,$f=!1,o)throw Error(n(300));return s}function nm(){var s=yu!==0;return yu=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function qn(){if(Rt===null){var s=ht.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var o=Ft===null?ht.memoizedState:Ft.next;if(o!==null)Ft=o,Rt=s;else{if(s===null)throw Error(n(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ft===null?ht.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function vu(s,o){return typeof o=="function"?o(s):o}function rm(s){var o=qn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=Rt,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var L=S=null,B=null,Q=v;do{var ie=Q.lane;if((io&ie)===ie)B!==null&&(B=B.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var se={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};B===null?(L=B=se,S=d):B=B.next=se,ht.lanes|=ie,so|=ie}Q=Q.next}while(Q!==null&&Q!==v);B===null?S=d:B.next=L,ur(d,o.memoizedState)||(yn=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=B,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do v=m.lane,ht.lanes|=v,so|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function im(s){var o=qn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do v=s(v,S.action),S=S.next;while(S!==m);ur(v,o.memoizedState)||(yn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function s0(){}function o0(s,o){var u=ht,d=qn(),m=o(),v=!ur(d.memoizedState,m);if(v&&(d.memoizedState=m,yn=!0),d=d.queue,sm(u0.bind(null,u,d,s),[s]),d.getSnapshot!==o||v||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,_u(9,l0.bind(null,u,d,m,o),void 0,null),jt===null)throw Error(n(349));io&30||a0(u,o,m)}return m}function a0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function l0(s,o,u,d){o.value=u,o.getSnapshot=d,c0(o)&&f0(s)}function u0(s,o,u){return u(function(){c0(o)&&f0(s)})}function c0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ur(s,u)}catch{return!0}}function f0(s){var o=si(s,1);o!==null&&pr(o,s,1,-1)}function h0(s){var o=Ar();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:s},o.queue=s,s=s.dispatch=uP.bind(null,ht,s),[o.memoizedState,s]}function _u(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function d0(){return qn().memoizedState}function zf(s,o,u,d){var m=Ar();ht.flags|=s,m.memoizedState=_u(1|o,u,void 0,d===void 0?null:d)}function qf(s,o,u,d){var m=qn();d=d===void 0?null:d;var v=void 0;if(Rt!==null){var S=Rt.memoizedState;if(v=S.destroy,d!==null&&em(d,S.deps)){m.memoizedState=_u(o,u,v,d);return}}ht.flags|=s,m.memoizedState=_u(1|o,u,v,d)}function p0(s,o){return zf(8390656,8,s,o)}function sm(s,o){return qf(2048,8,s,o)}function m0(s,o){return qf(4,2,s,o)}function g0(s,o){return qf(4,4,s,o)}function y0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function v0(s,o,u){return u=u!=null?u.concat([s]):null,qf(4,4,y0.bind(null,o,s),u)}function om(){}function _0(s,o){var u=qn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&em(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function w0(s,o){var u=qn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&em(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function E0(s,o,u){return io&21?(ur(u,o)||(u=Ks(),ht.lanes|=u,so|=u,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,yn=!0),s.memoizedState=u)}function aP(s,o){var u=Be;Be=u!==0&&4>u?u:4,s(!0);var d=Zp.transition;Zp.transition={};try{s(!1),o()}finally{Be=u,Zp.transition=d}}function T0(){return qn().memoizedState}function lP(s,o,u){var d=es(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},S0(s))x0(o,u);else if(u=e0(s,o,u,d),u!==null){var m=fn();pr(u,s,d,m),I0(u,o,d)}}function uP(s,o,u){var d=es(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(S0(s))x0(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,L=v(S,u);if(m.hasEagerState=!0,m.eagerState=L,ur(L,S)){var B=o.interleaved;B===null?(m.next=m,Kp(o)):(m.next=B.next,B.next=m),o.interleaved=m;return}}catch{}finally{}u=e0(s,o,m,d),u!==null&&(m=fn(),pr(u,s,d,m),I0(u,o,d))}}function S0(s){var o=s.alternate;return s===ht||o!==null&&o===ht}function x0(s,o){gu=$f=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function I0(s,o,u){if(u&4194240){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ji(s,u)}}var Hf={readContext:zn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},cP={readContext:zn,useCallback:function(s,o){return Ar().memoizedState=[s,o===void 0?null:o],s},useContext:zn,useEffect:p0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,zf(4194308,4,y0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return zf(4194308,4,s,o)},useInsertionEffect:function(s,o){return zf(4,2,s,o)},useMemo:function(s,o){var u=Ar();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Ar();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=lP.bind(null,ht,s),[d.memoizedState,s]},useRef:function(s){var o=Ar();return s={current:s},o.memoizedState=s},useState:h0,useDebugValue:om,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=h0(!1),o=s[0];return s=aP.bind(null,s[1]),Ar().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=ht,m=Ar();if(ut){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),jt===null)throw Error(n(349));io&30||a0(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,p0(u0.bind(null,d,v,s),[s]),d.flags|=2048,_u(9,l0.bind(null,d,v,u,o),void 0,null),u},useId:function(){var s=Ar(),o=jt.identifierPrefix;if(ut){var u=ii,d=ri;u=(d&~(1<<32-ln(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=yu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=oP++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},fP={readContext:zn,useCallback:_0,useContext:zn,useEffect:sm,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:rm,useRef:d0,useState:function(){return rm(vu)},useDebugValue:om,useDeferredValue:function(s){var o=qn();return E0(o,Rt.memoizedState,s)},useTransition:function(){var s=rm(vu)[0],o=qn().memoizedState;return[s,o]},useMutableSource:s0,useSyncExternalStore:o0,useId:T0,unstable_isNewReconciler:!1},hP={readContext:zn,useCallback:_0,useContext:zn,useEffect:sm,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:im,useRef:d0,useState:function(){return im(vu)},useDebugValue:om,useDeferredValue:function(s){var o=qn();return Rt===null?o.memoizedState=s:E0(o,Rt.memoizedState,s)},useTransition:function(){var s=im(vu)[0],o=qn().memoizedState;return[s,o]},useMutableSource:s0,useSyncExternalStore:o0,useId:T0,unstable_isNewReconciler:!1};function fr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function am(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Wf={isMounted:function(s){return(s=s._reactInternals)?nr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=fn(),m=es(s),v=oi(d,m);v.payload=o,u!=null&&(v.callback=u),o=Xi(s,v,m),o!==null&&(pr(o,s,m,d),Ff(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=fn(),m=es(s),v=oi(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Xi(s,v,m),o!==null&&(pr(o,s,m,d),Ff(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=fn(),d=es(s),m=oi(u,d);m.tag=2,o!=null&&(m.callback=o),o=Xi(s,m,d),o!==null&&(pr(o,s,d,u),Ff(o,s,d))}};function C0(s,o,u,d,m,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!su(u,d)||!su(m,v):!0}function A0(s,o,u){var d=!1,m=Ki,v=o.contextType;return typeof v=="object"&&v!==null?v=zn(v):(m=gn(o)?Zs:Xt.current,d=o.contextTypes,v=(d=d!=null)?xa(s,m):Ki),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wf,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function b0(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&Wf.enqueueReplaceState(o,o.state,null)}function lm(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Gp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=zn(v):(v=gn(o)?Zs:Xt.current,m.context=xa(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(am(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Wf.enqueueReplaceState(m,m.state,null),jf(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Da(s,o){try{var u="",d=o;do u+=De(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function um(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function cm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var dP=typeof WeakMap=="function"?WeakMap:Map;function P0(s,o,u){u=oi(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Zf||(Zf=!0,Im=d),cm(s,o)},u}function R0(s,o,u){u=oi(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){cm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){cm(s,o),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function k0(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new dP;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=AP.bind(null,s,o,u),o.then(s,s))}function D0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function N0(s,o,u,d,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=oi(-1,1),o.tag=2,Xi(u,o,1))),u.lanes|=1),s)}var pP=G.ReactCurrentOwner,yn=!1;function cn(s,o,u,d){o.child=s===null?Z_(o,null,u,d):ba(o,s.child,u,d)}function O0(s,o,u,d,m){u=u.render;var v=o.ref;return Ra(o,m),d=tm(s,o,u,d,v,m),u=nm(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ai(s,o,m)):(ut&&u&&Fp(o),o.flags|=1,cn(s,o,d,m),o.child)}function V0(s,o,u,d,m){if(s===null){var v=u.type;return typeof v=="function"&&!Dm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,L0(s,o,v,d,m)):(s=sh(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!(s.lanes&m)){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:su,u(S,d)&&s.ref===o.ref)return ai(s,o,m)}return o.flags|=1,s=ns(v,d),s.ref=o.ref,s.return=o,o.child=s}function L0(s,o,u,d,m){if(s!==null){var v=s.memoizedProps;if(su(v,d)&&s.ref===o.ref)if(yn=!1,o.pendingProps=d=v,(s.lanes&m)!==0)s.flags&131072&&(yn=!0);else return o.lanes=s.lanes,ai(s,o,m)}return fm(s,o,u,d,m)}function M0(s,o,u){var d=o.pendingProps,m=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Oa,Nn),Nn|=u;else{if(!(u&1073741824))return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,rt(Oa,Nn),Nn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,rt(Oa,Nn),Nn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,rt(Oa,Nn),Nn|=d;return cn(s,o,m,u),o.child}function F0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function fm(s,o,u,d,m){var v=gn(u)?Zs:Xt.current;return v=xa(o,v),Ra(o,m),u=tm(s,o,u,d,v,m),d=nm(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ai(s,o,m)):(ut&&d&&Fp(o),o.flags|=1,cn(s,o,u,m),o.child)}function j0(s,o,u,d,m){if(gn(u)){var v=!0;Rf(o)}else v=!1;if(Ra(o,m),o.stateNode===null)Gf(s,o),A0(o,u,d),lm(o,u,d,m),d=!0;else if(s===null){var S=o.stateNode,L=o.memoizedProps;S.props=L;var B=S.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=zn(Q):(Q=gn(u)?Zs:Xt.current,Q=xa(o,Q));var ie=u.getDerivedStateFromProps,se=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==d||B!==Q)&&b0(o,S,d,Q),Qi=!1;var re=o.memoizedState;S.state=re,jf(o,d,S,m),B=o.memoizedState,L!==d||re!==B||mn.current||Qi?(typeof ie=="function"&&(am(o,u,ie,d),B=o.memoizedState),(L=Qi||C0(o,u,L,d,re,B,Q))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=B),S.props=d,S.state=B,S.context=Q,d=L):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,t0(s,o),L=o.memoizedProps,Q=o.type===o.elementType?L:fr(o.type,L),S.props=Q,se=o.pendingProps,re=S.context,B=u.contextType,typeof B=="object"&&B!==null?B=zn(B):(B=gn(u)?Zs:Xt.current,B=xa(o,B));var he=u.getDerivedStateFromProps;(ie=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==se||re!==B)&&b0(o,S,d,B),Qi=!1,re=o.memoizedState,S.state=re,jf(o,d,S,m);var ye=o.memoizedState;L!==se||re!==ye||mn.current||Qi?(typeof he=="function"&&(am(o,u,he,d),ye=o.memoizedState),(Q=Qi||C0(o,u,Q,d,re,ye,B)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,ye,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,ye,B)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ye),S.props=d,S.state=ye,S.context=B,d=Q):(typeof S.componentDidUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),d=!1)}return hm(s,o,u,d,v,m)}function hm(s,o,u,d,m,v){F0(s,o);var S=(o.flags&128)!==0;if(!d&&!S)return m&&q_(o,u,!1),ai(s,o,v);d=o.stateNode,pP.current=o;var L=S&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&S?(o.child=ba(o,s.child,null,v),o.child=ba(o,null,L,v)):cn(s,o,L,v),o.memoizedState=d.state,m&&q_(o,u,!0),o.child}function U0(s){var o=s.stateNode;o.pendingContext?$_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$_(s,o.context,!1),Qp(s,o.containerInfo)}function B0(s,o,u,d,m){return Aa(),$p(m),o.flags|=256,cn(s,o,u,d),o.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function $0(s,o,u){var d=o.pendingProps,m=ft.current,v=!1,S=(o.flags&128)!==0,L;if((L=S)||(L=s!==null&&s.memoizedState===null?!1:(m&2)!==0),L?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),rt(ft,m&1),s===null)return Bp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(S=d.children,s=d.fallback,v?(d=o.mode,v=o.child,S={mode:"hidden",children:S},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=oh(S,d,0,null),s=uo(s,d,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=pm(u),o.memoizedState=dm,s):mm(o,S));if(m=s.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return mP(s,o,S,d,L,m,u);if(v){v=d.fallback,S=o.mode,m=s.child,L=m.sibling;var B={mode:"hidden",children:d.children};return!(S&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=B,o.deletions=null):(d=ns(m,B),d.subtreeFlags=m.subtreeFlags&14680064),L!==null?v=ns(L,v):(v=uo(v,S,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,S=s.child.memoizedState,S=S===null?pm(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=s.childLanes&~u,o.memoizedState=dm,d}return v=s.child,s=v.sibling,d=ns(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function mm(s,o){return o=oh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Kf(s,o,u,d){return d!==null&&$p(d),ba(o,s.child,null,u),s=mm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function mP(s,o,u,d,m,v,S){if(u)return o.flags&256?(o.flags&=-257,d=um(Error(n(422))),Kf(s,o,S,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=oh({mode:"visible",children:d.children},m,0,null),v=uo(v,m,S,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&ba(o,s.child,null,S),o.child.memoizedState=pm(S),o.memoizedState=dm,v);if(!(o.mode&1))return Kf(s,o,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var L=d.dgst;return d=L,v=Error(n(419)),d=um(v,d,void 0),Kf(s,o,S,d)}if(L=(S&s.childLanes)!==0,yn||L){if(d=jt,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|S)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,si(s,m),pr(d,s,m,-1))}return km(),d=um(Error(n(421))),Kf(s,o,S,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=bP.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Dn=Hi(m.nextSibling),kn=o,ut=!0,cr=null,s!==null&&(Bn[$n++]=ri,Bn[$n++]=ii,Bn[$n++]=eo,ri=s.id,ii=s.overflow,eo=o),o=mm(o,d.children),o.flags|=4096,o)}function z0(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Wp(s.return,o,u)}function gm(s,o,u,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function q0(s,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(cn(s,o,d.children,u),d=ft.current,d&2)d=d&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&z0(s,u,o);else if(s.tag===19)z0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(rt(ft,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Uf(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),gm(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Uf(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}gm(o,!0,u,null,v);break;case"together":gm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Gf(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ai(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,!(u&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=ns(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ns(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function gP(s,o,u){switch(o.tag){case 3:U0(o),Aa();break;case 5:i0(o);break;case 1:gn(o.type)&&Rf(o);break;case 4:Qp(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;rt(Lf,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(rt(ft,ft.current&1),o.flags|=128,null):u&o.child.childLanes?$0(s,o,u):(rt(ft,ft.current&1),s=ai(s,o,u),s!==null?s.sibling:null);rt(ft,ft.current&1);break;case 19:if(d=(u&o.childLanes)!==0,s.flags&128){if(d)return q0(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(ft,ft.current),d)break;return null;case 22:case 23:return o.lanes=0,M0(s,o,u)}return ai(s,o,u)}var H0,ym,W0,K0;H0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ym=function(){},W0=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,ro(Cr.current);var v=null;switch(u){case"input":m=Ls(s,m),d=Ls(s,d),v=[];break;case"select":m=le({},m,{value:void 0}),d=le({},d,{value:void 0}),v=[];break;case"textarea":m=Ol(s,m),d=Ol(s,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Af)}Ul(u,d);var S;u=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var L=m[Q];for(S in L)L.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var B=d[Q];if(L=m!=null?m[Q]:void 0,d.hasOwnProperty(Q)&&B!==L&&(B!=null||L!=null))if(Q==="style")if(L){for(S in L)!L.hasOwnProperty(S)||B&&B.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in B)B.hasOwnProperty(S)&&L[S]!==B[S]&&(u||(u={}),u[S]=B[S])}else u||(v||(v=[]),v.push(Q,u)),u=B;else Q==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,L=L?L.__html:void 0,B!=null&&L!==B&&(v=v||[]).push(Q,B)):Q==="children"?typeof B!="string"&&typeof B!="number"||(v=v||[]).push(Q,""+B):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(B!=null&&Q==="onScroll"&&st("scroll",s),v||L===B||(v=[])):(v=v||[]).push(Q,B))}u&&(v=v||[]).push("style",u);var Q=v;(o.updateQueue=Q)&&(o.flags|=4)}},K0=function(s,o,u,d){u!==d&&(o.flags|=4)};function wu(s,o){if(!ut)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function yP(s,o,u){var d=o.pendingProps;switch(jp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return gn(o.type)&&Pf(),Jt(o),null;case 3:return d=o.stateNode,ka(),ot(mn),ot(Xt),Jp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Of(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,cr!==null&&(bm(cr),cr=null))),ym(s,o),Jt(o),null;case 5:Xp(o);var m=ro(mu.current);if(u=o.type,s!==null&&o.stateNode!=null)W0(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(s=ro(Cr.current),Of(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Ir]=o,d[cu]=v,s=(o.mode&1)!==0,u){case"dialog":st("cancel",d),st("close",d);break;case"iframe":case"object":case"embed":st("load",d);break;case"video":case"audio":for(m=0;m<au.length;m++)st(au[m],d);break;case"source":st("error",d);break;case"img":case"image":case"link":st("error",d),st("load",d);break;case"details":st("toggle",d);break;case"input":Wo(d,v),st("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},st("invalid",d);break;case"textarea":Go(d,v),st("invalid",d)}Ul(u,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var L=v[S];S==="children"?typeof L=="string"?d.textContent!==L&&(v.suppressHydrationWarning!==!0&&Cf(d.textContent,L,s),m=["children",L]):typeof L=="number"&&d.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Cf(d.textContent,L,s),m=["children",""+L]):i.hasOwnProperty(S)&&L!=null&&S==="onScroll"&&st("scroll",d)}switch(u){case"input":Hr(d),Yc(d,v,!0);break;case"textarea":Hr(d),Vl(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Af)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=At(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=S.createElement(u,{is:d.is}):(s=S.createElement(u),u==="select"&&(S=s,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):s=S.createElementNS(s,u),s[Ir]=o,s[cu]=d,H0(s,o,!1,!1),o.stateNode=s;e:{switch(S=Bl(u,d),u){case"dialog":st("cancel",s),st("close",s),m=d;break;case"iframe":case"object":case"embed":st("load",s),m=d;break;case"video":case"audio":for(m=0;m<au.length;m++)st(au[m],s);m=d;break;case"source":st("error",s),m=d;break;case"img":case"image":case"link":st("error",s),st("load",s),m=d;break;case"details":st("toggle",s),m=d;break;case"input":Wo(s,d),m=Ls(s,d),st("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=le({},d,{value:void 0}),st("invalid",s);break;case"textarea":Go(s,d),m=Ol(s,d),st("invalid",s);break;default:m=d}Ul(u,m),L=m;for(v in L)if(L.hasOwnProperty(v)){var B=L[v];v==="style"?Fl(s,B):v==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ll(s,B)):v==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&Oi(s,B):typeof B=="number"&&Oi(s,""+B):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?B!=null&&v==="onScroll"&&st("scroll",s):B!=null&&U(s,v,B,S))}switch(u){case"input":Hr(s),Yc(s,d,!1);break;case"textarea":Hr(s),Vl(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ge(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?Kr(s,!!d.multiple,v,!1):d.defaultValue!=null&&Kr(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Af)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)K0(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=ro(mu.current),ro(Cr.current),Of(o)){if(d=o.stateNode,u=o.memoizedProps,d[Ir]=o,(v=d.nodeValue!==u)&&(s=kn,s!==null))switch(s.tag){case 3:Cf(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Cf(d.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Ir]=o,o.stateNode=d}return Jt(o),null;case 13:if(ot(ft),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&Dn!==null&&o.mode&1&&!(o.flags&128))X_(),Aa(),o.flags|=98560,v=!1;else if(v=Of(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ir]=o}else Aa(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Jt(o),v=!1}else cr!==null&&(bm(cr),cr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(s===null||ft.current&1?kt===0&&(kt=3):km())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return ka(),ym(s,o),s===null&&lu(o.stateNode.containerInfo),Jt(o),null;case 10:return Hp(o.type._context),Jt(o),null;case 17:return gn(o.type)&&Pf(),Jt(o),null;case 19:if(ot(ft),v=o.memoizedState,v===null)return Jt(o),null;if(d=(o.flags&128)!==0,S=v.rendering,S===null)if(d)wu(v,!1);else{if(kt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(S=Uf(s),S!==null){for(o.flags|=128,wu(v,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,s=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,s=S.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return rt(ft,ft.current&1|2),o.child}s=s.sibling}v.tail!==null&&nt()>Va&&(o.flags|=128,d=!0,wu(v,!1),o.lanes=4194304)}else{if(!d)if(s=Uf(S),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),wu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ut)return Jt(o),null}else 2*nt()-v.renderingStartTime>Va&&u!==1073741824&&(o.flags|=128,d=!0,wu(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(u=v.last,u!==null?u.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=nt(),o.sibling=null,u=ft.current,rt(ft,d?u&1|2:u&1),o):(Jt(o),null);case 22:case 23:return Rm(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Nn&1073741824&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function vP(s,o){switch(jp(o),o.tag){case 1:return gn(o.type)&&Pf(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ka(),ot(mn),ot(Xt),Jp(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Xp(o),null;case 13:if(ot(ft),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Aa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ot(ft),null;case 4:return ka(),null;case 10:return Hp(o.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var Qf=!1,Zt=!1,_P=typeof WeakSet=="function"?WeakSet:Set,me=null;function Na(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){mt(s,o,d)}else u.current=null}function vm(s,o,u){try{u()}catch(d){mt(s,o,d)}}var G0=!1;function wP(s,o){if(Rp=$i,s=C_(),Tp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,L=-1,B=-1,Q=0,ie=0,se=s,re=null;t:for(;;){for(var he;se!==u||m!==0&&se.nodeType!==3||(L=S+m),se!==v||d!==0&&se.nodeType!==3||(B=S+d),se.nodeType===3&&(S+=se.nodeValue.length),(he=se.firstChild)!==null;)re=se,se=he;for(;;){if(se===s)break t;if(re===u&&++Q===m&&(L=S),re===v&&++ie===d&&(B=S),(he=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=he}u=L===-1||B===-1?null:{start:L,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(kp={focusedElem:s,selectionRange:u},$i=!1,me=o;me!==null;)if(o=me,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,me=s;else for(;me!==null;){o=me;try{var ye=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,Et=ye.memoizedState,W=o.stateNode,$=W.getSnapshotBeforeUpdate(o.elementType===o.type?ve:fr(o.type,ve),Et);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){mt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,me=s;break}me=o.return}return ye=G0,G0=!1,ye}function Eu(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&vm(o,u,v)}m=m.next}while(m!==d)}}function Xf(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function _m(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Q0(s){var o=s.alternate;o!==null&&(s.alternate=null,Q0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[cu],delete o[Vp],delete o[nP],delete o[rP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function X0(s){return s.tag===5||s.tag===3||s.tag===4}function Y0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||X0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wm(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Af));else if(d!==4&&(s=s.child,s!==null))for(wm(s,o,u),s=s.sibling;s!==null;)wm(s,o,u),s=s.sibling}function Em(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Em(s,o,u),s=s.sibling;s!==null;)Em(s,o,u),s=s.sibling}var qt=null,hr=!1;function Yi(s,o,u){for(u=u.child;u!==null;)J0(s,o,u),u=u.sibling}function J0(s,o,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Hs,u)}catch{}switch(u.tag){case 5:Zt||Na(u,o);case 6:var d=qt,m=hr;qt=null,Yi(s,o,u),qt=d,hr=m,qt!==null&&(hr?(s=qt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):qt.removeChild(u.stateNode));break;case 18:qt!==null&&(hr?(s=qt,u=u.stateNode,s.nodeType===8?Op(s.parentNode,u):s.nodeType===1&&Op(s,u),ar(s)):Op(qt,u.stateNode));break;case 4:d=qt,m=hr,qt=u.stateNode.containerInfo,hr=!0,Yi(s,o,u),qt=d,hr=m;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&vm(u,o,S),m=m.next}while(m!==d)}Yi(s,o,u);break;case 1:if(!Zt&&(Na(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(L){mt(u,o,L)}Yi(s,o,u);break;case 21:Yi(s,o,u);break;case 22:u.mode&1?(Zt=(d=Zt)||u.memoizedState!==null,Yi(s,o,u),Zt=d):Yi(s,o,u);break;default:Yi(s,o,u)}}function Z0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new _P),o.forEach(function(d){var m=PP.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function dr(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=s,S=o,L=S;e:for(;L!==null;){switch(L.tag){case 5:qt=L.stateNode,hr=!1;break e;case 3:qt=L.stateNode.containerInfo,hr=!0;break e;case 4:qt=L.stateNode.containerInfo,hr=!0;break e}L=L.return}if(qt===null)throw Error(n(160));J0(v,S,m),qt=null,hr=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(Q){mt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ew(o,s),o=o.sibling}function ew(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dr(o,s),br(s),d&4){try{Eu(3,s,s.return),Xf(3,s)}catch(ve){mt(s,s.return,ve)}try{Eu(5,s,s.return)}catch(ve){mt(s,s.return,ve)}}break;case 1:dr(o,s),br(s),d&512&&u!==null&&Na(u,u.return);break;case 5:if(dr(o,s),br(s),d&512&&u!==null&&Na(u,u.return),s.flags&32){var m=s.stateNode;try{Oi(m,"")}catch(ve){mt(s,s.return,ve)}}if(d&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,S=u!==null?u.memoizedProps:v,L=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Dl(m,v),Bl(L,S);var Q=Bl(L,v);for(S=0;S<B.length;S+=2){var ie=B[S],se=B[S+1];ie==="style"?Fl(m,se):ie==="dangerouslySetInnerHTML"?Ll(m,se):ie==="children"?Oi(m,se):U(m,ie,se,Q)}switch(L){case"input":Nl(m,v);break;case"textarea":Qo(m,v);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?Kr(m,!!v.multiple,he,!1):re!==!!v.multiple&&(v.defaultValue!=null?Kr(m,!!v.multiple,v.defaultValue,!0):Kr(m,!!v.multiple,v.multiple?[]:"",!1))}m[cu]=v}catch(ve){mt(s,s.return,ve)}}break;case 6:if(dr(o,s),br(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(ve){mt(s,s.return,ve)}}break;case 3:if(dr(o,s),br(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ar(o.containerInfo)}catch(ve){mt(s,s.return,ve)}break;case 4:dr(o,s),br(s);break;case 13:dr(o,s),br(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(xm=nt())),d&4&&Z0(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(Zt=(Q=Zt)||ie,dr(o,s),Zt=Q):dr(o,s),br(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!ie&&s.mode&1)for(me=s,ie=s.child;ie!==null;){for(se=me=ie;me!==null;){switch(re=me,he=re.child,re.tag){case 0:case 11:case 14:case 15:Eu(4,re,re.return);break;case 1:Na(re,re.return);var ye=re.stateNode;if(typeof ye.componentWillUnmount=="function"){d=re,u=re.return;try{o=d,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){mt(d,u,ve)}}break;case 5:Na(re,re.return);break;case 22:if(re.memoizedState!==null){rw(se);continue}}he!==null?(he.return=re,me=he):rw(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{m=se.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=se.stateNode,B=se.memoizedProps.style,S=B!=null&&B.hasOwnProperty("display")?B.display:null,L.style.display=Ml("display",S))}catch(ve){mt(s,s.return,ve)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(ve){mt(s,s.return,ve)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:dr(o,s),br(s),d&4&&Z0(s);break;case 21:break;default:dr(o,s),br(s)}}function br(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(X0(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Oi(m,""),d.flags&=-33);var v=Y0(s);Em(s,v,m);break;case 3:case 4:var S=d.stateNode.containerInfo,L=Y0(s);wm(s,L,S);break;default:throw Error(n(161))}}catch(B){mt(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function EP(s,o,u){me=s,tw(s)}function tw(s,o,u){for(var d=(s.mode&1)!==0;me!==null;){var m=me,v=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||Qf;if(!S){var L=m.alternate,B=L!==null&&L.memoizedState!==null||Zt;L=Qf;var Q=Zt;if(Qf=S,(Zt=B)&&!Q)for(me=m;me!==null;)S=me,B=S.child,S.tag===22&&S.memoizedState!==null?iw(m):B!==null?(B.return=S,me=B):iw(m);for(;v!==null;)me=v,tw(v),v=v.sibling;me=m,Qf=L,Zt=Q}nw(s)}else m.subtreeFlags&8772&&v!==null?(v.return=m,me=v):nw(s)}}function nw(s){for(;me!==null;){var o=me;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Zt||Xf(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Zt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:fr(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&r0(o,v,d);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}r0(o,S,u)}break;case 5:var L=o.stateNode;if(u===null&&o.flags&4){u=L;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&ar(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||o.flags&512&&_m(o)}catch(re){mt(o,o.return,re)}}if(o===s){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function rw(s){for(;me!==null;){var o=me;if(o===s){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function iw(s){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Xf(4,o)}catch(B){mt(o,u,B)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(B){mt(o,m,B)}}var v=o.return;try{_m(o)}catch(B){mt(o,v,B)}break;case 5:var S=o.return;try{_m(o)}catch(B){mt(o,S,B)}}}catch(B){mt(o,o.return,B)}if(o===s){me=null;break}var L=o.sibling;if(L!==null){L.return=o.return,me=L;break}me=o.return}}var TP=Math.ceil,Yf=G.ReactCurrentDispatcher,Tm=G.ReactCurrentOwner,Hn=G.ReactCurrentBatchConfig,Qe=0,jt=null,It=null,Ht=0,Nn=0,Oa=Wi(0),kt=0,Tu=null,so=0,Jf=0,Sm=0,Su=null,vn=null,xm=0,Va=1/0,li=null,Zf=!1,Im=null,Ji=null,eh=!1,Zi=null,th=0,xu=0,Cm=null,nh=-1,rh=0;function fn(){return Qe&6?nt():nh!==-1?nh:nh=nt()}function es(s){return s.mode&1?Qe&2&&Ht!==0?Ht&-Ht:sP.transition!==null?(rh===0&&(rh=Ks()),rh):(s=Be,s!==0||(s=window.event,s=s===void 0?16:Jl(s.type)),s):1}function pr(s,o,u,d){if(50<xu)throw xu=0,Cm=null,Error(n(185));Fi(s,u,d),(!(Qe&2)||s!==jt)&&(s===jt&&(!(Qe&2)&&(Jf|=u),kt===4&&ts(s,Ht)),_n(s,d),u===1&&Qe===0&&!(o.mode&1)&&(Va=nt()+500,kf&&Gi()))}function _n(s,o){var u=s.callbackNode;Xr(s,o);var d=Ws(s,s===jt?Ht:0);if(d===0)u!==null&&Kl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Kl(u),o===1)s.tag===0?iP(ow.bind(null,s)):H_(ow.bind(null,s)),eP(function(){!(Qe&6)&&Gi()}),u=null;else{switch(Ui(d)){case 1:u=qs;break;case 4:u=Vi;break;case 16:u=Fn;break;case 536870912:u=nf;break;default:u=Fn}u=pw(u,sw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function sw(s,o){if(nh=-1,rh=0,Qe&6)throw Error(n(327));var u=s.callbackNode;if(La()&&s.callbackNode!==u)return null;var d=Ws(s,s===jt?Ht:0);if(d===0)return null;if(d&30||d&s.expiredLanes||o)o=ih(s,d);else{o=d;var m=Qe;Qe|=2;var v=lw();(jt!==s||Ht!==o)&&(li=null,Va=nt()+500,ao(s,o));do try{IP();break}catch(L){aw(s,L)}while(!0);qp(),Yf.current=v,Qe=m,It!==null?o=0:(jt=null,Ht=0,o=kt)}if(o!==0){if(o===2&&(m=bn(s),m!==0&&(d=m,o=Am(s,m))),o===1)throw u=Tu,ao(s,0),ts(s,d),_n(s,nt()),u;if(o===6)ts(s,d);else{if(m=s.current.alternate,!(d&30)&&!SP(m)&&(o=ih(s,d),o===2&&(v=bn(s),v!==0&&(d=v,o=Am(s,v))),o===1))throw u=Tu,ao(s,0),ts(s,d),_n(s,nt()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:lo(s,vn,li);break;case 3:if(ts(s,d),(d&130023424)===d&&(o=xm+500-nt(),10<o)){if(Ws(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){fn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Np(lo.bind(null,s,vn,li),o);break}lo(s,vn,li);break;case 4:if(ts(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var S=31-ln(d);v=1<<S,S=o[S],S>m&&(m=S),d&=~v}if(d=m,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*TP(d/1960))-d,10<d){s.timeoutHandle=Np(lo.bind(null,s,vn,li),d);break}lo(s,vn,li);break;case 5:lo(s,vn,li);break;default:throw Error(n(329))}}}return _n(s,nt()),s.callbackNode===u?sw.bind(null,s):null}function Am(s,o){var u=Su;return s.current.memoizedState.isDehydrated&&(ao(s,o).flags|=256),s=ih(s,o),s!==2&&(o=vn,vn=u,o!==null&&bm(o)),s}function bm(s){vn===null?vn=s:vn.push.apply(vn,s)}function SP(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!ur(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ts(s,o){for(o&=~Sm,o&=~Jf,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ln(o),d=1<<u;s[u]=-1,o&=~d}}function ow(s){if(Qe&6)throw Error(n(327));La();var o=Ws(s,0);if(!(o&1))return _n(s,nt()),null;var u=ih(s,o);if(s.tag!==0&&u===2){var d=bn(s);d!==0&&(o=d,u=Am(s,d))}if(u===1)throw u=Tu,ao(s,0),ts(s,o),_n(s,nt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,lo(s,vn,li),_n(s,nt()),null}function Pm(s,o){var u=Qe;Qe|=1;try{return s(o)}finally{Qe=u,Qe===0&&(Va=nt()+500,kf&&Gi())}}function oo(s){Zi!==null&&Zi.tag===0&&!(Qe&6)&&La();var o=Qe;Qe|=1;var u=Hn.transition,d=Be;try{if(Hn.transition=null,Be=1,s)return s()}finally{Be=d,Hn.transition=u,Qe=o,!(Qe&6)&&Gi()}}function Rm(){Nn=Oa.current,ot(Oa)}function ao(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Zb(u)),It!==null)for(u=It.return;u!==null;){var d=u;switch(jp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Pf();break;case 3:ka(),ot(mn),ot(Xt),Jp();break;case 5:Xp(d);break;case 4:ka();break;case 13:ot(ft);break;case 19:ot(ft);break;case 10:Hp(d.type._context);break;case 22:case 23:Rm()}u=u.return}if(jt=s,It=s=ns(s.current,null),Ht=Nn=o,kt=0,Tu=null,Sm=Jf=so=0,vn=Su=null,no!==null){for(o=0;o<no.length;o++)if(u=no[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var S=v.next;v.next=m,d.next=S}u.pending=d}no=null}return s}function aw(s,o){do{var u=It;try{if(qp(),Bf.current=Hf,$f){for(var d=ht.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}$f=!1}if(io=0,Ft=Rt=ht=null,gu=!1,yu=0,Tm.current=null,u===null||u.return===null){kt=1,Tu=o,It=null;break}e:{var v=s,S=u.return,L=u,B=o;if(o=Ht,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Q=B,ie=L,se=ie.tag;if(!(ie.mode&1)&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var he=D0(S);if(he!==null){he.flags&=-257,N0(he,S,L,v,o),he.mode&1&&k0(v,Q,o),o=he,B=Q;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(B),o.updateQueue=ve}else ye.add(B);break e}else{if(!(o&1)){k0(v,Q,o),km();break e}B=Error(n(426))}}else if(ut&&L.mode&1){var Et=D0(S);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),N0(Et,S,L,v,o),$p(Da(B,L));break e}}v=B=Da(B,L),kt!==4&&(kt=2),Su===null?Su=[v]:Su.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=P0(v,B,o);n0(v,W);break e;case 1:L=B;var $=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ji===null||!Ji.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=R0(v,L,o);n0(v,ae);break e}}v=v.return}while(v!==null)}cw(u)}catch(_e){o=_e,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function lw(){var s=Yf.current;return Yf.current=Hf,s===null?Hf:s}function km(){(kt===0||kt===3||kt===2)&&(kt=4),jt===null||!(so&268435455)&&!(Jf&268435455)||ts(jt,Ht)}function ih(s,o){var u=Qe;Qe|=2;var d=lw();(jt!==s||Ht!==o)&&(li=null,ao(s,o));do try{xP();break}catch(m){aw(s,m)}while(!0);if(qp(),Qe=u,Yf.current=d,It!==null)throw Error(n(261));return jt=null,Ht=0,kt}function xP(){for(;It!==null;)uw(It)}function IP(){for(;It!==null&&!ef();)uw(It)}function uw(s){var o=dw(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,o===null?cw(s):It=o,Tm.current=null}function cw(s){var o=s;do{var u=o.alternate;if(s=o.return,o.flags&32768){if(u=vP(u,o),u!==null){u.flags&=32767,It=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,It=null;return}}else if(u=yP(u,o,Nn),u!==null){It=u;return}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);kt===0&&(kt=5)}function lo(s,o,u){var d=Be,m=Hn.transition;try{Hn.transition=null,Be=1,CP(s,o,u,d)}finally{Hn.transition=m,Be=d}return null}function CP(s,o,u,d){do La();while(Zi!==null);if(Qe&6)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(et(s,v),s===jt&&(It=jt=null,Ht=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||eh||(eh=!0,pw(Fn,function(){return La(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=Hn.transition,Hn.transition=null;var S=Be;Be=1;var L=Qe;Qe|=4,Tm.current=null,wP(s,u),ew(u,s),Wb(kp),$i=!!Rp,kp=Rp=null,s.current=u,EP(u),pp(),Qe=L,Be=S,Hn.transition=v}else s.current=u;if(eh&&(eh=!1,Zi=s,th=m),v=s.pendingLanes,v===0&&(Ji=null),rf(u.stateNode),_n(s,nt()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Zf)throw Zf=!1,s=Im,Im=null,s;return th&1&&s.tag!==0&&La(),v=s.pendingLanes,v&1?s===Cm?xu++:(xu=0,Cm=s):xu=0,Gi(),null}function La(){if(Zi!==null){var s=Ui(th),o=Hn.transition,u=Be;try{if(Hn.transition=null,Be=16>s?16:s,Zi===null)var d=!1;else{if(s=Zi,Zi=null,th=0,Qe&6)throw Error(n(331));var m=Qe;for(Qe|=4,me=s.current;me!==null;){var v=me,S=v.child;if(me.flags&16){var L=v.deletions;if(L!==null){for(var B=0;B<L.length;B++){var Q=L[B];for(me=Q;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:Eu(8,ie,v)}var se=ie.child;if(se!==null)se.return=ie,me=se;else for(;me!==null;){ie=me;var re=ie.sibling,he=ie.return;if(Q0(ie),ie===Q){me=null;break}if(re!==null){re.return=he,me=re;break}me=he}}}var ye=v.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var Et=ve.sibling;ve.sibling=null,ve=Et}while(ve!==null)}}me=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,me=S;else e:for(;me!==null;){if(v=me,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Eu(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,me=W;break e}me=v.return}}var $=s.current;for(me=$;me!==null;){S=me;var K=S.child;if(S.subtreeFlags&2064&&K!==null)K.return=S,me=K;else e:for(S=$;me!==null;){if(L=me,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:Xf(9,L)}}catch(_e){mt(L,L.return,_e)}if(L===S){me=null;break e}var ae=L.sibling;if(ae!==null){ae.return=L.return,me=ae;break e}me=L.return}}if(Qe=m,Gi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Hs,s)}catch{}d=!0}return d}finally{Be=u,Hn.transition=o}}return!1}function fw(s,o,u){o=Da(u,o),o=P0(s,o,1),s=Xi(s,o,1),o=fn(),s!==null&&(Fi(s,1,o),_n(s,o))}function mt(s,o,u){if(s.tag===3)fw(s,s,u);else for(;o!==null;){if(o.tag===3){fw(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))){s=Da(u,s),s=R0(o,s,1),o=Xi(o,s,1),s=fn(),o!==null&&(Fi(o,1,s),_n(o,s));break}}o=o.return}}function AP(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=fn(),s.pingedLanes|=s.suspendedLanes&u,jt===s&&(Ht&u)===u&&(kt===4||kt===3&&(Ht&130023424)===Ht&&500>nt()-xm?ao(s,0):Sm|=u),_n(s,o)}function hw(s,o){o===0&&(s.mode&1?(o=sa,sa<<=1,!(sa&130023424)&&(sa=4194304)):o=1);var u=fn();s=si(s,o),s!==null&&(Fi(s,o,u),_n(s,u))}function bP(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),hw(s,u)}function PP(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),hw(s,u)}var dw;dw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||mn.current)yn=!0;else{if(!(s.lanes&u)&&!(o.flags&128))return yn=!1,gP(s,o,u);yn=!!(s.flags&131072)}else yn=!1,ut&&o.flags&1048576&&W_(o,Nf,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Gf(s,o),s=o.pendingProps;var m=xa(o,Xt.current);Ra(o,u),m=tm(null,o,d,s,m,u);var v=nm();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,gn(d)?(v=!0,Rf(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Gp(o),m.updater=Wf,o.stateNode=m,m._reactInternals=o,lm(o,d,s,u),o=hm(null,o,d,!0,v,u)):(o.tag=0,ut&&v&&Fp(o),cn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Gf(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=kP(d),s=fr(d,s),m){case 0:o=fm(null,o,d,s,u);break e;case 1:o=j0(null,o,d,s,u);break e;case 11:o=O0(null,o,d,s,u);break e;case 14:o=V0(null,o,d,fr(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),fm(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),j0(s,o,d,m,u);case 3:e:{if(U0(o),s===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,t0(s,o),jf(o,d,null,u);var S=o.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Da(Error(n(423)),o),o=B0(s,o,d,u,m);break e}else if(d!==m){m=Da(Error(n(424)),o),o=B0(s,o,d,u,m);break e}else for(Dn=Hi(o.stateNode.containerInfo.firstChild),kn=o,ut=!0,cr=null,u=Z_(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Aa(),d===m){o=ai(s,o,u);break e}cn(s,o,d,u)}o=o.child}return o;case 5:return i0(o),s===null&&Bp(o),d=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,S=m.children,Dp(d,m)?S=null:v!==null&&Dp(d,v)&&(o.flags|=32),F0(s,o),cn(s,o,S,u),o.child;case 6:return s===null&&Bp(o),null;case 13:return $0(s,o,u);case 4:return Qp(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=ba(o,null,d,u):cn(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),O0(s,o,d,m,u);case 7:return cn(s,o,o.pendingProps,u),o.child;case 8:return cn(s,o,o.pendingProps.children,u),o.child;case 12:return cn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,rt(Lf,d._currentValue),d._currentValue=S,v!==null)if(ur(v.value,S)){if(v.children===m.children&&!mn.current){o=ai(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){S=v.child;for(var B=L.firstContext;B!==null;){if(B.context===d){if(v.tag===1){B=oi(-1,u&-u),B.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),Q.pending=B}}v.lanes|=u,B=v.alternate,B!==null&&(B.lanes|=u),Wp(v.return,u,o),L.lanes|=u;break}B=B.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(n(341));S.lanes|=u,L=S.alternate,L!==null&&(L.lanes|=u),Wp(S,u,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}cn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ra(o,u),m=zn(m),d=d(m),o.flags|=1,cn(s,o,d,u),o.child;case 14:return d=o.type,m=fr(d,o.pendingProps),m=fr(d.type,m),V0(s,o,d,m,u);case 15:return L0(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:fr(d,m),Gf(s,o),o.tag=1,gn(d)?(s=!0,Rf(o)):s=!1,Ra(o,u),A0(o,d,m),lm(o,d,m,u),hm(null,o,d,!0,s,u);case 19:return q0(s,o,u);case 22:return M0(s,o,u)}throw Error(n(156,o.tag))};function pw(s,o){return ra(s,o)}function RP(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(s,o,u,d){return new RP(s,o,u,d)}function Dm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kP(s){if(typeof s=="function")return Dm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===k)return 11;if(s===Ae)return 14}return 2}function ns(s,o){var u=s.alternate;return u===null?(u=Wn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function sh(s,o,u,d,m,v){var S=2;if(d=s,typeof s=="function")Dm(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case O:return uo(u.children,m,v,o);case A:S=8,m|=8;break;case N:return s=Wn(12,u,o,m|2),s.elementType=N,s.lanes=v,s;case C:return s=Wn(13,u,o,m),s.elementType=C,s.lanes=v,s;case X:return s=Wn(19,u,o,m),s.elementType=X,s.lanes=v,s;case ce:return oh(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:S=10;break e;case b:S=9;break e;case k:S=11;break e;case Ae:S=14;break e;case fe:S=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Wn(S,u,o,m),o.elementType=s,o.type=d,o.lanes=v,o}function uo(s,o,u,d){return s=Wn(7,s,d,o),s.lanes=u,s}function oh(s,o,u,d){return s=Wn(22,s,d,o),s.elementType=ce,s.lanes=u,s.stateNode={isHidden:!1},s}function Nm(s,o,u){return s=Wn(6,s,null,o),s.lanes=u,s}function Om(s,o,u){return o=Wn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function DP(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Vm(s,o,u,d,m,v,S,L,B){return s=new DP(s,o,u,L,B),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Wn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(v),s}function NP(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function mw(s){if(!s)return Ki;s=s._reactInternals;e:{if(nr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(gn(u))return z_(s,u,o)}return o}function gw(s,o,u,d,m,v,S,L,B){return s=Vm(u,d,!0,s,m,v,S,L,B),s.context=mw(null),u=s.current,d=fn(),m=es(u),v=oi(d,m),v.callback=o??null,Xi(u,v,m),s.current.lanes=m,Fi(s,m,d),_n(s,d),s}function ah(s,o,u,d){var m=o.current,v=fn(),S=es(m);return u=mw(u),o.context===null?o.context=u:o.pendingContext=u,o=oi(v,S),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Xi(m,o,S),s!==null&&(pr(s,m,S,v),Ff(s,m,S)),S}function lh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function yw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Lm(s,o){yw(s,o),(s=s.alternate)&&yw(s,o)}var vw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Mm(s){this._internalRoot=s}uh.prototype.render=Mm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));ah(s,o,null,null)},uh.prototype.unmount=Mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oo(function(){ah(null,s,null,null)}),o[ti]=null}};function uh(s){this._internalRoot=s}uh.prototype.unstable_scheduleHydration=function(s){if(s){var o=uf();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Er.length&&o!==0&&o<Er[u].priority;u++);Er.splice(u,0,s),u===0&&hf(s)}};function Fm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ch(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _w(){}function OP(s,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Q=lh(S);v.call(Q)}}var S=gw(o,d,s,0,null,!1,!1,"",_w);return s._reactRootContainer=S,s[ti]=S.current,lu(s.nodeType===8?s.parentNode:s),oo(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var L=d;d=function(){var Q=lh(B);L.call(Q)}}var B=Vm(s,0,!1,null,null,!1,!1,"",_w);return s._reactRootContainer=B,s[ti]=B.current,lu(s.nodeType===8?s.parentNode:s),oo(function(){ah(o,B,u,d)}),B}function fh(s,o,u,d,m){var v=u._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var L=m;m=function(){var B=lh(S);L.call(B)}}ah(o,S,s,m)}else S=OP(u,o,s,m,d);return lh(S)}af=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Li(o.pendingLanes);u!==0&&(ji(o,u|1),_n(o,nt()),!(Qe&6)&&(Va=nt()+500,Gi()))}break;case 13:oo(function(){var d=si(s,1);if(d!==null){var m=fn();pr(d,s,1,m)}}),Lm(s,1)}},oa=function(s){if(s.tag===13){var o=si(s,134217728);if(o!==null){var u=fn();pr(o,s,134217728,u)}Lm(s,134217728)}},lf=function(s){if(s.tag===13){var o=es(s),u=si(s,o);if(u!==null){var d=fn();pr(u,s,o,d)}Lm(s,o)}},uf=function(){return Be},cf=function(s,o){var u=Be;try{return Be=s,o()}finally{Be=u}},Yo=function(s,o,u){switch(o){case"input":if(Nl(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=bf(d);if(!m)throw Error(n(90));Ho(d),Nl(d,m)}}}break;case"textarea":Qo(s,u);break;case"select":o=u.value,o!=null&&Kr(s,!!u.multiple,o,!1)}},Us=Pm,zl=oo;var VP={usingClientEntryPoint:!1,Events:[fu,Ta,bf,_r,$l,Pm]},Iu={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LP={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Wl(s),s===null?null:s.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Hs=hh.inject(LP),An=hh}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP,wn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(o))throw Error(n(200));return NP(s,o,null,u)},wn.createRoot=function(s,o){if(!Fm(s))throw Error(n(299));var u=!1,d="",m=vw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Vm(s,1,!1,null,null,u,!1,d,m),s[ti]=o.current,lu(s.nodeType===8?s.parentNode:s),new Mm(o)},wn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Wl(o),s=s===null?null:s.stateNode,s},wn.flushSync=function(s){return oo(s)},wn.hydrate=function(s,o,u){if(!ch(o))throw Error(n(200));return fh(null,s,o,!0,u)},wn.hydrateRoot=function(s,o,u){if(!Fm(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",S=vw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=gw(o,null,s,1,u??null,m,!1,v,S),s[ti]=o.current,lu(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new uh(o)},wn.render=function(s,o,u){if(!ch(o))throw Error(n(200));return fh(null,s,o,!1,u)},wn.unmountComponentAtNode=function(s){if(!ch(s))throw Error(n(40));return s._reactRootContainer?(oo(function(){fh(null,null,s,!1,function(){s._reactRootContainer=null,s[ti]=null})}),!0):!1},wn.unstable_batchedUpdates=Pm,wn.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!ch(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return fh(s,o,u,!1,d)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var Pw;function JS(){if(Pw)return Bm.exports;Pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bm.exports=HP(),Bm.exports}var Rw;function WP(){if(Rw)return dh;Rw=1;var t=JS();return dh.createRoot=t.createRoot,dh.hydrateRoot=t.hydrateRoot,dh}var KP=WP(),Au={},kw;function GP(){if(kw)return Au;kw=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.parse=l,Au.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const x=new a,I=w.length;if(I<2)return x;const R=(T==null?void 0:T.decode)||g;let D=0;do{const V=w.indexOf("=",D);if(V===-1)break;const U=w.indexOf(";",D),G=U===-1?I:U;if(V>G){D=w.lastIndexOf(";",V-1)+1;continue}const J=c(w,D,V),Z=f(w,V,J),O=w.slice(J,Z);if(x[O]===void 0){let A=c(w,V+1,G),N=f(w,G,A);const F=R(w.slice(A,N));x[O]=F}D=G+1}while(D<I);return x}function c(w,T,x){do{const I=w.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<x);return x}function f(w,T,x){for(;T>x;){const I=w.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return x}function p(w,T,x){const I=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=I(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let D=w+"="+R;if(!x)return D;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);D+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);D+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);D+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);D+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(D+="; HttpOnly"),x.secure&&(D+="; Secure"),x.partitioned&&(D+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return D}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return i.call(w)==="[object Date]"}return Au}GP();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dw="popstate";function QP(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Tg("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yu(i)}return YP(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XP(){return Math.random().toString(36).substring(2,10)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cc(e):e,state:n,key:e&&e.key||r||XP()}}function Yu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let R=g(),D=R==null?null:R-p;p=R,f&&f({action:c,location:I.location,delta:D})}function w(R,D){c="PUSH";let V=Tg(I.location,R,D);p=g()+1;let U=Nw(V,p),G=I.createHref(V);try{l.pushState(U,"",G)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(G)}a&&f&&f({action:c,location:I.location,delta:1})}function T(R,D){c="REPLACE";let V=Tg(I.location,R,D);p=g();let U=Nw(V,p),G=I.createHref(V);l.replaceState(U,"",G),a&&f&&f({action:c,location:I.location,delta:0})}function x(R){let D=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof R=="string"?R:Yu(R);return V=V.replace(/ $/,"%20"),Nt(D,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,D)}let I={get action(){return c},get location(){return t(i,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Dw,_),f=R,()=>{i.removeEventListener(Dw,_),f=null}},createHref(R){return e(i,R)},createURL:x,encodeLocation(R){let D=x(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:T,go(R){return l.go(R)}};return I}function ZS(t,e,n="/"){return JP(t,e,n,!1)}function JP(t,e,n,r){let i=typeof e=="string"?Cc(e):e,a=Is(i.pathname||"/",n);if(a==null)return null;let l=e1(t);ZP(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=cR(a);c=lR(l[f],p,r)}return c}function e1(t,e=[],n=[],r=""){let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=vi([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),e1(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:oR(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of t1(a.path))i(a,l,f)}),e}function t1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=t1(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function ZP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eR=/^:[\w-]+$/,tR=3,nR=2,rR=1,iR=10,sR=-2,Ow=t=>t==="*";function oR(t,e){let n=t.split("/"),r=n.length;return n.some(Ow)&&(r+=sR),e&&(r+=nR),n.filter(i=>!Ow(i)).reduce((i,a)=>i+(eR.test(a)?tR:a===""?rR:iR),r)}function aR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lR(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),w=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:vi([a,_.pathname]),pathnameBase:pR(vi([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=vi([a,_.pathnameBase]))}return l}function zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let x=c[w]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const T=c[w];return _&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function uR(t,e=!1,n=!0){Mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Cc(t):t;return{pathname:n?n.startsWith("/")?n:hR(n,e):e,search:mR(r),hash:gR(i)}}function hR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n1(t){let e=dR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function r1(t,e,n,r=!1){let i;typeof t=="string"?i=Cc(t):(i={...t},Nt(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}c=_>=0?e[_]:"/"}let f=fR(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var vi=t=>t.join("/").replace(/\/\/+/g,"/"),pR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var i1=["POST","PUT","PATCH","DELETE"];new Set(i1);var vR=["GET",...i1];new Set(vR);var wl=M.createContext(null);wl.displayName="DataRouter";var Pd=M.createContext(null);Pd.displayName="DataRouterState";var s1=M.createContext({isTransitioning:!1});s1.displayName="ViewTransition";var _R=M.createContext(new Map);_R.displayName="Fetchers";var wR=M.createContext(null);wR.displayName="Await";var Br=M.createContext(null);Br.displayName="Navigation";var Rd=M.createContext(null);Rd.displayName="Location";var $r=M.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Ty=M.createContext(null);Ty.displayName="RouteError";function ER(t,{relative:e}={}){Nt(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Br),{hash:i,pathname:a,search:l}=bc(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:vi([n,a])),r.createHref({pathname:c,search:l,hash:i})}function Ac(){return M.useContext(Rd)!=null}function Pi(){return Nt(Ac(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Rd).location}var o1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(t){M.useContext(Br).static||M.useLayoutEffect(t)}function l1(){let{isDataRoute:t}=M.useContext($r);return t?VR():TR()}function TR(){Nt(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(wl),{basename:e,navigator:n}=M.useContext(Br),{matches:r}=M.useContext($r),{pathname:i}=Pi(),a=JSON.stringify(n1(r)),l=M.useRef(!1);return a1(()=>{l.current=!0}),M.useCallback((f,p={})=>{if(Mr(l.current,o1),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=r1(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:vi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}M.createContext(null);function SR(){let{matches:t}=M.useContext($r),e=t[t.length-1];return e?e.params:{}}function bc(t,{relative:e}={}){let{matches:n}=M.useContext($r),{pathname:r}=Pi(),i=JSON.stringify(n1(n));return M.useMemo(()=>r1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function xR(t,e){return u1(t)}function u1(t,e,n,r){Nt(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=M.useContext(Br),{matches:a}=M.useContext($r),l=a[a.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let D=g&&g.path||"";c1(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=Pi(),w;w=_;let T=w.pathname||"/",x=T;if(p!=="/"){let D=p.replace(/^\//,"").split("/");x="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let I=ZS(t,{pathname:x});return Mr(g||I!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Mr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PR(I&&I.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:vi([p,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:vi([p,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,n,r)}function IR(){let t=OR(),e=yR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,l)}var CR=M.createElement(IR,null),AR=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement($r.Provider,{value:this.props.routeContext},M.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bR({routeContext:t,match:e,children:n}){let r=M.useContext(wl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement($r.Provider,{value:t},n)}function PR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:_}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let _,w=!1,T=null,x=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||CR,l&&(c<0&&g===0?(c1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):c===g&&(w=!0,x=p.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),R=()=>{let D;return _?D=T:w?D=x:p.route.Component?D=M.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,M.createElement(bR,{match:p,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?M.createElement(AR,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function Sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RR(t){let e=M.useContext(wl);return Nt(e,Sy(t)),e}function kR(t){let e=M.useContext(Pd);return Nt(e,Sy(t)),e}function DR(t){let e=M.useContext($r);return Nt(e,Sy(t)),e}function xy(t){let e=DR(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function NR(){return xy("useRouteId")}function OR(){var r;let t=M.useContext(Ty),e=kR("useRouteError"),n=xy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VR(){let{router:t}=RR("useNavigate"),e=xy("useNavigate"),n=M.useRef(!1);return a1(()=>{n.current=!0}),M.useCallback(async(i,a={})=>{Mr(n.current,o1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Vw={};function c1(t,e,n){!e&&!Vw[t]&&(Vw[t]=!0,Mr(!1,n))}M.memo(LR);function LR({routes:t,future:e,state:n}){return u1(t,void 0,n,e)}function MR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Nt(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Cc(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:w="default"}=n,T=M.useMemo(()=>{let x=Is(f,l);return x==null?null:{location:{pathname:x,search:p,hash:g,state:_,key:w},navigationType:r}},[l,f,p,g,_,w,r]);return Mr(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:M.createElement(Br.Provider,{value:c},M.createElement(Rd.Provider,{children:e,value:T}))}var Ch="get",Ah="application/x-www-form-urlencoded";function kd(t){return t!=null&&typeof t.tagName=="string"}function FR(t){return kd(t)&&t.tagName.toLowerCase()==="button"}function jR(t){return kd(t)&&t.tagName.toLowerCase()==="form"}function UR(t){return kd(t)&&t.tagName.toLowerCase()==="input"}function BR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $R(t,e){return t.button===0&&(!e||e==="_self")&&!BR(t)}var ph=null;function zR(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(t){return t!=null&&!qR.has(t)?(Mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):t}function HR(t,e){let n,r,i,a,l;if(jR(t)){let c=t.getAttribute("action");r=c?Is(c,e):null,n=t.getAttribute("method")||Ch,i=Hm(t.getAttribute("enctype"))||Ah,a=new FormData(t)}else if(FR(t)||UR(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?Is(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ch,i=Hm(t.getAttribute("formenctype"))||Hm(c.getAttribute("enctype"))||Ah,a=new FormData(c,t),!zR()){let{name:p,type:g,value:_}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(kd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,r=null,i=Ah,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function Iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function WR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GR(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await WR(a,n);return l.links?l.links():[]}return[]}));return JR(r.flat(1).filter(KR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lw(t,e,n,r,i,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,c=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function QR(t,e){return XR(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function XR(t){return[...new Set(t)]}function YR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function JR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(YR(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ZR(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ek(){let t=M.useContext(wl);return Iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tk(){let t=M.useContext(Pd);return Iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cy=M.createContext(void 0);Cy.displayName="FrameworkContext";function f1(){let t=M.useContext(Cy);return Iy(t,"You must render this element inside a <HydratedRouter> element"),t}function nk(t,e){let n=M.useContext(Cy),[r,i]=M.useState(!1),[a,l]=M.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let I=D=>{D.forEach(V=>{l(V.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),M.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},x=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:bu(c,T),onBlur:bu(f,x),onMouseEnter:bu(p,T),onMouseLeave:bu(g,x),onTouchStart:bu(_,T)}]:[!1,w,{}]}function bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rk({page:t,...e}){let{router:n}=ek(),r=M.useMemo(()=>ZS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(sk,{page:t,matches:r,...e}):null}function ik(t){let{manifest:e,routeModules:n}=f1(),[r,i]=M.useState([]);return M.useEffect(()=>{let a=!1;return GR(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function sk({page:t,matches:e,...n}){let r=Pi(),{manifest:i,routeModules:a}=f1(),{loaderData:l,matches:c}=tk(),f=M.useMemo(()=>Lw(t,e,c,i,r,"data"),[t,e,c,i,r]),p=M.useMemo(()=>Lw(t,e,c,i,r,"assets"),[t,e,c,i,r]),g=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,x=!1;if(e.forEach(R=>{var V;let D=i.routes[R.route.id];!D||!D.hasLoader||(!f.some(U=>U.route.id===R.route.id)&&R.route.id in l&&((V=a[R.route.id])!=null&&V.shouldRevalidate)||D.hasClientLoader?x=!0:T.add(R.route.id))}),T.size===0)return[];let I=ZR(t);return x&&T.size>0&&I.searchParams.set("_routes",e.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[l,r,i,f,e,t,a]),_=M.useMemo(()=>QR(p,i),[p,i]),w=ik(p);return M.createElement(M.Fragment,null,g.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:x})=>M.createElement("link",{key:T,...x})))}function ok(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h1&&(window.__reactRouterVersion="7.1.3")}catch{}function ak({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=QP({window:n,v5Compat:!0}));let i=r.current,[a,l]=M.useState({action:i.action,location:i.location}),c=M.useCallback(f=>{M.startTransition(()=>l(f))},[l]);return M.useLayoutEffect(()=>i.listen(c),[i,c]),M.createElement(MR,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_,...w},T){let{basename:x}=M.useContext(Br),I=typeof p=="string"&&d1.test(p),R,D=!1;if(typeof p=="string"&&I&&(R=p,h1))try{let N=new URL(window.location.href),F=p.startsWith("//")?new URL(N.protocol+p):new URL(p),b=Is(F.pathname,x);F.origin===N.origin&&b!=null?p=b+F.search+F.hash:D=!0}catch{Mr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=ER(p,{relative:i}),[U,G,J]=nk(r,w),Z=fk(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function O(N){e&&e(N),N.defaultPrevented||Z(N)}let A=M.createElement("a",{...w,...J,href:R||V,onClick:D||a?e:O,ref:ok(T,G),target:f,"data-discover":!I&&n==="render"?"true":void 0});return U&&!I?M.createElement(M.Fragment,null,A,M.createElement(rk,{page:V})):A});El.displayName="Link";var lk=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...p},g){let _=bc(l,{relative:p.relative}),w=Pi(),T=M.useContext(Pd),{navigator:x,basename:I}=M.useContext(Br),R=T!=null&&gk(_)&&c===!0,D=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,V=w.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(V=V.toLowerCase(),U=U?U.toLowerCase():null,D=D.toLowerCase()),U&&I&&(U=Is(U,I)||U);const G=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let J=V===D||!i&&V.startsWith(D)&&V.charAt(G)==="/",Z=U!=null&&(U===D||!i&&U.startsWith(D)&&U.charAt(D.length)==="/"),O={isActive:J,isPending:Z,isTransitioning:R},A=J?e:void 0,N;typeof r=="function"?N=r(O):N=[r,J?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(O):a;return M.createElement(El,{...p,"aria-current":A,className:N,ref:g,style:F,to:l,viewTransition:c},typeof f=="function"?f(O):f)});lk.displayName="NavLink";var uk=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Ch,action:c,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...w},T)=>{let x=pk(),I=mk(c,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&d1.test(c),V=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let G=U.nativeEvent.submitter,J=(G==null?void 0:G.getAttribute("formmethod"))||l;x(G||U.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return M.createElement("form",{ref:T,method:R,action:I,onSubmit:r?f:V,...w,"data-discover":!D&&t==="render"?"true":void 0})});uk.displayName="Form";function ck(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(t){let e=M.useContext(wl);return Nt(e,ck(t)),e}function fk(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=l1(),f=Pi(),p=bc(t,{relative:a});return M.useCallback(g=>{if($R(g,e)){g.preventDefault();let _=n!==void 0?n:Yu(f)===Yu(p);c(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,c,p,n,r,e,t,i,a,l])}var hk=0,dk=()=>`__${String(++hk)}__`;function pk(){let{router:t}=p1("useSubmit"),{basename:e}=M.useContext(Br),n=NR();return M.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=HR(r,e);if(i.navigate===!1){let g=i.fetcherKey||dk();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function mk(t,{relative:e}={}){let{basename:n}=M.useContext(Br),r=M.useContext($r);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...bc(t||".",{relative:e})},l=Pi();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:vi([n,a.pathname])),Yu(a)}function gk(t,e={}){let n=M.useContext(s1);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=p1("useViewTransitionState"),i=bc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Is(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zh(i.pathname,l)!=null||zh(i.pathname,a)!=null}new TextEncoder;var yk=JS();const ku=Ic(yk),vk="modulepreload",_k=function(t){return"/"+t},Mw={},m1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(f=>{if(f=_k(f),f in Mw)return;Mw[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":vk,p||(_.as="script"),_.crossOrigin="",_.href=f,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((w,T)=>{_.addEventListener("load",w),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},g1=!(typeof navigator>"u")&&navigator.product==="ReactNative",y1={timeout:g1?6e4:12e4},wk=function(t){const e={...y1,...typeof t=="string"?{url:t}:t};if(e.timeout=v1(e.timeout),e.query){const{url:n,searchParams:r}=function(i){const a=i.indexOf("?");if(a===-1)return{url:i,searchParams:new URLSearchParams};const l=i.slice(0,a),c=i.slice(a+1);if(!g1)return{url:l,searchParams:new URLSearchParams(c)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const f=new URLSearchParams;for(const p of c.split("&")){const[g,_]=p.split("=");g&&f.append(Fw(g),Fw(_||""))}return{url:l,searchParams:f}}(e.url);for(const[i,a]of Object.entries(e.query)){if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(i,c);else r.append(i,a);const l=r.toString();l&&(e.url=`${n}?${l}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function Fw(t){return decodeURIComponent(t.replace(/\+/g," "))}function v1(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?v1(y1.timeout):{connect:e,socket:e}}const Ek=/^https?:\/\//i,Tk=function(t){if(!Ek.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function _1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Sk=["request","response","progress","error","abort"],jw=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function w1(t,e){const n=[],r=jw.reduce((a,l)=>(a[l]=a[l]||[],a),{processOptions:[wk],validateOptions:[Tk]});function i(a){const l=Sk.reduce((T,x)=>(T[x]=function(){const I=Object.create(null);let R=0;return{publish:function(D){for(const V in I)I[V](D)},subscribe:function(D){const V=R++;return I[V]=D,function(){delete I[V]}}}}(),T),{}),c=(T=>function(x,I,...R){const D=x==="onError";let V=I;for(let U=0;U<T[x].length&&(V=(0,T[x][U])(V,...R),!D||V);U++);return V})(r),f=c("processOptions",a);c("validateOptions",f);const p={options:f,channels:l,applyMiddleware:c};let g;const _=l.request.subscribe(T=>{g=e(T,(x,I)=>((R,D,V)=>{let U=R,G=D;if(!U)try{G=c("onResponse",D,V)}catch(J){G=null,U=J}U=U&&c("onError",U,V),U?l.error.publish(U):G&&l.response.publish(G)})(x,I,T))});l.abort.subscribe(()=>{_(),g&&g.abort()});const w=c("onReturn",l,p);return w===l&&l.request.publish(p),w}return i.use=function(a){if(!a)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof a=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(a.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return jw.forEach(l=>{a[l]&&r[l].push(a[l])}),n.push(a),i},i.clone=()=>w1(n,e),t.forEach(i.use),i}var Uw,Bw,xk=_1(function(){if(Bw)return Uw;Bw=1;var t=function(e){return e.replace(/^\s+|\s+$/g,"")};return Uw=function(e){if(!e)return{};for(var n={},r=t(e).split(`
`),i=0;i<r.length;i++){var a=r[i],l=a.indexOf(":"),c=t(a.slice(0,l)).toLowerCase(),f=t(a.slice(l+1));typeof n[c]>"u"?n[c]=f:(p=n[c],Object.prototype.toString.call(p)==="[object Array]"?n[c].push(f):n[c]=[n[c],f])}var p;return n}}()),hc,dc,el,pc,ui,mc,gc,YS;let Sg=(YS=class{constructor(){Te(this,"onabort");Te(this,"onerror");Te(this,"onreadystatechange");Te(this,"ontimeout");Te(this,"readyState",0);Te(this,"response");Te(this,"responseText","");Te(this,"responseType","");Te(this,"status");Te(this,"statusText");Te(this,"withCredentials");Le(this,hc);Le(this,dc);Le(this,el);Le(this,pc,{});Le(this,ui);Le(this,mc,{});Le(this,gc)}open(e,n,r){var i;Ve(this,hc,e),Ve(this,dc,n),Ve(this,el,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),Ve(this,ui,void 0)}abort(){q(this,ui)&&q(this,ui).abort()}getAllResponseHeaders(){return q(this,el)}setRequestHeader(e,n){q(this,pc)[e]=n}setInit(e,n=!0){Ve(this,mc,e),Ve(this,gc,n)}send(e){const n=this.responseType!=="arraybuffer",r={...q(this,mc),method:q(this,hc),headers:q(this,pc),body:e};typeof AbortController=="function"&&q(this,gc)&&(Ve(this,ui,new AbortController),typeof EventTarget<"u"&&q(this,ui).signal instanceof EventTarget&&(r.signal=q(this,ui).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(q(this,dc),r).then(i=>{var a;return i.headers.forEach((l,c)=>{Ve(this,el,q(this,el)+`${c}: ${l}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(a=this.onreadystatechange)==null||a.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var a;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(a=this.onreadystatechange)==null||a.call(this)}).catch(i=>{var a,l;i.name!=="AbortError"?(a=this.onerror)==null||a.call(this,i):(l=this.onabort)==null||l.call(this)})}},hc=new WeakMap,dc=new WeakMap,el=new WeakMap,pc=new WeakMap,ui=new WeakMap,mc=new WeakMap,gc=new WeakMap,YS);const xg=typeof XMLHttpRequest=="function"?"xhr":"fetch",Ik=xg==="xhr"?XMLHttpRequest:Sg,Ck=(t,e)=>{const n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},a=t.applyMiddleware("interceptRequest",void 0,{adapter:xg,context:t});if(a){const I=setTimeout(e,0,null,a);return{abort:()=>clearTimeout(I)}}let l=new Ik;l instanceof Sg&&typeof r.fetch=="object"&&l.setInit(r.fetch,r.useAbortSignal??!0);const c=r.headers,f=r.timeout;let p=!1,g=!1,_=!1;if(l.onerror=I=>{x(l instanceof Sg?I instanceof Error?I:new Error(`Request error while attempting to reach is ${r.url}`,{cause:I}):new Error(`Request error while attempting to reach is ${r.url}${I.lengthComputable?`(${I.loaded} of ${I.total} bytes transferred)`:""}`))},l.ontimeout=I=>{x(new Error(`Request timeout while attempting to reach ${r.url}${I.lengthComputable?`(${I.loaded} of ${I.total} bytes transferred)`:""}`))},l.onabort=()=>{T(!0),p=!0},l.onreadystatechange=function(){f&&(T(),i.socket=setTimeout(()=>w("ESOCKETTIMEDOUT"),f.socket)),!p&&l&&l.readyState===4&&l.status!==0&&function(){if(!(p||g||_)){if(l.status===0)return void x(new Error("Unknown XHR error"));T(),g=!0,e(null,{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:r.url,method:r.method,headers:xk(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText})}}()},l.open(r.method,r.url,!0),l.withCredentials=!!r.withCredentials,c&&l.setRequestHeader)for(const I in c)c.hasOwnProperty(I)&&l.setRequestHeader(I,c[I]);return r.rawBody&&(l.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:xg,request:l,context:t}),l.send(r.body||null),f&&(i.connect=setTimeout(()=>w("ETIMEDOUT"),f.connect)),{abort:function(){p=!0,l&&l.abort()}};function w(I){_=!0,l.abort();const R=new Error(I==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);R.code=I,t.channels.error.publish(R)}function T(I){(I||p||l&&l.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(I){if(g)return;T(!0),g=!0,l=null;const R=I||new Error(`Network error while attempting to reach ${r.url}`);R.isNetworkError=!0,R.request=r,e(R)}},Ak=(t=[],e=Ck)=>w1(t,e);var bk={},$w,zw,qw,Hw,Ww,Wm={exports:{}};Ww||(Ww=1,function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let a=0,l=0;r[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(a++,c==="%c"&&(l=a))}),r.splice(l,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=bk.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(Hw?qw:(Hw=1,qw=function(r){function i(c){let f,p,g,_=null;function w(...T){if(!w.enabled)return;const x=w,I=Number(new Date),R=I-(f||I);x.diff=R,x.prev=f,x.curr=I,f=I,T[0]=i.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let D=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(V,U)=>{if(V==="%%")return"%";D++;const G=i.formatters[U];if(typeof G=="function"){const J=T[D];V=G.call(x,J),T.splice(D,1),D--}return V}),i.formatArgs.call(x,T),(x.log||i.log).apply(x,T)}return w.namespace=c,w.useColors=i.useColors(),w.color=i.selectColor(c),w.extend=a,w.destroy=i.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(p!==i.namespaces&&(p=i.namespaces,g=i.enabled(c)),g),set:T=>{_=T}}),typeof i.init=="function"&&i.init(w),w}function a(c,f){const p=i(this.namespace+(typeof f>"u"?":":f)+c);return p.log=this.log,p}function l(c,f){let p=0,g=0,_=-1,w=0;for(;p<c.length;)if(g<f.length&&(f[g]===c[p]||f[g]==="*"))f[g]==="*"?(_=g,w=p,g++):(p++,g++);else{if(_===-1)return!1;g=_+1,w++,p=w}for(;g<f.length&&f[g]==="*";)g++;return g===f.length}return i.debug=i,i.default=i,i.coerce=function(c){return c instanceof Error?c.stack||c.message:c},i.disable=function(){const c=[...i.names,...i.skips.map(f=>"-"+f)].join(",");return i.enable(""),c},i.enable=function(c){i.save(c),i.namespaces=c,i.names=[],i.skips=[];const f=(typeof c=="string"?c:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of f)p[0]==="-"?i.skips.push(p.slice(1)):i.names.push(p)},i.enabled=function(c){for(const f of i.skips)if(l(c,f))return!1;for(const f of i.names)if(l(c,f))return!0;return!1},i.humanize=function(){if(zw)return $w;zw=1;var c=1e3,f=60*c,p=60*f,g=24*p,_=7*g;function w(T,x,I,R){var D=x>=1.5*I;return Math.round(T/I)+" "+R+(D?"s":"")}return $w=function(T,x){x=x||{};var I,R,D=typeof T;if(D==="string"&&T.length>0)return function(V){if(!((V=String(V)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(V);if(U){var G=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*G;case"weeks":case"week":case"w":return G*_;case"days":case"day":case"d":return G*g;case"hours":case"hour":case"hrs":case"hr":case"h":return G*p;case"minutes":case"minute":case"mins":case"min":case"m":return G*f;case"seconds":case"second":case"secs":case"sec":case"s":return G*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return G;default:return}}}}(T);if(D==="number"&&isFinite(T))return x.long?(I=T,(R=Math.abs(I))>=g?w(I,R,g,"day"):R>=p?w(I,R,p,"hour"):R>=f?w(I,R,f,"minute"):R>=c?w(I,R,c,"second"):I+" ms"):function(V){var U=Math.abs(V);return U>=g?Math.round(V/g)+"d":U>=p?Math.round(V/p)+"h":U>=f?Math.round(V/f)+"m":U>=c?Math.round(V/c)+"s":V+"ms"}(T);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(c=>{i[c]=r[c]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(c){let f=0;for(let p=0;p<c.length;p++)f=(f<<5)-f+c.charCodeAt(p),f|=0;return i.colors[Math.abs(f)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(Wm,Wm.exports)),Wm.exports;const Pk=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function Kw(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rk(t){if(Kw(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Kw(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const kk=["boolean","string","number"];function Dk(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||Pk(e)||kk.indexOf(typeof e)===-1&&!Array.isArray(e)&&!Rk(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Nk(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:e(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Du={};typeof globalThis<"u"?Du=globalThis:typeof window<"u"?Du=window:typeof global<"u"?Du=global:typeof self<"u"&&(Du=self);var Ok=Du;function Vk(t={}){const e=t.implementation||Ok.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(a=>i.error(a)),n.progress.subscribe(a=>i.next(Object.assign({type:"progress"},a))),n.response.subscribe(a=>{i.next(Object.assign({type:"response"},a)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function Lk(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;function r(i){return a=>{const l=a.lengthComputable?a.loaded/a.total*100:-1;n.channels.progress.publish({stage:i,percent:l,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var E1=(t,e,n)=>(n.method==="GET"||n.method==="HEAD")&&(t.isNetworkError||!1);function Mk(t){return 100*Math.pow(2,t)+100*Math.random()}const Ay=(t={})=>(e=>{const n=e.maxRetries||5,r=e.retryDelay||Mk,i=e.shouldRetry;return{onError:(a,l)=>{const c=l.options,f=c.maxRetries||n,p=c.retryDelay||r,g=c.shouldRetry||i,_=c.attemptNumber||0;if((w=c.body)!==null&&typeof w=="object"&&typeof w.pipe=="function"||!g(a,_,c)||_>=f)return a;var w;const T=Object.assign({},l,{options:Object.assign({},c,{attemptNumber:_+1})});return setTimeout(()=>l.channels.request.publish(T),p(_)),null}}})({shouldRetry:E1,...t});Ay.shouldRetry=E1;var Ig=function(t,e){return Ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ig(t,e)};function Ri(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ig(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Fk(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function f(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,f)}p((r=r.apply(t,e||[])).next())})}function T1(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(g){return f([p,g])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(g){p=[6,g],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function rl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function Ti(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Ga(t){return this instanceof Ga?(this.v=t,this):new Ga(t)}function jk(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(T){return function(x){return Promise.resolve(x).then(T,_)}}function c(T,x){r[T]&&(i[T]=function(I){return new Promise(function(R,D){a.push([T,I,R,D])>1||f(T,I)})},x&&(i[T]=x(i[T])))}function f(T,x){try{p(r[T](x))}catch(I){w(a[0][3],I)}}function p(T){T.value instanceof Ga?Promise.resolve(T.value.v).then(g,_):w(a[0][2],T)}function g(T){f("next",T)}function _(T){f("throw",T)}function w(T,x){T(x),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Uk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rl=="function"?rl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(l){return new Promise(function(c,f){l=t[a](l),i(c,f,l.done,l.value)})}}function i(a,l,c,f){Promise.resolve(f).then(function(p){a({value:p,done:c})},l)}}function ct(t){return typeof t=="function"}function by(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Km=by(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function qh(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pc=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=rl(l),f=c.next();!f.done;f=c.next()){var p=f.value;p.remove(this)}}catch(I){e={error:I}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}else l.remove(this);var g=this.initialTeardown;if(ct(g))try{g()}catch(I){a=I instanceof Km?I.errors:[I]}var _=this._finalizers;if(_){this._finalizers=null;try{for(var w=rl(_),T=w.next();!T.done;T=w.next()){var x=T.value;try{Gw(x)}catch(I){a=a??[],I instanceof Km?a=Ti(Ti([],Ei(a)),Ei(I.errors)):a.push(I)}}}catch(I){r={error:I}}finally{try{T&&!T.done&&(i=w.return)&&i.call(w)}finally{if(r)throw r.error}}}if(a)throw new Km(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Gw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&qh(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&qh(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),S1=Pc.EMPTY;function x1(t){return t instanceof Pc||t&&"closed"in t&&ct(t.remove)&&ct(t.add)&&ct(t.unsubscribe)}function Gw(t){ct(t)?t():t.unsubscribe()}var Bk={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I1={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ti([t,e],Ei(n)))},clearTimeout:function(t){var e=I1.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function C1(t){I1.setTimeout(function(){throw t})}function Qw(){}function bh(t){t()}var Py=function(t){Ri(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,x1(n)&&n.add(r)):r.destination=qk,r}return e.create=function(n,r,i){return new il(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Pc),$k=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){mh(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){mh(r)}else mh(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){mh(n)}},t}(),il=function(t){Ri(e,t);function e(n,r,i){var a=t.call(this)||this,l;return ct(n)||!n?l={next:n??void 0,error:r??void 0,complete:i??void 0}:l=n,a.destination=new $k(l),a}return e}(Py);function mh(t){C1(t)}function zk(t){throw t}var qk={closed:!0,next:Qw,error:zk,complete:Qw},Ry=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Dd(t){return t}function Hk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A1(t)}function A1(t){return t.length===0?Dd:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var _t=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,a=Kk(e)?e:new il(e,n,r);return bh(function(){var l=i,c=l.operator,f=l.source;a.add(c?c.call(a,f):f?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Xw(n),new n(function(i,a){var l=new il({next:function(c){try{e(c)}catch(f){a(f),l.unsubscribe()}},error:a,complete:i});r.subscribe(l)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Ry]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return A1(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Xw(e),new e(function(r,i){var a;n.subscribe(function(l){return a=l},function(l){return i(l)},function(){return r(a)})})},t.create=function(e){return new t(e)},t}();function Xw(t){var e;return(e=t??Bk.Promise)!==null&&e!==void 0?e:Promise}function Wk(t){return t&&ct(t.next)&&ct(t.error)&&ct(t.complete)}function Kk(t){return t&&t instanceof Py||Wk(t)&&x1(t)}function Gk(t){return ct(t==null?void 0:t.lift)}function zr(t){return function(e){if(Gk(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cs(t,e,n,r,i){return new Qk(t,e,n,r,i)}var Qk=function(t){Ri(e,t);function e(n,r,i,a,l,c){var f=t.call(this,n)||this;return f.onFinalize=l,f.shouldUnsubscribe=c,f._next=r?function(p){try{r(p)}catch(g){n.error(g)}}:t.prototype._next,f._error=a?function(p){try{a(p)}catch(g){n.error(g)}finally{this.unsubscribe()}}:t.prototype._error,f._complete=i?function(){try{i()}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._complete,f}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Py),Xk=by(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ky=function(t){Ri(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Yw(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Xk},e.prototype.next=function(n){var r=this;bh(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=rl(r.currentObservers),c=l.next();!c.done;c=l.next()){var f=c.value;f.next(n)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;bh(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;bh(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,l=i.isStopped,c=i.observers;return a||l?S1:(this.currentObservers=null,c.push(n),new Pc(function(){r.currentObservers=null,qh(c,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,l=r.isStopped;i?n.error(a):l&&n.complete()},e.prototype.asObservable=function(){var n=new _t;return n.source=this,n},e.create=function(n,r){return new Yw(n,r)},e}(_t),Yw=function(t){Ri(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:S1},e}(ky),Dy={now:function(){return(Dy.delegate||Date).now()},delegate:void 0},Yk=function(t){Ri(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Dy);var a=t.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return e.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,l=r._infiniteTimeWindow,c=r._timestampProvider,f=r._windowTime;i||(a.push(n),!l&&a.push(c.now()+f)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,l=i._buffer,c=l.slice(),f=0;f<c.length&&!n.closed;f+=a?1:2)n.next(c[f]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,l=n._infiniteTimeWindow,c=(l?1:2)*r;if(r<1/0&&c<a.length&&a.splice(0,a.length-c),!l){for(var f=i.now(),p=0,g=1;g<a.length&&a[g]<=f;g+=2)p=g;p&&a.splice(0,p+1)}},e}(ky),Jk=function(t){Ri(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Pc),Jw={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Ti([t,e],Ei(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},Zk=function(t){Ri(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,l=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(l,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(l,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Jw.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Jw.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(l){i=!0,a=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qh(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Jk),Zw=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Dy.now,t}(),e2=function(t){Ri(e,t);function e(n,r){r===void 0&&(r=Zw.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(Zw),t2=new e2(Zk),n2=t2,b1=new _t(function(t){return t.complete()});function r2(t){return t&&ct(t.schedule)}function Ny(t){return t[t.length-1]}function i2(t){return ct(Ny(t))?t.pop():void 0}function Oy(t){return r2(Ny(t))?t.pop():void 0}function s2(t,e){return typeof Ny(t)=="number"?t.pop():e}var P1=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function R1(t){return ct(t==null?void 0:t.then)}function k1(t){return ct(t[Ry])}function D1(t){return Symbol.asyncIterator&&ct(t==null?void 0:t[Symbol.asyncIterator])}function N1(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function o2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var O1=o2();function V1(t){return ct(t==null?void 0:t[O1])}function L1(t){return jk(this,arguments,function(){var n,r,i,a;return T1(this,function(l){switch(l.label){case 0:n=t.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,Ga(n.read())];case 3:return r=l.sent(),i=r.value,a=r.done,a?[4,Ga(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,Ga(i)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function M1(t){return ct(t==null?void 0:t.getReader)}function qr(t){if(t instanceof _t)return t;if(t!=null){if(k1(t))return a2(t);if(P1(t))return l2(t);if(R1(t))return u2(t);if(D1(t))return F1(t);if(V1(t))return c2(t);if(M1(t))return f2(t)}throw N1(t)}function a2(t){return new _t(function(e){var n=t[Ry]();if(ct(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function l2(t){return new _t(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function u2(t){return new _t(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,C1)})}function c2(t){return new _t(function(e){var n,r;try{for(var i=rl(t),a=i.next();!a.done;a=i.next()){var l=a.value;if(e.next(l),e.closed)return}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function F1(t){return new _t(function(e){h2(t,e).catch(function(n){return e.error(n)})})}function f2(t){return F1(L1(t))}function h2(t,e){var n,r,i,a;return Fk(this,void 0,void 0,function(){var l,c;return T1(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),n=Uk(t),f.label=1;case 1:return[4,n.next()];case 2:if(r=f.sent(),!!r.done)return[3,4];if(l=r.value,e.next(l),e.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=f.sent(),i={error:c},[3,11];case 6:return f.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function bo(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!i)return a}function j1(t,e){return e===void 0&&(e=0),zr(function(n,r){n.subscribe(Cs(r,function(i){return bo(r,t,function(){return r.next(i)},e)},function(){return bo(r,t,function(){return r.complete()},e)},function(i){return bo(r,t,function(){return r.error(i)},e)}))})}function U1(t,e){return e===void 0&&(e=0),zr(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function d2(t,e){return qr(t).pipe(U1(e),j1(e))}function p2(t,e){return qr(t).pipe(U1(e),j1(e))}function m2(t,e){return new _t(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function g2(t,e){return new _t(function(n){var r;return bo(n,e,function(){r=t[O1](),bo(n,e,function(){var i,a,l;try{i=r.next(),a=i.value,l=i.done}catch(c){n.error(c);return}l?n.complete():n.next(a)},0,!0)}),function(){return ct(r==null?void 0:r.return)&&r.return()}})}function B1(t,e){if(!t)throw new Error("Iterable cannot be null");return new _t(function(n){bo(n,e,function(){var r=t[Symbol.asyncIterator]();bo(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function y2(t,e){return B1(L1(t),e)}function v2(t,e){if(t!=null){if(k1(t))return d2(t,e);if(P1(t))return m2(t,e);if(R1(t))return p2(t,e);if(D1(t))return B1(t,e);if(V1(t))return g2(t,e);if(M1(t))return y2(t,e)}throw N1(t)}function Rc(t,e){return e?v2(t,e):qr(t)}function Nd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oy(t);return Rc(t,n)}function $1(t,e){var n=ct(t)?t:function(){return t},r=function(i){return i.error(n())};return new _t(r)}function _2(t){return!!t&&(t instanceof _t||ct(t.lift)&&ct(t.subscribe))}var z1=by(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function He(t,e){return new Promise(function(n,r){var i=!1,a;t.subscribe({next:function(l){a=l,i=!0},error:r,complete:function(){i?n(a):r(new z1)}})})}function eE(t,e){return new Promise(function(n,r){var i=new il({next:function(a){n(a),i.unsubscribe()},error:r,complete:function(){r(new z1)}});t.subscribe(i)})}function w2(t){return t instanceof Date&&!isNaN(t)}function on(t,e){return zr(function(n,r){var i=0;n.subscribe(Cs(r,function(a){r.next(t.call(e,a,i++))}))})}var E2=Array.isArray;function T2(t,e){return E2(e)?t.apply(void 0,Ti([],Ei(e))):t(e)}function S2(t){return on(function(e){return T2(t,e)})}function x2(t,e,n){return n===void 0&&(n=Dd),function(r){tE(e,function(){for(var i=t.length,a=new Array(i),l=i,c=i,f=function(g){tE(e,function(){var _=Rc(t[g],e),w=!1;_.subscribe(Cs(r,function(T){a[g]=T,w||(w=!0,c--),c||r.next(n(a.slice()))},function(){--l||r.complete()}))},r)},p=0;p<i;p++)f(p)})}}function tE(t,e,n){e()}function I2(t,e,n,r,i,a,l,c){var f=[],p=0,g=0,_=!1,w=function(){_&&!f.length&&!p&&e.complete()},T=function(I){return p<r?x(I):f.push(I)},x=function(I){p++;var R=!1;qr(n(I,g++)).subscribe(Cs(e,function(D){e.next(D)},function(){R=!0},void 0,function(){if(R)try{p--;for(var D=function(){var V=f.shift();l||x(V)};f.length&&p<r;)D();w()}catch(V){e.error(V)}}))};return t.subscribe(Cs(e,T,function(){_=!0,w()})),function(){}}function kc(t,e,n){return n===void 0&&(n=1/0),ct(e)?kc(function(r,i){return on(function(a,l){return e(r,a,i,l)})(qr(t(r,i)))},n):(typeof e=="number"&&(n=e),zr(function(r,i){return I2(r,i,t,n)}))}function q1(t){return t===void 0&&(t=1/0),kc(Dd,t)}function C2(){return q1(1)}function H1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C2()(Rc(t,Oy(t)))}function W1(t){return new _t(function(e){qr(t()).subscribe(e)})}function A2(t,e,n){return n===void 0&&(n=n2),new _t(function(r){var i=w2(t)?1e3-n.now():t;i<0&&(i=0);var a=0;return n.schedule(function(){r.closed||(r.next(a++),r.complete())},i)})}function b2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oy(t),r=s2(t,1/0),i=t;return i.length?i.length===1?qr(i[0]):q1(r)(Rc(i,n)):b1}var P2=Array.isArray;function R2(t){return t.length===1&&P2(t[0])?t[0]:t}function Tl(t,e){return zr(function(n,r){var i=0;n.subscribe(Cs(r,function(a){return t.call(e,a,i++)&&r.next(a)}))})}function Vy(t){return zr(function(e,n){var r=null,i=!1,a;r=e.subscribe(Cs(n,void 0,void 0,function(l){a=qr(t(l,Vy(t)(e))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function K1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i2(t);return n?Hk(K1.apply(void 0,Ti([],Ei(t))),S2(n)):zr(function(r,i){x2(Ti([r],Ei(R2(t))))(i)})}function k2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return K1.apply(void 0,Ti([],Ei(t)))}function G1(t){return zr(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function Q1(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new ky}:e,r=t.resetOnError,i=r===void 0?!0:r,a=t.resetOnComplete,l=a===void 0?!0:a,c=t.resetOnRefCountZero,f=c===void 0?!0:c;return function(p){var g,_,w,T=0,x=!1,I=!1,R=function(){_==null||_.unsubscribe(),_=void 0},D=function(){R(),g=w=void 0,x=I=!1},V=function(){var U=g;D(),U==null||U.unsubscribe()};return zr(function(U,G){T++,!I&&!x&&R();var J=w=w??n();G.add(function(){T--,T===0&&!I&&!x&&(_=Gm(V,f))}),J.subscribe(G),!g&&T>0&&(g=new il({next:function(Z){return J.next(Z)},error:function(Z){I=!0,R(),_=Gm(D,i,Z),J.error(Z)},complete:function(){x=!0,R(),_=Gm(D,l),J.complete()}}),qr(U).subscribe(g))})(p)}}function Gm(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new il({next:function(){i.unsubscribe(),t()}});return qr(e.apply(void 0,Ti([],Ei(n)))).subscribe(i)}}function D2(t,e,n){var r,i=!1;return r=t,Q1({connector:function(){return new Yk(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function N2(t,e,n){var r=ct(t)||e||n?{next:t,error:e,complete:n}:t;return r?zr(function(i,a){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var c=!0;i.subscribe(Cs(a,function(f){var p;(p=r.next)===null||p===void 0||p.call(r,f),a.next(f)},function(){var f;c=!1,(f=r.complete)===null||f===void 0||f.call(r),a.complete()},function(f){var p;c=!1,(p=r.error)===null||p===void 0||p.call(r,f),a.error(f)},function(){var f,p;c&&((f=r.unsubscribe)===null||f===void 0||f.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):Dd}var X1={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Ly={0:8203,1:8204,2:8205,3:65279},O2=new Array(4).fill(String.fromCodePoint(Ly[0])).join("");function V2(t){let e=JSON.stringify(t);return`${O2}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Ly[i])).join("")}).join("")}`}function L2(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function M2(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function w$(t,e,n="auto"){return n===!0||n==="auto"&&(L2(t)||M2(t))?t:`${t}${V2(e)}`}Object.fromEntries(Object.entries(Ly).map(t=>t.reverse()));Object.fromEntries(Object.entries(X1).map(t=>t.reverse()));var F2=`${Object.values(X1).map(t=>`\\u{${t.toString(16)}}`).join("")}`,nE=new RegExp(`[${F2}]{4,}`,"gu");function j2(t){var e;return{cleaned:t.replace(nE,""),encoded:((e=t.match(nE))==null?void 0:e[0])||""}}function U2(t){return t&&JSON.parse(j2(JSON.stringify(t)).cleaned)}function B2(t){return U2(t)}const $2="drafts",z2="versions",sl=".",Hh=`${$2}${sl}`,Y1=`${z2}${sl}`;function Od(t){return t.startsWith(Hh)}function Vd(t){return t.startsWith(Y1)}function q2(t){if(Vd(t)){const e=Md(t);return Hh+e}return Od(t)?t:Hh+t}function Ld(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${Y1}${e}${sl}${Md(t)}`}function J1(t){if(!Vd(t))return;const[e,n,...r]=t.split(sl);return n}function Md(t){return Vd(t)?t.split(sl).slice(2).join(sl):Od(t)?t.slice(Hh.length):t}let H2=t=>crypto.getRandomValues(new Uint8Array(t)),W2=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(a=e)=>{let l="";for(;;){let c=n(i),f=i|0;for(;f--;)if(l+=t[c[f]&r]||"",l.length===a)return l}}},K2=(t,e=21)=>W2(t,e,H2);class G2 extends Error{constructor(n){const r=Z1(n);super(r.message);Te(this,"response");Te(this,"statusCode",400);Te(this,"responseBody");Te(this,"details");Object.assign(this,r)}}class Q2 extends Error{constructor(n){const r=Z1(n);super(r.message);Te(this,"response");Te(this,"statusCode",500);Te(this,"responseBody");Te(this,"details");Object.assign(this,r)}}function Z1(t){const e=t.body,n={response:t,statusCode:t.statusCode,responseBody:Z2(e,t),message:"",details:void 0};if(e.error&&e.message)return n.message=`${e.error} - ${e.message}`,n;if(X2(e)||Y2(e)){const r=e.error.items||[],i=r.slice(0,5).map(l=>{var c;return(c=l.error)==null?void 0:c.description}).filter(Boolean);let a=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(a+=`
...and ${r.length-5} more`),n.message=`${e.error.description}${a}`,n.details=e.error,n}return e.error&&e.error.description?(n.message=e.error.description,n.details=e.error,n):(n.message=e.error||e.message||J2(t),n)}function X2(t){return Wh(t)&&Wh(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function Y2(t){return Wh(t)&&Wh(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function Wh(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function J2(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function Z2(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}class eD extends Error{constructor({projectId:n}){super("CorsOriginError");Te(this,"projectId");Te(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const tD={onResponse:t=>{if(t.statusCode>=500)throw new Q2(t);if(t.statusCode>=400)throw new G2(t);return t}};function nD(){const t={};return{onResponse:e=>{const n=e.headers["x-sanity-warning"],r=Array.isArray(n)?n:[n];for(const i of r)!i||t[i]||(t[i]=!0,console.warn(i));return e}}}function rE(t){return Ak([Ay({shouldRetry:rD}),...t,nD(),Dk(),Nk(),Lk(),tD,Vk({implementation:_t})])}function rD(t,e,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),a=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||i)&&a?!0:Ay.shouldRetry(t,e,n)}const iD="https://www.sanity.io/help/";function My(t){return iD+t}const iE=["image","file"],sE=["before","after","replace"],ex=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},sD=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},oD=t=>{if(iE.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${iE.join(", ")}`)},Uu=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},tx=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},ol=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);tx(t,e._id)},aD=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},nx=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);aD(t,e._type)},lD=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},uD=(t,e,n)=>{const r="insert(at, selector, items)";if(sE.indexOf(t)===-1){const i=sE.map(a=>`"${a}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},Dc=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},rx=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},ix=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},Rr=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function cD(t){let e=!1,n;return(...r)=>(e||(n=t(...r),e=!0),n)}const Mo=t=>cD((...e)=>console.warn(t.join(" "),...e)),fD=Mo(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),hD=Mo(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),dD=Mo(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),pD=Mo(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),mD=Mo(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${My("js-client-browser-token")} for more information and how to hide this warning.`]),gD=Mo(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),yD=Mo(["Using the Sanity client without specifying an API version is deprecated.",`See ${My("js-client-api-version")}`]),vD="apicdn.sanity.io",Bu={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},_D=["localhost","127.0.0.1","0.0.0.0"],wD=t=>_D.indexOf(t)!==-1;function ED(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function sx(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const ox=(t,e)=>{const n={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Bu.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};n.apiVersion||yD();const r={...Bu,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const w=My("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${w}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&ix(r),typeof r.perspective<"u"&&sx(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const a=typeof window<"u"&&window.location&&window.location.hostname,l=a&&wD(window.location.hostname),c=!!r.token;r.withCredentials&&c&&(gD(),r.withCredentials=!1),a&&l&&c&&r.ignoreBrowserTokenWarning!==!0?mD():typeof r.useCdn>"u"&&hD(),i&&sD(r.projectId),r.dataset&&ex(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?rx(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Bu.apiHost,r.useCdn===!0&&r.withCredentials&&fD(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,ED(r.apiVersion);const f=r.apiHost.split("://",2),p=f[0],g=f[1],_=r.isDefaultApi?vD:g;return i?(r.url=`${p}://${r.projectId}.${g}/v${r.apiVersion}`,r.cdnUrl=`${p}://${r.projectId}.${_}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class ax extends Error{constructor(){super(...arguments);Te(this,"name","ConnectionFailedError")}}class TD extends Error{constructor(n,r,i={}){super(n,i);Te(this,"name","DisconnectError");Te(this,"reason");this.reason=r}}class SD extends Error{constructor(n,r){super(n);Te(this,"name","ChannelError");Te(this,"data");this.data=r}}class xD extends Error{constructor(n,r,i={}){super(n,i);Te(this,"name","MessageError");Te(this,"data");this.data=r}}class oE extends Error{constructor(){super(...arguments);Te(this,"name","MessageParseError")}}const ID=["channelError","disconnect"];function lx(t,e){return W1(()=>{const n=t();return _2(n)?n:Nd(n)}).pipe(kc(n=>CD(n,e)))}function CD(t,e){return new _t(n=>{const r=e.includes("open"),i=e.includes("reconnect");function a(p){if("data"in p){const[g,_]=aE(p);n.error(g?new oE("Unable to parse EventSource error message",{cause:_}):new xD((_==null?void 0:_.data).message,_));return}t.readyState===t.CLOSED?n.error(new ax("EventSource connection failed")):i&&n.next({type:"reconnect"})}function l(){n.next({type:"open"})}function c(p){var w;const[g,_]=aE(p);if(g){n.error(new oE("Unable to parse EventSource message",{cause:g}));return}if(p.type==="channelError"){n.error(new SD(AD(_==null?void 0:_.data),_.data));return}if(p.type==="disconnect"){n.error(new TD(`Server disconnected client: ${((w=_.data)==null?void 0:w.reason)||"unknown error"}`));return}n.next({type:p.type,id:p.lastEventId,..._.data?{data:_.data}:{}})}t.addEventListener("error",a),r&&t.addEventListener("open",l);const f=[...new Set([...ID,...e])].filter(p=>p!=="error"&&p!=="open"&&p!=="reconnect");return f.forEach(p=>t.addEventListener(p,c)),()=>{t.removeEventListener("error",a),r&&t.removeEventListener("open",l),f.forEach(p=>t.removeEventListener(p,c)),t.close()}})}function aE(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...bD(e)?{}:{data:e}}]}catch(e){return[e,null]}}function AD(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function bD(t){for(const e in t)return!1;return!0}function ux(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class cx{constructor(e,n={}){Te(this,"selection");Te(this,"operations");this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Uu("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return uD(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after",`${e}[-1]`,n)}prepend(e,n){return this.insert("before",`${e}[0]`,n)}splice(e,n,r,i){const a=typeof r>"u"||r===-1,l=n<0?n-1:n,c=a?-1:Math.max(0,n+r),f=l<0&&c>=0?"":c,p=`${e}[${l}:${f}]`;return this.insert("replace",p,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...ux(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n,r=!0){return Uu(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}}var To;const c_=class c_ extends cx{constructor(n,r,i){super(n,r);Le(this,To);Ve(this,To,i)}clone(){return new c_(this.selection,{...this.operations},q(this,To))}commit(n){if(!q(this,To))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return q(this,To).mutate({patch:this.serialize()},i)}};To=new WeakMap;let Po=c_;var So;const f_=class f_ extends cx{constructor(n,r,i){super(n,r);Le(this,So);Ve(this,So,i)}clone(){return new f_(this.selection,{...this.operations},q(this,So))}commit(n){if(!q(this,So))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return q(this,So).mutate({patch:this.serialize()},i)}};So=new WeakMap;let vs=f_;const fx={returnDocuments:!1};class hx{constructor(e=[],n){Te(this,"operations");Te(this,"trxId");this.operations=e,this.trxId=n}create(e){return Uu("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return Uu(n,e),ol(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return Uu(n,e),ol(n,e),this._add({[n]:e})}delete(e){return tx("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var ci;const h_=class h_ extends hx{constructor(n,r,i){super(n,i);Le(this,ci);Ve(this,ci,r)}clone(){return new h_([...this.operations],q(this,ci),this.trxId)}commit(n){if(!q(this,ci))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return q(this,ci).mutate(this.serialize(),Object.assign({transactionId:this.trxId},fx,n||{}))}patch(n,r){const i=typeof r=="function",a=typeof n!="string"&&n instanceof vs,l=typeof n=="object"&&("query"in n||"id"in n);if(a)return this._add({patch:n.serialize()});if(i){const c=r(new vs(n,{},q(this,ci)));if(!(c instanceof vs))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:c.serialize()})}if(l){const c=new vs(n,r||{},q(this,ci));return this._add({patch:c.serialize()})}return this._add({patch:{id:n,...r}})}};ci=new WeakMap;let Kh=h_;var fs;const d_=class d_ extends hx{constructor(n,r,i){super(n,i);Le(this,fs);Ve(this,fs,r)}clone(){return new d_([...this.operations],q(this,fs),this.trxId)}commit(n){if(!q(this,fs))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return q(this,fs).mutate(this.serialize(),Object.assign({transactionId:this.trxId},fx,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof Po)return this._add({patch:n.serialize()});if(i){const a=r(new Po(n,{},q(this,fs)));if(!(a instanceof Po))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}return this._add({patch:{id:n,...r}})}};fs=new WeakMap;let Gh=d_;const PD="X-Sanity-Project-ID";function RD(t,e={}){const n={};t.headers&&Object.assign(n,t.headers);const r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[PD]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),a=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof a>"u"?5*60*1e3:a,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const dx=({query:t,params:e={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:a,returnQuery:l,...c}=n;i&&r.append("tag",i),r.append("query",t);for(const[f,p]of Object.entries(e))r.append(`$${f}`,JSON.stringify(p));for(const[f,p]of Object.entries(c))p&&r.append(f,`${p}`);return l===!1&&r.append("returnQuery","false"),a===!1&&r.append("includeMutations","false"),`?${r}`},kD=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,DD=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:kD(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),Fy=t=>t.type==="response",ND=t=>t.body,OD=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),VD=11264;function px(t,e,n,r,i={},a={}){const l="stega"in a?{...n||{},...typeof a.stega=="boolean"?{enabled:a.stega}:a.stega||{}}:n,c=l.enabled?B2(i):i,f=a.filterResponse===!1?x=>x:x=>x.result,{cache:p,next:g,..._}={useAbortSignal:typeof a.signal<"u",resultSourceMap:l.enabled?"withKeyArraySelector":a.resultSourceMap,...a,returnQuery:a.filterResponse===!1&&a.returnQuery!==!1},w=typeof p<"u"||typeof g<"u"?{..._,fetch:{cache:p,next:g}}:_,T=Fo(t,e,"query",{query:r,params:c},w);return l.enabled?T.pipe(k2(Rc(m1(()=>import("./stegaEncodeSourceMap-HLsAJovi.js"),[]).then(function(x){return x.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:x})=>x))),on(([x,I])=>{const R=I(x.result,x.resultSourceMap,l);return f({...x,result:R})})):T.pipe(on(f))}function Fd(t,e,n,r={}){const i=(()=>{if(!r.releaseId)return n;const l=J1(n);if(!l){if(Od(n))throw new Error(`The document ID (\`${n}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return Ld(n,r.releaseId)}if(l!==r.releaseId)throw new Error(`The document ID (\`${n}\`) is already a version of \`${l}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return n})(),a={uri:Zn(t,"doc",i),json:!0,tag:r.tag,signal:r.signal};return Oc(t,e,a).pipe(Tl(Fy),on(l=>l.body.documents&&l.body.documents[0]))}function mx(t,e,n,r={}){const i={uri:Zn(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return Oc(t,e,i).pipe(Tl(Fy),on(a=>{const l=OD(a.body.documents||[],c=>c._id);return n.map(c=>l[c]||null)}))}function gx(t,e,n,r={}){return Fo(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:n}},r)}function yx(t,e,n,r){return ol("createIfNotExists",n),jd(t,e,n,"createIfNotExists",r)}function vx(t,e,n,r){return ol("createOrReplace",n),jd(t,e,n,"createOrReplace",r)}function _x(t,e,n,r,i){return ol("createVersion",n),nx("createVersion",n),yt(t,e,{actionType:"sanity.action.document.version.create",publishedId:r,document:n},i)}function wx(t,e,n,r){return Fo(t,e,"mutate",{mutations:[{delete:ux(n)}]},r)}function Ex(t,e,n,r=!1,i){return yt(t,e,{actionType:"sanity.action.document.version.discard",versionId:n,purge:r},i)}function Tx(t,e,n,r){return ol("replaceVersion",n),nx("replaceVersion",n),yt(t,e,{actionType:"sanity.action.document.version.replace",document:n},r)}function Sx(t,e,n,r,i){return yt(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:n,publishedId:r},i)}function xx(t,e,n,r){let i;n instanceof vs||n instanceof Po?i={patch:n.serialize()}:n instanceof Kh||n instanceof Gh?i=n.serialize():i=n;const a=Array.isArray(i)?i:[i],l=r&&r.transactionId||void 0;return Fo(t,e,"mutate",{mutations:a,transactionId:l},r)}function yt(t,e,n,r){const i=Array.isArray(n)?n:[n],a=r&&r.transactionId||void 0,l=r&&r.skipCrossDatasetReferenceValidation||void 0,c=r&&r.dryRun||void 0;return Fo(t,e,"actions",{actions:i,transactionId:a,skipCrossDatasetReferenceValidation:l,dryRun:c},r)}function Fo(t,e,n,r,i={}){const a=n==="mutate",l=n==="actions",c=n==="query",f=a||l?"":dx(r),p=!a&&!l&&f.length<VD,g=p?f:"",_=i.returnFirst,{timeout:w,token:T,tag:x,headers:I,returnQuery:R,lastLiveEventId:D,cacheMode:V}=i,U=Zn(t,n,g),G={method:p?"GET":"POST",uri:U,json:!0,body:p?void 0:r,query:a&&DD(i),timeout:w,headers:I,token:T,tag:x,returnQuery:R,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(D)?D[0]:D,cacheMode:V,canUseCdn:c,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Oc(t,e,G).pipe(Tl(Fy),on(ND),on(J=>{if(!a)return J;const Z=J.results||[];if(i.returnDocuments)return _?Z[0]&&Z[0].document:Z.map(N=>N.document);const O=_?"documentId":"documentIds",A=_?Z[0]&&Z[0].id:Z.map(N=>N.id);return{transactionId:J.transactionId,results:Z,[O]:A}}))}function jd(t,e,n,r,i={}){const a={[r]:n},l=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Fo(t,e,"mutate",{mutations:[a]},l)}const Nc=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,Ix=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"query")),LD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"mutate")),MD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"doc","")),FD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"listen")),jD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"history","")),UD=(t,e)=>e.startsWith("/data/")||Ix(t,e)||LD(t,e)||MD(t,e)||FD(t,e)||jD(t,e);function Oc(t,e,n){const r=n.url||n.uri,i=t.config(),a=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&UD(t,r):n.canUseCdn;let l=(n.useCdn??i.useCdn)&&a;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:rx(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&Ix(t,r)){const g=n.resultSourceMap??i.resultSourceMap;g!==void 0&&g!==!1&&(n.query={resultSourceMap:g,...n.query});const _=n.perspective||i.perspective;typeof _<"u"&&(_==="previewDrafts"&&pD(),sx(_),n.query={perspective:Array.isArray(_)?_.join(","):_,...n.query},(Array.isArray(_)&&_.length>0||_==="previewDrafts"||_==="drafts")&&l&&(l=!1,dD())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),l&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const f=RD(i,Object.assign({},n,{url:jy(t,r,l)})),p=new _t(g=>e(f,i.requester).subscribe(g));return n.signal?p.pipe(BD(n.signal)):p}function Cn(t,e,n){return Oc(t,e,n).pipe(Tl(r=>r.type==="response"),on(r=>r.body))}function Zn(t,e,n){const r=t.config();if(r["~experimental_resource"]){ix(r);const l=qD(r),c=n!==void 0?`${e}/${n}`:e;return`${l}/${c}`.replace(/\/($|\?)/,"$1")}const i=Dc(r),a=`/${e}/${i}`;return`/data${n!==void 0?`${a}/${n}`:a}`.replace(/\/($|\?)/,"$1")}function jy(t,e,n=!1){const{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}function BD(t){return e=>new _t(n=>{const r=()=>n.error(zD(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const $D=!!globalThis.DOMException;function zD(t){if($D)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}const qD=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function Cx(t,e,n){const r=Dc(t.config());return Cn(t,e,{method:"POST",uri:`/agent/action/generate/${r}`,body:n})}function Ax(t,e,n){const r=Dc(t.config());return Cn(t,e,{method:"POST",uri:`/agent/action/transform/${r}`,body:n})}function bx(t,e,n){const r=Dc(t.config());return Cn(t,e,{method:"POST",uri:`/agent/action/translate/${r}`,body:n})}var xo,Io;class HD{constructor(e,n){Le(this,xo);Le(this,Io);Ve(this,xo,e),Ve(this,Io,n)}generate(e){return Cx(q(this,xo),q(this,Io),e)}transform(e){return Ax(q(this,xo),q(this,Io),e)}translate(e){return bx(q(this,xo),q(this,Io),e)}}xo=new WeakMap,Io=new WeakMap;var Co,Ao;class WD{constructor(e,n){Le(this,Co);Le(this,Ao);Ve(this,Co,e),Ve(this,Ao,n)}generate(e){return He(Cx(q(this,Co),q(this,Ao),e))}transform(e){return He(Ax(q(this,Co),q(this,Ao),e))}translate(e){return He(bx(q(this,Co),q(this,Ao),e))}}Co=new WeakMap,Ao=new WeakMap;var yc,vc;class KD{constructor(e,n){Le(this,yc);Le(this,vc);Ve(this,yc,e),Ve(this,vc,n)}upload(e,n,r){return Px(q(this,yc),q(this,vc),e,n,r)}}yc=new WeakMap,vc=new WeakMap;var _c,wc;class GD{constructor(e,n){Le(this,_c);Le(this,wc);Ve(this,_c,e),Ve(this,wc,n)}upload(e,n,r){const i=Px(q(this,_c),q(this,wc),e,n,r);return He(i.pipe(Tl(a=>a.type==="response"),on(a=>a.body.document)))}}_c=new WeakMap,wc=new WeakMap;function Px(t,e,n,r,i={}){oD(n);let a=i.extract||void 0;a&&!a.length&&(a=["none"]);const l=t.config(),c=XD(i,r),{tag:f,label:p,title:g,description:_,creditLine:w,filename:T,source:x}=c,I={label:p,title:g,description:_,filename:T,meta:a,creditLine:w};return x&&(I.sourceId=x.id,I.sourceName=x.name,I.sourceUrl=x.url),Oc(t,e,{tag:f,method:"POST",timeout:c.timeout||0,uri:QD(l,n),headers:c.contentType?{"Content-Type":c.contentType}:{},query:I,body:r})}function QD(t,e){const n=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:a}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${a}/assets/${n}`;case"media-library":return`/media-libraries/${a}/upload`;case"dashboard":return`/dashboards/${a}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=Dc(t);return`assets/${n}/${r}`}function XD(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var YD=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const JD=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),Rx=W1(()=>m1(()=>import("./browser-CkGvl_pv.js").then(t=>t.b),[])).pipe(on(({default:t})=>t),D2(1));function kx(){return function(t){return t.pipe(Vy((e,n)=>e instanceof ax?H1(Nd({type:"reconnect"}),A2(1e3).pipe(kc(()=>n))):$1(()=>e)))}}const ZD=14800,eN=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],tN={includeResult:!0};function Dx(t,e,n={}){const{url:r,token:i,withCredentials:a,requestTagPrefix:l}=this.config(),c=n.tag&&l?[l,n.tag].join("."):n.tag,f={...YD(n,tN),tag:c},p=JD(f,eN),g=dx({query:t,params:e,options:{tag:c,...p}}),_=`${r}${Zn(this,"listen",g)}`;if(_.length>ZD)return $1(()=>new Error("Query too large for listener"));const w=f.events?f.events:["mutation"],T={};return a&&(T.withCredentials=!0),i&&(T.headers={Authorization:`Bearer ${i}`}),lx(()=>(typeof EventSource>"u"||T.headers?Rx:Nd(EventSource)).pipe(on(x=>new x(_,T))),w).pipe(kx(),Tl(x=>w.includes(x.type)),on(x=>({type:x.type,..."data"in x?x.data:{}})))}function nN(t,e){return rN(typeof t=="function"?{predicate:t,...e}:t)}function rN(t){return e=>{let n,r=!1;const{predicate:i,...a}=t,l=e.pipe(N2(f=>{t.predicate(f)&&(r=!0,n=f)}),G1(()=>{r=!1,n=void 0}),Q1(a)),c=new _t(f=>{r&&f.next(n),f.complete()});return b2(l,c)}}const lE="2021-03-25";var hs;class Nx{constructor(e){Le(this,hs);Ve(this,hs,e)}events({includeDrafts:e=!1,tag:n}={}){Rr("live",q(this,hs).config());const{projectId:r,apiVersion:i,token:a,withCredentials:l,requestTagPrefix:c}=q(this,hs).config(),f=i.replace(/^v/,"");if(f!=="X"&&f<lE)throw new Error(`The live events API requires API version ${lE} or later. The current API version is ${f}. Please update your API version to use this feature.`);if(e&&!a&&!l)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const p=Zn(q(this,hs),"live/events"),g=new URL(q(this,hs).getUrl(p,!1)),_=n&&c?[c,n].join("."):n;_&&g.searchParams.set("tag",_),e&&g.searchParams.set("includeDrafts","true");const w={};e&&a&&(w.headers={Authorization:`Bearer ${a}`}),e&&l&&(w.withCredentials=!0);const T=`${g.href}::${JSON.stringify(w)}`,x=Qm.get(T);if(x)return x;const I=lx(()=>(typeof EventSource>"u"||w.headers?Rx:Nd(EventSource)).pipe(on(V=>new V(g.href,w))),["message","restart","welcome","reconnect","goaway"]).pipe(kx(),on(V=>{if(V.type==="message"){const{data:U,...G}=V;return{...G,tags:U.tags}}return V})),R=iN(g,{method:"OPTIONS",mode:"cors",credentials:w.withCredentials?"include":"omit",headers:w.headers}).pipe(kc(()=>b1),Vy(()=>{throw new eD({projectId:r})})),D=H1(R,I).pipe(G1(()=>Qm.delete(T)),nN({predicate:V=>V.type==="welcome"}));return Qm.set(T,D),D}}hs=new WeakMap;function iN(t,e){return new _t(n=>{const r=new AbortController,i=r.signal;return fetch(t,{...e,signal:r.signal}).then(a=>{n.next(a),n.complete()},a=>{i.aborted||n.error(a)}),()=>r.abort()})}const Qm=new Map;var ds,ps;class sN{constructor(e,n){Le(this,ds);Le(this,ps);Ve(this,ds,e),Ve(this,ps,n)}create(e,n){return Qa(q(this,ds),q(this,ps),"PUT",e,n)}edit(e,n){return Qa(q(this,ds),q(this,ps),"PATCH",e,n)}delete(e){return Qa(q(this,ds),q(this,ps),"DELETE",e)}list(){return Cn(q(this,ds),q(this,ps),{uri:"/datasets",tag:null})}}ds=new WeakMap,ps=new WeakMap;var Qn,ms;class oN{constructor(e,n){Le(this,Qn);Le(this,ms);Ve(this,Qn,e),Ve(this,ms,n)}create(e,n){return Rr("dataset",q(this,Qn).config()),He(Qa(q(this,Qn),q(this,ms),"PUT",e,n))}edit(e,n){return Rr("dataset",q(this,Qn).config()),He(Qa(q(this,Qn),q(this,ms),"PATCH",e,n))}delete(e){return Rr("dataset",q(this,Qn).config()),He(Qa(q(this,Qn),q(this,ms),"DELETE",e))}list(){return Rr("dataset",q(this,Qn).config()),He(Cn(q(this,Qn),q(this,ms),{uri:"/datasets",tag:null}))}}Qn=new WeakMap,ms=new WeakMap;function Qa(t,e,n,r,i){return Rr("dataset",t.config()),ex(r),Cn(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var gs,tl;class aN{constructor(e,n){Le(this,gs);Le(this,tl);Ve(this,gs,e),Ve(this,tl,n)}list(e){Rr("projects",q(this,gs).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Cn(q(this,gs),q(this,tl),{uri:n})}getById(e){return Rr("projects",q(this,gs).config()),Cn(q(this,gs),q(this,tl),{uri:`/projects/${e}`})}}gs=new WeakMap,tl=new WeakMap;var ys,nl;class lN{constructor(e,n){Le(this,ys);Le(this,nl);Ve(this,ys,e),Ve(this,nl,n)}list(e){Rr("projects",q(this,ys).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return He(Cn(q(this,ys),q(this,nl),{uri:n}))}getById(e){return Rr("projects",q(this,ys).config()),He(Cn(q(this,ys),q(this,nl),{uri:`/projects/${e}`}))}}ys=new WeakMap,nl=new WeakMap;const uE=K2("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),Qh=(t,e)=>e?Ld(t,e):q2(t);function Xh(t,{releaseId:e,publishedId:n,document:r}){if(n&&r._id){const i=Qh(n,e);return lD(i,r),i}if(r._id){const i=Od(r._id),a=Vd(r._id);if(!i&&!a)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const l=J1(r._id);if(l!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${l}\`).`)}return r._id}if(n)return Qh(n,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}const uN=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){const{releaseId:n=uE(),metadata:r={}}=t;return[n,r,e]}return[uE(),{},t]},Ox=(t,e)=>{const[n,r,i]=uN(t,e),a={...r,releaseType:r.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:n,metadata:a},options:i}};var En,Tn;class cN{constructor(e,n){Le(this,En);Le(this,Tn);Ve(this,En,e),Ve(this,Tn,n)}get({releaseId:e},n){return Fd(q(this,En),q(this,Tn),`_.releases.${e}`,n)}create(e,n){const{action:r,options:i}=Ox(e,n),{releaseId:a,metadata:l}=r;return yt(q(this,En),q(this,Tn),r,i).pipe(on(c=>({...c,releaseId:a,metadata:l})))}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return yt(q(this,En),q(this,Tn),i,r)}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return yt(q(this,En),q(this,Tn),r,n)}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return yt(q(this,En),q(this,Tn),r,n)}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return yt(q(this,En),q(this,Tn),r,n)}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return yt(q(this,En),q(this,Tn),i,r)}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return yt(q(this,En),q(this,Tn),r,n)}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return yt(q(this,En),q(this,Tn),r,n)}fetchDocuments({releaseId:e},n){return gx(q(this,En),q(this,Tn),e,n)}}En=new WeakMap,Tn=new WeakMap;var Sn,xn;class fN{constructor(e,n){Le(this,Sn);Le(this,xn);Ve(this,Sn,e),Ve(this,xn,n)}get({releaseId:e},n){return He(Fd(q(this,Sn),q(this,xn),`_.releases.${e}`,n))}async create(e,n){const{action:r,options:i}=Ox(e,n),{releaseId:a,metadata:l}=r;return{...await He(yt(q(this,Sn),q(this,xn),r,i)),releaseId:a,metadata:l}}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return He(yt(q(this,Sn),q(this,xn),i,r))}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return He(yt(q(this,Sn),q(this,xn),r,n))}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return He(yt(q(this,Sn),q(this,xn),r,n))}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return He(yt(q(this,Sn),q(this,xn),r,n))}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return He(yt(q(this,Sn),q(this,xn),i,r))}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return He(yt(q(this,Sn),q(this,xn),r,n))}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return He(yt(q(this,Sn),q(this,xn),r,n))}fetchDocuments({releaseId:e},n){return He(gx(q(this,Sn),q(this,xn),e,n))}}Sn=new WeakMap,xn=new WeakMap;var Ec,Tc;class hN{constructor(e,n){Le(this,Ec);Le(this,Tc);Ve(this,Ec,e),Ve(this,Tc,n)}getById(e){return Cn(q(this,Ec),q(this,Tc),{uri:`/users/${e}`})}}Ec=new WeakMap,Tc=new WeakMap;var Sc,xc;class dN{constructor(e,n){Le(this,Sc);Le(this,xc);Ve(this,Sc,e),Ve(this,xc,n)}getById(e){return He(Cn(q(this,Sc),q(this,xc),{uri:`/users/${e}`}))}}Sc=new WeakMap,xc=new WeakMap;var fi,it;const Ad=class Ad{constructor(e,n=Bu){Te(this,"assets");Te(this,"datasets");Te(this,"live");Te(this,"projects");Te(this,"users");Te(this,"agent");Te(this,"releases");Le(this,fi);Le(this,it);Te(this,"listen",Dx);this.config(n),Ve(this,it,e),this.assets=new KD(this,q(this,it)),this.datasets=new sN(this,q(this,it)),this.live=new Nx(this),this.projects=new aN(this,q(this,it)),this.users=new hN(this,q(this,it)),this.agent={action:new HD(this,q(this,it))},this.releases=new cN(this,q(this,it))}clone(){return new Ad(q(this,it),this.config())}config(e){if(e===void 0)return{...q(this,fi)};if(q(this,fi)&&q(this,fi).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Ve(this,fi,ox(e,q(this,fi)||{})),this}withConfig(e){const n=this.config();return new Ad(q(this,it),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return px(this,q(this,it),q(this,fi).stega,e,n,r)}getDocument(e,n){return Fd(this,q(this,it),e,n)}getDocuments(e,n){return mx(this,q(this,it),e,n)}create(e,n){return jd(this,q(this,it),e,"create",n)}createIfNotExists(e,n){return yx(this,q(this,it),e,n)}createOrReplace(e,n){return vx(this,q(this,it),e,n)}createVersion({document:e,publishedId:n,releaseId:r},i){const a=Xh("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Md(e._id);return _x(this,q(this,it),l,c,i)}delete(e,n){return wx(this,q(this,it),e,n)}discardVersion({releaseId:e,publishedId:n},r,i){const a=Qh(n,e);return Ex(this,q(this,it),a,r,i)}replaceVersion({document:e,publishedId:n,releaseId:r},i){const a=Xh("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a};return Tx(this,q(this,it),l,i)}unpublishVersion({releaseId:e,publishedId:n},r){const i=Ld(n,e);return Sx(this,q(this,it),i,n,r)}mutate(e,n){return xx(this,q(this,it),e,n)}patch(e,n){return new Po(e,n,this)}transaction(e){return new Gh(e,this)}action(e,n){return yt(this,q(this,it),e,n)}request(e){return Cn(this,q(this,it),e)}getUrl(e,n){return jy(this,e,n)}getDataUrl(e,n){return Zn(this,e,n)}};fi=new WeakMap,it=new WeakMap;let Cg=Ad;var hi,tt;const bd=class bd{constructor(e,n=Bu){Te(this,"assets");Te(this,"datasets");Te(this,"live");Te(this,"projects");Te(this,"users");Te(this,"agent");Te(this,"releases");Te(this,"observable");Le(this,hi);Le(this,tt);Te(this,"listen",Dx);this.config(n),Ve(this,tt,e),this.assets=new GD(this,q(this,tt)),this.datasets=new oN(this,q(this,tt)),this.live=new Nx(this),this.projects=new lN(this,q(this,tt)),this.users=new dN(this,q(this,tt)),this.agent={action:new WD(this,q(this,tt))},this.releases=new fN(this,q(this,tt)),this.observable=new Cg(e,n)}clone(){return new bd(q(this,tt),this.config())}config(e){if(e===void 0)return{...q(this,hi)};if(q(this,hi)&&q(this,hi).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),Ve(this,hi,ox(e,q(this,hi)||{})),this}withConfig(e){const n=this.config();return new bd(q(this,tt),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return He(px(this,q(this,tt),q(this,hi).stega,e,n,r))}getDocument(e,n){return He(Fd(this,q(this,tt),e,n))}getDocuments(e,n){return He(mx(this,q(this,tt),e,n))}create(e,n){return He(jd(this,q(this,tt),e,"create",n))}createIfNotExists(e,n){return He(yx(this,q(this,tt),e,n))}createOrReplace(e,n){return He(vx(this,q(this,tt),e,n))}createVersion({document:e,publishedId:n,releaseId:r},i){const a=Xh("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Md(e._id);return eE(_x(this,q(this,tt),l,c,i))}delete(e,n){return He(wx(this,q(this,tt),e,n))}discardVersion({releaseId:e,publishedId:n},r,i){const a=Qh(n,e);return He(Ex(this,q(this,tt),a,r,i))}replaceVersion({document:e,publishedId:n,releaseId:r},i){const a=Xh("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a};return eE(Tx(this,q(this,tt),l,i))}unpublishVersion({releaseId:e,publishedId:n},r){const i=Ld(n,e);return He(Sx(this,q(this,tt),i,n,r))}mutate(e,n){return He(xx(this,q(this,tt),e,n))}patch(e,n){return new vs(e,n,this)}transaction(e){return new Kh(e,this)}action(e,n){return He(yt(this,q(this,tt),e,n))}request(e){return He(Cn(this,q(this,tt),e))}dataRequest(e,n,r){return He(Fo(this,q(this,tt),e,n,r))}getUrl(e,n){return jy(this,e,n)}getDataUrl(e,n){return Zn(this,e,n)}};hi=new WeakMap,tt=new WeakMap;let Ag=bd;function pN(t,e){return{requester:rE(t),createClient:n=>{const r=rE(t);return new e((i,a)=>(a||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var mN=[];const gN=pN(mN,Ag),yN=gN.createClient;var Ph={exports:{}},vN=Ph.exports,cE;function _N(){return cE||(cE=1,function(t,e){(function(n,r){t.exports=r()})(vN,function(){function n(){return n=Object.assign||function(b){for(var k=1;k<arguments.length;k++){var C=arguments[k];for(var X in C)Object.prototype.hasOwnProperty.call(C,X)&&(b[X]=C[X])}return b},n.apply(this,arguments)}function r(b,k){if(b){if(typeof b=="string")return i(b,k);var C=Object.prototype.toString.call(b).slice(8,-1);if(C==="Object"&&b.constructor&&(C=b.constructor.name),C==="Map"||C==="Set")return Array.from(b);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return i(b,k)}}function i(b,k){(k==null||k>b.length)&&(k=b.length);for(var C=0,X=new Array(k);C<k;C++)X[C]=b[C];return X}function a(b,k){var C=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(C)return(C=C.call(b)).next.bind(C);if(Array.isArray(b)||(C=r(b))||k){C&&(b=C);var X=0;return function(){return X>=b.length?{done:!0}:{done:!1,value:b[X++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function c(b){var k=b.split("-"),C=k[1],X=k[2],Ae=k[3];if(!C||!X||!Ae)throw new Error("Malformed asset _ref '"+b+`'. Expected an id like "`+l+'".');var fe=X.split("x"),ce=fe[0],ne=fe[1],de=+ce,le=+ne,z=isFinite(de)&&isFinite(le);if(!z)throw new Error("Malformed asset _ref '"+b+`'. Expected an id like "`+l+'".');return{id:C,width:de,height:le,format:Ae}}var f=function(k){var C=k;return C?typeof C._ref=="string":!1},p=function(k){var C=k;return C?typeof C._id=="string":!1},g=function(k){var C=k;return C&&C.asset?typeof C.asset.url=="string":!1};function _(b){if(!b)return null;var k;if(typeof b=="string"&&w(b))k={asset:{_ref:T(b)}};else if(typeof b=="string")k={asset:{_ref:b}};else if(f(b))k={asset:b};else if(p(b))k={asset:{_ref:b._id||""}};else if(g(b))k={asset:{_ref:T(b.asset.url)}};else if(typeof b.asset=="object")k=n({},b);else return null;var C=b;return C.crop&&(k.crop=C.crop),C.hotspot&&(k.hotspot=C.hotspot),x(k)}function w(b){return/^https?:\/\//.test(""+b)}function T(b){var k=b.split("/").slice(-1);return("image-"+k[0]).replace(/\.([a-z]+)$/,"-$1")}function x(b){if(b.crop&&b.hotspot)return b;var k=n({},b);return k.crop||(k.crop={left:0,top:0,bottom:0,right:0}),k.hotspot||(k.hotspot={x:.5,y:.5,height:1,width:1}),k}var I=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function R(b){var k=n({},b||{}),C=k.source;delete k.source;var X=_(C);if(!X)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(C)+")");var Ae=X.asset._ref||X.asset._id||"",fe=c(Ae),ce=Math.round(X.crop.left*fe.width),ne=Math.round(X.crop.top*fe.height),de={left:ce,top:ne,width:Math.round(fe.width-X.crop.right*fe.width-ce),height:Math.round(fe.height-X.crop.bottom*fe.height-ne)},le=X.hotspot.height*fe.height/2,z=X.hotspot.width*fe.width/2,ee=X.hotspot.x*fe.width,ge=X.hotspot.y*fe.height,Ie={left:ee-z,top:ge-le,right:ee+z,bottom:ge+le};return k.rect||k.focalPoint||k.ignoreImageParams||k.crop||(k=n({},k,V({crop:de,hotspot:Ie},k))),D(n({},k,{asset:fe}))}function D(b){var k=(b.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),C=b.vanityName?"/"+b.vanityName:"",X=b.asset.id+"-"+b.asset.width+"x"+b.asset.height+"."+b.asset.format+C,Ae=k+"/images/"+b.projectId+"/"+b.dataset+"/"+X,fe=[];if(b.rect){var ce=b.rect,ne=ce.left,de=ce.top,le=ce.width,z=ce.height,ee=ne!==0||de!==0||z!==b.asset.height||le!==b.asset.width;ee&&fe.push("rect="+ne+","+de+","+le+","+z)}b.bg&&fe.push("bg="+b.bg),b.focalPoint&&(fe.push("fp-x="+b.focalPoint.x),fe.push("fp-y="+b.focalPoint.y));var ge=[b.flipHorizontal&&"h",b.flipVertical&&"v"].filter(Boolean).join("");return ge&&fe.push("flip="+ge),I.forEach(function(Ie){var De=Ie[0],Ne=Ie[1];typeof b[De]<"u"?fe.push(Ne+"="+encodeURIComponent(b[De])):typeof b[Ne]<"u"&&fe.push(Ne+"="+encodeURIComponent(b[Ne]))}),fe.length===0?Ae:Ae+"?"+fe.join("&")}function V(b,k){var C,X=k.width,Ae=k.height;if(!(X&&Ae))return{width:X,height:Ae,rect:b.crop};var fe=b.crop,ce=b.hotspot,ne=X/Ae,de=fe.width/fe.height;if(de>ne){var le=Math.round(fe.height),z=Math.round(le*ne),ee=Math.max(0,Math.round(fe.top)),ge=Math.round((ce.right-ce.left)/2+ce.left),Ie=Math.max(0,Math.round(ge-z/2));Ie<fe.left?Ie=fe.left:Ie+z>fe.left+fe.width&&(Ie=fe.left+fe.width-z),C={left:Ie,top:ee,width:z,height:le}}else{var De=fe.width,Ne=Math.round(De/ne),Ke=Math.max(0,Math.round(fe.left)),Ge=Math.round((ce.bottom-ce.top)/2+ce.top),Xe=Math.max(0,Math.round(Ge-Ne/2));Xe<fe.top?Xe=fe.top:Xe+Ne>fe.top+fe.height&&(Xe=fe.top+fe.height-Ne),C={left:Ke,top:Xe,width:De,height:Ne}}return{width:X,height:Ae,rect:C}}var U=["clip","crop","fill","fillmax","max","scale","min"],G=["top","bottom","left","right","center","focalpoint","entropy"],J=["format"];function Z(b){return b&&"config"in b?typeof b.config=="function":!1}function O(b){return b&&"clientConfig"in b?typeof b.clientConfig=="object":!1}function A(b){for(var k=I,C=a(k),X;!(X=C()).done;){var Ae=X.value,fe=Ae[0],ce=Ae[1];if(b===fe||b===ce)return fe}return b}function N(b){if(Z(b)){var k=b.config(),C=k.apiHost,X=k.projectId,Ae=k.dataset,fe=C||"https://api.sanity.io";return new F(null,{baseUrl:fe.replace(/^https:\/\/api\./,"https://cdn."),projectId:X,dataset:Ae})}if(O(b)){var ce=b.clientConfig,ne=ce.apiHost,de=ce.projectId,le=ce.dataset,z=ne||"https://api.sanity.io";return new F(null,{baseUrl:z.replace(/^https:\/\/api\./,"https://cdn."),projectId:de,dataset:le})}return new F(null,b||{})}var F=function(){function b(C,X){this.options=void 0,this.options=C?n({},C.options||{},X||{}):n({},X||{})}var k=b.prototype;return k.withOptions=function(X){var Ae=X.baseUrl||this.options.baseUrl,fe={baseUrl:Ae};for(var ce in X)if(X.hasOwnProperty(ce)){var ne=A(ce);fe[ne]=X[ce]}return new b(this,n({baseUrl:Ae},fe))},k.image=function(X){return this.withOptions({source:X})},k.dataset=function(X){return this.withOptions({dataset:X})},k.projectId=function(X){return this.withOptions({projectId:X})},k.bg=function(X){return this.withOptions({bg:X})},k.dpr=function(X){return this.withOptions(X&&X!==1?{dpr:X}:{})},k.width=function(X){return this.withOptions({width:X})},k.height=function(X){return this.withOptions({height:X})},k.focalPoint=function(X,Ae){return this.withOptions({focalPoint:{x:X,y:Ae}})},k.maxWidth=function(X){return this.withOptions({maxWidth:X})},k.minWidth=function(X){return this.withOptions({minWidth:X})},k.maxHeight=function(X){return this.withOptions({maxHeight:X})},k.minHeight=function(X){return this.withOptions({minHeight:X})},k.size=function(X,Ae){return this.withOptions({width:X,height:Ae})},k.blur=function(X){return this.withOptions({blur:X})},k.sharpen=function(X){return this.withOptions({sharpen:X})},k.rect=function(X,Ae,fe,ce){return this.withOptions({rect:{left:X,top:Ae,width:fe,height:ce}})},k.format=function(X){return this.withOptions({format:X})},k.invert=function(X){return this.withOptions({invert:X})},k.orientation=function(X){return this.withOptions({orientation:X})},k.quality=function(X){return this.withOptions({quality:X})},k.forceDownload=function(X){return this.withOptions({download:X})},k.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},k.flipVertical=function(){return this.withOptions({flipVertical:!0})},k.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},k.fit=function(X){if(U.indexOf(X)===-1)throw new Error('Invalid fit mode "'+X+'"');return this.withOptions({fit:X})},k.crop=function(X){if(G.indexOf(X)===-1)throw new Error('Invalid crop mode "'+X+'"');return this.withOptions({crop:X})},k.saturation=function(X){return this.withOptions({saturation:X})},k.auto=function(X){if(J.indexOf(X)===-1)throw new Error('Invalid auto mode "'+X+'"');return this.withOptions({auto:X})},k.pad=function(X){return this.withOptions({pad:X})},k.vanityName=function(X){return this.withOptions({vanityName:X})},k.frame=function(X){if(X!==1)throw new Error('Invalid frame value "'+X+'"');return this.withOptions({frame:X})},k.url=function(){return R(this.options)},k.toString=function(){return this.url()},b}();return N})}(Ph)),Ph.exports}var wN=_N();const EN=Ic(wN),Yh=yN({projectId:"yn77xan2",dataset:"production",apiVersion:"2022-03-25",useCdn:!0});EN(Yh);var fE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,T=p&63;f||(T=64,l||(w=64)),r.push(n[g],n[_],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new SN;const w=a<<2|c>>4;if(r.push(w),p!==64){const T=c<<4&240|p>>2;if(r.push(T),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xN=function(t){const e=Vx(t);return Lx.encodeByteArray(e,!0)},Jh=function(t){return xN(t).replace(/\./g,"")},Mx=function(t){try{return Lx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>IN().__FIREBASE_DEFAULTS__,AN=()=>{if(typeof process>"u"||typeof fE>"u")return;const t=fE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mx(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return CN()||AN()||bN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fx=t=>{var e,n;return(n=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PN=t=>{const e=Fx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jx=()=>{var t;return(t=Ud())===null||t===void 0?void 0:t.config},Ux=t=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jh(JSON.stringify(n)),Jh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function NN(){var t;const e=(t=Ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ON(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MN(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FN(){return!NN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jN(){try{return typeof indexedDB=="object"}catch{return!1}}function UN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="FirebaseError";class ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BN,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?$N(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ki(i,c,r)}}function $N(t,e){return t.replace(zN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zN=/\{\$([^}]+)}/g;function qN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(hE(a)&&hE(l)){if(!Zh(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HN(t,e){const n=new WN(t,e);return n.subscribe.bind(n)}class WN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xm),i.error===void 0&&(i.error=Xm),i.complete===void 0&&(i.complete=Xm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){return t&&t._delegate?t._delegate:t}class No{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XN(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QN(t){return t===mo?void 0:t}function XN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const JN={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},ZN=je.INFO,eO={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},tO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uy{constructor(e){this.name=e,this._logLevel=ZN,this._logHandler=tO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const nO=(t,e)=>e.some(n=>t instanceof n);let dE,pE;function rO(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bx=new WeakMap,bg=new WeakMap,$x=new WeakMap,Ym=new WeakMap,By=new WeakMap;function sO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ws(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Bx.set(n,t)}).catch(()=>{}),By.set(e,t),e}function oO(t){if(bg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});bg.set(t,e)}let Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$x.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aO(t){Pg=t(Pg)}function lO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jm(this),e,...n);return $x.set(r,e.sort?e.sort():[e]),ws(r)}:iO().includes(t)?function(...e){return t.apply(Jm(this),e),ws(Bx.get(this))}:function(...e){return ws(t.apply(Jm(this),e))}}function uO(t){return typeof t=="function"?lO(t):(t instanceof IDBTransaction&&oO(t),nO(t,rO())?new Proxy(t,Pg):t)}function ws(t){if(t instanceof IDBRequest)return sO(t);if(Ym.has(t))return Ym.get(t);const e=uO(t);return e!==t&&(Ym.set(t,e),By.set(e,t)),e}const Jm=t=>By.get(t);function cO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=ws(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ws(l.result),f.oldVersion,f.newVersion,ws(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const fO=["get","getKey","getAll","getAllKeys","count"],hO=["put","add","delete","clear"],Zm=new Map;function mE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fO.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&f.done]))[0]};return Zm.set(e,a),a}aO(t=>({...t,get:(e,n,r)=>mE(e,n)||t.get(e,n,r),has:(e,n)=>!!mE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rg="@firebase/app",gE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Uy("@firebase/app"),mO="@firebase/app-compat",gO="@firebase/analytics-compat",yO="@firebase/analytics",vO="@firebase/app-check-compat",_O="@firebase/app-check",wO="@firebase/auth",EO="@firebase/auth-compat",TO="@firebase/database",SO="@firebase/data-connect",xO="@firebase/database-compat",IO="@firebase/functions",CO="@firebase/functions-compat",AO="@firebase/installations",bO="@firebase/installations-compat",PO="@firebase/messaging",RO="@firebase/messaging-compat",kO="@firebase/performance",DO="@firebase/performance-compat",NO="@firebase/remote-config",OO="@firebase/remote-config-compat",VO="@firebase/storage",LO="@firebase/storage-compat",MO="@firebase/firestore",FO="@firebase/vertexai",jO="@firebase/firestore-compat",UO="firebase",BO="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",$O={[Rg]:"fire-core",[mO]:"fire-core-compat",[yO]:"fire-analytics",[gO]:"fire-analytics-compat",[_O]:"fire-app-check",[vO]:"fire-app-check-compat",[wO]:"fire-auth",[EO]:"fire-auth-compat",[TO]:"fire-rtdb",[SO]:"fire-data-connect",[xO]:"fire-rtdb-compat",[IO]:"fire-fn",[CO]:"fire-fn-compat",[AO]:"fire-iid",[bO]:"fire-iid-compat",[PO]:"fire-fcm",[RO]:"fire-fcm-compat",[kO]:"fire-perf",[DO]:"fire-perf-compat",[NO]:"fire-rc",[OO]:"fire-rc-compat",[VO]:"fire-gcs",[LO]:"fire-gcs-compat",[MO]:"fire-fst",[jO]:"fire-fst-compat",[FO]:"fire-vertex","fire-js":"fire-js",[UO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,zO=new Map,Dg=new Map;function yE(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function al(t){const e=t.name;if(Dg.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of ed.values())yE(n,t);for(const n of zO.values())yE(n,t);return!0}function $y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Vc("app","Firebase",qO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=BO;function zx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=jx()),!n)throw Es.create("no-options");const a=ed.get(i);if(a){if(Zh(n,a.options)&&Zh(r,a.config))return a;throw Es.create("duplicate-app",{appName:i})}const l=new YN(i);for(const f of Dg.values())l.addComponent(f);const c=new HO(n,r,l);return ed.set(i,c),c}function qx(t=kg){const e=ed.get(t);if(!e&&t===kg&&jx())return zx();if(!e)throw Es.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let i=(r=$O[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(c.join(" "));return}al(new No(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="firebase-heartbeat-database",KO=1,Ju="firebase-heartbeat-store";let eg=null;function Hx(){return eg||(eg=cO(WO,KO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),eg}async function GO(t){try{const n=(await Hx()).transaction(Ju),r=await n.objectStore(Ju).get(Wx(t));return await n.done,r}catch(e){if(e instanceof ki)Si.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function vE(t,e){try{const r=(await Hx()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(e,Wx(t)),await r.done}catch(n){if(n instanceof ki)Si.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function Wx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1024,XO=30*24*60*60*1e3;class YO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=XO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_E(),{heartbeatsToSend:r,unsentEntries:i}=JO(this._heartbeatsCache.heartbeats),a=Jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Si.warn(n),""}}}function _E(){return new Date().toISOString().substring(0,10)}function JO(t,e=QO){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),wE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jN()?UN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wE(t){return Jh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){al(new No("platform-logger",e=>new dO(e),"PRIVATE")),al(new No("heartbeat",e=>new YO(e),"PRIVATE")),Ts(Rg,gE,t),Ts(Rg,gE,"esm2017"),Ts("fire-js","")}eV("");var tV="firebase",nV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(tV,nV,"app");function zy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rV=Kx,Gx=new Vc("auth","Firebase",Kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Uy("@firebase/auth");function iV(t,...e){td.logLevel<=je.WARN&&td.warn(`Auth (${Sl}): ${t}`,...e)}function Rh(t,...e){td.logLevel<=je.ERROR&&td.error(`Auth (${Sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw Hy(t,...e)}function yr(t,...e){return Hy(t,...e)}function qy(t,e,n){const r=Object.assign(Object.assign({},rV()),{[e]:n});return new Vc("auth","Firebase",r).create(e,{appName:t.name})}function Ro(t){return qy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fr(t,"argument-error"),qy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gx.create(t,...e)}function Pe(t,e,...n){if(!t)throw Hy(e,...n)}function mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function xi(t,e){t||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oV(){return EE()==="http:"||EE()==="https:"}function EE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oV()||VN()||"connection"in navigator)?navigator.onLine:!0}function lV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=DN()||LN()}get(){return aV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new Mc(3e4,6e4);function Ky(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xl(t,e,n,r,i={}){return Xx(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Lc(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},a);return ON()||(p.referrerPolicy="no-referrer"),Qx.fetch()(Yx(t,t.config.apiHost,n,c),p)})}async function Xx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uV),e);try{const i=new hV(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw gh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw gh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw gh(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qy(t,g,p);Fr(t,g)}}catch(i){if(i instanceof ki)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function fV(t,e,n,r,i={}){const a=await xl(t,e,n,r,i);return"mfaPendingCredential"in a&&Fr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Yx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Wy(t.config,i):`${t.config.apiScheme}://${i}`}class hV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),cV.get())})}}function gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return xl(t,"POST","/v1/accounts:delete",e)}async function Jx(t,e){return xl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pV(t,e=!1){const n=Vn(t),r=await n.getIdToken(e),i=Gy(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:$u(tg(i.auth_time)),issuedAtTime:$u(tg(i.iat)),expirationTime:$u(tg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tg(t){return Number(t)*1e3}function Gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mx(n);return i?JSON.parse(i):(Rh("Failed to decode base64 JWT payload"),null)}catch(i){return Rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TE(t){const e=Gy(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ki&&mV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zu(t,Jx(n,{idToken:r}));Pe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Zx(a.providerUserInfo):[],c=vV(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Og(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function yV(t){const e=Vn(t);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Zx(t){return t.map(e=>{var{providerId:n}=e,r=zy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){const n=await Xx(t,{},async()=>{const r=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=Yx(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Qx.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wV(t,e){return xl(t,"POST","/v2/accounts:revokeToken",Ky(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=TE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await _V(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Xa;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Pe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Og(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pV(this,e)}reload(){return yV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Ro(this.auth));const e=await this.getIdToken();return await Zu(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,f,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,I=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=n.createdAt)!==null&&p!==void 0?p:void 0,V=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:G,isAnonymous:J,providerData:Z,stsTokenManager:O}=n;Pe(U&&O,e,"internal-error");const A=Xa.fromJSON(this.name,O);Pe(typeof U=="string",e,"internal-error"),is(_,e.name),is(w,e.name),Pe(typeof G=="boolean",e,"internal-error"),Pe(typeof J=="boolean",e,"internal-error"),is(T,e.name),is(x,e.name),is(I,e.name),is(R,e.name),is(D,e.name),is(V,e.name);const N=new gi({uid:U,auth:e,email:w,emailVerified:G,displayName:_,isAnonymous:J,photoURL:x,phoneNumber:T,tenantId:I,stsTokenManager:A,createdAt:D,lastLoginAt:V});return Z&&Array.isArray(Z)&&(N.providerData=Z.map(F=>Object.assign({},F))),R&&(N._redirectEventId=R),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xa;i.updateFromServerResponse(n);const a=new gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Zx(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Xa;c.updateFromIdToken(r);const f=new gi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Og(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;function yi(t){xi(t instanceof Function,"Expected a class definition");let e=SE.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eI.type="NONE";const xE=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,a),this.fullPersistenceKey=kh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ya(yi(xE),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||yi(xE);const l=kh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=gi._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ya(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ya(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oI(e))return"Blackberry";if(aI(e))return"Webos";if(nI(e))return"Safari";if((e.includes("chrome/")||rI(e))&&!e.includes("edge/"))return"Chrome";if(sI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tI(t=an()){return/firefox\//i.test(t)}function nI(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rI(t=an()){return/crios\//i.test(t)}function iI(t=an()){return/iemobile/i.test(t)}function sI(t=an()){return/android/i.test(t)}function oI(t=an()){return/blackberry/i.test(t)}function aI(t=an()){return/webos/i.test(t)}function Qy(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EV(t=an()){var e;return Qy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TV(){return MN()&&document.documentMode===10}function lI(t=an()){return Qy(t)||sI(t)||aI(t)||oI(t)||/windows phone/i.test(t)||iI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e=[]){let n;switch(t){case"Browser":n=IE(an());break;case"Worker":n=`${IE(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e={}){return xl(t,"GET","/v2/passwordPolicy",Ky(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=6;class CV{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:IV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new SV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jx(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Ro(this));const n=e?Vn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xV(this),n=new CV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bd(t){return Vn(t)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=HN(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bV(t){Xy=t}function PV(t){return Xy.loadJS(t)}function RV(){return Xy.gapiScript}function kV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e){const n=$y(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Zh(a,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function NV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OV(t,e,n){const r=Bd(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=cI(e),{host:l,port:c}=VV(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),LV()}function cI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VV(t){const e=cI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:AE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:AE(l)}}}function AE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e){return fV(t,"POST","/v1/accounts:signInWithIdp",Ky(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="http://localhost";class Oo extends fI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=zy(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Oo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:MV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Fc{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Fc{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Fc{constructor(){super("twitter.com")}static credential(e,n){return Oo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await gi._fromIdTokenResponse(e,r,i),l=bE(r);return new ll({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bE(r);return new ll({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends ki{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rd(e,n,r,i)}}function hI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,a,e,r):a})}async function FV(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e,n=!1){const{auth:r}=t;if(pi(r.app))return Promise.reject(Ro(r));const i="reauthenticate";try{const a=await Zu(t,hI(r,i,e,t),n);Pe(a.idToken,r,"internal-error");const l=Gy(a.idToken);Pe(l,r,"internal-error");const{sub:c}=l;return Pe(t.uid===c,r,"user-mismatch"),ll._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e,n=!1){if(pi(t.app))return Promise.reject(Ro(t));const r="signIn",i=await hI(t,r,e),a=await ll._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t,e){return Vn(t).setPersistence(e)}function $V(t,e,n,r){return Vn(t).onIdTokenChanged(e,n,r)}function zV(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}function qV(t,e,n,r){return Vn(t).onAuthStateChanged(e,n,r)}function HV(t){return Vn(t).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=1e3,KV=10;class pI extends dI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);TV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pI.type="LOCAL";const mI=pI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends dI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gI.type="SESSION";const yI=gI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,a)),f=await GV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=Jy("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function XV(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function YV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZV(){return vI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="firebaseLocalStorageDb",eL=1,sd="firebaseLocalStorage",wI="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function tL(){const t=indexedDB.deleteDatabase(_I);return new jc(t).toPromise()}function Vg(){const t=indexedDB.open(_I,eL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sd,{keyPath:wI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),await tL(),e(await Vg()))})})}async function PE(t,e,n){const r=zd(t,!0).put({[wI]:e,value:n});return new jc(r).toPromise()}async function nL(t,e){const n=zd(t,!1).get(e),r=await new jc(n).toPromise();return r===void 0?null:r.value}function RE(t,e){const n=zd(t,!0).delete(e);return new jc(n).toPromise()}const rL=800,iL=3;class EI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(ZV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YV(),!this.activeServiceWorker)return;this.sender=new QV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await PE(e,id,"1"),await RE(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=zd(i,!1).getAll();return new jc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EI.type="LOCAL";const sL=EI;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){return e?yi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends fI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oL(t){return UV(t.auth,new Zy(t),t.bypassAuthState)}function aL(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),jV(n,new Zy(t),t.bypassAuthState)}async function lL(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),FV(n,new Zy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oL;case"linkViaPopup":case"linkViaRedirect":return lL;case"reauthViaPopup":case"reauthViaRedirect":return aL;default:Fr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new Mc(2e3,1e4);async function cL(t,e,n){if(pi(t.app))return Promise.reject(yr(t,"operation-not-supported-in-this-environment"));const r=Bd(t);sV(t,e,Yy);const i=TI(r,n);return new _o(r,"signInViaPopup",e,i).executeNotNull()}class _o extends SI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uL.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="pendingRedirect",Dh=new Map;class hL extends SI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const r=await dL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dL(t,e){const n=gL(e),r=mL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pL(t,e){Dh.set(t._key(),e)}function mL(t){return yi(t._redirectPersistence)}function gL(t){return kh(fL,t.config.apiKey,t.name)}async function yL(t,e,n=!1){if(pi(t.app))return Promise.reject(Ro(t));const r=Bd(t),i=TI(r,e),l=await new hL(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=10*60*1e3;class _L{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vL&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e={}){return xl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SL=/^https?/;async function xL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EL(t);for(const n of e)try{if(IL(n))return}catch{}Fr(t,"unauthorized-domain")}function IL(t){const e=Ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!SL.test(n))return!1;if(TL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new Mc(3e4,6e4);function DE(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AL(t){return new Promise((e,n)=>{var r,i,a;function l(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(yr(t,"network-request-failed"))},timeout:CL.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=kr().gapi)===null||a===void 0)&&a.load)l();else{const c=kV("iframefcb");return kr()[c]=()=>{gapi.load?l():n(yr(t,"network-request-failed"))},PV(`${RV()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function bL(t){return Nh=Nh||AL(t),Nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new Mc(5e3,15e3),RL="__/auth/iframe",kL="emulator/auth/iframe",DL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OL(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wy(e,kL):`https://${t.config.authDomain}/${RL}`,r={apiKey:e.apiKey,appName:t.name,v:Sl},i=NL.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Lc(r).slice(1)}`}async function VL(t){const e=await bL(t),n=kr().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:OL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DL,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=yr(t,"network-request-failed"),c=kr().setTimeout(()=>{a(l)},PL.get());function f(){kr().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ML=500,FL=600,jL="_blank",UL="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BL(t,e,n,r=ML,i=FL){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},LL),{width:r.toString(),height:i.toString(),top:a,left:l}),p=an().toLowerCase();n&&(c=rI(p)?jL:n),tI(p)&&(e=e||UL,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[T,x])=>`${w}${T}=${x},`,"");if(EV(p)&&c!=="_self")return $L(e||"",c),new NE(null);const _=window.open(e||"",c,g);Pe(_,t,"popup-blocked");try{_.focus()}catch{}return new NE(_)}function $L(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="__/auth/handler",qL="emulator/auth/handler",HL=encodeURIComponent("fac");async function OE(t,e,n,r,i,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sl,eventId:i};if(e instanceof Yy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",qN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Fc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await t._getAppCheckToken(),p=f?`#${HL}=${encodeURIComponent(f)}`:"";return`${WL(t)}?${Lc(c).slice(1)}${p}`}function WL({config:t}){return t.emulator?Wy(t,qL):`https://${t.authDomain}/${zL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class KL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yI,this._completeRedirectFn=yL,this._overrideRedirectResult=pL}async _openPopup(e,n,r,i){var a;xi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await OE(e,n,r,Ng(),i);return BL(e,l,Jy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await OE(e,n,r,Ng(),i);return XV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VL(e),r=new _L(e);return n.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[ng];l!==void 0&&n(!!l),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lI()||nI()||Qy()}}const GL=KL;var VE="@firebase/auth",LE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YL(t){al(new No("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uI(t)},p=new AV(r,i,a,f);return NV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),al(new No("auth-internal",e=>{const n=Bd(e.getProvider("auth").getImmediate());return(r=>new QL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(VE,LE,XL(t)),Ts(VE,LE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=5*60,ZL=Ux("authIdTokenMaxAge")||JL;let ME=null;const eM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZL)return;const i=n==null?void 0:n.token;ME!==i&&(ME=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tM(t=qx()){const e=$y(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DV(t,{popupRedirectResolver:GL,persistence:[sL,mI,yI]}),r=Ux("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=eM(a.toString());zV(n,l,()=>l(n.currentUser)),$V(n,c=>l(c))}}const i=Fx("auth");return i&&OV(n,`http://${i}`),n}function nM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=yr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",nM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YL("Browser");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,II;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function N(){}N.prototype=A.prototype,O.D=A.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(F,b,k){for(var C=Array(arguments.length-2),X=2;X<arguments.length;X++)C[X-2]=arguments[X];return A.prototype[b].apply(F,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,A,N){N||(N=0);var F=Array(16);if(typeof A=="string")for(var b=0;16>b;++b)F[b]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(b=0;16>b;++b)F[b]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=O.g[0],N=O.g[1],b=O.g[2];var k=O.g[3],C=A+(k^N&(b^k))+F[0]+3614090360&4294967295;A=N+(C<<7&4294967295|C>>>25),C=k+(b^A&(N^b))+F[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(N^k&(A^N))+F[2]+606105819&4294967295,b=k+(C<<17&4294967295|C>>>15),C=N+(A^b&(k^A))+F[3]+3250441966&4294967295,N=b+(C<<22&4294967295|C>>>10),C=A+(k^N&(b^k))+F[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(b^A&(N^b))+F[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(N^k&(A^N))+F[6]+2821735955&4294967295,b=k+(C<<17&4294967295|C>>>15),C=N+(A^b&(k^A))+F[7]+4249261313&4294967295,N=b+(C<<22&4294967295|C>>>10),C=A+(k^N&(b^k))+F[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(b^A&(N^b))+F[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(N^k&(A^N))+F[10]+4294925233&4294967295,b=k+(C<<17&4294967295|C>>>15),C=N+(A^b&(k^A))+F[11]+2304563134&4294967295,N=b+(C<<22&4294967295|C>>>10),C=A+(k^N&(b^k))+F[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(b^A&(N^b))+F[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(N^k&(A^N))+F[14]+2792965006&4294967295,b=k+(C<<17&4294967295|C>>>15),C=N+(A^b&(k^A))+F[15]+1236535329&4294967295,N=b+(C<<22&4294967295|C>>>10),C=A+(b^k&(N^b))+F[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^b&(A^N))+F[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^N&(k^A))+F[11]+643717713&4294967295,b=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(b^k))+F[0]+3921069994&4294967295,N=b+(C<<20&4294967295|C>>>12),C=A+(b^k&(N^b))+F[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^b&(A^N))+F[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^N&(k^A))+F[15]+3634488961&4294967295,b=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(b^k))+F[4]+3889429448&4294967295,N=b+(C<<20&4294967295|C>>>12),C=A+(b^k&(N^b))+F[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^b&(A^N))+F[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^N&(k^A))+F[3]+4107603335&4294967295,b=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(b^k))+F[8]+1163531501&4294967295,N=b+(C<<20&4294967295|C>>>12),C=A+(b^k&(N^b))+F[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^b&(A^N))+F[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^N&(k^A))+F[7]+1735328473&4294967295,b=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(b^k))+F[12]+2368359562&4294967295,N=b+(C<<20&4294967295|C>>>12),C=A+(N^b^k)+F[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^b)+F[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^N)+F[11]+1839030562&4294967295,b=k+(C<<16&4294967295|C>>>16),C=N+(b^k^A)+F[14]+4259657740&4294967295,N=b+(C<<23&4294967295|C>>>9),C=A+(N^b^k)+F[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^b)+F[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^N)+F[7]+4139469664&4294967295,b=k+(C<<16&4294967295|C>>>16),C=N+(b^k^A)+F[10]+3200236656&4294967295,N=b+(C<<23&4294967295|C>>>9),C=A+(N^b^k)+F[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^b)+F[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^N)+F[3]+3572445317&4294967295,b=k+(C<<16&4294967295|C>>>16),C=N+(b^k^A)+F[6]+76029189&4294967295,N=b+(C<<23&4294967295|C>>>9),C=A+(N^b^k)+F[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^b)+F[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^N)+F[15]+530742520&4294967295,b=k+(C<<16&4294967295|C>>>16),C=N+(b^k^A)+F[2]+3299628645&4294967295,N=b+(C<<23&4294967295|C>>>9),C=A+(b^(N|~k))+F[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~b))+F[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~N))+F[14]+2878612391&4294967295,b=k+(C<<15&4294967295|C>>>17),C=N+(k^(b|~A))+F[5]+4237533241&4294967295,N=b+(C<<21&4294967295|C>>>11),C=A+(b^(N|~k))+F[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~b))+F[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~N))+F[10]+4293915773&4294967295,b=k+(C<<15&4294967295|C>>>17),C=N+(k^(b|~A))+F[1]+2240044497&4294967295,N=b+(C<<21&4294967295|C>>>11),C=A+(b^(N|~k))+F[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~b))+F[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~N))+F[6]+2734768916&4294967295,b=k+(C<<15&4294967295|C>>>17),C=N+(k^(b|~A))+F[13]+1309151649&4294967295,N=b+(C<<21&4294967295|C>>>11),C=A+(b^(N|~k))+F[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~b))+F[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~N))+F[2]+718787259&4294967295,b=k+(C<<15&4294967295|C>>>17),C=N+(k^(b|~A))+F[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(b+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+b&4294967295,O.g[3]=O.g[3]+k&4294967295}r.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var N=A-this.blockSize,F=this.B,b=this.h,k=0;k<A;){if(b==0)for(;k<=N;)i(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<A;)if(F[b++]=O.charCodeAt(k++),b==this.blockSize){i(this,F),b=0;break}}else for(;k<A;)if(F[b++]=O[k++],b==this.blockSize){i(this,F),b=0;break}}this.h=b,this.o+=A},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var N=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=N&255,N/=256;for(this.u(O),O=Array(16),A=N=0;4>A;++A)for(var F=0;32>F;F+=8)O[N++]=this.g[A]>>>F&255;return O};function a(O,A){var N=c;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=A(O)}function l(O,A){this.h=A;for(var N=[],F=!0,b=O.length-1;0<=b;b--){var k=O[b]|0;F&&k==A||(N[b]=k,F=!1)}this.g=N}var c={};function f(O){return-128<=O&&128>O?a(O,function(A){return new l([A|0],0>A?-1:0)}):new l([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return R(p(-O));for(var A=[],N=1,F=0;O>=N;F++)A[F]=O/N|0,N*=4294967296;return new l(A,0)}function g(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return R(g(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(A,8)),F=_,b=0;b<O.length;b+=8){var k=Math.min(8,O.length-b),C=parseInt(O.substring(b,b+k),A);8>k?(k=p(Math.pow(A,k)),F=F.j(k).add(p(C))):(F=F.j(N),F=F.add(p(C)))}return F}var _=f(0),w=f(1),T=f(16777216);t=l.prototype,t.m=function(){if(I(this))return-R(this).m();for(var O=0,A=1,N=0;N<this.g.length;N++){var F=this.i(N);O+=(0<=F?F:4294967296+F)*A,A*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(I(this))return"-"+R(this).toString(O);for(var A=p(Math.pow(O,6)),N=this,F="";;){var b=G(N,A).g;N=D(N,b.j(A));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=b,x(N))return k+F;for(;6>k.length;)k="0"+k;F=k+F}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function I(O){return O.h==-1}t.l=function(O){return O=D(this,O),I(O)?-1:x(O)?0:1};function R(O){for(var A=O.g.length,N=[],F=0;F<A;F++)N[F]=~O.g[F];return new l(N,~O.h).add(w)}t.abs=function(){return I(this)?R(this):this},t.add=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0,b=0;b<=A;b++){var k=F+(this.i(b)&65535)+(O.i(b)&65535),C=(k>>>16)+(this.i(b)>>>16)+(O.i(b)>>>16);F=C>>>16,k&=65535,C&=65535,N[b]=C<<16|k}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(O,A){return O.add(R(A))}t.j=function(O){if(x(this)||x(O))return _;if(I(this))return I(O)?R(this).j(R(O)):R(R(this).j(O));if(I(O))return R(this.j(R(O)));if(0>this.l(T)&&0>O.l(T))return p(this.m()*O.m());for(var A=this.g.length+O.g.length,N=[],F=0;F<2*A;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(var b=0;b<O.g.length;b++){var k=this.i(F)>>>16,C=this.i(F)&65535,X=O.i(b)>>>16,Ae=O.i(b)&65535;N[2*F+2*b]+=C*Ae,V(N,2*F+2*b),N[2*F+2*b+1]+=k*Ae,V(N,2*F+2*b+1),N[2*F+2*b+1]+=C*X,V(N,2*F+2*b+1),N[2*F+2*b+2]+=k*X,V(N,2*F+2*b+2)}for(F=0;F<A;F++)N[F]=N[2*F+1]<<16|N[2*F];for(F=A;F<2*A;F++)N[F]=0;return new l(N,0)};function V(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function U(O,A){this.g=O,this.h=A}function G(O,A){if(x(A))throw Error("division by zero");if(x(O))return new U(_,_);if(I(O))return A=G(R(O),A),new U(R(A.g),R(A.h));if(I(A))return A=G(O,R(A)),new U(R(A.g),A.h);if(30<O.g.length){if(I(O)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,F=A;0>=F.l(O);)N=J(N),F=J(F);var b=Z(N,1),k=Z(F,1);for(F=Z(F,2),N=Z(N,2);!x(F);){var C=k.add(F);0>=C.l(O)&&(b=b.add(N),k=C),F=Z(F,1),N=Z(N,1)}return A=D(O,b.j(A)),new U(b,A)}for(b=_;0<=O.l(A);){for(N=Math.max(1,Math.floor(O.m()/A.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),k=p(N),C=k.j(A);I(C)||0<C.l(O);)N-=F,k=p(N),C=k.j(A);x(k)&&(k=w),b=b.add(k),O=D(O,C)}return new U(b,O)}t.A=function(O){return G(this,O).h},t.and=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0;F<A;F++)N[F]=this.i(F)&O.i(F);return new l(N,this.h&O.h)},t.or=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0;F<A;F++)N[F]=this.i(F)|O.i(F);return new l(N,this.h|O.h)},t.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],F=0;F<A;F++)N[F]=this.i(F)^O.i(F);return new l(N,this.h^O.h)};function J(O){for(var A=O.g.length+1,N=[],F=0;F<A;F++)N[F]=O.i(F)<<1|O.i(F-1)>>>31;return new l(N,O.h)}function Z(O,A){var N=A>>5;A%=32;for(var F=O.g.length-N,b=[],k=0;k<F;k++)b[k]=0<A?O.i(k+N)>>>A|O.i(k+N+1)<<32-A:O.i(k+N);return new l(b,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,II=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ss=l}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CI,Nu,AI,Oh,Lg,bI,PI,RI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(h,y){if(y)e:{var E=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var H=h[P];if(!(H in E))break e;E=E[H]}h=h[h.length-1],P=E[h],y=y(P),y!=P&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var E=0,P=!1,H={next:function(){if(!P&&E<h.length){var Y=E++;return{value:y(Y,h[Y]),done:!1}}return P=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,E){return h.call.apply(h.bind,arguments)}function _(h,y,E){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,P),h.apply(y,H)}}return function(){return h.apply(y,arguments)}}function w(h,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function T(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function x(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(P,H,Y){for(var ue=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ue[Ze-2]=arguments[Ze];return y.prototype[H].apply(P,ue)}}function I(h){const y=h.length;if(0<y){const E=Array(y);for(let P=0;P<y;P++)E[P]=h[P];return E}return[]}function R(h,y){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(f(P)){const H=h.length||0,Y=P.length||0;h.length=H+Y;for(let ue=0;ue<Y;ue++)h[H+ue]=P[ue]}else h.push(P)}}class D{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(h){return/^[\s\xa0]*$/.test(h)}function U(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var J=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(h,y,E){for(const P in h)y.call(E,h[P],P,h)}function O(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function A(h){const y={};for(const E in h)y[E]=h[E];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(h,y){let E,P;for(let H=1;H<arguments.length;H++){P=arguments[H];for(E in P)h[E]=P[E];for(let Y=0;Y<N.length;Y++)E=N[Y],Object.prototype.hasOwnProperty.call(P,E)&&(h[E]=P[E])}}function b(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function k(h){c.setTimeout(()=>{throw h},0)}function C(){var h=de;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,E){const P=Ae.get();P.set(y,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Ae=new D(()=>new fe,h=>h.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ne=!1,de=new X,le=()=>{const h=c.Promise.resolve(void 0);ce=()=>{h.then(z)}};var z=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(E){k(E)}var y=Ae;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h}();function De(h,y){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){e:{try{G(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}x(De,ge);var Ne={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Xe(h,y,E,P,H){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!P,this.ha=H,this.key=++Ge,this.da=this.fa=!1}function Lt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Hr(h){this.src=h,this.g={},this.h=0}Hr.prototype.add=function(h,y,E,P,H){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var ue=Ni(h,y,P,H);return-1<ue?(y=h[ue],E||(y.fa=!1)):(y=new Xe(y,this.src,Y,!!P,H),y.fa=E,h.push(y)),y};function Ho(h,y){var E=y.type;if(E in h.g){var P=h.g[E],H=Array.prototype.indexOf.call(P,y,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(P,H,1),Y&&(Lt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ni(h,y,E,P){for(var H=0;H<h.length;++H){var Y=h[H];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==P)return H}return-1}var Ls="closure_lm_"+(1e6*Math.random()|0),Wo={};function Dl(h,y,E,P,H){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Dl(h,y[Y],E,P,H);return null}return E=Vl(E),h&&h[Ke]?h.K(y,E,p(P)?!!P.capture:!1,H):Nl(h,y,E,!1,P,H)}function Nl(h,y,E,P,H,Y){if(!y)throw Error("Invalid event type");var ue=p(H)?!!H.capture:!!H,Ze=Go(h);if(Ze||(h[Ls]=Ze=new Hr(h)),E=Ze.add(y,E,P,ue,Y),E.proxy)return E;if(P=Yc(),E.proxy=P,P.src=h,P.listener=E,h.addEventListener)Ie||(H=ue),H===void 0&&(H=!1),h.addEventListener(y.toString(),P,H);else if(h.attachEvent)h.attachEvent(Kr(y.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Yc(){function h(E){return y.call(h.src,h.listener,E)}const y=Ol;return h}function Ko(h,y,E,P,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ko(h,y[Y],E,P,H);else P=p(P)?!!P.capture:!!P,E=Vl(E),h&&h[Ke]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],E=Ni(Y,E,P,H),-1<E&&(Lt(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=Go(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ni(y,E,P,H)),(E=-1<h?y[h]:null)&&Wr(E))}function Wr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ke])Ho(y.i,h);else{var E=h.type,P=h.proxy;y.removeEventListener?y.removeEventListener(E,P,h.capture):y.detachEvent?y.detachEvent(Kr(E),P):y.addListener&&y.removeListener&&y.removeListener(P),(E=Go(y))?(Ho(E,h),E.h==0&&(E.src=null,y[Ls]=null)):Lt(h)}}}function Kr(h){return h in Wo?Wo[h]:Wo[h]="on"+h}function Ol(h,y){if(h.da)h=!0;else{y=new De(y,this);var E=h.listener,P=h.ha||h.src;h.fa&&Wr(h),h=E.call(P,y)}return h}function Go(h){return h=h[Ls],h instanceof Hr?h:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vl(h){return typeof h=="function"?h:(h[Qo]||(h[Qo]=function(y){return h.handleEvent(y)}),h[Qo])}function At(){ee.call(this),this.i=new Hr(this),this.M=this,this.F=null}x(At,ee),At.prototype[Ke]=!0,At.prototype.removeEventListener=function(h,y,E,P){Ko(this,h,y,E,P)};function bt(h,y){var E,P=h.F;if(P)for(E=[];P;P=P.F)E.push(P);if(h=h.M,P=y.type||y,typeof y=="string")y=new ge(y,h);else if(y instanceof ge)y.target=y.target||h;else{var H=y;y=new ge(P,h),F(y,H)}if(H=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ue=y.g=E[Y];H=Gr(ue,P,!0,y)&&H}if(ue=y.g=h,H=Gr(ue,P,!0,y)&&H,H=Gr(ue,P,!1,y)&&H,E)for(Y=0;Y<E.length;Y++)ue=y.g=E[Y],H=Gr(ue,P,!1,y)&&H}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],P=0;P<E.length;P++)Lt(E[P]);delete h.g[y],h.h--}}this.F=null},At.prototype.K=function(h,y,E,P){return this.i.add(String(h),y,!1,E,P)},At.prototype.L=function(h,y,E,P){return this.i.add(String(h),y,!0,E,P)};function Gr(h,y,E,P){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Y=0;Y<y.length;++Y){var ue=y[Y];if(ue&&!ue.da&&ue.capture==E){var Ze=ue.listener,Pt=ue.ha||ue.src;ue.fa&&Ho(h.i,ue),H=Ze.call(Pt,P)!==!1&&H}}return H&&!P.defaultPrevented}function Ll(h,y,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function Oi(h){h.g=Ll(()=>{h.g=null,h.i&&(h.i=!1,Oi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ms extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(h){ee.call(this),this.h=h,this.g={}}x(Fs,ee);var Ml=[];function Fl(h){Z(h.g,function(y,E){this.g.hasOwnProperty(E)&&Wr(y)},h),h.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),Fl(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jl=c.JSON.stringify,Ul=c.JSON.parse,Bl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function js(){}js.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function Yo(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){ge.call(this,"d")}x(vr,ge);function Jo(){ge.call(this,"c")}x(Jo,ge);var _r={},$l=null;function Us(){return $l=$l||new At}_r.La="serverreachability";function zl(h){ge.call(this,_r.La,h)}x(zl,ge);function Qr(h){const y=Us();bt(y,new zl(y))}_r.STAT_EVENT="statevent";function ql(h,y){ge.call(this,_r.STAT_EVENT,h),this.stat=y}x(ql,ge);function wt(h){const y=Us();bt(y,new ql(y,h))}_r.Ma="timingevent";function Zo(h,y){ge.call(this,_r.Ma,h),this.size=y}x(Zo,ge);function er(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Bs(){this.g=!0}Bs.prototype.xa=function(){this.g=!1};function $s(h,y,E,P,H,Y){h.info(function(){if(h.g)if(Y)for(var ue="",Ze=Y.split("&"),Pt=0;Pt<Ze.length;Pt++){var ze=Ze[Pt].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var xt=Mt.split("_");ue=2<=xt.length&&xt[1]=="type"?ue+(Mt+"="+ze+"&"):ue+(Mt+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+P+") [attempt "+H+"]: "+y+`
`+E+`
`+ue})}function ea(h,y,E,P,H,Y,ue){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+H+"]: "+y+`
`+E+`
`+Y+" "+ue})}function tr(h,y,E,P){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+dp(h,E)+(P?" "+P:"")})}function Hl(h,y){h.info(function(){return"TIMEOUT: "+y})}Bs.prototype.info=function(){};function dp(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var P=E[h];if(!(2>P.length)){var H=P[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return jl(E)}catch{return y}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function zs(){}x(zs,js),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},nr=new zs;function rr(h,y,E,P){this.j=h,this.i=y,this.l=E,this.R=P||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zc}function Zc(){this.i=null,this.g="",this.h=!1}var Wl={},na={};function ra(h,y,E){h.L=1,h.v=ji(bn(y)),h.m=E,h.P=!0,Kl(h,null)}function Kl(h,y){h.F=Date.now(),nt(h),h.A=bn(h.v);var E=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),Bi(E.i,"t",P),h.C=0,E=h.j.J,h.h=new Zc,h.g=vf(h.j,E?y:null,!h.m),0<h.O&&(h.M=new Ms(w(h.Y,h,h.g),h.O)),y=h.U,E=h.g,P=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ml[0]=H.toString()),H=Ml);for(var Y=0;Y<H.length;Y++){var ue=Dl(E,H[Y],P||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Qr(),$s(h.i,h.u,h.A,h.l,h.R,h.m)}rr.prototype.ca=function(h){h=h.target;const y=this.M;y&&pn(h)==3?y.j():this.Y(h)},rr.prototype.Y=function(h){try{if(h==this.g)e:{const xt=pn(this.g);var y=this.g.Ba();const Un=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||xt!=4||y==7||(y==8||0>=Un?Qr(3):Qr(2)),qs(this);var E=this.g.Z();this.X=E;t:if(ef(this)){var P=Zl(this.g);h="";var H=P.length,Y=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),Vi(this);var ue="";break t}this.h.i=new c.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,h+=this.h.i.decode(P[y],{stream:!(Y&&y==H-1)});P.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,ea(this.i,this.u,this.A,this.l,this.R,xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Pt=this.g;if((Ze=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ze)){var ze=Ze;break t}}ze=null}if(E=ze)tr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gl(this,E);else{this.o=!1,this.s=3,wt(12),Fn(this),Vi(this);break e}}if(this.P){E=!0;let Rn;for(;!this.J&&this.C<ue.length;)if(Rn=pp(this,ue),Rn==na){xt==4&&(this.s=4,wt(14),E=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Wl){this.s=4,wt(15),tr(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else tr(this.i,this.l,Rn,null),Gl(this,Rn);if(ef(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ue.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)tr(this.i,this.l,ue,"[Invalid Chunked Response]"),Fn(this),Vi(this);else if(0<ue.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),tu(Mt),Mt.M=!0,wt(11))}}else tr(this.i,this.l,ue,null),Gl(this,ue);xt==4&&Fn(this),this.o&&!this.J&&(xt==4?pa(this.j,this):(this.o=!1,nt(this)))}else ua(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Fn(this),Vi(this)}}}catch{}finally{}};function ef(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pp(h,y){var E=h.C,P=y.indexOf(`
`,E);return P==-1?na:(E=Number(y.substring(E,P)),isNaN(E)?Wl:(P+=1,P+E>y.length?na:(y=y.slice(P,P+E),h.C=P+E,y)))}rr.prototype.cancel=function(){this.J=!0,Fn(this)};function nt(h){h.S=Date.now()+h.I,tf(h,h.I)}function tf(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=er(w(h.ba,h),y)}function qs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}rr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Hl(this.i,this.A),this.L!=2&&(Qr(),wt(17)),Fn(this),this.s=2,Vi(this)):tf(this,this.S-h)};function Vi(h){h.j.G==0||h.J||pa(h.j,h)}function Fn(h){qs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Fl(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Gl(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||ln(E.h,h))){if(!h.K&&ln(E.h,h)&&E.G==3){try{var P=E.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var H=P;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)da(E),lr(E);else break e;ha(E),wt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=er(w(E.Za,E),6e3));if(1>=rf(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ei(E,11)}else if((h.K||E.g==h)&&da(E),!V(y))for(H=E.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Mt=ze[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const xt=ze[4];xt!=null&&(E.Aa=xt,E.j.info("SVER="+E.Aa));const Un=ze[5];Un!=null&&typeof Un=="number"&&0<Un&&(P=1.5*Un,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Rn=h.g;if(Rn){const Ys=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var Y=P.h;Y.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ql(Y,Y.h),Y.h=null))}if(P.D){const ga=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(P.ya=ga,et(P.I,P.D,ga))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var ue=h;if(P.qa=yf(P,P.J?P.ia:null,P.W),ue.K){sf(P.h,ue);var Ze=ue,Pt=P.L;Pt&&(Ze.I=Pt),Ze.B&&(qs(Ze),nt(Ze)),P.g=ue}else Xs(P);0<E.i.length&&Sr(E)}else ze[0]!="stop"&&ze[0]!="close"||ei(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ei(E,7):zt(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}Qr(4)}catch{}}var nf=class{constructor(h,y){this.g=h,this.map=y}};function Hs(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function rf(h){return h.h?1:h.g?h.g.size:0}function ln(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ql(h,y){h.g?h.g.add(y):h.h=y}function sf(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Hs.prototype.cancel=function(){if(this.i=of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function of(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return I(h.i)}function ia(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var y=[],E=h.length,P=0;P<E;P++)y.push(h[P]);return y}y=[],E=0;for(P in h)y[E++]=h[P];return y}function sa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const P in h)y[E++]=P;return y}}}function Li(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=sa(h),P=ia(h),H=P.length,Y=0;Y<H;Y++)y.call(void 0,P[Y],E&&E[Y],h)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var P=h[E].indexOf("="),H=null;if(0<=P){var Y=h[E].substring(0,P);H=h[E].substring(P+1)}else Y=h[E];y(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Xr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Xr){this.h=h.h,Ks(this,h.j),this.o=h.o,this.g=h.g,Mi(this,h.s),this.l=h.l;var y=h.i,E=new wr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Fi(this,E),this.m=h.m}else h&&(y=String(h).match(Ws))?(this.h=!1,Ks(this,y[1]||"",!0),this.o=Be(y[2]||""),this.g=Be(y[3]||"",!0),Mi(this,y[4]),this.l=Be(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=Be(y[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}Xr.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Ui(y,oa,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ui(y,oa,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ui(E,E.charAt(0)=="/"?uf:lf,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ui(E,Xl)),h.join("")};function bn(h){return new Xr(h)}function Ks(h,y,E){h.j=E?Be(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Mi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Fi(h,y,E){y instanceof wr?(h.i=y,Er(h.i,h.h)):(E||(y=Ui(y,cf)),h.i=new wr(y,h.h))}function et(h,y,E){h.i.set(y,E)}function ji(h){return et(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Be(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ui(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,af),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function af(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oa=/[#\/\?@]/g,lf=/[#\?:]/g,uf=/[#\?]/g,cf=/[#\?@]/g,Xl=/#/g;function wr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function $t(h){h.g||(h.g=new Map,h.h=0,h.i&&mp(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=wr.prototype,t.add=function(h,y){$t(this),this.i=null,h=jn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function ir(h,y){$t(h),y=jn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function sr(h,y){return $t(h),y=jn(h,y),h.g.has(y)}t.forEach=function(h,y){$t(this),this.g.forEach(function(E,P){E.forEach(function(H){h.call(y,H,P,this)},this)},this)},t.na=function(){$t(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let P=0;P<y.length;P++){const H=h[P];for(let Y=0;Y<H.length;Y++)E.push(y[P])}return E},t.V=function(h){$t(this);let y=[];if(typeof h=="string")sr(this,h)&&(y=y.concat(this.g.get(jn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},t.set=function(h,y){return $t(this),this.i=null,h=jn(this,h),sr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Bi(h,y,E){ir(h,y),0<E.length&&(h.i=null,h.g.set(jn(h,y),I(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var P=y[E];const Y=encodeURIComponent(String(P)),ue=this.V(P);for(P=0;P<ue.length;P++){var H=Y;ue[P]!==""&&(H+="="+encodeURIComponent(String(ue[P]))),h.push(H)}}return this.i=h.join("&")};function jn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Er(h,y){y&&!h.j&&($t(h),h.i=null,h.g.forEach(function(E,P){var H=P.toLowerCase();P!=H&&(ir(this,P),Bi(this,H,E))},h)),h.j=y}function gp(h,y){const E=new Bs;if(c.Image){const P=new Image;P.onload=T(dn,E,"TestLoadImage: loaded",!0,y,P),P.onerror=T(dn,E,"TestLoadImage: error",!1,y,P),P.onabort=T(dn,E,"TestLoadImage: abort",!1,y,P),P.ontimeout=T(dn,E,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else y(!1)}function ff(h,y){const E=new Bs,P=new AbortController,H=setTimeout(()=>{P.abort(),dn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:P.signal}).then(Y=>{clearTimeout(H),Y.ok?dn(E,"TestPingServer: ok",!0,y):dn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),dn(E,"TestPingServer: error",!1,y)})}function dn(h,y,E,P,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),P(E)}catch{}}function yp(){this.g=new Bl}function hf(h,y,E){const P=E||"";try{Li(h,function(H,Y){let ue=H;p(H)&&(ue=jl(H)),y.push(P+Y+"="+encodeURIComponent(ue))})}catch(H){throw y.push(P+"type="+encodeURIComponent("_badmap")),H}}function Yr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Yr,js),Yr.prototype.g=function(){return new Gs(this.l,this.j)},Yr.prototype.i=function(h){return function(){return h}}({});function Gs(h,y){At.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Gs,At),t=Gs.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ar(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;df(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function df(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?or(this):ar(this),this.readyState==3&&df(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,or(this))},t.Qa=function(h){this.g&&(this.response=h,or(this))},t.ga=function(){this.g&&or(this)};function or(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ar(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ar(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jr(h){let y="";return Z(h,function(E,P){y+=P,y+=":",y+=E,y+=`\r
`}),y}function $i(h,y,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Jr(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):et(h,y,E))}function lt(h){At.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(lt,At);var vp=/^https?$/i,Yl=["POST","PUT"];t=lt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?Xo(this.o):Xo(nr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Qs(this,Y);return}if(h=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var H in P)E.set(H,P[H]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Y of P.keys())E.set(Y,P.get(Y));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Yl,y,void 0))||P||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of E)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Qs(this,Y)}};function Qs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,aa(h),Pn(h)}function aa(h){h.A||(h.A=!0,bt(h,"complete"),bt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,bt(this,"complete"),bt(this,"abort"),Pn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jl(this):this.bb())},t.bb=function(){Jl(this)};function Jl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||pn(h)!=4||h.Z()!=2)){if(h.u&&pn(h)==4)Ll(h.Ea,0,h);else if(bt(h,"readystatechange"),pn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var P;if(P=ue===0){var H=String(h.D).match(Ws)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),P=!vp.test(H?H.toLowerCase():"")}E=P}if(E)bt(h,"complete"),bt(h,"success");else{h.m=6;try{var Y=2<pn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",aa(h)}}finally{Pn(h)}}}}function Pn(h,y){if(h.g){la(h);const E=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||bt(h,"ready");try{E.onreadystatechange=P}catch{}}}function la(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function pn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ul(y)}};function Zl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(h){const y={};h=(h.g&&2<=pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(V(h[P]))continue;var E=b(h[P]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[H]||[];y[H]=Y,Y.push(E)}O(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function eu(h){this.Aa=0,this.i=[],this.j=new Bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,h),this.cb=Tr("retryDelaySeedMs",1e4,h),this.Wa=Tr("forwardChannelMaxRetries",2,h),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hs(h&&h.concurrentRequestLimit),this.Da=new yp,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eu.prototype,t.la=8,t.G=1,t.connect=function(h,y,E,P){wt(0),this.W=h,this.H=y||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=yf(this,null,this.W),Sr(this)};function zt(h){if(ca(h),h.G==3){var y=h.U++,E=bn(h.I);if(et(E,"SID",h.K),et(E,"RID",y),et(E,"TYPE","terminate"),Zr(h,E),y=new rr(h,h.j,y),y.L=2,y.v=ji(bn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=vf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}gf(h)}function lr(h){h.g&&(tu(h),h.g.cancel(),h.g=null)}function ca(h){lr(h),h.u&&(c.clearTimeout(h.u),h.u=null),da(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Sr(h){if(!An(h.h)&&!h.s){h.s=!0;var y=h.Ga;ce||le(),ne||(ce(),ne=!0),de.add(y,h),h.B=0}}function _p(h,y){return rf(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=er(w(h.Ga,h,y),mf(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new rr(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=A(Y),F(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=zi(this,H,y),E=bn(this.I),et(E,"RID",h),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),Zr(this,E),Y&&(this.O?y="headers="+encodeURIComponent(String(Jr(Y)))+"&"+y:this.m&&$i(E,this.m,Y)),Ql(this.h,H),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",y),et(E,"SID","null"),H.T=!0,ra(H,E,null)):ra(H,E,y),this.G=2}}else this.G==3&&(h?fa(this,h):this.i.length==0||An(this.h)||fa(this))};function fa(h,y){var E;y?E=y.l:E=h.U++;const P=bn(h.I);et(P,"SID",h.K),et(P,"RID",E),et(P,"AID",h.T),Zr(h,P),h.m&&h.o&&$i(P,h.m,h.o),E=new rr(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=zi(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ql(h.h,E),ra(E,P,y)}function Zr(h,y){h.H&&Z(h.H,function(E,P){et(y,P,E)}),h.l&&Li({},function(E,P){et(y,P,E)})}function zi(h,y,E){E=Math.min(h.i.length,E);var P=h.l?w(h.l.Na,h.l,h):null;e:{var H=h.i;let Y=-1;for(;;){const ue=["count="+E];Y==-1?0<E?(Y=H[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let Ze=!0;for(let Pt=0;Pt<E;Pt++){let ze=H[Pt].g;const Mt=H[Pt].map;if(ze-=Y,0>ze)Y=Math.max(0,H[Pt].g-100),Ze=!1;else try{hf(Mt,ue,"req"+ze+"_")}catch{P&&P(Mt)}}if(Ze){P=ue.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,P}function Xs(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ce||le(),ne||(ce(),ne=!0),de.add(y,h),h.v=0}}function ha(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=er(w(h.Fa,h),mf(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=er(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),lr(this),pf(this))};function tu(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function pf(h){h.g=new rr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=bn(h.qa);et(y,"RID","rpc"),et(y,"SID",h.K),et(y,"AID",h.T),et(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&et(y,"TO",h.ja),et(y,"TYPE","xmlhttp"),Zr(h,y),h.m&&h.o&&$i(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=ji(bn(y)),E.m=null,E.P=!0,Kl(E,h)}t.Za=function(){this.C!=null&&(this.C=null,lr(this),ha(this),wt(19))};function da(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function pa(h,y){var E=null;if(h.g==y){da(h),tu(h),h.g=null;var P=2}else if(ln(h.h,y))E=y.D,sf(h.h,y),P=1;else return;if(h.G!=0){if(y.o)if(P==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var H=h.B;P=Us(),bt(P,new Zo(P,E)),Sr(h)}else Xs(h);else if(H=y.s,H==3||H==0&&0<y.X||!(P==1&&_p(h,y)||P==2&&ha(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),H){case 1:ei(h,5);break;case 4:ei(h,10);break;case 3:ei(h,6);break;default:ei(h,2)}}}function mf(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function ei(h,y){if(h.j.info("Error code "+y),y==2){var E=w(h.fb,h),P=h.Xa;const H=!P;P=new Xr(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ks(P,"https"),ji(P),H?gp(P.toString(),E):ff(P.toString(),E)}else wt(2);h.G=0,h.l&&h.l.sa(y),gf(h),ca(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function gf(h){if(h.G=0,h.ka=[],h.l){const y=of(h.h);(y.length!=0||h.i.length!=0)&&(R(h.ka,y),R(h.ka,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.ra()}}function yf(h,y,E){var P=E instanceof Xr?bn(E):new Xr(E);if(P.g!="")y&&(P.g=y+"."+P.g),Mi(P,P.s);else{var H=c.location;P=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Y=new Xr(null);P&&Ks(Y,P),y&&(Y.g=y),H&&Mi(Y,H),E&&(Y.l=E),P=Y}return E=h.D,y=h.ya,E&&y&&et(P,E,y),et(P,"VER",h.la),Zr(h,P),P}function vf(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new lt(new Yr({eb:E})):new lt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}t=nu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ma(){}ma.prototype.g=function(h,y){return new un(h,y)};function un(h,y){At.call(this),this.g=new eu(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!V(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new xr(this)}x(un,At),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zt(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=jl(h),h=E);y.i.push(new nf(y.Ya++,h)),y.G==3&&Sr(y)},un.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,un.aa.N.call(this)};function _f(h){vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}x(_f,vr);function wf(){Jo.call(this),this.status=1}x(wf,Jo);function xr(h){this.g=h}x(xr,nu),xr.prototype.ua=function(){bt(this.g,"a")},xr.prototype.ta=function(h){bt(this.g,new _f(h))},xr.prototype.sa=function(h){bt(this.g,new wf)},xr.prototype.ra=function(){bt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,RI=function(){return new ma},PI=function(){return Us()},bI=_r,Lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,Oh=ta,Jc.COMPLETE="complete",AI=Jc,Yo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",At.prototype.listen=At.prototype.K,Nu=Yo,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,CI=lt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Uy("@firebase/firestore");function Fa(){return Vo.logLevel}function pe(t,...e){if(Vo.logLevel<=je.DEBUG){const n=e.map(ev);Vo.debug(`Firestore (${Il}): ${t}`,...n)}}function Ii(t,...e){if(Vo.logLevel<=je.ERROR){const n=e.map(ev);Vo.error(`Firestore (${Il}): ${t}`,...n)}}function ul(t,...e){if(Vo.logLevel<=je.WARN){const n=e.map(ev);Vo.warn(`Firestore (${Il}): ${t}`,...n)}}function ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: `+t;throw Ii(e),new Error(e)}function Je(t,e){t||Re()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class iM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sM{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new kI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new nn(e)}}class oM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class aM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new lM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cM(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function cl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ot(0,0))}static max(){return new ke(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Pr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Pr.isNumericId(e),i=Pr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class vt extends Pr{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const fM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Pr{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return fM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(vt.fromString(e))}static fromName(e){return new xe(vt.fromString(e).popFirst(5))}static empty(){return new xe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new vt(e.slice()))}}function hM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new As(i,xe.empty(),e)}function dM(t){return new As(t.readTime,t.key,-1)}class As{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new As(ke.min(),xe.empty(),-1)}static max(){return new As(ke.max(),xe.empty(),-1)}}function pM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==mM)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},f=>r(f))}),l=!0,a===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new te((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function yM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qd.oe=-1;function Hd(t){return t==null}function od(t){return t===0&&1/t==-1/0}function vM(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UE(e)),e=wM(t.get(n),e);return UE(e)}function wM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function UE(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Vt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OI("Invalid base64 string: "+a):a}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const EM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(Je(!!t),typeof t=="string"){let e=0;const n=EM.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wd(t){const e=t.mapValue.fields.__previous_value__;return tv(e)?Wd(e):e}function ec(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,i,a,l,c,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:xM(t)?9007199254740991:SM(t)?10:11:Re()}function jr(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=bs(i.timestampValue),c=bs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ps(i.bytesValue).isEqual(Ps(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=St(i.doubleValue),c=St(a.doubleValue);return l===c?od(l)===od(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(BE(l)!==BE(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!jr(l[f],c[f])))return!1;return!0}(t,e);default:return Re()}}function nc(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function fl(t,e){if(t===e)return 0;const n=Rs(t),r=Rs(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=St(a.integerValue||a.doubleValue),f=St(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return zE(t.timestampValue,e.timestampValue);case 4:return zE(ec(t),ec(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(a,l){const c=Ps(a),f=Ps(l);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=$e(c[p],f[p]);if(g!==0)return g}return $e(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=$e(St(a.latitude),St(l.latitude));return c!==0?c:$e(St(a.longitude),St(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qE(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},w=l.fields||{},T=(c=_.value)===null||c===void 0?void 0:c.arrayValue,x=(f=w.value)===null||f===void 0?void 0:f.arrayValue,I=$e(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:qE(T,x)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===_h.mapValue&&l===_h.mapValue)return 0;if(a===_h.mapValue)return 1;if(l===_h.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const w=$e(f[_],g[_]);if(w!==0)return w;const T=fl(c[f[_]],p[g[_]]);if(T!==0)return T}return $e(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Re()}}function zE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=bs(t),r=bs(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function qE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fl(n[i],r[i]);if(a)return a}return $e(n.length,r.length)}function hl(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Mg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Mg(n.fields[l])}`;return i+"}"}(t.mapValue):Re()}function Vh(t){switch(Rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wd(t);return e?16+Vh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Vh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return jo(r.fields,(a,l)=>{i+=a.length+Vh(l)}),i}(t.mapValue);default:throw Re()}}function Fg(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function HE(t){return!!t&&"nullValue"in t}function WE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function SM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=zu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xn(zu(this.value))}}function VI(t){const e=[];return jo(t.fields,(n,r)=>{const i=new Gt([n]);if(Lh(r)){const a=VI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,ke.min(),ke.min(),ke.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new rn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new rn(e,2,n,ke.min(),ke.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,ke.min(),ke.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.position=e,this.inclusive=n}}function KE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=fl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function GE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function IM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class Dt extends LI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AM(e,n,r):n==="array-contains"?new RM(e,r):n==="in"?new kM(e,r):n==="not-in"?new DM(e,r):n==="array-contains-any"?new NM(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bM(e,r):new PM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fl(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends LI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ur(e,n)}matches(e){return MI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function MI(t){return t.op==="and"}function FI(t){return CM(t)&&MI(t)}function CM(t){for(const e of t.filters)if(e instanceof Ur)return!1;return!0}function jg(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(FI(t))return t.filters.map(e=>jg(e)).join(",");{const e=t.filters.map(n=>jg(n)).join(",");return`${t.op}(${e})`}}function jI(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)}(t,e):t instanceof Ur?function(r,i){return i instanceof Ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&jI(l,i.filters[c]),!0):!1}(t,e):void Re()}function UI(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(t):t instanceof Ur?function(n){return n.op.toString()+" {"+n.getFilters().map(UI).join(" ,")+"}"}(t):"Filter"}class AM extends Dt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class bM extends Dt{constructor(e,n){super(e,"in",n),this.keys=BI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PM extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=BI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class RM extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&nc(n.arrayValue,this.value)}}class kM extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class DM extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}}class NM extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function QE(t,e=null,n=[],r=[],i=null,a=null,l=null){return new OM(t,e,n,r,i,a,l)}function rv(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hl(r)).join(",")),e.ue=n}return e.ue}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GE(t.startAt,e.startAt)&&GE(t.endAt,e.endAt)}function Ug(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VM(t,e,n,r,i,a,l,c){return new Kd(t,e,n,r,i,a,l,c)}function sv(t){return new Kd(t)}function XE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LM(t){return t.collectionGroup!==null}function qu(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Vt(Gt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ld(a,r))}),n.has(Gt.keyField().canonicalString())||e.ce.push(new ld(Gt.keyField(),r))}return e.ce}function Dr(t){const e=Oe(t);return e.le||(e.le=MM(e,qu(t))),e.le}function MM(t,e){if(t.limitType==="F")return QE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ld(i.field,a)});const n=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;return QE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bg(t,e,n){return new Kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return iv(Dr(t),Dr(e))&&t.limitType===e.limitType}function $I(t){return`${rv(Dr(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UI(i)).join(", ")}]`),Hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hl(i)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of qu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=KE(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,qu(r),i)||r.endAt&&!function(l,c,f){const p=KE(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,qu(r),i))}(t,e)}function FM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zI(t){return(e,n)=>{let r=!1;for(const i of qu(t)){const a=jM(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function jM(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?fl(f,p):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return NI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new pt(xe.comparator);function Ci(){return UM}const qI=new pt(xe.comparator);function Ou(...t){let e=qI;for(const n of t)e=e.insert(n.key,n);return e}function HI(t){let e=qI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wo(){return Hu()}function WI(){return Hu()}function Hu(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const BM=new pt(xe.comparator),$M=new Vt(xe.comparator);function Ue(...t){let e=$M;for(const n of t)e=e.add(n);return e}const zM=new Vt($e);function qM(){return zM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function KI(t){return{integerValue:""+t}}function HM(t,e){return vM(e)?KI(e):ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function WM(t,e,n){return t instanceof ud?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&tv(a)&&(a=Wd(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof rc?QI(t,e):t instanceof ic?XI(t,e):function(i,a){const l=GI(i,a),c=YE(l)+YE(i.Pe);return Fg(l)&&Fg(i.Pe)?KI(c):ov(i.serializer,c)}(t,e)}function KM(t,e,n){return t instanceof rc?QI(t,e):t instanceof ic?XI(t,e):n}function GI(t,e){return t instanceof cd?function(r){return Fg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ud extends Xd{}class rc extends Xd{constructor(e){super(),this.elements=e}}function QI(t,e){const n=YI(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends Xd{constructor(e){super(),this.elements=e}}function XI(t,e){let n=YI(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class cd extends Xd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function YE(t){return St(t.integerValue||t.doubleValue)}function YI(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?cl(r.elements,i.elements,jr):r instanceof cd&&i instanceof cd?jr(r.Pe,i.Pe):r instanceof ud&&i instanceof ud}(t.transform,e.transform)}class QM{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function JI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new av(t.key,Nr.none()):new Uc(t.key,t.data,Nr.none());{const n=t.data,r=Xn.empty();let i=new Vt(Gt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Bo(t.key,r,new gr(i.toArray()),Nr.none())}}function XM(t,e,n){t instanceof Uc?function(i,a,l){const c=i.value.clone(),f=ZE(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(i,a,l){if(!Mh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=ZE(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(ZI(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof Uc?function(a,l,c,f){if(!Mh(a.precondition,l))return c;const p=a.value.clone(),g=eT(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(a,l,c,f){if(!Mh(a.precondition,l))return c;const p=eT(a.fieldTransforms,f,l),g=l.data;return g.setAll(ZI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return Mh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function YM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=GI(r.transform,i||null);a!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,a))}return n||null}function JE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cl(r,i,(a,l)=>GM(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Yd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends Yd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZE(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,KM(l,c,n[i]))}return r}function eT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,WM(a,l,e))}return r}class av extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JM extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&XM(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WI();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const f=JI(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(n,r)=>JE(n,r))&&cl(this.baseMutations,e.baseMutations,(n,r)=>JE(n,r))}}class lv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return BM}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new lv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function n4(t){switch(t){default:return Re();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function eC(t){if(t===void 0)return Ii("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Ct.OK:return oe.OK;case Ct.CANCELLED:return oe.CANCELLED;case Ct.UNKNOWN:return oe.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return oe.INTERNAL;case Ct.UNAVAILABLE:return oe.UNAVAILABLE;case Ct.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ct.NOT_FOUND:return oe.NOT_FOUND;case Ct.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ct.ABORTED:return oe.ABORTED;case Ct.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ct.DATA_LOSS:return oe.DATA_LOSS;default:return Re()}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Ss([4294967295,4294967295],0);function tT(t){const e=r4().encode(t),n=new II;return n.update(e),new Uint8Array(n.digest())}function nT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([i,a],0)]}class uv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ss.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ss.fromNumber(r)));return i.compare(i4)===1&&(i=new Ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=tT(e),[r,i]=nT(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);if(!this.Ee(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new uv(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=tT(e),[r,i]=nT(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(ke.min(),i,new pt($e),Ci(),Ue())}}class Bc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class tC{constructor(e,n){this.targetId=e,this.me=n}}class nC{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rT{constructor(){this.fe=0,this.ge=iT(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new Bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=iT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class s4{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ci(),this.qe=wh(),this.Qe=wh(),this.Ke=new pt($e)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const a=i.target;if(Ug(a))if(r===0){const l=new xe(a.path);this.We(n,l,rn.newNoDocument(l,ke.min()))}else Je(r===1);else{const l=this.Ze(n);if(l!==r){const c=this.Xe(e),f=c?this.et(c,e,l):1;if(f!==0){this.He(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Ps(r).toUint8Array()}catch(f){if(f instanceof OI)return ul("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new uv(l,i,a)}catch(f){return ul(f instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Te===0?null:c}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(n,a,null),i++)}),i}it(e){const n=new Map;this.Le.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&Ug(c.target)){const f=new xe(c.target.path);this.st(f).has(l)||this.ot(l,f)||this.We(l,f,rn.newNoDocument(f,e))}a.be&&(n.set(l,a.ve()),a.Ce())}});let r=Ue();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const i=new Jd(e,n,this.Ke,this.ke,r);return this.ke=Ci(),this.qe=wh(),this.Qe=wh(),this.Ke=new pt($e),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new rT,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Vt($e),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt($e),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new rT),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function wh(){return new pt(xe.comparator)}function iT(){return new pt(xe.comparator)}const o4={asc:"ASCENDING",desc:"DESCENDING"},a4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l4={and:"AND",or:"OR"};class u4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $g(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c4(t,e){return fd(t,e.toTimestamp())}function Or(t){return Je(!!t),ke.fromTimestamp(function(n){const r=bs(n);return new Ot(r.seconds,r.nanos)}(t))}function cv(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iC(t){const e=vt.fromString(t);return Je(uC(e)),e}function qg(t,e){return cv(t.databaseId,e.path)}function rg(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(oC(n))}function sC(t,e){return cv(t.databaseId,e)}function f4(t){const e=iC(t);return e.length===4?vt.emptyPath():oC(e)}function Hg(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oC(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sT(t,e,n){return{name:qg(t,e),fields:n.value.mapValue.fields}}function h4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Je(g===void 0||typeof g=="string"),Qt.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Qt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?oe.UNKNOWN:eC(p.code);return new Se(g,p.message||"")}(l);n=new nC(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rg(t,r.document.name),a=Or(r.document.updateTime),l=r.document.createTime?Or(r.document.createTime):ke.min(),c=new Xn({mapValue:{fields:r.document.fields}}),f=rn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Fh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rg(t,r.document),a=r.readTime?Or(r.readTime):ke.min(),l=rn.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Fh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rg(t,r.document),a=r.removedTargetIds||[];n=new Fh([],a,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new t4(i,a),c=r.targetId;n=new tC(c,l)}}return n}function d4(t,e){let n;if(e instanceof Uc)n={update:sT(t,e.key,e.value)};else if(e instanceof av)n={delete:qg(t,e.key)};else if(e instanceof Bo)n={update:sT(t,e.key,e.data),updateMask:T4(e.fieldMask)};else{if(!(e instanceof JM))return Re();n={verify:qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ud)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof rc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ic)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cd)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:c4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(t,e.precondition)),n}function p4(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,a){let l=i.updateTime?Or(i.updateTime):Or(a);return l.isEqual(ke.min())&&(l=Or(a)),new QM(l,i.transformResults||[])}(n,e))):[]}function m4(t,e){return{documents:[sC(t,e.path)]}}function g4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sC(t,i);const a=function(p){if(p.length!==0)return lC(Ur.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:Ua(w.field),direction:_4(w.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=$g(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:i}}function y4(t){let e=f4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const w=aC(_);return w instanceof Ur&&FI(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(w=>function(x){return new ld(Ba(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,Hd(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(_){const w=!!_.before,T=_.values||[];return new ad(T,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,T=_.values||[];return new ad(T,w)}(n.endAt)),VM(e,i,l,a,c,"F",f,p)}function v4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ba(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ba(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ba(n.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ba(n.unaryFilter.field);return Dt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ur.create(n.compositeFilter.filters.map(r=>aC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function _4(t){return o4[t]}function w4(t){return a4[t]}function E4(t){return l4[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return Gt.fromServerFormat(t.fieldPath)}function lC(t){return t instanceof Dt?function(n){if(n.op==="=="){if(WE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(HE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(HE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:w4(n.op),value:n.value}}}(t):t instanceof Ur?function(n){const r=n.getFilters().map(i=>lC(i));return r.length===1?r[0]:{compositeFilter:{op:E4(n.op),filters:r}}}(t):Re()}function T4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,a=ke.min(),l=ke.min(),c=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.ht=e}}function x4(t){const e=y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.ln=new C4}addToCollectionParentIndex(e,n){return this.ln.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(As.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class C4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new dl(0)}static Qn(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT([t,e],[n,r]){const i=$e(t,n);return i===0?$e(e,r):i}class A4{constructor(e){this.Gn=e,this.buffer=new Vt(aT),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Yn(3e5)})}}class P4{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(qd.oe);const r=new A4(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(oT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Fa()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function R4(t,e){return new P4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wu(r.mutation,i,gr.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Ou();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=Ci();const l=Hu(),c=function(){return Hu()}();return n.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Bo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Wu(g.mutation,p,g.mutation.getFieldMask(),Ot.now())):l.set(p.key,gr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new D4(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Hu();let i=new pt((l,c)=>l-c),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||gr.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||Ue()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=WI();g.forEach(w=>{if(!a.has(w)){const T=JI(n.get(w),r.get(w));T!==null&&_.set(w,T),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):te.resolve(wo());let c=-1,f=a;return l.next(p=>te.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{f=f.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ue())).next(g=>({batchId:c,changes:HI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Ou();return this.indexManager.getCollectionParents(e,a).next(c=>te.forEach(c,f=>{const p=function(_,w){return new Kd(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,rn.newInvalidDocument(g)))});let c=Ou();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Wu(g.mutation,p,gr.empty(),Ot.now()),Qd(n,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return te.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:x4(i.bundledQuery),readTime:Or(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.overlays=new pt(xe.comparator),this.dr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wo();return te.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Tt(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=wo(),a=n.length+1,l=new xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new pt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=wo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=wo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return te.resolve(c)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new e4(n,r));let a=this.dr.get(n);a===void 0&&(a=Ue(),this.dr.set(n,a)),this.dr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Er=new Vt(Bt.Ar),this.Rr=new Vt(Bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Bt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new xe(new vt([])),r=new Bt(n,e),i=new Bt(n,e+1),a=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new xe(new vt([])),r=new Bt(n,e),i=new Bt(n,e+1);let a=Ue();return this.Rr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Bt(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return xe.comparator(e.key,n.key)||$e(e.br,n.br)}static Vr(e,n){return $e(e.br,n.br)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Vt(Bt.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ZM(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new Bt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],l=>{const c=this.Cr(l.br);a.push(c)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt($e);return n.forEach(i=>{const a=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{r=r.add(c.br)})}),te.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new Bt(new xe(a),0);let c=new Vt($e);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.br)),!0)},l),te.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return te.forEach(n.mutations,i=>{const a=new Bt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Bt(n,0),i=this.vr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.Nr=e,this.docs=function(){return new pt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ci();const l=n.path,c=new xe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||pM(dM(g),r)<=0||(i.has(g.key)||Qd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Re()}Br(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j4(this)}getSize(e){return te.resolve(this.size)}}class j4 extends k4{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.persistence=e,this.Lr=new Uo(n=>rv(n),iv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.kr=0,this.qr=new fv,this.targetCount=0,this.Qr=dl.qn()}forEachTarget(e,n){return this.Lr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),te.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Un(n),te.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.Kr={},this.overlays={},this.$r=new qd(0),this.Ur=!1,this.Ur=!0,this.Wr=new L4,this.referenceDelegate=e(this),this.Gr=new U4(this),this.indexManager=new I4,this.remoteDocumentCache=function(i){return new F4(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new S4(n),this.jr=new O4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new M4(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new B4(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,n){return te.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class B4 extends gM{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Zr=new fv,this.Xr=null}static ei(e){return new hv(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),te.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,r=>{const i=xe.fromPath(r);return this.ni(e,i).next(a=>{a||n.removeEntry(i,ke.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return te.or([()=>te.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class hd{constructor(e,n){this.persistence=e,this.ri=new Uo(r=>_M(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=R4(this,n)}static ei(e,n){return new hd(e,n)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return te.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,n).next(c=>{c||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vh(e.data.value)),n}ir(e,n,r){return te.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ue(),i=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new dv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return FN()?8:yM(an())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Xi(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new $4;return this.ts(e,n,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,n,l,c.size)})}).next(()=>a.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Fa()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Fa()<=je.DEBUG&&pe("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Fa()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):te.resolve())}Xi(e,n){if(XE(n))return te.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bg(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ue(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(n,c);return this.ss(n,p,l,f.readTime)?this.Xi(e,Bg(n,null,"F")):this.os(e,p,n,f)}))})))}es(e,n,r,i){return XE(n)||i.isEqual(ke.min())?te.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(n,a);return this.ss(n,l,r,i)?te.resolve(null):(Fa()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(n)),this.os(e,l,n,hM(i,-1)).next(c=>c))})}rs(e,n){let r=new Vt(zI(e));return n.forEach((i,a)=>{Qd(e,a)&&(r=r.add(a))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,n,r){return Fa()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ja(n)),this.Zi.getDocumentsMatchingQuery(e,n,As.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new pt($e),this.cs=new Uo(a=>rv(a),iv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N4(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function H4(t,e,n,r){return new q4(t,e,n,r)}async function fC(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=Ue();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function W4(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,w=_.keys();let T=te.resolve();return w.forEach(x=>{T=T.next(()=>g.getEntry(f,x)).next(I=>{const R=p.docVersions.get(x);Je(R!==null),I.version.compareTo(R)<0&&(_.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),g.addEntry(I)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ue();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hC(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function K4(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const c=[];e.targetChanges.forEach((g,_)=>{const w=i.get(_);if(!w)return;c.push(n.Gr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(a,g.addedDocuments,_)));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Qt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(I,R,D){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,T,g)&&c.push(n.Gr.updateTargetData(a,T))});let f=Ci(),p=Ue();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(G4(a,l,e.documentUpdates).next(g=>{f=g.Is,p=g.ds})),!r.isEqual(ke.min())){const g=n.Gr.getLastRemoteSnapshotVersion(a).next(_=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return te.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.us=i,a))}function G4(t,e,n){let r=Ue(),i=Ue();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ci();return n.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Is:l,ds:i}})}function Q4(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X4(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):n.Gr.allocateTargetId(r).next(l=>(i=new _s(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Wg(t,e,n){const r=Oe(t),i=r.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Al(l))throw l;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function lT(t,e,n){const r=Oe(t);let i=ke.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=Oe(f),w=_.cs.get(g);return w!==void 0?te.resolve(_.us.get(w)):_.Gr.getTargetData(p,g)}(r,l,Dr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,n?i:ke.min(),n?a:Ue())).next(c=>(Y4(r,FM(e),c),{documents:c,Es:a})))}function Y4(t,e,n){let r=t.ls.get(e)||ke.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.ls.set(e,r)}class uT{constructor(){this.activeTargetIds=qM()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J4{constructor(){this._o=new uT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new uT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function ig(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class n3 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(n,r,i,a,l){const c=ig(),f=this.No(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,l),this.Lo(n,f,p,i).then(g=>(pe("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw ul("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",f,"request:",i),g})}ko(n,r,i,a,l,c){return this.Oo(n,r,i,a,l)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Il}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>n[l]=a),i&&i.headers.forEach((a,l)=>n[l]=a)}No(n,r){const i=e3[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,i){const a=ig();return new Promise((l,c)=>{const f=new CI;f.setWithCredentials(!0),f.listenOnce(AI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Oh.NO_ERROR:const g=f.getResponseJson();pe(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Oh.TIMEOUT:pe(en,`RPC '${e}' ${a} timed out`),c(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const _=f.getStatus();if(pe(en,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const x=function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(D)>=0?D:oe.UNKNOWN}(T.status);c(new Se(x,T.message))}else c(new Se(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{pe(en,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);pe(en,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",p,r,15)})}qo(e,n,r){const i=ig(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=RI(),c=PI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");pe(en,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let w=!1,T=!1;const x=new t3({Eo:R=>{T?pe(en,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(w||(pe(en,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),pe(en,`RPC '${e}' stream ${i} sending:`,R),_.send(R))},Ao:()=>_.close()}),I=(R,D,V)=>{R.listen(D,U=>{try{V(U)}catch(G){setTimeout(()=>{throw G},0)}})};return I(_,Nu.EventType.OPEN,()=>{T||(pe(en,`RPC '${e}' stream ${i} transport opened.`),x.So())}),I(_,Nu.EventType.CLOSE,()=>{T||(T=!0,pe(en,`RPC '${e}' stream ${i} transport closed`),x.Do())}),I(_,Nu.EventType.ERROR,R=>{T||(T=!0,ul(en,`RPC '${e}' stream ${i} transport errored:`,R),x.Do(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),I(_,Nu.EventType.MESSAGE,R=>{var D;if(!T){const V=R.data[0];Je(!!V);const U=V,G=(U==null?void 0:U.error)||((D=U[0])===null||D===void 0?void 0:D.error);if(G){pe(en,`RPC '${e}' stream ${i} received error:`,G);const J=G.status;let Z=function(N){const F=Ct[N];if(F!==void 0)return eC(F)}(J),O=G.message;Z===void 0&&(Z=oe.INTERNAL,O="Unknown error status: "+J+" with message "+G.message),T=!0,x.Do(new Se(Z,O)),_.close()}else pe(en,`RPC '${e}' stream ${i} received:`,V),x.vo(V)}}),I(c,bI.STAT_EVENT,R=>{R.stat===Lg.PROXY?pe(en,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Lg.NOPROXY&&pe(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return new u4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i,a,l,c,f){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new dC(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r3 extends pC{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=h4(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Or(l.readTime):ke.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Hg(this.serializer),n.addTarget=function(a,l){let c;const f=l.target;if(c=Ug(f)?{documents:m4(a,f)}:{query:g4(a,f).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=rC(a,l.resumeToken);const p=$g(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=fd(a,l.snapshotVersion.toTimestamp());const p=$g(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=v4(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Hg(this.serializer),n.removeTarget=e,this.c_(n)}}class i3 extends pC{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=p4(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Hg(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>d4(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,zg(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(oe.UNKNOWN,a.toString())})}ko(e,n,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,zg(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(oe.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class o3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ii(n),this.C_=!1):pe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{$o(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Oe(f);p.k_.add(4),await $c(p),p.K_.set("Unknown"),p.k_.delete(4),await ep(p)}(this))})}),this.K_=new o3(r,i)}}async function ep(t){if($o(t))for(const e of t.q_)await e(!0)}async function $c(t){for(const e of t.q_)await e(!1)}function mC(t,e){const n=Oe(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),yv(n)?gv(n):bl(n).s_()&&mv(n,e))}function pv(t,e){const n=Oe(t),r=bl(n);n.L_.delete(e),r.s_()&&gC(n,e),n.L_.size===0&&(r.s_()?r.a_():$o(n)&&n.K_.set("Unknown"))}function mv(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).V_(e)}function gC(t,e){t.U_.xe(e),bl(t).m_(e)}function gv(t){t.U_=new s4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.K_.F_()}function yv(t){return $o(t)&&!bl(t).i_()&&t.L_.size>0}function $o(t){return Oe(t).k_.size===0}function yC(t){t.U_=void 0}async function l3(t){t.K_.set("Online")}async function u3(t){t.L_.forEach((e,n)=>{mv(t,e)})}async function c3(t,e){yC(t),yv(t)?(t.K_.O_(e),gv(t)):t.K_.set("Unknown")}async function f3(t,e,n){if(t.K_.set("Online"),e instanceof nC&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(t,r)}else if(e instanceof Fh?t.U_.$e(e):e instanceof tC?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ke.min()))try{const r=await hC(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.L_.get(f);if(!g)return;a.L_.set(f,g.withResumeToken(Qt.EMPTY_BYTE_STRING,g.snapshotVersion)),gC(a,f);const _=new _s(g.target,f,p,g.sequenceNumber);mv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await dd(t,r)}}async function dd(t,e,n){if(!Al(e))throw e;t.k_.add(1),await $c(t),t.K_.set("Offline"),n||(n=()=>hC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await ep(t)})}function vC(t,e){return e().catch(n=>dd(t,n,e))}async function tp(t){const e=Oe(t),n=ks(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;h3(e);)try{const i=await Q4(e.localStore,r);if(i===null){e.B_.length===0&&n.a_();break}r=i.batchId,d3(e,i)}catch(i){await dd(e,i)}_C(e)&&wC(e)}function h3(t){return $o(t)&&t.B_.length<10}function d3(t,e){t.B_.push(e);const n=ks(t);n.s_()&&n.f_&&n.g_(e.mutations)}function _C(t){return $o(t)&&!ks(t).i_()&&t.B_.length>0}function wC(t){ks(t).start()}async function p3(t){ks(t).w_()}async function m3(t){const e=ks(t);for(const n of t.B_)e.g_(n.mutations)}async function g3(t,e,n){const r=t.B_.shift(),i=lv.from(r,e,n);await vC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tp(t)}async function y3(t,e){e&&ks(t).f_&&await async function(r,i){if(function(l){return n4(l)&&l!==oe.ABORTED}(i.code)){const a=r.B_.shift();ks(r).__(),await vC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await tp(r)}}(t,e),_C(t)&&wC(t)}async function fT(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=$o(n);n.k_.add(3),await $c(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ep(n)}async function v3(t,e){const n=Oe(t);e?(n.k_.delete(2),await ep(n)):e||(n.k_.add(2),await $c(n),n.K_.set("Unknown"))}function bl(t){return t.W_||(t.W_=function(n,r,i){const a=Oe(n);return a.b_(),new r3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:l3.bind(null,t),mo:u3.bind(null,t),po:c3.bind(null,t),R_:f3.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),yv(t)?gv(t):t.K_.set("Unknown")):(await t.W_.stop(),yC(t))})),t.W_}function ks(t){return t.G_||(t.G_=function(n,r,i){const a=Oe(n);return a.b_(),new i3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:p3.bind(null,t),po:y3.bind(null,t),p_:m3.bind(null,t),y_:g3.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await tp(t)):(await t.G_.stop(),t.B_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new vv(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _v(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),Al(t))return new Se(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Ou(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.z_=new pt(xe.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pl{constructor(e,n,r,i,a,l,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new pl(e,n,Za.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class w3{constructor(){this.queries=dT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Oe(n),a=i.queries;i.queries=dT(),a.forEach((l,c)=>{for(const f of c.J_)f.onError(r)})})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function dT(){return new Uo(t=>$I(t),Gd)}async function E3(t,e){const n=Oe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new _3,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await n.onListen(i,!0);break;case 1:a.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=_v(l,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&wv(n)}async function T3(t,e){const n=Oe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S3(t,e){const n=Oe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.J_)c.ta(i)&&(r=!0);l.H_=i}}r&&wv(n)}function x3(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(n);r.queries.delete(e)}function wv(t){t.X_.forEach(e=>{e.next()})}var Kg,pT;(pT=Kg||(Kg={})).na="default",pT.Cache="cache";class I3{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.key=e}}class TC{constructor(e){this.key=e}}class C3{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ue(),this.mutatedKeys=Ue(),this.Va=zI(e),this.ma=new Za(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new hT,i=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const w=i.get(g),T=Qd(this.query,_)?_:null,x=!!w&&this.mutatedKeys.has(w.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;w&&T?w.data.isEqual(T.data)?x!==I&&(r.track({type:3,doc:T}),R=!0):this.ya(w,T)||(r.track({type:2,doc:T}),R=!0,(f&&this.Va(T,f)>0||p&&this.Va(T,p)<0)&&(c=!0)):!w&&T?(r.track({type:0,doc:T}),R=!0):w&&!T&&(r.track({type:1,doc:w}),R=!0,(f||p)&&(c=!0)),R&&(T?(l=l.add(T),a=I?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:l,pa:r,ss:c,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,_)=>function(T,x){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return I(T)-I(x)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(r),i=i!=null&&i;const c=n&&!i?this.Sa():[],f=this.Ra.size===0&&this.current&&!i?1:0,p=f!==this.Aa;return this.Aa=f,l.length!==0||p?{snapshot:new pl(this.query,e.ma,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new hT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ue(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new TC(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new EC(r))}),n}va(e){this.Ea=e.Es,this.Ra=Ue();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return pl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class A3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class b3{constructor(e){this.key=e,this.Fa=!1}}class P3{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Uo(c=>$I(c),Gd),this.Oa=new Map,this.Na=new Set,this.Ba=new pt(xe.comparator),this.La=new Map,this.ka=new fv,this.qa={},this.Qa=new Map,this.Ka=dl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function R3(t,e,n=!0){const r=bC(t);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await SC(r,e,n,!0),i}async function k3(t,e){const n=bC(t);await SC(n,e,!0,!1)}async function SC(t,e,n,r){const i=await X4(t.localStore,Dr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await D3(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&mC(t.remoteStore,i),c}async function D3(t,e,n,r,i){t.Ua=(_,w,T)=>async function(I,R,D,V){let U=R.view.ga(D);U.ss&&(U=await lT(I.localStore,R.query,!1).then(({documents:O})=>R.view.ga(O,U)));const G=V&&V.targetChanges.get(R.targetId),J=V&&V.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(U,I.isPrimaryClient,G,J);return gT(I,R.targetId,Z.ba),Z.snapshot}(t,_,w,T);const a=await lT(t.localStore,e,!0),l=new C3(e,a.Es),c=l.ga(a.documents),f=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,f);gT(t,n,p.ba);const g=new A3(e,n,l);return t.xa.set(e,g),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function N3(t,e,n){const r=Oe(t),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(l=>!Gd(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pv(r.remoteStore,i.targetId),Gg(r,i.targetId)}).catch(Cl)):(Gg(r,i.targetId),await Wg(r.localStore,i.targetId,!0))}async function O3(t,e){const n=Oe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pv(n.remoteStore,r.targetId))}async function V3(t,e,n){const r=$3(t);try{const i=await function(l,c){const f=Oe(l),p=Ot.now(),g=c.reduce((T,x)=>T.add(x.key),Ue());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=Ci(),I=Ue();return f.hs.getEntries(T,g).next(R=>{x=R,x.forEach((D,V)=>{V.isValidDocument()||(I=I.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,x)).next(R=>{_=R;const D=[];for(const V of c){const U=YM(V,_.get(V.key).overlayedDocument);U!=null&&D.push(new Bo(V.key,U,VI(U.value.mapValue),Nr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,p,D,c)}).next(R=>{w=R;const D=R.applyToLocalDocumentSet(_,I);return f.documentOverlayCache.saveOverlays(T,R.batchId,D)})}).then(()=>({batchId:w.batchId,changes:HI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.qa[l.currentUser.toKey()];p||(p=new pt($e)),p=p.insert(c,f),l.qa[l.currentUser.toKey()]=p}(r,i.batchId,n),await zc(r,i.changes),await tp(r.remoteStore)}catch(i){const a=_v(i,"Failed to persist write");n.reject(a)}}async function xC(t,e){const n=Oe(t);try{const r=await K4(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.La.get(a);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Je(l.Fa):i.removedDocuments.size>0&&(Je(l.Fa),l.Fa=!1))}),await zc(n,r,e)}catch(r){await Cl(r)}}function mT(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=Oe(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const w of _.J_)w.ea(c)&&(p=!0)}),p&&wv(f)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L3(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.La.get(e),a=i&&i.key;if(a){let l=new pt(xe.comparator);l=l.insert(a,rn.newNoDocument(a,ke.min()));const c=Ue().add(a),f=new Jd(ke.min(),new Map,new pt($e),l,c);await xC(r,f),r.Ba=r.Ba.remove(a),r.La.delete(e),Ev(r)}else await Wg(r.localStore,e,!1).then(()=>Gg(r,e,n)).catch(Cl)}async function M3(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await W4(n.localStore,e);CC(n,r,null),IC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,i)}catch(i){await Cl(i)}}async function F3(t,e,n){const r=Oe(t);try{const i=await function(l,c){const f=Oe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(Je(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);CC(r,e,n),IC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,i)}catch(i){await Cl(i)}}function IC(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function CC(t,e,n){const r=Oe(t);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||AC(t,r)})}function AC(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(pv(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),Ev(t))}function gT(t,e,n){for(const r of n)r instanceof EC?(t.ka.addReference(r.key,e),j3(t,r)):r instanceof TC?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||AC(t,r.key)):Re()}function j3(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.Na.add(r),Ev(t))}function Ev(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new xe(vt.fromString(e)),r=t.Ka.next();t.La.set(r,new b3(n)),t.Ba=t.Ba.insert(n,r),mC(t.remoteStore,new _s(Dr(sv(n.path)),r,"TargetPurposeLimboResolution",qd.oe))}}async function zc(t,e,n){const r=Oe(t),i=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,f)=>{l.push(r.Ua(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=dv.zi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(f,p){const g=Oe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>te.forEach(p,w=>te.forEach(w.Wi,T=>g.persistence.referenceDelegate.addReference(_,w.targetId,T)).next(()=>te.forEach(w.Gi,T=>g.persistence.referenceDelegate.removeReference(_,w.targetId,T)))))}catch(_){if(!Al(_))throw _;pe("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const T=g.us.get(w),x=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(x);g.us=g.us.insert(w,I)}}}(r.localStore,a))}async function U3(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await fC(n.localStore,e);n.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(f=>{f.reject(new Se(oe.CANCELLED,l))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.Ts)}}function B3(t,e){const n=Oe(t),r=n.La.get(e);if(r&&r.Fa)return Ue().add(r.key);{let i=Ue();const a=n.Oa.get(e);if(!a)return i;for(const l of a){const c=n.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function bC(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L3.bind(null,e),e.Ma.R_=S3.bind(null,e.eventManager),e.Ma.Wa=x3.bind(null,e.eventManager),e}function $3(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return H4(this.persistence,new z4,e.initialUser,this.serializer)}ja(e){return new cC(hv.ei,this.serializer)}za(e){return new J4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class z3 extends pd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Je(this.persistence.referenceDelegate instanceof hd);const r=this.persistence.referenceDelegate.garbageCollector;return new b4(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new cC(r=>hd.ei(r,n),this.serializer)}}class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U3.bind(null,this.syncEngine),await v3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w3}()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),r=function(a){return new n3(a)}(e.databaseInfo);return function(a,l,c,f){return new s3(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new a3(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>mT(this.syncEngine,n,0),function(){return cT.p()?new cT:new Z4}())}createSyncEngine(e,n){return function(i,a,l,c,f,p,g){const _=new P3(i,a,l,c,f,p);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Oe(i);pe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await $c(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=DI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{pe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W3(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fT(e.remoteStore,i)),t._onlineComponents=e}async function W3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new pd)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await og(t,new z3(void 0));return t._offlineComponents}async function PC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await yT(t,new Qg))),t._onlineComponents}function K3(t){return PC(t).then(e=>e.syncEngine)}async function G3(t){const e=await PC(t),n=e.eventManager;return n.onListen=R3.bind(null,e.syncEngine),n.onUnlisten=N3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O3.bind(null,e.syncEngine),n}function Q3(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new q3({next:w=>{g.eu(),l.enqueueAndForget(()=>T3(a,_));const T=w.docs.has(c);!T&&w.fromCache?p.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&f&&f.source==="server"?p.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new I3(sv(c.path),g,{includeMetadataChanges:!0,ua:!0});return E3(a,_)}(await G3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e,n){if(!n)throw new Se(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y3(t,e,n,r){if(e===!0&&r===!0)throw new Se(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _T(t){if(!xe.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function ml(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tv(t);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rM;switch(r.type){case"firstParty":return new aM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vT.get(n);r&&(pe("ComponentProvider","Removing Datastore"),vT.delete(n),r.terminate())}(this),Promise.resolve()}}function J3(t,e,n,r={}){var i;const a=(t=ml(t,Sv))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=nn.MOCK_USER;else{c=kN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nn(p)}t._authCredentials=new iM(new kI(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xv(this.firestore,e,this._query)}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class sc extends xv{constructor(e,n,r){super(e,n,sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new xe(e))}withConverter(e){return new sc(this.firestore,e,this._path)}}function ET(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=DI.newId()),X3("doc","path",e),t instanceof Sv){const r=vt.fromString(e,...n);return _T(r),new Jn(t,null,new xe(r))}{if(!(t instanceof Jn||t instanceof sc))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return _T(r),new Jn(t.firestore,t instanceof sc?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new dC(this,"async_queue_retry"),this.fu=()=>{const r=sg();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new xs;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Al(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=vv.createAndSchedule(this,e,n,r,a=>this.Su(a));return this.Eu.push(i),i}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class np extends Sv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TT(e),this._firestoreClient=void 0,await e}}}function Z3(t,e){const n=typeof t=="object"?t:qx(),r=typeof t=="string"?t:"(default)",i=$y(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=PN("firestore");a&&J3(i,...a)}return i}function kC(t){if(t._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eF(t),t._firestoreClient}function eF(t){var e,n,r;const i=t._freezeSettings(),a=function(c,f,p,g){return new TM(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,RC(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new H3(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(Qt.fromBase64String(e))}catch(n){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=/^__.*__$/;class nF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}function NC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class bv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return md(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(NC(this.Mu)&&tF.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class rF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}$u(e,n,r,i=!1){return new bv({Mu:e,methodName:n,Ku:r,path:Gt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iF(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new rF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sF(t,e,n,r,i,a={}){const l=t.$u(a.merge||a.mergeFields?2:0,e,n,i);MC("Data must be an object, but it was:",l,r);const c=VC(r,l);let f,p;if(a.merge)f=new gr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=oF(e,_,n);if(!l.contains(w))throw new Se(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lF(g,w)||g.push(w)}f=new gr(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new nF(new Xn(c),f,p)}function OC(t,e){if(LC(t=Vn(t)))return MC("Unsupported field value:",e,t),VC(t,e);if(t instanceof DC)return function(r,i){if(!NC(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=OC(c,i.ku(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ot.fromDate(r);return{timestampValue:fd(i.serializer,a)}}if(r instanceof Ot){const a=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,a)}}if(r instanceof Cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gl)return{bytesValue:rC(i.serializer,r._byteString)};if(r instanceof Jn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Av)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.qu("VectorValues must only contain numeric values.");return ov(c.serializer,f)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Tv(r)}`)}(t,e)}function VC(t,e){const n={};return NI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const a=OC(i,e.Ou(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function LC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Cv||t instanceof gl||t instanceof Jn||t instanceof DC||t instanceof Av)}function MC(t,e,n){if(!LC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Tv(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function oF(t,e,n){if((e=Vn(e))instanceof Iv)return e._internalPath;if(typeof e=="string")return FC(t,e);throw md("Field path arguments must be of type string or ",t,!1,void 0,n)}const aF=new RegExp("[~\\*/\\[\\]]");function FC(t,e,n){if(e.search(aF)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iv(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function md(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Se(oe.INVALID_ARGUMENT,c+t+f)}function lF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uF extends jC{data(){return super.data()}}function UC(t,e){return typeof e=="string"?FC(t,e):e instanceof Iv?e._internalPath:e._delegate._internalPath}class cF{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new Av(a)}convertGeoPoint(e){return new Cv(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=bs(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Je(uC(r));const i=new tc(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return i.isEqual(n)||Ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BC extends jC{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dF extends BC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){t=ml(t,Jn);const e=ml(t.firestore,np);return Q3(kC(e),t._key).then(n=>yF(e,t,n))}class mF extends cF{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function ST(t,e,n){t=ml(t,Jn);const r=ml(t.firestore,np),i=fF(t.converter,e,n);return $C(r,[sF(iF(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nr.none())])}function gF(t){return $C(ml(t.firestore,np),[new av(t._key,Nr.none())])}function $C(t,e){return function(r,i){const a=new xs;return r.asyncQueue.enqueueAndForget(async()=>V3(await K3(r),i,a)),a.promise}(kC(t),e)}function yF(t,e,n){const r=n.docs.get(e._key),i=new mF(t);return new BC(t,i,e._key,r,new hF(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Il=i})(Sl),al(new No("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new np(new sM(r.getProvider("auth-internal")),new uM(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ts(jE,"4.7.6",e),Ts(jE,"4.7.6","esm2017")})();const vF={apiKey:"AIzaSyBaK1O5W5pPk2GUWZ84EXdjoBneRMABB6Q",authDomain:"shopping-website-52c65.firebaseapp.com",projectId:"shopping-website-52c65",storageBucket:"shopping-website-52c65.firebasestorage.app",messagingSenderId:"815560022538",appId:"1:815560022538:web:6100d979b42721ea6f5df3",measurementId:"G-G8YP77NF0H"},zC=zx(vF),xT=Z3(zC),jh=tM(zC),_F=new di,Pv=M.createContext(),wF=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0);return M.useEffect(()=>{const a=qV(jh,l=>{n(l),i(!1)});return()=>a()},[]),j.jsxs(Pv.Provider,{value:{user:e,setUser:n},children:[!r&&t," "]})};function qC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ko(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qC(t))&&(r&&(r+=" "),r+=e);return r}function EF(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}EF(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qc=t=>typeof t=="number"&&!isNaN(t),Lo=t=>typeof t=="string",Ai=t=>typeof t=="function",TF=t=>Lo(t)||qc(t),Xg=t=>Lo(t)||Ai(t)?t:null,SF=(t,e)=>t===!1||qc(t)&&t>0?t:e,Yg=t=>M.isValidElement(t)||Lo(t)||Ai(t)||qc(t);function xF(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function IF({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:l,preventExitTransition:c,done:f,nodeRef:p,isIn:g,playToast:_}){let w=n?`${t}--${l}`:t,T=n?`${e}--${l}`:e,x=M.useRef(0);return M.useLayoutEffect(()=>{let I=p.current,R=w.split(" "),D=V=>{V.target===p.current&&(_(),I.removeEventListener("animationend",D),I.removeEventListener("animationcancel",D),x.current===0&&V.type!=="animationcancel"&&I.classList.remove(...R))};I.classList.add(...R),I.addEventListener("animationend",D),I.addEventListener("animationcancel",D)},[]),M.useEffect(()=>{let I=p.current,R=()=>{I.removeEventListener("animationend",R),r?xF(I,f,i):f()};g||(c?R():(x.current=1,I.className+=` ${T}`,I.addEventListener("animationend",R)))},[g]),Me.createElement(Me.Fragment,null,a)}}function IT(t,e){return{content:HC(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function HC(t,e,n=!1){return M.isValidElement(t)&&!Lo(t.type)?M.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ai(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function CF({closeToast:t,theme:e,ariaLabel:n="close"}){return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function AF({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:l,progress:c,rtl:f,isIn:p,theme:g}){let _=i||l&&c===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(w.transform=`scaleX(${c})`);let T=ko("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),x=Ai(a)?a({rtl:f,type:r,defaultClassName:T}):ko(T,a),I={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{p&&n()}};return Me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),Me.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:x,style:w,...I}))}var bF=1,WC=()=>`${bF++}`;function PF(t,e,n){let r=1,i=0,a=[],l=[],c=e,f=new Map,p=new Set,g=V=>(p.add(V),()=>p.delete(V)),_=()=>{l=Array.from(f.values()),p.forEach(V=>V())},w=({containerId:V,toastId:U,updateId:G})=>{let J=V?V!==t:t!==1,Z=f.has(U)&&G==null;return J||Z},T=(V,U)=>{f.forEach(G=>{var J;(U==null||U===G.props.toastId)&&((J=G.toggle)==null||J.call(G,V))})},x=V=>{var U,G;(G=(U=V.props)==null?void 0:U.onClose)==null||G.call(U,V.removalReason),V.isActive=!1},I=V=>{if(V==null)f.forEach(x);else{let U=f.get(V);U&&x(U)}_()},R=()=>{i-=a.length,a=[]},D=V=>{var U,G;let{toastId:J,updateId:Z}=V.props,O=Z==null;V.staleId&&f.delete(V.staleId),V.isActive=!0,f.set(J,V),_(),n(IT(V,O?"added":"updated")),O&&((G=(U=V.props).onOpen)==null||G.call(U))};return{id:t,props:c,observe:g,toggle:T,removeToast:I,toasts:f,clearQueue:R,buildToast:(V,U)=>{if(w(U))return;let{toastId:G,updateId:J,data:Z,staleId:O,delay:A}=U,N=J==null;N&&i++;let F={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(U).filter(([k,C])=>C!=null)),toastId:G,updateId:J,data:Z,isIn:!1,className:Xg(U.className||c.toastClassName),progressClassName:Xg(U.progressClassName||c.progressClassName),autoClose:U.isLoading?!1:SF(U.autoClose,c.autoClose),closeToast(k){f.get(G).removalReason=k,I(G)},deleteToast(){let k=f.get(G);if(k!=null){if(n(IT(k,"removed")),f.delete(G),i--,i<0&&(i=0),a.length>0){D(a.shift());return}_()}}};F.closeButton=c.closeButton,U.closeButton===!1||Yg(U.closeButton)?F.closeButton=U.closeButton:U.closeButton===!0&&(F.closeButton=Yg(c.closeButton)?c.closeButton:!0);let b={content:V,props:F,staleId:O};c.limit&&c.limit>0&&i>c.limit&&N?a.push(b):qc(A)?setTimeout(()=>{D(b)},A):D(b)},setProps(V){c=V},setToggle:(V,U)=>{let G=f.get(V);G&&(G.toggle=U)},isToastActive:V=>{var U;return(U=f.get(V))==null?void 0:U.isActive},getSnapshot:()=>l}}var hn=new Map,oc=[],Jg=new Set,RF=t=>Jg.forEach(e=>e(t)),KC=()=>hn.size>0;function kF(){oc.forEach(t=>QC(t.content,t.options)),oc=[]}var DF=(t,{containerId:e})=>{var n;return(n=hn.get(e||1))==null?void 0:n.toasts.get(t)};function GC(t,e){var n;if(e)return!!((n=hn.get(e))!=null&&n.isToastActive(t));let r=!1;return hn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function NF(t){if(!KC()){oc=oc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||TF(t))hn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=hn.get(t.containerId);e?e.removeToast(t.id):hn.forEach(n=>{n.removeToast(t.id)})}}var OF=(t={})=>{hn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function QC(t,e){Yg(t)&&(KC()||oc.push({content:t,options:e}),hn.forEach(n=>{n.buildToast(t,e)}))}function VF(t){var e;(e=hn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function XC(t,e){hn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function LF(t){let e=t.containerId||1;return{subscribe(n){let r=PF(e,t,RF);hn.set(e,r);let i=r.observe(n);return kF(),()=>{i(),hn.delete(e)}},setProps(n){var r;(r=hn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=hn.get(e))==null?void 0:n.getSnapshot()}}}function MF(t){return Jg.add(t),()=>{Jg.delete(t)}}function FF(t){return t&&(Lo(t.toastId)||qc(t.toastId))?t.toastId:WC()}function Hc(t,e){return QC(t,e),e.toastId}function rp(t,e){return{...e,type:e&&e.type||t,toastId:FF(e)}}function ip(t){return(e,n)=>Hc(e,rp(t,n))}function We(t,e){return Hc(t,rp("default",e))}We.loading=(t,e)=>Hc(t,rp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function jF(t,{pending:e,error:n,success:r},i){let a;e&&(a=Lo(e)?We.loading(e,i):We.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(p,g,_)=>{if(g==null){We.dismiss(a);return}let w={type:p,...l,...i,data:_},T=Lo(g)?{render:g}:g;return a?We.update(a,{...w,...T}):We(T.render,{...w,...T}),_},f=Ai(t)?t():t;return f.then(p=>c("success",r,p)).catch(p=>c("error",n,p)),f}We.promise=jF;We.success=ip("success");We.info=ip("info");We.error=ip("error");We.warning=ip("warning");We.warn=We.warning;We.dark=(t,e)=>Hc(t,rp("default",{theme:"dark",...e}));function UF(t){NF(t)}We.dismiss=UF;We.clearWaitingQueue=OF;We.isActive=GC;We.update=(t,e={})=>{let n=DF(t,e);if(n){let{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:WC()};a.toastId!==t&&(a.staleId=t);let l=a.render||i;delete a.render,Hc(l,a)}};We.done=t=>{We.update(t,{progress:1})};We.onChange=MF;We.play=t=>XC(!0,t);We.pause=t=>XC(!1,t);function BF(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(LF(t)).current;i(t);let a=(e=M.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(c){if(!a)return[];let f=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;f.has(g)||f.set(g,[]),f.get(g).push(p)}),Array.from(f,p=>c(p[0],p[1]))}return{getToastToRender:l,isToastActive:GC,count:a==null?void 0:a.length}}function $F(t){let[e,n]=M.useState(!1),[r,i]=M.useState(!1),a=M.useRef(null),l=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:f,closeToast:p,onClick:g,closeOnClick:_}=t;VF({id:t.toastId,containerId:t.containerId,fn:n}),M.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{T()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||D(),window.addEventListener("focus",R),window.addEventListener("blur",D)}function T(){window.removeEventListener("focus",R),window.removeEventListener("blur",D)}function x(O){if(t.draggable===!0||t.draggable===O.pointerType){V();let A=a.current;l.canCloseOnClick=!0,l.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(l.start=O.clientX,l.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(l.start=O.clientY,l.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function I(O){let{top:A,bottom:N,left:F,right:b}=a.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&t.pauseOnHover&&O.clientX>=F&&O.clientX<=b&&O.clientY>=A&&O.clientY<=N?D():R()}function R(){n(!0)}function D(){n(!1)}function V(){l.didMove=!1,document.addEventListener("pointermove",G),document.addEventListener("pointerup",J)}function U(){document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",J)}function G(O){let A=a.current;if(l.canDrag&&A){l.didMove=!0,e&&D(),t.draggableDirection==="x"?l.delta=O.clientX-l.start:l.delta=O.clientY-l.start,l.start!==O.clientX&&(l.canCloseOnClick=!1);let N=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;A.style.transform=`translate3d(${N},0)`,A.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function J(){U();let O=a.current;if(l.canDrag&&l.didMove&&O){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let Z={onPointerDown:x,onPointerUp:I};return c&&f&&(Z.onMouseEnter=D,t.stacked||(Z.onMouseLeave=R)),_&&(Z.onClick=O=>{g&&g(O),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:D,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Z}}var zF=typeof window<"u"?M.useLayoutEffect:M.useEffect,sp=({theme:t,type:e,isLoading:n,...r})=>Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function qF(t){return Me.createElement(sp,{...t},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function HF(t){return Me.createElement(sp,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function WF(t){return Me.createElement(sp,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function KF(t){return Me.createElement(sp,{...t},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function GF(){return Me.createElement("div",{className:"Toastify__spinner"})}var Zg={info:HF,warning:qF,success:WF,error:KF,spinner:GF},QF=t=>t in Zg;function XF({theme:t,type:e,isLoading:n,icon:r}){let i=null,a={theme:t,type:e};return r===!1||(Ai(r)?i=r({...a,isLoading:n}):M.isValidElement(r)?i=M.cloneElement(r,a):n?i=Zg.spinner():QF(e)&&(i=Zg[e](a))),i}var YF=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=$F(t),{closeButton:l,children:c,autoClose:f,onClick:p,type:g,hideProgressBar:_,closeToast:w,transition:T,position:x,className:I,style:R,progressClassName:D,updateId:V,role:U,progress:G,rtl:J,toastId:Z,deleteToast:O,isIn:A,isLoading:N,closeOnClick:F,theme:b,ariaLabel:k}=t,C=ko("Toastify__toast",`Toastify__toast-theme--${b}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":F}),X=Ai(I)?I({rtl:J,position:x,type:g,defaultClassName:C}):ko(C,I),Ae=XF(t),fe=!!G||!f,ce={closeToast:w,type:g,theme:b},ne=null;return l===!1||(Ai(l)?ne=l(ce):M.isValidElement(l)?ne=M.cloneElement(l,ce):ne=CF(ce)),Me.createElement(T,{isIn:A,done:O,position:x,preventExitTransition:n,nodeRef:r,playToast:a},Me.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":A,className:X,...i,style:R,ref:r,...A&&{role:U,"aria-label":k}},Ae!=null&&Me.createElement("div",{className:ko("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},Ae),HC(c,t,!e),ne,!t.customProgressBar&&Me.createElement(AF,{...V&&!fe?{key:`p-${V}`}:{},rtl:J,theme:b,delay:f,isRunning:e,isIn:A,closeToast:w,hide:_,type:g,className:D,controlledProgress:fe,progress:G||0})))},JF=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),ZF=IF(JF("bounce",!0)),ej={position:"top-right",transition:ZF,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function tj(t){let e={...ej,...t},n=t.stacked,[r,i]=M.useState(!0),a=M.useRef(null),{getToastToRender:l,isToastActive:c,count:f}=BF(e),{className:p,style:g,rtl:_,containerId:w,hotKeys:T}=e;function x(R){let D=ko("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":_});return Ai(p)?p({position:R,rtl:_,defaultClassName:D}):ko(D,Xg(p))}function I(){n&&(i(!0),We.play())}return zF(()=>{var R;if(n){let D=a.current.querySelectorAll('[data-in="true"]'),V=12,U=(R=e.position)==null?void 0:R.includes("top"),G=0,J=0;Array.from(D).reverse().forEach((Z,O)=>{let A=Z;A.classList.add("Toastify__toast--stacked"),O>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=U?"top":"bot");let N=G*(r?.2:1)+(r?0:V*O);A.style.setProperty("--y",`${U?N:N*-1}px`),A.style.setProperty("--g",`${V}`),A.style.setProperty("--s",`${1-(r?J:0)}`),G+=A.offsetHeight,J+=.025})}},[r,f,n]),M.useEffect(()=>{function R(D){var V;let U=a.current;T(D)&&((V=U.querySelector('[tabIndex="0"]'))==null||V.focus(),i(!1),We.pause()),D.key==="Escape"&&(document.activeElement===U||U!=null&&U.contains(document.activeElement))&&(i(!0),We.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[T]),Me.createElement("section",{ref:a,className:"Toastify",id:w,onMouseEnter:()=>{n&&(i(!1),We.pause())},onMouseLeave:I,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,D)=>{let V=D.length?{...g}:{...g,pointerEvents:"none"};return Me.createElement("div",{tabIndex:-1,className:x(R),"data-stacked":n,style:V,key:`c-${R}`},D.map(({content:U,props:G})=>Me.createElement(YF,{...G,stacked:n,collapseAll:I,isIn:c(G.toastId,G.containerId),key:`t-${G.key}`},U)))}))}var YC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CT=Me.createContext&&Me.createContext(YC),nj=["attr","size","title"];function rj(t,e){if(t==null)return{};var n=ij(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ij(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){sj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sj(t,e,n){return e=oj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oj(t){var e=aj(t,"string");return typeof e=="symbol"?e:e+""}function aj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JC(t){return t&&t.map((e,n)=>Me.createElement(e.tag,yd({key:n},e.attr),JC(e.child)))}function Os(t){return e=>Me.createElement(lj,gd({attr:yd({},t.attr)},e),JC(t.child))}function lj(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=rj(t,nj),c=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Me.createElement("svg",gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:yd(yd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Me.createElement("title",null,a),t.children)};return CT!==void 0?Me.createElement(CT.Consumer,null,n=>e(n)):e(YC)}function uj(t){return Os({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function cj(t){return Os({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function fj(t){return Os({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function hj(t){return Os({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function dj(t){return Os({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function pj(t){return Os({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}const mj=()=>{const{user:t}=M.useContext(Pv),[e,n]=M.useState([]),[r,i]=M.useState({}),[a,l]=M.useState("全部"),[c,f]=M.useState(["全部"]),[p,g]=M.useState(!0);M.useEffect(()=>{const T=I=>{I.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")},x=I=>{I.preventDefault()};return document.addEventListener("contextmenu",T),document.addEventListener("dragstart",x),()=>{document.removeEventListener("contextmenu",T),document.removeEventListener("dragstart",x)}},[]),M.useEffect(()=>{(async()=>{try{g(!0);const R=(await Yh.fetch(`*[_type == "category"] | order(name asc) { 
          name,
          "slug": slug.current
        }`)).map(U=>U.name);f(["全部",...R]);const V=await Yh.fetch(`*[_type == "product"] {
          _id,
          price,
          name,
          "slug": slug.current,
          "categoryName": category->name,
          "categorySlug": category->slug.current,
          "imageUrl": images[0].asset->url
        }`);n(V)}catch(x){console.error("獲取數據時發生錯誤:",x),We.error("獲取產品時發生錯誤，請稍後再試")}finally{g(!1)}})()},[]),M.useEffect(()=>{t?(async()=>{const x=ET(xT,"favorites",t.uid),I=await pF(x);I.exists()?i(I.data().favorites||{}):i({})})():i({})},[t]);const _=async T=>{if(!t){We.warn("請先登入才能收藏商品",{position:"top-right",autoClose:2e3});return}const x=ET(xT,"favorites",t.uid);let I={...r};try{r[T._id]?(delete I[T._id],We.info("已取消收藏",{position:"top-right",autoClose:2e3}),Object.keys(I).length===0?await gF(x):await ST(x,{favorites:I},{merge:!0})):(I[T._id]={id:T._id,name:T.name,price:T.price,imageUrl:T.imageUrl,slug:T.slug,categoryName:T.categoryName},await ST(x,{favorites:I},{merge:!0}),We.success("已加入收藏",{position:"top-right",autoClose:2e3})),i(I)}catch(R){console.error("收藏商品時發生錯誤:",R),We.error("收藏商品時發生錯誤，請稍後再試",{position:"top-right",autoClose:2e3})}},w=a==="全部"?e:e.filter(T=>T.categoryName===a);return p?j.jsx("div",{className:"flex justify-center items-center h-64",children:"載入中..."}):j.jsx("div",{className:"bg-white",children:j.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24",children:[j.jsx("div",{className:"mb-8 border-b border-gray-200",children:j.jsx("div",{className:"flex space-x-8 overflow-x-auto pb-1",children:c.map(T=>j.jsx("button",{className:`whitespace-nowrap pb-4 px-1 font-medium text-sm ${a===T?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l(T),children:T},T))})}),j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map(T=>j.jsxs("div",{className:"relative group",children:[j.jsx("button",{className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md z-10",onClick:()=>_(T),children:j.jsx(hj,{className:`text-xl ${r[T._id]?"text-red-500":"text-gray-400"}`})}),j.jsxs(El,{to:`/product/${T.slug}`,className:"block",children:[j.jsx("div",{className:"overflow-hidden rounded-lg bg-gray-100 aspect-w-4 aspect-h-3",children:j.jsx("img",{src:T.imageUrl||"/placeholder.jpg",alt:T.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:x=>{x.target.src="/placeholder.jpg"},onDragStart:x=>x.preventDefault()})}),j.jsxs("div",{className:"mt-3",children:[j.jsx("h3",{className:"font-medium text-gray-900",children:T.name}),j.jsxs("p",{className:"mt-1 text-gray-600",children:["$",T.price]}),T.categoryName&&j.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-gray-100 text-xs rounded-full text-gray-600",children:T.categoryName})]})]})]},T._id))}),w.length===0&&j.jsx("div",{className:"text-center py-12",children:j.jsx("p",{className:"text-gray-500",children:"此分類下暫無產品"})})]})})},gj=()=>j.jsx("div",{children:j.jsx(mj,{})});function yj(t){return Os({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}const ZC=M.createContext({});function vj(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rv=M.createContext(null),eA=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _j(t=!0){const e=M.useContext(Rv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=M.useId();M.useEffect(()=>{t&&i(a)},[t]);const l=M.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const kv=typeof window<"u",wj=kv?M.useLayoutEffect:M.useEffect,On=t=>t;let ey=On;function Dv(t){let e;return()=>(e===void 0&&(e=t()),e)}const yl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},_i=t=>t*1e3,wi=t=>t/1e3,Ej={skipAnimations:!1,useManualTiming:!1};function Tj(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(f.schedule(p),t()),p(l)}const f={schedule:(p,g=!1,_=!1)=>{const T=_&&r?e:n;return g&&a.add(p),T.has(p)||T.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,f.process(p))}};return f}const Th=["read","resolveKeyframes","update","preRender","render","postRender"],Sj=40;function tA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Th.reduce((D,V)=>(D[V]=Tj(a),D),{}),{read:c,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:w}=l,T=()=>{const D=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,Sj),1),i.timestamp=D,i.isProcessing=!0,c.process(i),f.process(i),p.process(i),g.process(i),_.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},x=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:Th.reduce((D,V)=>{const U=l[V];return D[V]=(G,J=!1,Z=!1)=>(n||x(),U.schedule(G,J,Z)),D},{}),cancel:D=>{for(let V=0;V<Th.length;V++)l[Th[V]].cancel(D)},state:i,steps:l}}const{schedule:at,cancel:Ds,state:Wt,steps:ag}=tA(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0),nA=M.createContext({strict:!1}),bT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vl={};for(const t in bT)vl[t]={isEnabled:e=>bT[t].some(n=>!!e[n])};function xj(t){for(const e in t)vl[e]={...vl[e],...t[e]}}const Ij=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ij.has(t)}let rA=t=>!vd(t);function Cj(t){t&&(rA=e=>e.startsWith("on")?!vd(e):t(e))}try{Cj(require("@emotion/is-prop-valid").default)}catch{}function Aj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(rA(i)||n===!0&&vd(i)||!e&&!vd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function bj(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const op=M.createContext({});function ac(t){return typeof t=="string"||Array.isArray(t)}function ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Nv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ov=["initial",...Nv];function lp(t){return ap(t.animate)||Ov.some(e=>ac(t[e]))}function iA(t){return!!(lp(t)||t.variants)}function Pj(t,e){if(lp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ac(n)?n:void 0,animate:ac(r)?r:void 0}}return t.inherit!==!1?e:{}}function Rj(t){const{initial:e,animate:n}=Pj(t,M.useContext(op));return M.useMemo(()=>({initial:e,animate:n}),[PT(e),PT(n)])}function PT(t){return Array.isArray(t)?t.join(" "):t}const kj=Symbol.for("motionComponentSymbol");function za(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dj(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):za(n)&&(n.current=r))},[e])}const Vv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nj="framerAppearId",sA="data-"+Vv(Nj),{schedule:Lv,cancel:x$}=tA(queueMicrotask,!1),oA=M.createContext({});function Oj(t,e,n,r,i){var a,l;const{visualElement:c}=M.useContext(op),f=M.useContext(nA),p=M.useContext(Rv),g=M.useContext(eA).reducedMotion,_=M.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=_.current,T=M.useContext(oA);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&Vj(_.current,n,i,T);const x=M.useRef(!1);M.useInsertionEffect(()=>{w&&x.current&&w.update(n,p)});const I=n[sA],R=M.useRef(!!I&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,I))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,I)));return wj(()=>{w&&(x.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Lv.render(w.render),R.current&&w.animationState&&w.animationState.animateChanges())}),M.useEffect(()=>{w&&(!R.current&&w.animationState&&w.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,I)}),R.current=!1))}),w}function Vj(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aA(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&za(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function aA(t){if(t)return t.options.allowProjection!==!1?t.projection:aA(t.parent)}function Lj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&xj(t);function c(p,g){let _;const w={...M.useContext(eA),...p,layoutId:Mj(p)},{isStatic:T}=w,x=Rj(p),I=r(p,T);if(!T&&kv){Fj();const R=jj(w);_=R.MeasureLayout,x.visualElement=Oj(i,I,w,e,R.ProjectionNode)}return j.jsxs(op.Provider,{value:x,children:[_&&x.visualElement?j.jsx(_,{visualElement:x.visualElement,...w}):null,n(i,p,Dj(I,x.visualElement,g),I,T,x.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const f=M.forwardRef(c);return f[kj]=i,f}function Mj({layoutId:t}){const e=M.useContext(ZC).id;return e&&t!==void 0?e+"-"+t:t}function Fj(t,e){M.useContext(nA).strict}function jj(t){const{drag:e,layout:n}=vl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Uj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mv(t){return typeof t!="string"||t.includes("-")?!1:!!(Uj.indexOf(t)>-1||/[A-Z]/u.test(t))}function RT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Fv(t,e,n,r){if(typeof e=="function"){const[i,a]=RT(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=RT(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const ty=t=>Array.isArray(t),Bj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$j=t=>ty(t)?t[t.length-1]||0:t,sn=t=>!!(t&&t.getVelocity);function Uh(t){const e=sn(t)?t.get():t;return Bj(e)?e.toValue():e}function zj({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:qj(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const lA=t=>(e,n)=>{const r=M.useContext(op),i=M.useContext(Rv),a=()=>zj(t,e,r,i);return n?a():vj(a)};function qj(t,e,n,r){const i={},a=r(t,{});for(const w in a)i[w]=Uh(a[w]);let{initial:l,animate:c}=t;const f=lp(t),p=iA(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!ap(_)){const w=Array.isArray(_)?_:[_];for(let T=0;T<w.length;T++){const x=Fv(t,w[T]);if(x){const{transitionEnd:I,transition:R,...D}=x;for(const V in D){let U=D[V];if(Array.isArray(U)){const G=g?U.length-1:0;U=U[G]}U!==null&&(i[V]=U)}for(const V in I)i[V]=I[V]}}}return i}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zo=new Set(Pl),uA=t=>e=>typeof e=="string"&&e.startsWith(t),cA=uA("--"),Hj=uA("var(--"),jv=t=>Hj(t)?Wj.test(t.split("/*")[0].trim()):!1,Wj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,bi=(t,e,n)=>n>e?e:n<t?t:n,Rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lc={...Rl,transform:t=>bi(0,1,t)},Sh={...Rl,default:1},Wc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ss=Wc("deg"),Vr=Wc("%"),Ce=Wc("px"),Kj=Wc("vh"),Gj=Wc("vw"),kT={...Vr,parse:t=>Vr.parse(t)/100,transform:t=>Vr.transform(t*100)},Qj={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},Xj={rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:Sh,scaleX:Sh,scaleY:Sh,scaleZ:Sh,skew:ss,skewX:ss,skewY:ss,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:lc,originX:kT,originY:kT,originZ:Ce},DT={...Rl,transform:Math.round},Uv={...Qj,...Xj,zIndex:DT,size:Ce,fillOpacity:lc,strokeOpacity:lc,numOctaves:DT},Yj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jj=Pl.length;function Zj(t,e,n){let r="",i=!0;for(let a=0;a<Jj;a++){const l=Pl[a],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=fA(c,Uv[l]);if(!f){i=!1;const g=Yj[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Bv(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const f in e){const p=e[f];if(zo.has(f)){l=!0;continue}else if(cA(f)){i[f]=p;continue}else{const g=fA(p,Uv[f]);f.startsWith("origin")?(c=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=Zj(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const e9={offset:"stroke-dashoffset",array:"stroke-dasharray"},t9={offset:"strokeDashoffset",array:"strokeDasharray"};function n9(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?e9:t9;t[a.offset]=Ce.transform(-r);const l=Ce.transform(e),c=Ce.transform(n);t[a.array]=`${l} ${c}`}function NT(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function r9(t,e,n){const r=NT(e,t.x,t.width),i=NT(n,t.y,t.height);return`${r} ${i}`}function $v(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:f=0,...p},g,_){if(Bv(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:T,dimensions:x}=t;w.transform&&(x&&(T.transform=w.transform),delete w.transform),x&&(i!==void 0||a!==void 0||T.transform)&&(T.transformOrigin=r9(x,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&n9(w,l,c,f,!1)}const zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hA=()=>({...zv(),attrs:{}}),qv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const pA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mA(t,e,n,r){dA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(pA.has(i)?i:Vv(i),e.attrs[i])}const _d={};function i9(t){Object.assign(_d,t)}function gA(t,{layout:e,layoutId:n}){return zo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_d[t]||t==="opacity")}function Hv(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(sn(i[l])||e.style&&sn(e.style[l])||gA(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function yA(t,e,n){const r=Hv(t,e,n);for(const i in t)if(sn(t[i])||sn(e[i])){const a=Pl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function s9(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const OT=["x","y","width","height","cx","cy","r"],o9={useVisualState:lA({scrapeMotionValuesFromProps:yA,createRenderState:hA,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(zo.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<OT.length;c++){const f=OT[c];t[f]!==e[f]&&(l=!0)}l&&at.read(()=>{s9(n,r),at.render(()=>{$v(r,i,qv(n.tagName),t.transformTemplate),mA(n,r)})})}})},a9={useVisualState:lA({scrapeMotionValuesFromProps:Hv,createRenderState:zv})};function vA(t,e,n){for(const r in e)!sn(e[r])&&!gA(r,n)&&(t[r]=e[r])}function l9({transformTemplate:t},e){return M.useMemo(()=>{const n=zv();return Bv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function u9(t,e){const n=t.style||{},r={};return vA(r,n,t),Object.assign(r,l9(t,e)),r}function c9(t,e){const n={},r=u9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function f9(t,e,n,r){const i=M.useMemo(()=>{const a=hA();return $v(a,e,qv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};vA(a,t.style,t),i.style={...a,...i.style}}return i}function h9(t=!1){return(n,r,i,{latestValues:a},l)=>{const f=(Mv(n)?f9:c9)(r,a,l,n),p=Aj(r,typeof n=="string",t),g=n!==M.Fragment?{...p,...f,ref:i}:{},{children:_}=r,w=M.useMemo(()=>sn(_)?_.get():_,[_]);return M.createElement(n,{...g,children:w})}}function d9(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Mv(r)?o9:a9,preloadedFeatures:t,useRender:h9(i),createVisualElement:e,Component:r};return Lj(l)}}function _A(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function up(t,e,n){const r=t.getProps();return Fv(r,e,n!==void 0?n:r.custom,t)}const p9=Dv(()=>window.ScrollTimeline!==void 0);class m9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(p9()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class g9 extends m9{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Wv(t,e){return t?t[e]||t.default||t:void 0}const ny=2e4;function wA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ny;)e+=n,r=t.next(e);return e>=ny?1/0:e}function Kv(t){return typeof t=="function"}function VT(t,e){t.timeline=e,t.onfinish=null}const Gv=t=>Array.isArray(t)&&typeof t[0]=="number",y9={linearEasing:void 0};function v9(t,e){const n=Dv(t);return()=>{var r;return(r=y9[e])!==null&&r!==void 0?r:n()}}const wd=v9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),EA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(yl(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function TA(t){return!!(typeof t=="function"&&wd()||!t||typeof t=="string"&&(t in ry||wd())||Gv(t)||Array.isArray(t)&&t.every(TA))}const Lu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ry={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function SA(t,e){if(t)return typeof t=="function"&&wd()?EA(t,e):Gv(t)?Lu(t):Array.isArray(t)?t.map(n=>SA(n,e)||ry.easeOut):ry[t]}const mr={x:!1,y:!1};function xA(){return mr.x||mr.y}function _9(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function IA(t,e){const n=_9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function LT(t){return e=>{e.pointerType==="touch"||xA()||t(e)}}function w9(t,e,n={}){const[r,i,a]=IA(t,n),l=LT(c=>{const{target:f}=c,p=e(c);if(typeof p!="function"||!f)return;const g=LT(_=>{p(_),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const CA=(t,e)=>e?t===e?!0:CA(t,e.parentElement):!1,Qv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,E9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T9(t){return E9.has(t.tagName)||t.tabIndex!==-1}const Mu=new WeakSet;function MT(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const S9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=MT(()=>{if(Mu.has(n))return;lg(n,"down");const i=MT(()=>{lg(n,"up")}),a=()=>lg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function FT(t){return Qv(t)&&!xA()}function x9(t,e,n={}){const[r,i,a]=IA(t,n),l=c=>{const f=c.currentTarget;if(!FT(c)||Mu.has(f))return;Mu.add(f);const p=e(c),g=(T,x)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),!(!FT(T)||!Mu.has(f))&&(Mu.delete(f),typeof p=="function"&&p(T,{success:x}))},_=T=>{g(T,n.useGlobalTarget||CA(f,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{!T9(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",p=>S9(p,i),i)}),a}function I9(t){return t==="x"||t==="y"?mr[t]?null:(mr[t]=!0,()=>{mr[t]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}const AA=new Set(["width","height","top","left","right","bottom",...Pl]);let Bh;function C9(){Bh=void 0}const Lr={now:()=>(Bh===void 0&&Lr.set(Wt.isProcessing||Ej.useManualTiming?Wt.timestamp:performance.now()),Bh),set:t=>{Bh=t,queueMicrotask(C9)}};function Xv(t,e){t.indexOf(e)===-1&&t.push(e)}function Yv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jv{constructor(){this.subscriptions=[]}add(e){return Xv(this.subscriptions,e),()=>Yv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function bA(t,e){return e?t*(1e3/e):0}const jT=30,A9=t=>!isNaN(parseFloat(t));class b9{constructor(e,n={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Lr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jv);const r=this.events[e].add(n);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jT);return bA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uc(t,e){return new b9(t,e)}function P9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uc(n))}function R9(t,e){const n=up(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=$j(a[l]);P9(t,l,c)}}function k9(t){return!!(sn(t)&&t.add)}function iy(t,e){const n=t.getValue("willChange");if(k9(n))return n.add(e)}function PA(t){return t.props[sA]}const RA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,D9=1e-7,N9=12;function O9(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=RA(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>D9&&++c<N9);return l}function Kc(t,e,n,r){if(t===e&&n===r)return On;const i=a=>O9(a,0,1,t,n);return a=>a===0||a===1?a:RA(i(a),e,r)}const kA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DA=t=>e=>1-t(1-e),NA=Kc(.33,1.53,.69,.99),Zv=DA(NA),OA=kA(Zv),VA=t=>(t*=2)<1?.5*Zv(t):.5*(2-Math.pow(2,-10*(t-1))),e_=t=>1-Math.sin(Math.acos(t)),LA=DA(e_),MA=kA(e_),FA=t=>/^0[^.\s]+$/u.test(t);function V9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||FA(t):!0}const Ku=t=>Math.round(t*1e5)/1e5,t_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L9(t){return t==null}const M9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n_=(t,e)=>n=>!!(typeof n=="string"&&M9.test(n)&&n.startsWith(t)||e&&!L9(n)&&Object.prototype.hasOwnProperty.call(n,e)),jA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(t_);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},F9=t=>bi(0,255,t),ug={...Rl,transform:t=>Math.round(F9(t))},Eo={test:n_("rgb","red"),parse:jA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Ku(lc.transform(r))+")"};function j9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sy={test:n_("#"),parse:j9,transform:Eo.transform},qa={test:n_("hsl","hue"),parse:jA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vr.transform(Ku(e))+", "+Vr.transform(Ku(n))+", "+Ku(lc.transform(r))+")"},tn={test:t=>Eo.test(t)||sy.test(t)||qa.test(t),parse:t=>Eo.test(t)?Eo.parse(t):qa.test(t)?qa.parse(t):sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Eo.transform(t):qa.transform(t)},U9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function B9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(t_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(U9))===null||n===void 0?void 0:n.length)||0)>0}const UA="number",BA="color",$9="var",z9="var(",UT="${}",q9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(q9,f=>(tn.test(f)?(r.color.push(a),i.push(BA),n.push(tn.parse(f))):f.startsWith(z9)?(r.var.push(a),i.push($9),n.push(f)):(r.number.push(a),i.push(UA),n.push(parseFloat(f))),++a,UT)).split(UT);return{values:n,split:c,indexes:r,types:i}}function $A(t){return cc(t).values}function zA(t){const{split:e,types:n}=cc(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===UA?a+=Ku(i[l]):c===BA?a+=tn.transform(i[l]):a+=i[l]}return a}}const H9=t=>typeof t=="number"?0:t;function W9(t){const e=$A(t);return zA(t)(e.map(H9))}const Ns={test:B9,parse:$A,createTransformer:zA,getAnimatableNone:W9},K9=new Set(["brightness","contrast","saturate","opacity"]);function G9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(t_)||[];if(!r)return t;const i=n.replace(r,"");let a=K9.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Q9=/\b([a-z-]*)\(.*?\)/gu,oy={...Ns,getAnimatableNone:t=>{const e=t.match(Q9);return e?e.map(G9).join(" "):t}},X9={...Uv,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:oy,WebkitFilter:oy},r_=t=>X9[t];function qA(t,e){let n=r_(t);return n!==oy&&(n=Ns),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Y9=new Set(["auto","none","0"]);function J9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Y9.has(a)&&cc(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=qA(n,i)}const BT=t=>t===Rl||t===Ce,$T=(t,e)=>parseFloat(t.split(", ")[e]),zT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return $T(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?$T(a[1],t):0}},Z9=new Set(["x","y","z"]),eU=Pl.filter(t=>!Z9.has(t));function tU(t){const e=[];return eU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _l={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:zT(4,13),y:zT(5,14)};_l.translateX=_l.x;_l.translateY=_l.y;const Do=new Set;let ay=!1,ly=!1;function HA(){if(ly){const t=Array.from(Do).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ly=!1,ay=!1,Do.forEach(t=>t.complete()),Do.clear()}function WA(){Do.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function nU(){WA(),HA()}class i_{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Do.add(this),ay||(ay=!0,at.read(WA),at.resolveKeyframes(HA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Do.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Do.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iU(t){const e=rU.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function GA(t,e,n=1){const[r,i]=iU(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return KA(l)?parseFloat(l):l}return jv(i)?GA(i,e,n+1):i}const QA=t=>e=>e.test(t),sU={test:t=>t==="auto",parse:t=>t},XA=[Rl,Ce,Vr,ss,Gj,Kj,sU],qT=t=>XA.find(QA(t));class YA extends i_{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),jv(p))){const g=GA(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!AA.has(r)||e.length!==2)return;const[i,a]=e,l=qT(i),c=qT(a);if(l!==c)if(BT(l)&&BT(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)V9(e[i])&&r.push(i);r.length&&J9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_l[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=_l[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const HT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ns.test(t)||t==="0")&&!t.startsWith("url("));function oU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=HT(i,e),c=HT(a,e);return!l||!c?!1:oU(t)||(n==="spring"||Kv(n))&&r}const lU=t=>t!==null;function cp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lU),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const uU=40;class JA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nU(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Lr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:f,isGenerator:p}=this.options;if(!p&&!aU(e,r,i,a))if(l)this.options.duration=0;else{f==null||f(cp(e,this.options,n)),c==null||c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;i=cg(f,c,t+1/3),a=cg(f,c,t),l=cg(f,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ed(t,e){return n=>n>0?e:t}const fg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fU=[sy,Eo,qa],hU=t=>fU.find(e=>e.test(t));function WT(t){const e=hU(t);if(!e)return!1;let n=e.parse(t);return e===qa&&(n=cU(n)),n}const KT=(t,e)=>{const n=WT(t),r=WT(e);if(!n||!r)return Ed(t,e);const i={...n};return a=>(i.red=fg(n.red,r.red,a),i.green=fg(n.green,r.green,a),i.blue=fg(n.blue,r.blue,a),i.alpha=dt(n.alpha,r.alpha,a),Eo.transform(i))},dU=(t,e)=>n=>e(t(n)),Gc=(...t)=>t.reduce(dU),uy=new Set(["none","hidden"]);function pU(t,e){return uy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mU(t,e){return n=>dt(t,e,n)}function s_(t){return typeof t=="number"?mU:typeof t=="string"?jv(t)?Ed:tn.test(t)?KT:vU:Array.isArray(t)?ZA:typeof t=="object"?tn.test(t)?KT:gU:Ed}function ZA(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>s_(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function gU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s_(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function yU(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],f=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=f,i[l]++}return r}const vU=(t,e)=>{const n=Ns.createTransformer(e),r=cc(t),i=cc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uy.has(t)&&!i.values.length||uy.has(e)&&!r.values.length?pU(t,e):Gc(ZA(yU(r,i),i.values),n):Ed(t,e)};function eb(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):s_(t)(t,e)}const _U=5;function tb(t,e,n){const r=Math.max(e-_U,0);return bA(n-t(r),e-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},GT=.001;function wU({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let i,a,l=1-e;l=bi(gt.minDamping,gt.maxDamping,l),t=bi(gt.minDuration,gt.maxDuration,wi(t)),l<1?(i=p=>{const g=p*l,_=g*t,w=g-n,T=cy(p,l),x=Math.exp(-_);return GT-w/T*x},a=p=>{const _=p*l*t,w=_*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,x=Math.exp(-_),I=cy(Math.pow(p,2),l);return(-i(p)+GT>0?-1:1)*((w-T)*x)/I}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,f=TU(i,a,c);if(t=_i(t),isNaN(f))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const EU=12;function TU(t,e,n){let r=n;for(let i=1;i<EU;i++)r=r-t(r)/e(r);return r}function cy(t,e){return t*Math.sqrt(1-e*e)}const SU=["duration","bounce"],xU=["stiffness","damping","mass"];function QT(t,e){return e.some(n=>t[n]!==void 0)}function IU(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!QT(t,xU)&&QT(t,SU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*bi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:gt.mass,stiffness:i,damping:a}}else{const n=wU(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function nb(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:w,isResolvedFromDuration:T}=IU({...n,velocity:-wi(n.velocity||0)}),x=w||0,I=p/(2*Math.sqrt(f*g)),R=l-a,D=wi(Math.sqrt(f/g)),V=Math.abs(R)<5;r||(r=V?gt.restSpeed.granular:gt.restSpeed.default),i||(i=V?gt.restDelta.granular:gt.restDelta.default);let U;if(I<1){const J=cy(D,I);U=Z=>{const O=Math.exp(-I*D*Z);return l-O*((x+I*D*R)/J*Math.sin(J*Z)+R*Math.cos(J*Z))}}else if(I===1)U=J=>l-Math.exp(-D*J)*(R+(x+D*R)*J);else{const J=D*Math.sqrt(I*I-1);U=Z=>{const O=Math.exp(-I*D*Z),A=Math.min(J*Z,300);return l-O*((x+I*D*R)*Math.sinh(A)+J*R*Math.cosh(A))/J}}const G={calculatedDuration:T&&_||null,next:J=>{const Z=U(J);if(T)c.done=J>=_;else{let O=0;I<1&&(O=J===0?_i(x):tb(U,J,Z));const A=Math.abs(O)<=r,N=Math.abs(l-Z)<=i;c.done=A&&N}return c.value=c.done?l:Z,c},toString:()=>{const J=Math.min(wA(G),ny),Z=EA(O=>G.next(J*O).value,J,30);return J+"ms "+Z}};return G}function XT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],w={done:!1,value:_},T=A=>c!==void 0&&A<c||f!==void 0&&A>f,x=A=>c===void 0?f:f===void 0||Math.abs(c-A)<Math.abs(f-A)?c:f;let I=n*e;const R=_+I,D=l===void 0?R:l(R);D!==R&&(I=D-_);const V=A=>-I*Math.exp(-A/r),U=A=>D+V(A),G=A=>{const N=V(A),F=U(A);w.done=Math.abs(N)<=p,w.value=w.done?D:F};let J,Z;const O=A=>{T(w.value)&&(J=A,Z=nb({keyframes:[w.value,x(w.value)],velocity:tb(U,A,w.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return O(0),{calculatedDuration:null,next:A=>{let N=!1;return!Z&&J===void 0&&(N=!0,G(A),O(A)),J!==void 0&&A>=J?Z.next(A-J):(!N&&G(A),w)}}}const CU=Kc(.42,0,1,1),AU=Kc(0,0,.58,1),rb=Kc(.42,0,.58,1),bU=t=>Array.isArray(t)&&typeof t[0]!="number",YT={linear:On,easeIn:CU,easeInOut:rb,easeOut:AU,circIn:e_,circInOut:MA,circOut:LA,backIn:Zv,backInOut:OA,backOut:NA,anticipate:VA},JT=t=>{if(Gv(t)){ey(t.length===4);const[e,n,r,i]=t;return Kc(e,n,r,i)}else if(typeof t=="string")return ey(YT[t]!==void 0),YT[t];return t};function PU(t,e,n){const r=[],i=n||eb,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||On:e;c=Gc(f,c)}r.push(c)}return r}function RU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ey(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=PU(e,r,i),f=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const w=yl(t[_],t[_+1],g);return c[_](w)};return n?g=>p(bi(t[0],t[a-1],g)):p}function kU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yl(0,e,r);t.push(dt(n,1,i))}}function DU(t){const e=[0];return kU(e,t.length-1),e}function NU(t,e){return t.map(n=>n*e)}function OU(t,e){return t.map(()=>e||rb).splice(0,t.length-1)}function Td({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=bU(r)?r.map(JT):JT(r),a={done:!1,value:e[0]},l=NU(n&&n.length===e.length?n:DU(e),t),c=RU(l,e,{ease:Array.isArray(i)?i:OU(e,i)});return{calculatedDuration:t,next:f=>(a.value=c(f),a.done=f>=t,a)}}const VU=t=>{const e=({timestamp:n})=>t(n);return{start:()=>at.update(e,!0),stop:()=>Ds(e),now:()=>Wt.isProcessing?Wt.timestamp:Lr.now()}},LU={decay:XT,inertia:XT,tween:Td,keyframes:Td,spring:nb},MU=t=>t/100;class o_ extends JA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||i_,c=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=Kv(n)?n:LU[n]||Td;let f,p;c!==Td&&typeof e[0]!="number"&&(f=Gc(MU,eb(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=wA(g));const{calculatedDuration:_}=g,w=_+i,T=w*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:w,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:w,repeat:T,repeatType:x,repeatDelay:I,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-w*(this.speed>=0?1:-1),V=this.speed>=0?D<0:D>g;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,G=a;if(T){const A=Math.min(this.currentTime,g)/_;let N=Math.floor(A),F=A%1;!F&&A>=1&&(F=1),F===1&&N--,N=Math.min(N,T+1),!!(N%2)&&(x==="reverse"?(F=1-F,I&&(F-=I/_)):x==="mirror"&&(G=l)),U=bi(0,1,F)*_}const J=V?{done:!1,value:f[0]}:G.next(U);c&&(J.value=c(J.value));let{done:Z}=J;!V&&p!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return O&&i!==void 0&&(J.value=cp(f,this.options,i)),R&&R(J.value),O&&this.finish(),J}get duration(){const{resolved:e}=this;return e?wi(e.calculatedDuration):0}get time(){return wi(this.currentTime)}set time(e){e=_i(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=VU,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const FU=new Set(["opacity","clipPath","filter","transform"]);function jU(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=SA(c,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const UU=Dv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sd=10,BU=2e4;function $U(t){return Kv(t.type)||t.type==="spring"||!TA(t.ease)}function zU(t,e){const n=new o_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<BU;)r=n.sample(a),i.push(r.value),a+=Sd;return{times:void 0,keyframes:i,duration:a-Sd,ease:"linear"}}const ib={anticipate:VA,backInOut:OA,circInOut:MA};function qU(t){return t in ib}class ZT extends JA{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new YA(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:a,ease:l,type:c,motionValue:f,name:p,startTime:g}=this.options;if(!(!((r=f.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&wd()&&qU(l)&&(l=ib[l]),$U(this.options)){const{onComplete:w,onUpdate:T,motionValue:x,element:I,...R}=this.options,D=zU(e,R);e=D.keyframes,e.length===1&&(e[1]=e[0]),i=D.duration,a=D.times,l=D.ease,c="keyframes"}const _=jU(f.owner.current,p,e,{...this.options,duration:i,times:a,ease:l});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(VT(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;f.set(cp(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:i,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=_i(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return On;const{animation:r}=n;VT(r,e)}return On}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:w,...T}=this.options,x=new o_({...T,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),I=_i(this.time);p.setWithVelocity(x.sample(I-Sd).value,x.sample(I).value,Sd)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;return UU()&&r&&FU.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const HU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KU={type:"keyframes",duration:.8},GU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QU=(t,{keyframes:e})=>e.length>2?KU:zo.has(t)?t.startsWith("scale")?WU(e[1]):HU:GU;function XU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const a_=(t,e,n,r={},i,a)=>l=>{const c=Wv(r,t)||{},f=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-_i(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};XU(c)||(g={...g,...QU(t,g)}),g.duration&&(g.duration=_i(g.duration)),g.repeatDelay&&(g.repeatDelay=_i(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const w=cp(g.keyframes,c);if(w!==void 0)return at.update(()=>{g.onUpdate(w),g.onComplete()}),new g9([])}return!a&&ZT.supports(g)?new ZT(g):new o_(g)};function YU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(l=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const _ in f){const w=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),T=f[_];if(T===void 0||g&&YU(g,_))continue;const x={delay:n,...Wv(l||{},_)};let I=!1;if(window.MotionHandoffAnimation){const D=PA(t);if(D){const V=window.MotionHandoffAnimation(D,_,at);V!==null&&(x.startTime=V,I=!0)}}iy(t,_),w.start(a_(_,w,T,t.shouldReduceMotion&&AA.has(_)?{type:!1}:x,t,I));const R=w.animation;R&&p.push(R)}return c&&Promise.all(p).then(()=>{at.update(()=>{c&&R9(t,c)})}),p}function fy(t,e,n={}){var r;const i=up(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(sb(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:w}=a;return JU(t,e,g+p,_,w,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function JU(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(ZU).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(fy(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function ZU(t,e){return t.sortNodePosition(e)}function e6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>fy(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=fy(t,e,n);else{const i=typeof e=="function"?up(t,e,n.custom):e;r=Promise.all(sb(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const t6=Ov.length;function ob(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ob(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<t6;n++){const r=Ov[n],i=t.props[r];(ac(i)||i===!1)&&(e[r]=i)}return e}const n6=[...Nv].reverse(),r6=Nv.length;function i6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>e6(t,n,r)))}function s6(t){let e=i6(t),n=eS(),r=!0;const i=f=>(p,g)=>{var _;const w=up(t,g,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(w){const{transition:T,transitionEnd:x,...I}=w;p={...p,...I,...x}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=ob(t.parent)||{},_=[],w=new Set;let T={},x=1/0;for(let R=0;R<r6;R++){const D=n6[R],V=n[D],U=p[D]!==void 0?p[D]:g[D],G=ac(U),J=D===f?V.isActive:null;J===!1&&(x=R);let Z=U===g[D]&&U!==p[D]&&G;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),V.protectedKeys={...T},!V.isActive&&J===null||!U&&!V.prevProp||ap(U)||typeof U=="boolean")continue;const O=o6(V.prevProp,U);let A=O||D===f&&V.isActive&&!Z&&G||R>x&&G,N=!1;const F=Array.isArray(U)?U:[U];let b=F.reduce(i(D),{});J===!1&&(b={});const{prevResolvedValues:k={}}=V,C={...k,...b},X=ce=>{A=!0,w.has(ce)&&(N=!0,w.delete(ce)),V.needsAnimating[ce]=!0;const ne=t.getValue(ce);ne&&(ne.liveStyle=!1)};for(const ce in C){const ne=b[ce],de=k[ce];if(T.hasOwnProperty(ce))continue;let le=!1;ty(ne)&&ty(de)?le=!_A(ne,de):le=ne!==de,le?ne!=null?X(ce):w.add(ce):ne!==void 0&&w.has(ce)?X(ce):V.protectedKeys[ce]=!0}V.prevProp=U,V.prevResolvedValues=b,V.isActive&&(T={...T,...b}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(Z&&O)||N)&&_.push(...F.map(ce=>({animation:ce,options:{type:D}})))}if(w.size){const R={};w.forEach(D=>{const V=t.getBaseTarget(D),U=t.getValue(D);U&&(U.liveStyle=!0),R[D]=V??null}),_.push({animation:R})}let I=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(_):Promise.resolve()}function c(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var T;return(T=w.animationState)===null||T===void 0?void 0:T.setActive(f,p)}),n[f].isActive=p;const _=l(f);for(const w in n)n[w].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=eS(),r=!0}}}function o6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_A(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eS(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class Vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class a6 extends Vs{constructor(e){super(e),e.animationState||(e.animationState=s6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let l6=0;class u6 extends Vs{constructor(){super(...arguments),this.id=l6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const c6={animation:{Feature:a6},exit:{Feature:u6}};function fc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qc(t){return{point:{x:t.pageX,y:t.pageY}}}const f6=t=>e=>Qv(e)&&t(e,Qc(e));function Gu(t,e,n,r){return fc(t,e,f6(n),r)}const tS=(t,e)=>Math.abs(t-e);function h6(t,e){const n=tS(t.x,e.x),r=tS(t.y,e.y);return Math.sqrt(n**2+r**2)}class ab{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=dg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=h6(_.offset,{x:0,y:0})>=3;if(!w&&!T)return;const{point:x}=_,{timestamp:I}=Wt;this.history.push({...x,timestamp:I});const{onStart:R,onMove:D}=this.handlers;w||(R&&R(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=hg(w,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:T,onSessionEnd:x,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=dg(_.type==="pointercancel"?this.lastMoveEventInfo:hg(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,R),x&&x(_,R)},!Qv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Qc(e),c=hg(l,this.transformPagePoint),{point:f}=c,{timestamp:p}=Wt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,dg(c,this.history)),this.removeListeners=Gc(Gu(this.contextWindow,"pointermove",this.handlePointerMove),Gu(this.contextWindow,"pointerup",this.handlePointerUp),Gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ds(this.updatePoint)}}function hg(t,e){return e?{point:e(t.point)}:t}function nS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dg({point:t},e){return{point:t,delta:nS(t,lb(e)),offset:nS(t,d6(e)),velocity:p6(e,.1)}}function d6(t){return t[0]}function lb(t){return t[t.length-1]}function p6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=lb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_i(e)));)n--;if(!r)return{x:0,y:0};const a=wi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const ub=1e-4,m6=1-ub,g6=1+ub,cb=.01,y6=0-cb,v6=0+cb;function Ln(t){return t.max-t.min}function _6(t,e,n){return Math.abs(t-e)<=n}function rS(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=m6&&t.scale<=g6||isNaN(t.scale))&&(t.scale=1),(t.translate>=y6&&t.translate<=v6||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,r){rS(t.x,e.x,n.x,r?r.originX:void 0),rS(t.y,e.y,n.y,r?r.originY:void 0)}function iS(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function w6(t,e,n){iS(t.x,e.x,n.x),iS(t.y,e.y,n.y)}function sS(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function Xu(t,e,n){sS(t.x,e.x,n.x),sS(t.y,e.y,n.y)}function E6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function oS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T6(t,{top:e,left:n,bottom:r,right:i}){return{x:oS(t.x,n,i),y:oS(t.y,e,r)}}function aS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function S6(t,e){return{x:aS(t.x,e.x),y:aS(t.y,e.y)}}function x6(t,e){let n=.5;const r=Ln(t),i=Ln(e);return i>r?n=yl(e.min,e.max-r,t.min):r>i&&(n=yl(t.min,t.max-i,e.min)),bi(0,1,n)}function I6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hy=.35;function C6(t=hy){return t===!1?t=0:t===!0&&(t=hy),{x:lS(t,"left","right"),y:lS(t,"top","bottom")}}function lS(t,e,n){return{min:uS(t,e),max:uS(t,n)}}function uS(t,e){return typeof t=="number"?t:t[e]||0}const cS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:cS(),y:cS()}),fS=()=>({min:0,max:0}),Tt=()=>({x:fS(),y:fS()});function Gn(t){return[t("x"),t("y")]}function fb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function A6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function b6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pg(t){return t===void 0||t===1}function dy({scale:t,scaleX:e,scaleY:n}){return!pg(t)||!pg(e)||!pg(n)}function go(t){return dy(t)||hb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hb(t){return hS(t.x)||hS(t.y)}function hS(t){return t&&t!=="0%"}function xd(t,e,n){const r=t-n,i=e*r;return n+i}function dS(t,e,n,r,i){return i!==void 0&&(t=xd(t,i,r)),xd(t,n,r)+e}function py(t,e=0,n=1,r,i){t.min=dS(t.min,e,n,r,i),t.max=dS(t.max,e,n,r,i)}function db(t,{x:e,y:n}){py(t.x,e.translate,e.scale,e.originPoint),py(t.y,n.translate,n.scale,n.originPoint)}const pS=.999999999999,mS=1.0000000000001;function P6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ka(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,db(t,l)),r&&go(a.latestValues)&&Ka(t,a.latestValues))}e.x<mS&&e.x>pS&&(e.x=1),e.y<mS&&e.y>pS&&(e.y=1)}function Wa(t,e){t.min=t.min+e,t.max=t.max+e}function gS(t,e,n,r,i=.5){const a=dt(t.min,t.max,i);py(t,e,n,a,r)}function Ka(t,e){gS(t.x,e.x,e.scaleX,e.scale,e.originX),gS(t.y,e.y,e.scaleY,e.scale,e.originY)}function pb(t,e){return fb(b6(t.getBoundingClientRect(),e))}function R6(t,e,n){const r=pb(t,n),{scroll:i}=e;return i&&(Wa(r.x,i.offset.x),Wa(r.y,i.offset.y)),r}const mb=({current:t})=>t?t.ownerDocument.defaultView:null,k6=new WeakMap;class D6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qc(g).point)},a=(g,_)=>{const{drag:w,dragPropagation:T,onDragStart:x}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=I9(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(R=>{let D=this.getAxisMotionValue(R).get()||0;if(Vr.test(D)){const{projection:V}=this.visualElement;if(V&&V.layout){const U=V.layout.layoutBox[R];U&&(D=Ln(U)*(parseFloat(D)/100))}}this.originPoint[R]=D}),x&&at.postRender(()=>x(g,_)),iy(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:x,onDrag:I}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=_;if(T&&this.currentDirection===null){this.currentDirection=N6(R),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),I&&I(g,_)},c=(g,_)=>this.stop(g,_),f=()=>Gn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ab(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:mb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&at.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=E6(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&za(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=T6(i.layoutBox,n):this.constraints=!1,this.elastic=C6(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=I6(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!za(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=R6(r,i.root,this.visualElement.getTransformPagePoint());let l=S6(i.layout.layoutBox,a);if(n){const c=n(A6(l));this.hasMutatedConstraints=!!c,c&&(l=fb(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=Gn(g=>{if(!xh(g,n,this.currentDirection))return;let _=f[g]||{};l&&(_={min:0,max:0});const w=i?200:1e6,T=i?40:1e7,x={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,x)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return iy(this.visualElement,e),r.start(a_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:r}=this.getProps();if(!xh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-dt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!za(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();i[l]=x6({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(l=>{if(!xh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];c.set(dt(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;k6.set(this.visualElement,this);const e=this.visualElement.current,n=Gu(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();za(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const l=fc(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Gn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=hy,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function xh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function N6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class O6 extends Vs{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new D6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const yS=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class V6 extends Vs{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new ab(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yS(e),onStart:yS(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&at.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $h={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=vS(t,e.target.x),r=vS(t,e.target.y);return`${n}% ${r}%`}},L6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ns.parse(t);if(i.length>5)return r;const a=Ns.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=f;const p=dt(c,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};class M6 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;i9(F6),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$h.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||at.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gb(t){const[e,n]=_j(),r=M.useContext(ZC);return j.jsx(M6,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(oA),isPresent:e,safeToRemove:n})}const F6={borderRadius:{...Pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pu,borderTopRightRadius:Pu,borderBottomLeftRadius:Pu,borderBottomRightRadius:Pu,boxShadow:L6};function j6(t,e,n){const r=sn(t)?t:uc(t);return r.start(a_("",r,e,n)),r.animation}function U6(t){return t instanceof SVGElement&&t.tagName!=="svg"}const B6=(t,e)=>t.depth-e.depth;class $6{constructor(){this.children=[],this.isDirty=!1}add(e){Xv(this.children,e),this.isDirty=!0}remove(e){Yv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(B6),this.isDirty=!1,this.children.forEach(e)}}function z6(t,e){const n=Lr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Ds(r),t(a-e))};return at.read(r,!0),()=>Ds(r)}const yb=["TopLeft","TopRight","BottomLeft","BottomRight"],q6=yb.length,_S=t=>typeof t=="string"?parseFloat(t):t,wS=t=>typeof t=="number"||Ce.test(t);function H6(t,e,n,r,i,a){i?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,W6(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,K6(r))):a&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<q6;l++){const c=`border${yb[l]}Radius`;let f=ES(e,c),p=ES(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||wS(f)===wS(p)?(t[c]=Math.max(dt(_S(f),_S(p),r),0),(Vr.test(p)||Vr.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function ES(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const W6=vb(0,.5,LA),K6=vb(.5,.95,On);function vb(t,e,n){return r=>r<t?0:r>e?1:n(yl(t,e,r))}function TS(t,e){t.min=e.min,t.max=e.max}function Kn(t,e){TS(t.x,e.x),TS(t.y,e.y)}function SS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xS(t,e,n,r,i){return t-=e,t=xd(t,1/n,r),i!==void 0&&(t=xd(t,1/i,r)),t}function G6(t,e=0,n=1,r=.5,i,a=t,l=t){if(Vr.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=dt(a.min,a.max,r);t===a&&(c-=e),t.min=xS(t.min,e,n,c,i),t.max=xS(t.max,e,n,c,i)}function IS(t,e,[n,r,i],a,l){G6(t,e[n],e[r],e[i],e.scale,a,l)}const Q6=["x","scaleX","originX"],X6=["y","scaleY","originY"];function CS(t,e,n,r){IS(t.x,e,Q6,n?n.x:void 0,r?r.x:void 0),IS(t.y,e,X6,n?n.y:void 0,r?r.y:void 0)}function AS(t){return t.translate===0&&t.scale===1}function _b(t){return AS(t.x)&&AS(t.y)}function bS(t,e){return t.min===e.min&&t.max===e.max}function Y6(t,e){return bS(t.x,e.x)&&bS(t.y,e.y)}function PS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wb(t,e){return PS(t.x,e.x)&&PS(t.y,e.y)}function RS(t){return Ln(t.x)/Ln(t.y)}function kS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class J6{constructor(){this.members=[]}add(e){Xv(this.members,e),e.scheduleRender()}remove(e){if(Yv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z6(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:w,skewX:T,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const yo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fu=typeof window<"u"&&window.MotionDebug!==void 0,mg=["","X","Y","Z"],e5={visibility:"hidden"},DS=1e3;let t5=0;function gg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Eb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=PA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Eb(r)}function Tb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=t5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fu&&(yo.totalNodes=yo.resolvedTargetDeltas=yo.recalculatedProjection=0),this.nodes.forEach(i5),this.nodes.forEach(u5),this.nodes.forEach(c5),this.nodes.forEach(s5),Fu&&window.MotionDebug.record(yo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new $6)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Jv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=U6(l),this.instance=l;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=z6(w,250),$h.hasAnimatedSinceResize&&($h.hasAnimatedSinceResize=!1,this.nodes.forEach(OS))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeTargetChanged:T,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||m5,{onLayoutAnimationStart:R,onLayoutAnimationComplete:D}=g.getProps(),V=!this.targetLayout||!wb(this.targetLayout,x)||T,U=!w&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||w&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,U);const G={...Wv(I,"layout"),onPlay:R,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else w||OS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Eb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NS);return}this.isUpdating||this.nodes.forEach(a5),this.isUpdating=!1,this.nodes.forEach(l5),this.nodes.forEach(n5),this.nodes.forEach(r5),this.clearAllSnapshots();const c=Lr.now();Wt.delta=bi(0,1e3/60,c-Wt.timestamp),Wt.timestamp=c,Wt.isProcessing=!0,ag.update.process(Wt),ag.preRender.process(Wt),ag.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o5),this.sharedNodes.forEach(h5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!_b(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||go(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),g5(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Tt();const f=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(y5))){const{scroll:g}=this.root;g&&(Wa(f.x,g.offset.x),Wa(f.y,g.offset.y))}return f}removeElementScroll(l){var c;const f=Tt();if(Kn(f,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:w}=g;g!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Kn(f,l),Wa(f.x,_.offset.x),Wa(f.y,_.offset.y))}return f}applyTransform(l,c=!1){const f=Tt();Kn(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ka(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),go(g.latestValues)&&Ka(f,g.latestValues)}return go(this.latestValues)&&Ka(f,this.latestValues),f}removeTransform(l){const c=Tt();Kn(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!go(p.latestValues))continue;dy(p.latestValues)&&p.updateSnapshot();const g=Tt(),_=p.measurePageBox();Kn(g,_),CS(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return go(this.latestValues)&&CS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!(!this.layout||!(_||w))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Xu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),db(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Xu(this.relativeTargetOrigin,this.target,T.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fu&&yo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dy(this.parent.latestValues)||hb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Kn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;P6(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Tt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SS(this.prevProjectionDelta.x,this.projectionDelta.x),SS(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!kS(this.projectionDelta.x,this.prevProjectionDelta.x)||!kS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Fu&&yo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ha(),this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha()}setAnimationOrigin(l,c=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Tt(),T=f?f.source:void 0,x=this.layout?this.layout.source:void 0,I=T!==x,R=this.getStack(),D=!R||R.members.length<=1,V=!!(I&&!D&&this.options.crossfade===!0&&!this.path.some(p5));this.animationProgress=0;let U;this.mixTargetDelta=G=>{const J=G/1e3;VS(_.x,l.x,J),VS(_.y,l.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d5(this.relativeTarget,this.relativeTargetOrigin,w,J),U&&Y6(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Tt()),Kn(U,this.relativeTarget)),I&&(this.animationValues=g,H6(g,p,this.latestValues,J,V,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{$h.hasAnimatedSinceResize=!0,this.currentAnimation=j6(0,DS,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:g}=l;if(!(!c||!f||!p)){if(this!==l&&this.layout&&p&&Sb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Tt();const _=Ln(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const w=Ln(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+w}Kn(c,f),Ka(c,g),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new J6),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&gg("z",l,p,this.animationValues);for(let g=0;g<mg.length;g++)gg(`rotate${mg[g]}`,l,p,this.animationValues),gg(`skew${mg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return e5;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Uh(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Uh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(I.transform=g?g({},""):"none",this.hasProjected=!1),I}const w=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=Z6(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:T,y:x}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${x.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=_===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const I in _d){if(w[I]===void 0)continue;const{correct:R,applyTo:D}=_d[I],V=p.transform==="none"?w[I]:R(w[I],_);if(D){const U=D.length;for(let G=0;G<U;G++)p[D[G]]=V}else p[I]=V}return this.options.layoutId&&(p.pointerEvents=_===this?Uh(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(NS),this.root.sharedNodes.clear()}}}function n5(t){t.updateLayout()}function r5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Gn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],T=Ln(w);w.min=r[_].min,w.max=w.min+T}):Sb(a,n.layoutBox,r)&&Gn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],T=Ln(r[_]);w.max=w.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+T)});const c=Ha();Qu(c,r,n.layoutBox);const f=Ha();l?Qu(f,t.applyTransform(i,!0),n.measuredBox):Qu(f,r,n.layoutBox);const p=!_b(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:T}=_;if(w&&T){const x=Tt();Xu(x,n.layoutBox,w.layoutBox);const I=Tt();Xu(I,r,T.layoutBox),wb(x,I)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=x,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function i5(t){Fu&&yo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o5(t){t.clearSnapshot()}function NS(t){t.clearMeasurements()}function a5(t){t.isLayoutDirty=!1}function l5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u5(t){t.resolveTargetDelta()}function c5(t){t.calcProjection()}function f5(t){t.resetSkewAndRotation()}function h5(t){t.removeLeadSnapshot()}function VS(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LS(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function d5(t,e,n,r){LS(t.x,e.x,n.x,r),LS(t.y,e.y,n.y,r)}function p5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m5={duration:.45,ease:[.4,0,.1,1]},MS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FS=MS("applewebkit/")&&!MS("chrome/")?Math.round:On;function jS(t){t.min=FS(t.min),t.max=FS(t.max)}function g5(t){jS(t.x),jS(t.y)}function Sb(t,e,n){return t==="position"||t==="preserve-aspect"&&!_6(RS(e),RS(n),.2)}function y5(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const v5=Tb({attachResizeListener:(t,e)=>fc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},xb=Tb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yg.current){const t=new v5({});t.mount(window),t.setOptions({layoutScroll:!0}),yg.current=t}return yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_5={pan:{Feature:V6},drag:{Feature:O6,ProjectionNode:xb,MeasureLayout:gb}};function US(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&at.postRender(()=>a(e,Qc(e)))}class w5 extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=w9(e,n=>(US(this.node,n,"Start"),r=>US(this.node,r,"End"))))}unmount(){}}class E5 extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gc(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BS(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&at.postRender(()=>a(e,Qc(e)))}class T5 extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=x9(e,n=>(BS(this.node,n,"Start"),(r,{success:i})=>BS(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,vg=new WeakMap,S5=t=>{const e=my.get(t.target);e&&e(t)},x5=t=>{t.forEach(S5)};function I5({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const r=vg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(x5,{root:t,...e})),r[i]}function C5(t,e,n){const r=I5(e);return my.set(t,n),r.observe(t),()=>{my.delete(t),r.unobserve(t)}}const A5={some:0,all:1};class b5 extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:A5[i]},c=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),w=p?g:_;w&&w(f)};return C5(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(P5(e,n))&&this.startObserver()}unmount(){}}function P5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R5={inView:{Feature:b5},tap:{Feature:T5},focus:{Feature:E5},hover:{Feature:w5}},k5={layout:{ProjectionNode:xb,MeasureLayout:gb}},gy={current:null},Ib={current:!1};function D5(){if(Ib.current=!0,!!kv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gy.current=t.matches;t.addListener(e),e()}else gy.current=!1}const N5=[...XA,tn,Ns],O5=t=>N5.find(QA(t)),$S=new WeakMap;function V5(t,e,n){for(const r in e){const i=e[r],a=n[r];if(sn(i))t.addValue(r,i);else if(sn(a))t.addValue(r,uc(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,uc(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Lr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,at.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=lp(n),this.isVariantNode=iA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in w){const x=w[T];f[T]!==void 0&&sn(x)&&x.set(f[T],!1)}}mount(e){this.current=e,$S.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ib.current||D5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$S.delete(this.current),this.projection&&this.projection.unmount(),Ds(this.notifyUpdate),Ds(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zo.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vl){const n=vl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zS.length;r++){const i=zS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=V5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(KA(i)||FA(i))?i=parseFloat(i):!O5(i)&&Ns.test(n)&&(i=qA(e,n)),this.setBaseTarget(e,sn(i)?i.get():i)),sn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Fv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Cb extends L5{constructor(){super(...arguments),this.KeyframeResolver=YA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M5(t){return window.getComputedStyle(t)}class F5 extends Cb{constructor(){super(...arguments),this.type="html",this.renderInstance=dA}readValueFromInstance(e,n){if(zo.has(n)){const r=r_(n);return r&&r.default||0}else{const r=M5(e),i=(cA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pb(e,n)}build(e,n,r){Bv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Hv(e,n,r)}}class j5 extends Cb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zo.has(n)){const r=r_(n);return r&&r.default||0}return n=pA.has(n)?n:Vv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yA(e,n,r)}build(e,n,r){$v(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){mA(e,n,r,i)}mount(e){this.isSVGTag=qv(e.tagName),super.mount(e)}}const U5=(t,e)=>Mv(t)?new j5(e):new F5(e,{allowProjection:t!==M.Fragment}),B5=d9({...c6,...R5,..._5,...k5},U5),Yn=bj(B5);var _g,qS;function $5(){if(qS)return _g;qS=1;function t(e,n,r){var i,a,l,c,f;n==null&&(n=100);function p(){var _=Date.now()-c;_<n&&_>=0?i=setTimeout(p,n-_):(i=null,r||(f=e.apply(l,a),l=a=null))}var g=function(){l=this,a=arguments,c=Date.now();var _=r&&!i;return i||(i=setTimeout(p,n)),_&&(f=e.apply(l,a),l=a=null),f};return g.clear=function(){i&&(clearTimeout(i),i=null)},g.flush=function(){i&&(f=e.apply(l,a),l=a=null,clearTimeout(i),i=null)},g}return t.debounce=t,_g=t,_g}var z5=$5();const HS=Ic(z5);function q5(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1};const a=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,c]=M.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=M.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),p=e?typeof e=="number"?e:e.scroll:null,g=e?typeof e=="number"?e:e.resize:null,_=M.useRef(!1);M.useEffect(()=>(_.current=!0,()=>void(_.current=!1)));const[w,T,x]=M.useMemo(()=>{const V=()=>{if(!f.current.element)return;const{left:U,top:G,width:J,height:Z,bottom:O,right:A,x:N,y:F}=f.current.element.getBoundingClientRect(),b={left:U,top:G,width:J,height:Z,bottom:O,right:A,x:N,y:F};f.current.element instanceof HTMLElement&&i&&(b.height=f.current.element.offsetHeight,b.width=f.current.element.offsetWidth),Object.freeze(b),_.current&&!G5(f.current.lastBounds,b)&&c(f.current.lastBounds=b)};return[V,g?HS(V,g):V,p?HS(V,p):V]},[c,i,p,g]);function I(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(V=>V.removeEventListener("scroll",x,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null)}function R(){f.current.element&&(f.current.resizeObserver=new a(x),f.current.resizeObserver.observe(f.current.element),n&&f.current.scrollContainers&&f.current.scrollContainers.forEach(V=>V.addEventListener("scroll",x,{capture:!0,passive:!0})))}const D=V=>{!V||V===f.current.element||(I(),f.current.element=V,f.current.scrollContainers=Ab(V),R())};return W5(x,!!n),H5(T),M.useEffect(()=>{I(),R()},[n,x,T]),M.useEffect(()=>I,[]),[D,l,w]}function H5(t){M.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function W5(t,e){M.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Ab(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...Ab(t.parentElement)]}const K5=["x","y","top","bottom","left","right","width","height"],G5=(t,e)=>K5.every(n=>t[n]===e[n]),Q5=({title:t,children:e,defaultOpen:n=!1})=>{const[r,{height:i}]=q5(),[a,l]=M.useState(n);return j.jsxs(Yn.div,{animate:a?"open":"closed",className:"border-b-[1px] border-b-slate-300",children:[j.jsxs("button",{onClick:()=>l(c=>!c),className:"flex w-full items-center justify-between gap-4 py-6",children:[j.jsx(Yn.span,{variants:{open:{color:"rgba(3, 6, 23, 1)"},closed:{color:"rgba(3, 6, 23, 0.8)"}},className:"bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-left text-lg font-medium",children:t}),j.jsx(Yn.span,{variants:{open:{rotate:"180deg",color:"rgb(124 58 237)"},closed:{rotate:"0deg",color:"#030617"}},children:j.jsx(yj,{className:"text-2xl"})})]}),j.jsx(Yn.div,{initial:!1,animate:{height:a?i:"0px",marginBottom:a?"24px":"0px"},className:"overflow-hidden text-slate-600",children:j.jsx("div",{ref:r,children:e})})]})},X5=({images:t})=>{const[e,n]=M.useState(0);return!t||t.length===0?j.jsx("div",{className:"h-96 bg-gray-100 flex items-center justify-center",children:"無圖片"}):j.jsxs("div",{className:"flex flex-col",children:[j.jsx("div",{className:"relative overflow-hidden min-h-[100px] flex items-center justify-center",children:j.jsx("img",{src:t[e],alt:"Product",className:"max-w-[60%]  object-contain",onDragStart:r=>r.preventDefault()})}),t.length>1&&j.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2",children:t.map((r,i)=>j.jsx("button",{onClick:()=>n(i),className:`flex-shrink-0 h-20 w-20 rounded-md overflow-hidden border-2 ${e===i?"border-blue-500":"border-transparent"}`,children:j.jsx("img",{src:r,alt:`Thumbnail ${i+1}`,className:"h-full w-full object-cover",onDragStart:a=>a.preventDefault()})},i))})]})},Y5=()=>{const{slug:t}=SR(),[e,n]=M.useState(null),[r,i]=M.useState(!0),[a,l]=M.useState(null);return M.useEffect(()=>{const c=p=>{p.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")};document.addEventListener("contextmenu",c);const f=p=>{p.preventDefault()};return document.addEventListener("dragstart",f),()=>{document.removeEventListener("contextmenu",c),document.removeEventListener("dragstart",f)}},[]),M.useEffect(()=>{(async()=>{try{i(!0),l(null);const p=await Yh.fetch(`*[_type == "product" && slug.current == $slug][0] {
          _id,
          "images": images[].asset->url,
          name,
          price,
          description,
          "slug": slug.current,
          "categoryName": category->name
        }`,{slug:t});if(!p)throw new Error("Product not found");n(p)}catch(f){l(f.message)}finally{i(!1)}})()},[t]),r?j.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):a?j.jsxs("div",{className:"flex justify-center items-center h-64 text-red-500",children:["Error: ",a]}):j.jsxs("div",{className:"bg-white -mt-6",children:[j.jsx("div",{className:"w-full px-4",children:j.jsx(X5,{images:e.images})}),j.jsxs("div",{className:"mx-auto max-w-screen-xl px-4 md:px-8",children:[j.jsxs("div",{className:"mb-8",children:[j.jsxs("div",{className:"mb-4",children:[j.jsx("span",{className:"mb-1 inline-block text-gray-500",children:e.categoryName}),j.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:e.name})]}),j.jsx("div",{className:"mb-6 flex items-center gap-3",children:j.jsx("span",{className:"text-sm text-gray-500 transition duration-100",children:"56 Ratings"})}),j.jsxs("div",{className:"mb-6",children:[j.jsxs("div",{className:"flex items-end gap-2",children:[j.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["$",e.price]}),j.jsxs("span",{className:"mb-0.5 text-red-500 line-through",children:["$",e.price+30]})]}),j.jsx("span",{className:"text-sm text-gray-500",children:"不含運費"})]}),j.jsx("div",{className:"mb-8",children:j.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"加入購物車"})})]}),j.jsxs("div",{className:"py-8 border-t border-gray-200",children:[j.jsx("h3",{className:"mb-6 text-xl font-semibold",children:"產品描述"}),j.jsx(Q5,{title:"特色",defaultOpen:!0,children:j.jsx("p",{children:e.description})})]})]})]})};var wg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var WS;function J5(){return WS||(WS=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(wg)),wg.exports}var Z5=J5();const qo=Ic(Z5);function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(null,arguments)}function bb(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function KS(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function eB(t){var e=tB(t,"string");return typeof e=="symbol"?e:String(e)}function tB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nB(t,e,n){var r=M.useRef(t!==void 0),i=M.useState(e),a=i[0],l=i[1],c=t!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?t:a,M.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),w=1;w<g;w++)_[w-1]=arguments[w];n&&n.apply(void 0,[p].concat(_)),l(p)},[n])]}function rB(t,e){return Object.keys(e).reduce(function(n,r){var i,a=n,l=a[KS(r)],c=a[r],f=bb(a,[KS(r),r].map(eB)),p=e[r],g=nB(c,l,t[p]),_=g[0],w=g[1];return yy({},f,(i={},i[r]=_,i[p]=w,i))},t)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vy(t,e)}function iB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vy(t,e)}const sB=["xxl","xl","lg","md","sm","xs"],oB="xs",aB=M.createContext({prefixes:{},breakpoints:sB,minBreakpoint:oB});function kl(t,e){const{prefixes:n}=M.useContext(aB);return t||n[e]||e}function lB(t){return t&&t.ownerDocument||document}function uB(t){var e=lB(t);return e&&e.defaultView||window}function cB(t,e){return uB(t).getComputedStyle(t,e)}var fB=/([A-Z])/g;function hB(t){return t.replace(fB,"-$1").toLowerCase()}var dB=/^ms-/;function Ih(t){return hB(t).replace(dB,"-ms-")}var pB=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function mB(t){return!!(t&&pB.test(t))}function Id(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Ih(e))||cB(t).getPropertyValue(Ih(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(Ih(i)):mB(i)?r+=i+"("+a+") ":n+=Ih(i)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const GS={disabled:!1},Pb=Me.createContext(null);var gB=function(e){return e.scrollTop},ju="unmounted",os="exited",as="entering",vo="entered",Cd="exiting",Di=function(t){iB(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?c?(f=os,a.appearStatus=as):f=vo:r.unmountOnExit||r.mountOnEnter?f=ju:f=os,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===ju?{status:os}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==as&&l!==vo&&(a=as):(l===as||l===vo)&&(a=Cd)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===as){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:ku.findDOMNode(this);l&&gB(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===os&&this.setState({status:ju})},n.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[ku.findDOMNode(this),c],p=f[0],g=f[1],_=this.getTimeouts(),w=c?_.appear:_.enter;if(!i&&!l||GS.disabled){this.safeSetState({status:vo},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:as},function(){a.props.onEntering(p,g),a.onTransitionEnd(w,function(){a.safeSetState({status:vo},function(){a.props.onEntered(p,g)})})})},n.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:ku.findDOMNode(this);if(!a||GS.disabled){this.safeSetState({status:os},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Cd},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:os},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:ku.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ju)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=bb(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Me.createElement(Pb.Provider,{value:null},typeof l=="function"?l(i,c):Me.cloneElement(Me.Children.only(l),c))},e}(Me.Component);Di.contextType=Pb;Di.propTypes={};function Ma(){}Di.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ma,onEntering:Ma,onEntered:Ma,onExit:Ma,onExiting:Ma,onExited:Ma};Di.UNMOUNTED=ju;Di.EXITED=os;Di.ENTERING=as;Di.ENTERED=vo;Di.EXITING=Cd;function yB(){const t=M.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function vB(t){if(!t||typeof t=="function")return null;const{major:e}=yB();return e>=19?t.props.ref:t.ref}const _B=!!(typeof window<"u"&&window.document&&window.document.createElement);var _y=!1,wy=!1;try{var Eg={get passive(){return _y=!0},get once(){return wy=_y=!0}};_B&&(window.addEventListener("test",Eg,Eg),window.removeEventListener("test",Eg,!0))}catch{}function wB(t,e,n,r){if(r&&typeof r!="boolean"&&!wy){var i=r.once,a=r.capture,l=n;!wy&&i&&(l=n.__once||function c(f){this.removeEventListener(e,c,a),n.call(this,f)},n.__once=l),t.addEventListener(e,l,_y?r:a)}t.addEventListener(e,n,r)}function EB(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Rb(t,e,n,r){return wB(t,e,n,r),function(){EB(t,e,n,r)}}function TB(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function SB(t){var e=Id(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function xB(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||TB(t,"transitionend",!0)},e+n),a=Rb(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function IB(t,e,n,r){n==null&&(n=SB(t)||0);var i=xB(t,n,r),a=Rb(t,"transitionend",e);return function(){i(),a()}}function QS(t,e){const n=Id(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function CB(t,e){const n=QS(t,"transitionDuration"),r=QS(t,"transitionDelay"),i=IB(t,a=>{a.target===t&&(i(),e(a))},n+r)}function Ru(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function AB(t){t.offsetHeight}const XS=t=>!t||typeof t=="function"?t:e=>{t.current=e};function bB(t,e){const n=XS(t),r=XS(e);return i=>{n&&n(i),r&&r(i)}}function PB(t,e){return M.useMemo(()=>bB(t,e),[t,e])}function RB(t){return t&&"setState"in t?ku.findDOMNode(t):t??null}const kB=Me.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:f,...p},g)=>{const _=M.useRef(null),w=PB(_,f),T=Z=>{w(RB(Z))},x=Z=>O=>{Z&&_.current&&Z(_.current,O)},I=M.useCallback(x(t),[t]),R=M.useCallback(x(e),[e]),D=M.useCallback(x(n),[n]),V=M.useCallback(x(r),[r]),U=M.useCallback(x(i),[i]),G=M.useCallback(x(a),[a]),J=M.useCallback(x(l),[l]);return j.jsx(Di,{ref:g,...p,onEnter:I,onEntered:D,onEntering:R,onExit:V,onExited:G,onExiting:U,addEndListener:J,nodeRef:_,children:typeof c=="function"?(Z,O)=>c(Z,{...O,ref:T}):Me.cloneElement(c,{ref:T})})}),DB={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function NB(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=DB[t];return r+parseInt(Id(e,i[0]),10)+parseInt(Id(e,i[1]),10)}const OB={[os]:"collapse",[Cd]:"collapsing",[as]:"collapsing",[vo]:"collapse show"},VB=Me.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:f=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:w=!1,getDimensionValue:T=NB,...x},I)=>{const R=typeof c=="function"?c():c,D=M.useMemo(()=>Ru(Z=>{Z.style[R]="0"},t),[R,t]),V=M.useMemo(()=>Ru(Z=>{const O=`scroll${R[0].toUpperCase()}${R.slice(1)}`;Z.style[R]=`${Z[O]}px`},e),[R,e]),U=M.useMemo(()=>Ru(Z=>{Z.style[R]=null},n),[R,n]),G=M.useMemo(()=>Ru(Z=>{Z.style[R]=`${T(R,Z)}px`,AB(Z)},r),[r,T,R]),J=M.useMemo(()=>Ru(Z=>{Z.style[R]=null},i),[R,i]);return j.jsx(kB,{ref:I,addEndListener:CB,...x,"aria-expanded":x.role?f:null,onEnter:D,onEntering:V,onEntered:U,onExit:G,onExiting:J,childRef:vB(l),in:f,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:w,children:(Z,O)=>Me.cloneElement(l,{...O,className:qo(a,l.props.className,OB[Z],R==="width"&&"collapse-horizontal")})})});function kb(t,e){return Array.isArray(t)?t.includes(e):t===e}const Xc=M.createContext({});Xc.displayName="AccordionContext";const l_=M.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=M.useContext(Xc);return e=kl(e,"accordion-collapse"),j.jsx(VB,{ref:l,in:kb(c,i),...a,className:qo(n,e),children:j.jsx(t,{children:M.Children.only(r)})})});l_.displayName="AccordionCollapse";const fp=M.createContext({eventKey:""});fp.displayName="AccordionItemContext";const Db=M.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,...p},g)=>{e=kl(e,"accordion-body");const{eventKey:_}=M.useContext(fp);return j.jsx(l_,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,children:j.jsx(t,{ref:g,...p,className:qo(n,e)})})});Db.displayName="AccordionBody";function LB(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:i}=M.useContext(Xc);return a=>{let l=t===n?null:t;i&&(Array.isArray(n)?n.includes(t)?l=n.filter(c=>c!==t):l=[...n,t]:l=[t]),r==null||r(l,a),e==null||e(a)}}const u_=M.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...i},a)=>{e=kl(e,"accordion-button");const{eventKey:l}=M.useContext(fp),c=LB(l,r),{activeEventKey:f}=M.useContext(Xc);return t==="button"&&(i.type="button"),j.jsx(t,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:qo(n,e,!kb(f,l)&&"collapsed")})});u_.displayName="AccordionButton";const Nb=M.forwardRef(({as:t="h2","aria-controls":e,bsPrefix:n,className:r,children:i,onClick:a,...l},c)=>(n=kl(n,"accordion-header"),j.jsx(t,{ref:c,...l,className:qo(r,n),children:j.jsx(u_,{onClick:a,"aria-controls":e,children:i})})));Nb.displayName="AccordionHeader";const Ob=M.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...i},a)=>{e=kl(e,"accordion-item");const l=M.useMemo(()=>({eventKey:r}),[r]);return j.jsx(fp.Provider,{value:l,children:j.jsx(t,{ref:a,...i,className:qo(n,e)})})});Ob.displayName="AccordionItem";const Vb=M.forwardRef((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:f,...p}=rB(t,{activeKey:"onSelect"}),g=kl(i,"accordion"),_=M.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return j.jsx(Xc.Provider,{value:_,children:j.jsx(n,{ref:e,...p,className:qo(a,g,c&&`${g}-flush`)})})});Vb.displayName="Accordion";const fo=Object.assign(Vb,{Button:u_,Collapse:l_,Item:Ob,Header:Nb,Body:Db});function MB(){return j.jsx("div",{className:" ",children:j.jsxs(fo,{className:"mb-7",defaultActiveKey:"0",children:[j.jsxs(fo.Item,{eventKey:"0",children:[j.jsx(fo.Header,{children:"Accordion Item #1"}),j.jsx(fo.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),j.jsxs(fo.Item,{eventKey:"1",children:[j.jsx(fo.Header,{children:"Accordion Item #2"}),j.jsx(fo.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})})}function FB(t){return Os({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const jB=()=>{const t=l1(),{user:e,setUser:n}=M.useContext(Pv),r=async()=>{try{await BV(jh,mI);const a=await cL(jh,_F);n(a.user),t("/")}catch(a){console.error("Error during Google login:",a.message)}},i=async()=>{try{await HV(jh),n(null),t("/")}catch(a){console.error("Error during logout:",a.message)}};return j.jsx("div",{className:"flex items-center gap-4",children:e?j.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"登出"}):j.jsx("div",{className:"relative w-full h-screen",children:j.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 max-w-sm w-full p-6 rounded-lg shadow-lg text-center",children:[j.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Log into Your Account"}),j.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sign in to your account with your social profile"}),j.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 w-full mt-4 bg-red-500 text-white py-3 rounded-full text-lg font-semibold shadow-md hover:bg-red-600 transition",children:[j.jsx(FB,{className:"text-2xl bg-white rounded-full p-1"}),"Sign in with Google"]})]})})})},UB=()=>j.jsxs("div",{className:"p-8",children:[j.jsx("h1",{className:"text-3xl font-bold",children:"About Page"}),j.jsx("p",{children:"About content will go here."})]}),BB=()=>j.jsxs("div",{className:"p-8",children:[j.jsx("h1",{className:"text-3xl font-bold",children:"Service Page"}),j.jsx("p",{children:"Service content will go here."})]}),$B=()=>j.jsxs("div",{className:"p-8",children:[j.jsx("h1",{className:"text-3xl font-bold",children:"Resume Page"}),j.jsx("p",{children:"Resume content will go here."})]}),zB=()=>j.jsxs("div",{className:"p-8",children:[j.jsx("h1",{className:"text-3xl font-bold",children:"Portfolio Page"}),j.jsx("p",{children:"Portfolio content will go here."})]}),qB=()=>j.jsxs("div",{className:"p-8",children:[j.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials Page"}),j.jsx("p",{children:"Testimonials content will go here."})]}),HB=()=>j.jsxs("div",{className:"p-8",children:[j.jsx("h1",{className:"text-3xl font-bold",children:"Contact Page"}),j.jsx("p",{children:"Contact content will go here."})]}),WB=()=>xR([{path:"/",element:j.jsx(gj,{})},{path:"/problem",element:j.jsx(MB,{})},{path:"/login",element:j.jsx(jB,{})},{path:"/product/:slug",element:j.jsx(Y5,{})},{path:"/about",element:j.jsx(UB,{})},{path:"/service",element:j.jsx(BB,{})},{path:"/resume",element:j.jsx($B,{})},{path:"/portfolio",element:j.jsx(zB,{})},{path:"/testimonials",element:j.jsx(qB,{})},{path:"/contact",element:j.jsx(HB,{})}]),KB=()=>{const t=Pi(),e=t.pathname==="/"||t.pathname==="/portfolio"||t.pathname==="/about"||t.pathname==="/service"||t.pathname==="/resume"||t.pathname==="/testimonials"||t.pathname==="/contact";return j.jsxs("div",{className:`${e?"bg-teal-400":""} overflow-x-hidden`,children:[j.jsx(GB,{}),e&&j.jsx(QB,{})]})},GB=()=>{const[t,e]=M.useState(!1),n=Pi(),r=n.pathname==="/"||n.pathname==="/portfolio"||n.pathname==="/about"||n.pathname==="/service"||n.pathname==="/resume"||n.pathname==="/testimonials"||n.pathname==="/contact";return j.jsxs("nav",{className:`${r?"bg-teal-400":"bg-white border-b border-gray-200"} px-6 py-4 flex items-center justify-between relative w-full max-w-full overflow-x-hidden`,children:[j.jsx(El,{to:"/",className:`${r?"text-black hover:text-gray-700":"text-gray-800 hover:text-indigo-600"} font-bold text-xl tracking-wider transition-colors duration-200`,children:"Kevin攝影"}),j.jsxs("div",{className:"hidden md:flex items-center space-x-4 lg:space-x-8 flex-wrap",children:[j.jsx(ho,{to:"/",text:"首頁",isPortfolioPage:r}),j.jsx(ho,{to:"/problem",text:"問與答Q&A",isPortfolioPage:r}),j.jsx(ho,{to:"/about",text:"About",isPortfolioPage:r}),j.jsx(ho,{to:"/service",text:"Service",isPortfolioPage:r}),j.jsx(ho,{to:"/resume",text:"Resume",isPortfolioPage:r}),j.jsx(ho,{to:"/portfolio",text:"Portfolio",isPortfolioPage:r}),j.jsx(ho,{to:"/testimonials",text:"Testimonials",isPortfolioPage:r}),j.jsx(XB,{text:"Contact",isPortfolioPage:r})]}),j.jsx("button",{className:`md:hidden ${r?"text-black":"text-gray-800"}`,onClick:()=>e(!t),children:j.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t&&j.jsx("div",{className:`absolute top-full left-0 right-0 ${r?"bg-teal-400":"bg-white border-b border-gray-200"} md:hidden z-50`,children:j.jsxs("div",{className:"flex flex-col space-y-4 px-6 py-4",children:[j.jsx(po,{to:"/",text:"首頁",isPortfolioPage:r}),j.jsx(po,{to:"/problem",text:"問與答Q&A",isPortfolioPage:r}),j.jsx(po,{to:"/about",text:"About",isPortfolioPage:r}),j.jsx(po,{to:"/service",text:"Service",isPortfolioPage:r}),j.jsx(po,{to:"/resume",text:"Resume",isPortfolioPage:r}),j.jsx(po,{to:"/portfolio",text:"Portfolio",isPortfolioPage:r}),j.jsx(po,{to:"/testimonials",text:"Testimonials",isPortfolioPage:r}),j.jsx(YB,{text:"Contact",isPortfolioPage:r})]})})]})},QB=()=>j.jsxs("div",{className:"flex items-center justify-between px-6 lg:px-20 py-20 min-h-[calc(100vh-80px)] w-full max-w-full overflow-x-hidden",children:[j.jsx("div",{className:"flex-1 max-w-2xl",children:j.jsxs(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[j.jsx("p",{className:"text-black text-lg mb-4",children:"嗨~"}),j.jsx("h1",{className:"text-black text-5xl lg:text-6xl font-bold mb-4",children:"我是Kevin"}),j.jsx("h2",{className:"text-black text-2xl lg:text-3xl font-semibold mb-6",children:"分享攝影照片"}),j.jsx("p",{className:"text-black text-lg mb-8 leading-relaxed max-w-xl"}),j.jsx(Yn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-black text-white px-8 py-3 rounded-md font-medium hover:bg-gray-800 transition-colors",children:"Contact Me"})]})}),j.jsx("div",{className:"hidden lg:block flex-1 flex justify-center",children:j.jsx(Yn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"relative",children:j.jsx("div",{className:"w-80 h-80 rounded-full overflow-hidden border-4 border-black shadow-2xl",children:j.jsx("img",{src:"https://res.cloudinary.com/dtbj43yha/image/upload/v1753798709/mountain_jdi9k6.jpg",alt:"Lorenzo Fellon",className:"w-full h-full object-cover"})})})})]}),ho=({to:t,text:e,isPortfolioPage:n})=>j.jsx(El,{to:t,className:`${n?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),po=({to:t,text:e,isPortfolioPage:n})=>j.jsx(El,{to:t,className:`${n?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),XB=({text:t,isPortfolioPage:e})=>{const n=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return j.jsx("button",{onClick:n,className:`${e?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:t})},YB=({text:t,isPortfolioPage:e})=>{const n=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return j.jsx("button",{onClick:n,className:`${e?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:t})};class hp{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const JB=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},$a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:JB()},ZB=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},e$=async(t,e,n={})=>{const r=await fetch($a.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),a=new hp(r.status,i);if(r.ok)return a;throw a},t$=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},n$=t=>t.webdriver||!t.languages||t.languages.length===0,r$=()=>new hp(451,"Unavailable For Headless Browser"),i$=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},s$=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},o$=(t,e)=>t instanceof FormData?t.get(e):t[e],a$=(t,e)=>{if(s$(t))return!1;i$(t.list,t.watchVariable);const n=o$(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},l$=()=>new hp(403,"Forbidden"),u$=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},c$=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},f$=async(t,e,n)=>{if(!e.throttle||!n)return!1;u$(e.throttle,e.id);const r=e.id||t;return await c$(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},h$=()=>new hp(429,"Too Many Requests"),d$=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},p$=t=>typeof t=="string"?document.querySelector(t):t,m$=async(t,e,n,r)=>{const i=ZB(r),a=i.publicKey||$a.publicKey,l=i.blockHeadless||$a.blockHeadless,c=$a.storageProvider||i.storageProvider,f={...$a.blockList,...i.blockList},p={...$a.limitRate,...i.limitRate};if(l&&n$(navigator))return Promise.reject(r$());const g=p$(n);t$(a,t,e),d$(g);const _=new FormData(g);return a$(f,_)?Promise.reject(l$()):await f$(location.pathname,p,c)?Promise.reject(h$()):(_.append("lib_version","4.4.1"),_.append("service_id",t),_.append("template_id",e),_.append("user_id",a),e$("/api/v1.0/email/send-form",_))},g$=()=>{const[t,e]=M.useState({name:"",phone:"",email:"",message:""}),[n,r]=M.useState(!1),i=M.useRef(),a=c=>{e({...t,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault(),r(!0);try{await m$("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",i.current,"YOUR_PUBLIC_KEY"),We.success("訊息已成功發送！我們會盡快回覆您。",{position:"top-right",autoClose:3e3}),e({name:"",phone:"",email:"",message:""})}catch(f){console.error("EmailJS error:",f),We.error("發送失敗，請稍後再試或直接聯繫我們。",{position:"top-right",autoClose:3e3})}finally{r(!1)}};return j.jsxs("footer",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:[j.jsx("div",{className:"container mx-auto px-6 py-16",children:j.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[j.jsxs(Yn.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"space-y-8",children:[j.jsxs("div",{children:[j.jsx("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent"}),j.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"聯絡我"})]}),j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"flex items-center space-x-4",children:[j.jsx(pj,{className:"text-teal-400 text-xl"}),j.jsx("span",{className:"text-gray-300",children:" "})]}),j.jsxs("div",{className:"flex items-center space-x-4",children:[j.jsx(fj,{className:"text-teal-400 text-xl"}),j.jsx("span",{className:"text-gray-300",children:"a411758@gmail.com"})]}),j.jsxs("div",{className:"flex items-center space-x-4",children:[j.jsx(dj,{className:"text-teal-400 text-xl"}),j.jsx("span",{className:"text-gray-300",children:"台灣 台北市"})]})]}),j.jsxs("div",{className:"flex space-x-6",children:[j.jsx(Yn.a,{href:"https://instagram.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-gradient-to-r from-pink-500 to-purple-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:j.jsx(cj,{className:"text-2xl text-white"})}),j.jsx(Yn.a,{href:"https://facebook.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-blue-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:j.jsx(uj,{className:"text-2xl text-white"})})]})]}),j.jsxs(Yn.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700",children:[j.jsx("h3",{className:"text-2xl font-semibold mb-6 text-center",children:"發送訊息"}),j.jsxs("form",{ref:i,onSubmit:l,className:"space-y-6",children:[j.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"姓名 *"}),j.jsx("input",{type:"text",name:"name",value:t.name,onChange:a,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的姓名"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電話"}),j.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:a,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電話"})]})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電子信箱 *"}),j.jsx("input",{type:"email",name:"email",value:t.email,onChange:a,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電子信箱"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"訊息內容 *"}),j.jsx("textarea",{name:"message",value:t.message,onChange:a,required:!0,rows:"5",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300 resize-none",placeholder:""})]}),j.jsx(Yn.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:n?"發送中...":"發送訊息"})]})]})]})}),j.jsx("div",{className:"border-t border-gray-700",children:j.jsx("div",{className:"container mx-auto px-6 py-6",children:j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[j.jsx("div",{className:"text-gray-400 text-sm",children:"© 2025 Kevin攝影. All rights reserved."}),j.jsxs("div",{className:"flex space-x-6 text-sm text-gray-400",children:[j.jsx("a",{href:"/privacy",className:"hover:text-teal-400 transition-colors",children:"隱私政策"}),j.jsx("a",{href:"/terms",className:"hover:text-teal-400 transition-colors",children:"服務條款"})]})]})})})]})},y$=()=>j.jsx(wF,{children:j.jsxs(ak,{children:[j.jsx(KB,{})," ",j.jsx(tj,{}),j.jsx(WB,{}),j.jsx(g$,{}),"  "]})});KP.createRoot(document.getElementById("root")).render(j.jsx(M.StrictMode,{children:j.jsx(y$,{})}));export{w$ as C,Ic as g};
