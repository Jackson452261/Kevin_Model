var UP=Object.defineProperty;var ww=t=>{throw TypeError(t)};var BP=(t,e,n)=>e in t?UP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Te=(t,e,n)=>BP(t,typeof e!="symbol"?e+"":e,n),Ew=(t,e,n)=>e.has(t)||ww("Cannot "+n);var H=(t,e,n)=>(Ew(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?ww("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ve=(t,e,n,r)=>(Ew(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fm={exports:{}},Iu={},Um={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function $P(){if(Tw)return je;Tw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function R(z,ee,ge){this.props=z,this.context=ee,this.refs=b,this.updater=ge||T}R.prototype.isReactComponent={},R.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=R.prototype;function M(z,ee,ge){this.props=z,this.context=ee,this.refs=b,this.updater=ge||T}var U=M.prototype=new N;U.constructor=M,S(U,R.prototype),U.isPureReactComponent=!0;var K=Array.isArray,J=Object.prototype.hasOwnProperty,Z={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function A(z,ee,ge){var be,De={},Ne=null,Ge=null;if(ee!=null)for(be in ee.ref!==void 0&&(Ge=ee.ref),ee.key!==void 0&&(Ne=""+ee.key),ee)J.call(ee,be)&&!V.hasOwnProperty(be)&&(De[be]=ee[be]);var Ke=arguments.length-2;if(Ke===1)De.children=ge;else if(1<Ke){for(var Ye=Array(Ke),Mt=0;Mt<Ke;Mt++)Ye[Mt]=arguments[Mt+2];De.children=Ye}if(z&&z.defaultProps)for(be in Ke=z.defaultProps,Ke)De[be]===void 0&&(De[be]=Ke[be]);return{$$typeof:t,type:z,key:Ne,ref:Ge,props:De,_owner:Z.current}}function O(z,ee){return{$$typeof:t,type:z.type,key:ee,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function C(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return ee[ge]})}var D=/\/+/g;function I(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?C(""+z.key):ee.toString(36)}function Y(z,ee,ge,be,De){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var Ge=!1;if(z===null)Ge=!0;else switch(Ne){case"string":case"number":Ge=!0;break;case"object":switch(z.$$typeof){case t:case e:Ge=!0}}if(Ge)return Ge=z,De=De(Ge),z=be===""?"."+I(Ge,0):be,K(De)?(ge="",z!=null&&(ge=z.replace(D,"$&/")+"/"),Y(De,ee,ge,"",function(Mt){return Mt})):De!=null&&(F(De)&&(De=O(De,ge+(!De.key||Ge&&Ge.key===De.key?"":(""+De.key).replace(D,"$&/")+"/")+z)),ee.push(De)),1;if(Ge=0,be=be===""?".":be+":",K(z))for(var Ke=0;Ke<z.length;Ke++){Ne=z[Ke];var Ye=be+I(Ne,Ke);Ge+=Y(Ne,ee,ge,Ye,De)}else if(Ye=w(z),typeof Ye=="function")for(z=Ye.call(z),Ke=0;!(Ne=z.next()).done;)Ne=Ne.value,Ye=be+I(Ne,Ke++),Ge+=Y(Ne,ee,ge,Ye,De);else if(Ne==="object")throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Ae(z,ee,ge){if(z==null)return z;var be=[],De=0;return Y(z,be,"","",function(Ne){return ee.call(ge,Ne,De++)}),be}function he(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var ce={current:null},ne={transition:null},fe={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Ae,forEach:function(z,ee,ge){Ae(z,function(){ee.apply(this,arguments)},ge)},count:function(z){var ee=0;return Ae(z,function(){ee++}),ee},toArray:function(z){return Ae(z,function(ee){return ee})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},je.Component=R,je.Fragment=n,je.Profiler=i,je.PureComponent=M,je.StrictMode=r,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,je.act=le,je.cloneElement=function(z,ee,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var be=S({},z.props),De=z.key,Ne=z.ref,Ge=z._owner;if(ee!=null){if(ee.ref!==void 0&&(Ne=ee.ref,Ge=Z.current),ee.key!==void 0&&(De=""+ee.key),z.type&&z.type.defaultProps)var Ke=z.type.defaultProps;for(Ye in ee)J.call(ee,Ye)&&!V.hasOwnProperty(Ye)&&(be[Ye]=ee[Ye]===void 0&&Ke!==void 0?Ke[Ye]:ee[Ye])}var Ye=arguments.length-2;if(Ye===1)be.children=ge;else if(1<Ye){Ke=Array(Ye);for(var Mt=0;Mt<Ye;Mt++)Ke[Mt]=arguments[Mt+2];be.children=Ke}return{$$typeof:t,type:z.type,key:De,ref:Ne,props:be,_owner:Ge}},je.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},je.createElement=A,je.createFactory=function(z){var ee=A.bind(null,z);return ee.type=z,ee},je.createRef=function(){return{current:null}},je.forwardRef=function(z){return{$$typeof:c,render:z}},je.isValidElement=F,je.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:he}},je.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},je.startTransition=function(z){var ee=ne.transition;ne.transition={};try{z()}finally{ne.transition=ee}},je.unstable_act=le,je.useCallback=function(z,ee){return ce.current.useCallback(z,ee)},je.useContext=function(z){return ce.current.useContext(z)},je.useDebugValue=function(){},je.useDeferredValue=function(z){return ce.current.useDeferredValue(z)},je.useEffect=function(z,ee){return ce.current.useEffect(z,ee)},je.useId=function(){return ce.current.useId()},je.useImperativeHandle=function(z,ee,ge){return ce.current.useImperativeHandle(z,ee,ge)},je.useInsertionEffect=function(z,ee){return ce.current.useInsertionEffect(z,ee)},je.useLayoutEffect=function(z,ee){return ce.current.useLayoutEffect(z,ee)},je.useMemo=function(z,ee){return ce.current.useMemo(z,ee)},je.useReducer=function(z,ee,ge){return ce.current.useReducer(z,ee,ge)},je.useRef=function(z){return ce.current.useRef(z)},je.useState=function(z){return ce.current.useState(z)},je.useSyncExternalStore=function(z,ee,ge){return ce.current.useSyncExternalStore(z,ee,ge)},je.useTransition=function(){return ce.current.useTransition()},je.version="18.3.1",je}var xw;function Ey(){return xw||(xw=1,Um.exports=$P()),Um.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function zP(){if(Sw)return Iu;Sw=1;var t=Ey(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,_={},w=null,T=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:c,key:w,ref:T,props:_,_owner:i.current}}return Iu.Fragment=n,Iu.jsx=l,Iu.jsxs=l,Iu}var bw;function HP(){return bw||(bw=1,Fm.exports=zP()),Fm.exports}var k=HP(),j=Ey();const Le=bc(j);var dd={},Bm={exports:{}},wn={},$m={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function qP(){return Iw||(Iw=1,function(t){function e(ne,fe){var le=ne.length;ne.push(fe);e:for(;0<le;){var z=le-1>>>1,ee=ne[z];if(0<i(ee,fe))ne[z]=fe,ne[le]=ee,le=z;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var fe=ne[0],le=ne.pop();if(le!==fe){ne[0]=le;e:for(var z=0,ee=ne.length,ge=ee>>>1;z<ge;){var be=2*(z+1)-1,De=ne[be],Ne=be+1,Ge=ne[Ne];if(0>i(De,le))Ne<ee&&0>i(Ge,De)?(ne[z]=Ge,ne[Ne]=le,z=Ne):(ne[z]=De,ne[be]=le,z=be);else if(Ne<ee&&0>i(Ge,le))ne[z]=Ge,ne[Ne]=le,z=Ne;else break e}}return fe}function i(ne,fe){var le=ne.sortIndex-fe.sortIndex;return le!==0?le:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,_=null,w=3,T=!1,S=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(ne){for(var fe=n(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=ne)r(p),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=n(p)}}function K(ne){if(b=!1,U(ne),!S)if(n(h)!==null)S=!0,he(J);else{var fe=n(p);fe!==null&&ce(K,fe.startTime-ne)}}function J(ne,fe){S=!1,b&&(b=!1,N(A),A=-1),T=!0;var le=w;try{for(U(fe),_=n(h);_!==null&&(!(_.expirationTime>fe)||ne&&!C());){var z=_.callback;if(typeof z=="function"){_.callback=null,w=_.priorityLevel;var ee=z(_.expirationTime<=fe);fe=t.unstable_now(),typeof ee=="function"?_.callback=ee:_===n(h)&&r(h),U(fe)}else r(h);_=n(h)}if(_!==null)var ge=!0;else{var be=n(p);be!==null&&ce(K,be.startTime-fe),ge=!1}return ge}finally{_=null,w=le,T=!1}}var Z=!1,V=null,A=-1,O=5,F=-1;function C(){return!(t.unstable_now()-F<O)}function D(){if(V!==null){var ne=t.unstable_now();F=ne;var fe=!0;try{fe=V(!0,ne)}finally{fe?I():(Z=!1,V=null)}}else Z=!1}var I;if(typeof M=="function")I=function(){M(D)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Ae=Y.port2;Y.port1.onmessage=D,I=function(){Ae.postMessage(null)}}else I=function(){R(D,0)};function he(ne){V=ne,Z||(Z=!0,I())}function ce(ne,fe){A=R(function(){ne(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,he(J))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var le=w;w=fe;try{return ne()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=w;w=ne;try{return fe()}finally{w=le}},t.unstable_scheduleCallback=function(ne,fe,le){var z=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,ne={id:g++,callback:fe,priorityLevel:ne,startTime:le,expirationTime:ee,sortIndex:-1},le>z?(ne.sortIndex=le,e(p,ne),n(h)===null&&ne===n(p)&&(b?(N(A),A=-1):b=!0,ce(K,le-z))):(ne.sortIndex=ee,e(h,ne),S||T||(S=!0,he(J))),ne},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(ne){var fe=w;return function(){var le=w;w=fe;try{return ne.apply(this,arguments)}finally{w=le}}}}(zm)),zm}var Aw;function WP(){return Aw||(Aw=1,$m.exports=qP()),$m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function GP(){if(Cw)return wn;Cw=1;var t=Ey(),e=WP();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(s){return h.call(_,s)?!0:h.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function T(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,u,f){if(o===null||typeof o>"u"||T(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,u,f,m,v,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=x}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(N,M);R[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(N,M);R[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(N,M);R[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,o,u,f){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,u,m,f)&&(u=null),f||m===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var K=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),ne=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,z;function ee(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var ge=!1;function be(s,o){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var f=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){f=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){f=Q}s()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=f.stack.split(`
`),x=m.length-1,L=v.length-1;1<=x&&0<=L&&m[x]!==v[L];)L--;for(;1<=x&&0<=L;x--,L--)if(m[x]!==v[L]){if(x!==1||L!==1)do if(x--,L--,0>L||m[x]!==v[L]){var B=`
`+m[x].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=x&&0<=L);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function De(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case Z:return"Portal";case O:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case Y:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case C:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case he:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Mt(s){var o=Ye(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(x){f=""+x,v.call(this,x)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Wr(s){s._valueTracker||(s._valueTracker=Mt(s))}function Wo(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Ye(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function Oi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Fs(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Go(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ke(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Dl(s,o){o=o.checked,o!=null&&U(s,"checked",o,!1)}function Nl(s,o){Dl(s,o);var u=Ke(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ko(s,o.type,u):o.hasOwnProperty("defaultValue")&&Ko(s,o.type,Ke(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Xc(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ko(s,o,u){(o!=="number"||Oi(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Gr=Array.isArray;function Kr(s,o,u,f){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Ke(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ol(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Qo(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Gr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ke(u)}}function Yo(s,o){var u=Ke(o.value),f=Ke(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Vl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function At(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?At(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qr,Ml=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Qr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Vi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bs=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(s){Bs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Us[o]=Us[s]})});function Ll(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Us.hasOwnProperty(s)&&Us[s]?(""+o).trim():o+"px"}function jl(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ll(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var Fl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(s,o){if(o){if(Fl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Bl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function Xo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jo=null,Ln=null,_r=null;function Zo(s){if(s=hu(s)){if(typeof Jo!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Ah(o),Jo(s.stateNode,s.type,o))}}function wr(s){Ln?_r?_r.push(s):_r=[s]:Ln=s}function $l(){if(Ln){var s=Ln,o=_r;if(_r=Ln=null,Zo(s),o)for(s=0;s<o.length;s++)Zo(o[s])}}function zs(s,o){return s(o)}function zl(){}var Yr=!1;function Hl(s,o,u){if(Yr)return s(o,u);Yr=!0;try{return zs(s,o,u)}finally{Yr=!1,(Ln!==null||_r!==null)&&(zl(),$l())}}function wt(s,o){var u=s.stateNode;if(u===null)return null;var f=Ah(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var ea=!1;if(c)try{var er={};Object.defineProperty(er,"passive",{get:function(){ea=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{ea=!1}function Hs(s,o,u,f,m,v,x,L,B){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(ie){this.onError(ie)}}var qs=!1,ta=null,tr=!1,ql=null,fp={onError:function(s){qs=!0,ta=s}};function na(s,o,u,f,m,v,x,L,B){qs=!1,ta=null,Hs.apply(fp,arguments)}function Jc(s,o,u,f,m,v,x,L,B){if(na.apply(this,arguments),qs){if(qs){var Q=ta;qs=!1,ta=null}else throw Error(n(198));tr||(tr=!0,ql=Q)}}function nr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Ws(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function rr(s){if(nr(s)!==s)throw Error(n(188))}function Zc(s){var o=s.alternate;if(!o){if(o=nr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return rr(m),s;if(v===f)return rr(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var x=!1,L=m.child;L;){if(L===u){x=!0,u=m,f=v;break}if(L===f){x=!0,f=m,u=v;break}L=L.sibling}if(!x){for(L=v.child;L;){if(L===u){x=!0,u=v,f=m;break}if(L===f){x=!0,f=v,u=m;break}L=L.sibling}if(!x)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Wl(s){return s=Zc(s),s!==null?ra(s):null}function ra(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ra(s);if(o!==null)return o;s=s.sibling}return null}var ia=e.unstable_scheduleCallback,Gl=e.unstable_cancelCallback,eh=e.unstable_shouldYield,pp=e.unstable_requestPaint,nt=e.unstable_now,th=e.unstable_getCurrentPriorityLevel,Gs=e.unstable_ImmediatePriority,Mi=e.unstable_UserBlockingPriority,jn=e.unstable_NormalPriority,Kl=e.unstable_LowPriority,nh=e.unstable_IdlePriority,Ks=null,An=null;function rh(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ks,s,void 0,(s.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:sh,Ql=Math.log,ih=Math.LN2;function sh(s){return s>>>=0,s===0?32:31-(Ql(s)/ih|0)|0}var sa=64,oa=4194304;function Li(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Qs(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,v=s.pingedLanes,x=u&268435455;if(x!==0){var L=x&~m;L!==0?f=Li(L):(v&=x,v!==0&&(f=Li(v)))}else x=u&~m,x!==0?f=Li(x):v!==0&&(f=Li(v));if(f===0)return 0;if(o!==0&&o!==f&&!(o&m)&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(f&4&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-ln(o),m=1<<u,f|=s[u],o&=~m;return f}function mp(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var x=31-ln(v),L=1<<x,B=m[x];B===-1?(!(L&u)||L&f)&&(m[x]=mp(L,o)):B<=o&&(s.expiredLanes|=L),v&=~L}}function Cn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ys(){var s=sa;return sa<<=1,!(sa&4194240)&&(sa=64),s}function ji(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Fi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ln(o),s[o]=u}function et(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ln(u),v=1<<m;o[m]=0,f[m]=-1,s[m]=-1,u&=~v}}function Ui(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-ln(u),m=1<<f;m&o|s[f]&o&&(s[f]|=o),u&=~m}}var Be=0;function Bi(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var oh,aa,ah,lh,uh,Yl=!1,Er=[],$t=null,ir=null,sr=null,$i=new Map,Fn=new Map,Tr=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(s,o){switch(s){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":$i.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(o.pointerId)}}function fn(s,o,u,f,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=hu(o),o!==null&&aa(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function yp(s,o,u,f,m){switch(o){case"focusin":return $t=fn($t,s,o,u,f,m),!0;case"dragenter":return ir=fn(ir,s,o,u,f,m),!0;case"mouseover":return sr=fn(sr,s,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return $i.set(v,fn($i.get(v)||null,s,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Fn.set(v,fn(Fn.get(v)||null,s,o,u,f,m)),!0}return!1}function hh(s){var o=to(s.target);if(o!==null){var u=nr(o);if(u!==null){if(o=u.tag,o===13){if(o=Ws(u),o!==null){s.blockedOn=o,uh(s.priority,function(){ah(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=la(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);$s=f,u.target.dispatchEvent(f),$s=null}else return o=hu(u),o!==null&&aa(o),s.blockedOn=u,!1;o.shift()}return!0}function Xs(s,o,u){Jr(s)&&u.delete(o)}function dh(){Yl=!1,$t!==null&&Jr($t)&&($t=null),ir!==null&&Jr(ir)&&(ir=null),sr!==null&&Jr(sr)&&(sr=null),$i.forEach(Xs),Fn.forEach(Xs)}function or(s,o){s.blockedOn===o&&(s.blockedOn=null,Yl||(Yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dh)))}function ar(s){function o(m){return or(m,s)}if(0<Er.length){or(Er[0],s);for(var u=1;u<Er.length;u++){var f=Er[u];f.blockedOn===s&&(f.blockedOn=null)}}for($t!==null&&or($t,s),ir!==null&&or(ir,s),sr!==null&&or(sr,s),$i.forEach(o),Fn.forEach(o),u=0;u<Tr.length;u++)f=Tr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Tr.length&&(u=Tr[0],u.blockedOn===null);)hh(u),u.blockedOn===null&&Tr.shift()}var Zr=K.ReactCurrentBatchConfig,zi=!0;function lt(s,o,u,f){var m=Be,v=Zr.transition;Zr.transition=null;try{Be=1,Xl(s,o,u,f)}finally{Be=m,Zr.transition=v}}function vp(s,o,u,f){var m=Be,v=Zr.transition;Zr.transition=null;try{Be=4,Xl(s,o,u,f)}finally{Be=m,Zr.transition=v}}function Xl(s,o,u,f){if(zi){var m=la(s,o,u,f);if(m===null)Pp(s,o,f,Js,u),ch(s,f);else if(yp(m,s,o,u,f))f.stopPropagation();else if(ch(s,f),o&4&&-1<gp.indexOf(s)){for(;m!==null;){var v=hu(m);if(v!==null&&oh(v),v=la(s,o,u,f),v===null&&Pp(s,o,f,Js,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Pp(s,o,f,null,u)}}var Js=null;function la(s,o,u,f){if(Js=null,s=Xo(f),s=to(s),s!==null)if(o=nr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Ws(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Js=s,null}function Jl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(th()){case Gs:return 1;case Mi:return 4;case jn:case Kl:return 16;case nh:return 536870912;default:return 16}default:return 16}}var Pn=null,ua=null,pn=null;function Zl(){if(pn)return pn;var s,o=ua,u=o.length,f,m="value"in Pn?Pn.value:Pn.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var x=u-s;for(f=1;f<=x&&o[u-f]===m[v-f];f++);return pn=m.slice(s,1<f?1-f:void 0)}function ca(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function xr(){return!0}function eu(){return!1}function zt(s){function o(u,f,m,v,x){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?xr:eu,this.isPropagationStopped=eu,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),o}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=zt(lr),Sr=le({},lr,{view:0,detail:0}),_p=zt(Sr),da,ei,Hi,Zs=le({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hi&&(Hi&&s.type==="mousemove"?(da=s.screenX-Hi.screenX,ei=s.screenY-Hi.screenY):ei=da=0,Hi=s),da)},movementY:function(s){return"movementY"in s?s.movementY:ei}}),fa=zt(Zs),tu=le({},Zs,{dataTransfer:0}),fh=zt(tu),pa=le({},Sr,{relatedTarget:0}),ma=zt(pa),ph=le({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),ti=zt(ph),mh=le({},lr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gh=zt(mh),yh=le({},lr,{data:0}),nu=zt(yh),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=vh[s])?!!o[s]:!1}function br(){return _h}var d=le({},Sr,{key:function(s){if(s.key){var o=ga[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?un[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=zt(d),E=le({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=zt(E),q=le({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),X=zt(q),ue=le({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=zt(ue),Pt=le({},Zs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=zt(Pt),Lt=[9,13,27,32],St=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var Rn=c&&"TextEvent"in window&&!Un,eo=c&&(!St||Un&&8<Un&&11>=Un),ya=" ",p_=!1;function m_(s,o){switch(s){case"keyup":return Lt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var va=!1;function jC(s,o){switch(s){case"compositionend":return g_(o);case"keypress":return o.which!==32?null:(p_=!0,ya);case"textInput":return s=o.data,s===ya&&p_?null:s;default:return null}}function FC(s,o){if(va)return s==="compositionend"||!St&&m_(s,o)?(s=Zl(),pn=ua=Pn=null,va=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return eo&&o.locale!=="ko"?null:o.data;default:return null}}var UC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!UC[s.type]:o==="textarea"}function v_(s,o,u,f){wr(f),o=Sh(o,"onChange"),0<o.length&&(u=new ha("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var ru=null,iu=null;function BC(s){M_(s,0)}function wh(s){var o=xa(s);if(Wo(o))return s}function $C(s,o){if(s==="change")return o}var __=!1;if(c){var wp;if(c){var Ep="oninput"in document;if(!Ep){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),Ep=typeof w_.oninput=="function"}wp=Ep}else wp=!1;__=wp&&(!document.documentMode||9<document.documentMode)}function E_(){ru&&(ru.detachEvent("onpropertychange",T_),iu=ru=null)}function T_(s){if(s.propertyName==="value"&&wh(iu)){var o=[];v_(o,iu,s,Xo(s)),Hl(BC,o)}}function zC(s,o,u){s==="focusin"?(E_(),ru=o,iu=u,ru.attachEvent("onpropertychange",T_)):s==="focusout"&&E_()}function HC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wh(iu)}function qC(s,o){if(s==="click")return wh(o)}function WC(s,o){if(s==="input"||s==="change")return wh(o)}function GC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ur=typeof Object.is=="function"?Object.is:GC;function su(s,o){if(ur(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!ur(s[m],o[m]))return!1}return!0}function x_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function S_(s,o){var u=x_(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=x_(u)}}function b_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?b_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function I_(){for(var s=window,o=Oi();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Oi(s.document)}return o}function Tp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function KC(s){var o=I_(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&b_(u.ownerDocument.documentElement,u)){if(f!==null&&Tp(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!s.extend&&v>f&&(m=f,f=v,v=m),m=S_(u,v);var x=S_(u,f);m&&x&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>f?(s.addRange(o),s.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var QC=c&&"documentMode"in document&&11>=document.documentMode,_a=null,xp=null,ou=null,Sp=!1;function A_(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sp||_a==null||_a!==Oi(f)||(f=_a,"selectionStart"in f&&Tp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ou&&su(ou,f)||(ou=f,f=Sh(xp,"onSelect"),0<f.length&&(o=new ha("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=_a)))}function Eh(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var wa={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},bp={},C_={};c&&(C_=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Th(s){if(bp[s])return bp[s];if(!wa[s])return s;var o=wa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in C_)return bp[s]=o[u];return s}var P_=Th("animationend"),R_=Th("animationiteration"),k_=Th("animationstart"),D_=Th("transitionend"),N_=new Map,O_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(s,o){N_.set(s,o),a(o,[s])}for(var Ip=0;Ip<O_.length;Ip++){var Ap=O_[Ip],YC=Ap.toLowerCase(),XC=Ap[0].toUpperCase()+Ap.slice(1);qi(YC,"on"+XC)}qi(P_,"onAnimationEnd"),qi(R_,"onAnimationIteration"),qi(k_,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(D_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function V_(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,Jc(f,o,void 0,s),s.currentTarget=null}function M_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var x=f.length-1;0<=x;x--){var L=f[x],B=L.instance,Q=L.currentTarget;if(L=L.listener,B!==v&&m.isPropagationStopped())break e;V_(m,L,Q),v=B}else for(x=0;x<f.length;x++){if(L=f[x],B=L.instance,Q=L.currentTarget,L=L.listener,B!==v&&m.isPropagationStopped())break e;V_(m,L,Q),v=B}}}if(tr)throw s=ql,tr=!1,ql=null,s}function st(s,o){var u=o[Vp];u===void 0&&(u=o[Vp]=new Set);var f=s+"__bubble";u.has(f)||(L_(o,s,2,!1),u.add(f))}function Cp(s,o,u){var f=0;o&&(f|=4),L_(u,s,f,o)}var xh="_reactListening"+Math.random().toString(36).slice(2);function lu(s){if(!s[xh]){s[xh]=!0,r.forEach(function(u){u!=="selectionchange"&&(JC.has(u)||Cp(u,!1,s),Cp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[xh]||(o[xh]=!0,Cp("selectionchange",!1,o))}}function L_(s,o,u,f){switch(Jl(o)){case 1:var m=lt;break;case 4:m=vp;break;default:m=Xl}u=m.bind(null,o,u,s),m=void 0,!ea||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Pp(s,o,u,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var L=f.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(x===4)for(x=f.return;x!==null;){var B=x.tag;if((B===3||B===4)&&(B=x.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;x=x.return}for(;L!==null;){if(x=to(L),x===null)return;if(B=x.tag,B===5||B===6){f=v=x;continue e}L=L.parentNode}}f=f.return}Hl(function(){var Q=v,ie=Xo(u),se=[];e:{var re=N_.get(s);if(re!==void 0){var de=ha,ye=s;switch(s){case"keypress":if(ca(u)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":ye="focus",de=ma;break;case"focusout":ye="blur",de=ma;break;case"beforeblur":case"afterblur":de=ma;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=X;break;case P_:case R_:case k_:de=ti;break;case D_:de=Ze;break;case"scroll":de=_p;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=P}var ve=(o&4)!==0,Et=!ve&&s==="scroll",W=ve?re!==null?re+"Capture":null:re;ve=[];for(var $=Q,G;$!==null;){G=$;var ae=G.stateNode;if(G.tag===5&&ae!==null&&(G=ae,W!==null&&(ae=wt($,W),ae!=null&&ve.push(uu($,ae,G)))),Et)break;$=$.return}0<ve.length&&(re=new de(re,ye,null,u,ie),se.push({event:re,listeners:ve}))}}if(!(o&7)){e:{if(re=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",re&&u!==$s&&(ye=u.relatedTarget||u.fromElement)&&(to(ye)||ye[ni]))break e;if((de||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,de?(ye=u.relatedTarget||u.toElement,de=Q,ye=ye?to(ye):null,ye!==null&&(Et=nr(ye),ye!==Et||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(de=null,ye=Q),de!==ye)){if(ve=fa,ae="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ve=P,ae="onPointerLeave",W="onPointerEnter",$="pointer"),Et=de==null?re:xa(de),G=ye==null?re:xa(ye),re=new ve(ae,$+"leave",de,u,ie),re.target=Et,re.relatedTarget=G,ae=null,to(ie)===Q&&(ve=new ve(W,$+"enter",ye,u,ie),ve.target=G,ve.relatedTarget=Et,ae=ve),Et=ae,de&&ye)t:{for(ve=de,W=ye,$=0,G=ve;G;G=Ea(G))$++;for(G=0,ae=W;ae;ae=Ea(ae))G++;for(;0<$-G;)ve=Ea(ve),$--;for(;0<G-$;)W=Ea(W),G--;for(;$--;){if(ve===W||W!==null&&ve===W.alternate)break t;ve=Ea(ve),W=Ea(W)}ve=null}else ve=null;de!==null&&j_(se,re,de,ve,!1),ye!==null&&Et!==null&&j_(se,Et,ye,ve,!0)}}e:{if(re=Q?xa(Q):window,de=re.nodeName&&re.nodeName.toLowerCase(),de==="select"||de==="input"&&re.type==="file")var _e=$C;else if(y_(re))if(__)_e=WC;else{_e=HC;var we=zC}else(de=re.nodeName)&&de.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=qC);if(_e&&(_e=_e(s,Q))){v_(se,_e,u,ie);break e}we&&we(s,re,Q),s==="focusout"&&(we=re._wrapperState)&&we.controlled&&re.type==="number"&&Ko(re,"number",re.value)}switch(we=Q?xa(Q):window,s){case"focusin":(y_(we)||we.contentEditable==="true")&&(_a=we,xp=Q,ou=null);break;case"focusout":ou=xp=_a=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,A_(se,u,ie);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":A_(se,u,ie)}var Ee;if(St)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else va?m_(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(eo&&u.locale!=="ko"&&(va||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&va&&(Ee=Zl()):(Pn=ie,ua="value"in Pn?Pn.value:Pn.textContent,va=!0)),we=Sh(Q,Ce),0<we.length&&(Ce=new nu(Ce,s,null,u,ie),se.push({event:Ce,listeners:we}),Ee?Ce.data=Ee:(Ee=g_(u),Ee!==null&&(Ce.data=Ee)))),(Ee=Rn?jC(s,u):FC(s,u))&&(Q=Sh(Q,"onBeforeInput"),0<Q.length&&(ie=new nu("onBeforeInput","beforeinput",null,u,ie),se.push({event:ie,listeners:Q}),ie.data=Ee))}M_(se,o)})}function uu(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Sh(s,o){for(var u=o+"Capture",f=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=wt(s,u),v!=null&&f.unshift(uu(s,v,m)),v=wt(s,o),v!=null&&f.push(uu(s,v,m))),s=s.return}return f}function Ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function j_(s,o,u,f,m){for(var v=o._reactName,x=[];u!==null&&u!==f;){var L=u,B=L.alternate,Q=L.stateNode;if(B!==null&&B===f)break;L.tag===5&&Q!==null&&(L=Q,m?(B=wt(u,v),B!=null&&x.unshift(uu(u,B,L))):m||(B=wt(u,v),B!=null&&x.push(uu(u,B,L)))),u=u.return}x.length!==0&&s.push({event:o,listeners:x})}var ZC=/\r\n?/g,eP=/\u0000|\uFFFD/g;function F_(s){return(typeof s=="string"?s:""+s).replace(ZC,`
`).replace(eP,"")}function bh(s,o,u){if(o=F_(o),F_(s)!==o&&u)throw Error(n(425))}function Ih(){}var Rp=null,kp=null;function Dp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,tP=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,nP=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(s){return U_.resolve(null).then(s).catch(rP)}:Np;function rP(s){setTimeout(function(){throw s})}function Op(s,o){var u=o,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),ar(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);ar(o)}function Wi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function B_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Ta=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ta,cu="__reactProps$"+Ta,ni="__reactContainer$"+Ta,Vp="__reactEvents$"+Ta,iP="__reactListeners$"+Ta,sP="__reactHandles$"+Ta;function to(s){var o=s[Ir];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ni]||u[Ir]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=B_(s);s!==null;){if(u=s[Ir])return u;s=B_(s)}return o}s=u,u=s.parentNode}return null}function hu(s){return s=s[Ir]||s[ni],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function xa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ah(s){return s[cu]||null}var Mp=[],Sa=-1;function Gi(s){return{current:s}}function ot(s){0>Sa||(s.current=Mp[Sa],Mp[Sa]=null,Sa--)}function rt(s,o){Sa++,Mp[Sa]=s.current,s.current=o}var Ki={},Yt=Gi(Ki),mn=Gi(!1),no=Ki;function ba(s,o){var u=s.type.contextTypes;if(!u)return Ki;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function gn(s){return s=s.childContextTypes,s!=null}function Ch(){ot(mn),ot(Yt)}function $_(s,o,u){if(Yt.current!==Ki)throw Error(n(168));rt(Yt,o),rt(mn,u)}function z_(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,Ge(s)||"Unknown",m));return le({},u,f)}function Ph(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ki,no=Yt.current,rt(Yt,s),rt(mn,mn.current),!0}function H_(s,o,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=z_(s,o,no),f.__reactInternalMemoizedMergedChildContext=s,ot(mn),ot(Yt),rt(Yt,s)):ot(mn),rt(mn,u)}var ri=null,Rh=!1,Lp=!1;function q_(s){ri===null?ri=[s]:ri.push(s)}function oP(s){Rh=!0,q_(s)}function Qi(){if(!Lp&&ri!==null){Lp=!0;var s=0,o=Be;try{var u=ri;for(Be=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}ri=null,Rh=!1}catch(m){throw ri!==null&&(ri=ri.slice(s+1)),ia(Gs,Qi),m}finally{Be=o,Lp=!1}}return null}var Ia=[],Aa=0,kh=null,Dh=0,Bn=[],$n=0,ro=null,ii=1,si="";function io(s,o){Ia[Aa++]=Dh,Ia[Aa++]=kh,kh=s,Dh=o}function W_(s,o,u){Bn[$n++]=ii,Bn[$n++]=si,Bn[$n++]=ro,ro=s;var f=ii;s=si;var m=32-ln(f)-1;f&=~(1<<m),u+=1;var v=32-ln(o)+m;if(30<v){var x=m-m%5;v=(f&(1<<x)-1).toString(32),f>>=x,m-=x,ii=1<<32-ln(o)+m|u<<m|f,si=v+s}else ii=1<<v|u<<m|f,si=s}function jp(s){s.return!==null&&(io(s,1),W_(s,1,0))}function Fp(s){for(;s===kh;)kh=Ia[--Aa],Ia[Aa]=null,Dh=Ia[--Aa],Ia[Aa]=null;for(;s===ro;)ro=Bn[--$n],Bn[$n]=null,si=Bn[--$n],Bn[$n]=null,ii=Bn[--$n],Bn[$n]=null}var kn=null,Dn=null,ut=!1,cr=null;function G_(s,o){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function K_(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,kn=s,Dn=Wi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,kn=s,Dn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ro!==null?{id:ii,overflow:si}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,kn=s,Dn=null,!0):!1;default:return!1}}function Up(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bp(s){if(ut){var o=Dn;if(o){var u=o;if(!K_(s,o)){if(Up(s))throw Error(n(418));o=Wi(u.nextSibling);var f=kn;o&&K_(s,o)?G_(f,u):(s.flags=s.flags&-4097|2,ut=!1,kn=s)}}else{if(Up(s))throw Error(n(418));s.flags=s.flags&-4097|2,ut=!1,kn=s}}}function Q_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kn=s}function Nh(s){if(s!==kn)return!1;if(!ut)return Q_(s),ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Dp(s.type,s.memoizedProps)),o&&(o=Dn)){if(Up(s))throw Y_(),Error(n(418));for(;o;)G_(s,o),o=Wi(o.nextSibling)}if(Q_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Dn=Wi(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Dn=null}}else Dn=kn?Wi(s.stateNode.nextSibling):null;return!0}function Y_(){for(var s=Dn;s;)s=Wi(s.nextSibling)}function Ca(){Dn=kn=null,ut=!1}function $p(s){cr===null?cr=[s]:cr.push(s)}var aP=K.ReactCurrentBatchConfig;function du(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var m=f,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(x){var L=m.refs;x===null?delete L[v]:L[v]=x},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Oh(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function X_(s){var o=s._init;return o(s._payload)}function J_(s){function o(W,$){if(s){var G=W.deletions;G===null?(W.deletions=[$],W.flags|=16):G.push($)}}function u(W,$){if(!s)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function f(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function m(W,$){return W=rs(W,$),W.index=0,W.sibling=null,W}function v(W,$,G){return W.index=G,s?(G=W.alternate,G!==null?(G=G.index,G<$?(W.flags|=2,$):G):(W.flags|=2,$)):(W.flags|=1048576,$)}function x(W){return s&&W.alternate===null&&(W.flags|=2),W}function L(W,$,G,ae){return $===null||$.tag!==6?($=Nm(G,W.mode,ae),$.return=W,$):($=m($,G),$.return=W,$)}function B(W,$,G,ae){var _e=G.type;return _e===V?ie(W,$,G.props.children,ae,G.key):$!==null&&($.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===he&&X_(_e)===$.type)?(ae=m($,G.props),ae.ref=du(W,$,G),ae.return=W,ae):(ae=id(G.type,G.key,G.props,null,W.mode,ae),ae.ref=du(W,$,G),ae.return=W,ae)}function Q(W,$,G,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=Om(G,W.mode,ae),$.return=W,$):($=m($,G.children||[]),$.return=W,$)}function ie(W,$,G,ae,_e){return $===null||$.tag!==7?($=fo(G,W.mode,ae,_e),$.return=W,$):($=m($,G),$.return=W,$)}function se(W,$,G){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Nm(""+$,W.mode,G),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return G=id($.type,$.key,$.props,null,W.mode,G),G.ref=du(W,null,$),G.return=W,G;case Z:return $=Om($,W.mode,G),$.return=W,$;case he:var ae=$._init;return se(W,ae($._payload),G)}if(Gr($)||fe($))return $=fo($,W.mode,G,null),$.return=W,$;Oh(W,$)}return null}function re(W,$,G,ae){var _e=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return _e!==null?null:L(W,$,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case J:return G.key===_e?B(W,$,G,ae):null;case Z:return G.key===_e?Q(W,$,G,ae):null;case he:return _e=G._init,re(W,$,_e(G._payload),ae)}if(Gr(G)||fe(G))return _e!==null?null:ie(W,$,G,ae,null);Oh(W,G)}return null}function de(W,$,G,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(G)||null,L($,W,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case J:return W=W.get(ae.key===null?G:ae.key)||null,B($,W,ae,_e);case Z:return W=W.get(ae.key===null?G:ae.key)||null,Q($,W,ae,_e);case he:var we=ae._init;return de(W,$,G,we(ae._payload),_e)}if(Gr(ae)||fe(ae))return W=W.get(G)||null,ie($,W,ae,_e,null);Oh($,ae)}return null}function ye(W,$,G,ae){for(var _e=null,we=null,Ee=$,Ce=$=0,Ut=null;Ee!==null&&Ce<G.length;Ce++){Ee.index>Ce?(Ut=Ee,Ee=null):Ut=Ee.sibling;var Xe=re(W,Ee,G[Ce],ae);if(Xe===null){Ee===null&&(Ee=Ut);break}s&&Ee&&Xe.alternate===null&&o(W,Ee),$=v(Xe,$,Ce),we===null?_e=Xe:we.sibling=Xe,we=Xe,Ee=Ut}if(Ce===G.length)return u(W,Ee),ut&&io(W,Ce),_e;if(Ee===null){for(;Ce<G.length;Ce++)Ee=se(W,G[Ce],ae),Ee!==null&&($=v(Ee,$,Ce),we===null?_e=Ee:we.sibling=Ee,we=Ee);return ut&&io(W,Ce),_e}for(Ee=f(W,Ee);Ce<G.length;Ce++)Ut=de(Ee,W,Ce,G[Ce],ae),Ut!==null&&(s&&Ut.alternate!==null&&Ee.delete(Ut.key===null?Ce:Ut.key),$=v(Ut,$,Ce),we===null?_e=Ut:we.sibling=Ut,we=Ut);return s&&Ee.forEach(function(is){return o(W,is)}),ut&&io(W,Ce),_e}function ve(W,$,G,ae){var _e=fe(G);if(typeof _e!="function")throw Error(n(150));if(G=_e.call(G),G==null)throw Error(n(151));for(var we=_e=null,Ee=$,Ce=$=0,Ut=null,Xe=G.next();Ee!==null&&!Xe.done;Ce++,Xe=G.next()){Ee.index>Ce?(Ut=Ee,Ee=null):Ut=Ee.sibling;var is=re(W,Ee,Xe.value,ae);if(is===null){Ee===null&&(Ee=Ut);break}s&&Ee&&is.alternate===null&&o(W,Ee),$=v(is,$,Ce),we===null?_e=is:we.sibling=is,we=is,Ee=Ut}if(Xe.done)return u(W,Ee),ut&&io(W,Ce),_e;if(Ee===null){for(;!Xe.done;Ce++,Xe=G.next())Xe=se(W,Xe.value,ae),Xe!==null&&($=v(Xe,$,Ce),we===null?_e=Xe:we.sibling=Xe,we=Xe);return ut&&io(W,Ce),_e}for(Ee=f(W,Ee);!Xe.done;Ce++,Xe=G.next())Xe=de(Ee,W,Ce,Xe.value,ae),Xe!==null&&(s&&Xe.alternate!==null&&Ee.delete(Xe.key===null?Ce:Xe.key),$=v(Xe,$,Ce),we===null?_e=Xe:we.sibling=Xe,we=Xe);return s&&Ee.forEach(function(FP){return o(W,FP)}),ut&&io(W,Ce),_e}function Et(W,$,G,ae){if(typeof G=="object"&&G!==null&&G.type===V&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case J:e:{for(var _e=G.key,we=$;we!==null;){if(we.key===_e){if(_e=G.type,_e===V){if(we.tag===7){u(W,we.sibling),$=m(we,G.props.children),$.return=W,W=$;break e}}else if(we.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===he&&X_(_e)===we.type){u(W,we.sibling),$=m(we,G.props),$.ref=du(W,we,G),$.return=W,W=$;break e}u(W,we);break}else o(W,we);we=we.sibling}G.type===V?($=fo(G.props.children,W.mode,ae,G.key),$.return=W,W=$):(ae=id(G.type,G.key,G.props,null,W.mode,ae),ae.ref=du(W,$,G),ae.return=W,W=ae)}return x(W);case Z:e:{for(we=G.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){u(W,$.sibling),$=m($,G.children||[]),$.return=W,W=$;break e}else{u(W,$);break}else o(W,$);$=$.sibling}$=Om(G,W.mode,ae),$.return=W,W=$}return x(W);case he:return we=G._init,Et(W,$,we(G._payload),ae)}if(Gr(G))return ye(W,$,G,ae);if(fe(G))return ve(W,$,G,ae);Oh(W,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,$!==null&&$.tag===6?(u(W,$.sibling),$=m($,G),$.return=W,W=$):(u(W,$),$=Nm(G,W.mode,ae),$.return=W,W=$),x(W)):u(W,$)}return Et}var Pa=J_(!0),Z_=J_(!1),Vh=Gi(null),Mh=null,Ra=null,zp=null;function Hp(){zp=Ra=Mh=null}function qp(s){var o=Vh.current;ot(Vh),s._currentValue=o}function Wp(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function ka(s,o){Mh=s,zp=Ra=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(yn=!0),s.firstContext=null)}function zn(s){var o=s._currentValue;if(zp!==s)if(s={context:s,memoizedValue:o,next:null},Ra===null){if(Mh===null)throw Error(n(308));Ra=s,Mh.dependencies={lanes:0,firstContext:s}}else Ra=Ra.next=s;return o}var so=null;function Gp(s){so===null?so=[s]:so.push(s)}function e0(s,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Gp(o)):(u.next=m.next,m.next=u),o.interleaved=u,oi(s,f)}function oi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Yi=!1;function Kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ai(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Xi(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,Qe&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,oi(s,u)}return m=f.interleaved,m===null?(o.next=o,Gp(f)):(o.next=m.next,m.next=o),f.interleaved=o,oi(s,u)}function Lh(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Ui(s,u)}}function n0(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=x:v=v.next=x,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function jh(s,o,u,f){var m=s.updateQueue;Yi=!1;var v=m.firstBaseUpdate,x=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var B=L,Q=B.next;B.next=null,x===null?v=Q:x.next=Q,x=B;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==x&&(L===null?ie.firstBaseUpdate=Q:L.next=Q,ie.lastBaseUpdate=B))}if(v!==null){var se=m.baseState;x=0,ie=Q=B=null,L=v;do{var re=L.lane,de=L.eventTime;if((f&re)===re){ie!==null&&(ie=ie.next={eventTime:de,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ye=s,ve=L;switch(re=o,de=u,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){se=ye.call(de,se,re);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,re=typeof ye=="function"?ye.call(de,se,re):ye,re==null)break e;se=le({},se,re);break e;case 2:Yi=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,re=m.effects,re===null?m.effects=[L]:re.push(L))}else de={eventTime:de,lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(Q=ie=de,B=se):ie=ie.next=de,x|=re;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;re=L,L=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ie===null&&(B=se),m.baseState=B,m.firstBaseUpdate=Q,m.lastBaseUpdate=ie,o=m.shared.interleaved,o!==null){m=o;do x|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);lo|=x,s.lanes=x,s.memoizedState=se}}function r0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var fu={},Ar=Gi(fu),pu=Gi(fu),mu=Gi(fu);function oo(s){if(s===fu)throw Error(n(174));return s}function Qp(s,o){switch(rt(mu,o),rt(pu,s),rt(Ar,fu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ct(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ct(o,s)}ot(Ar),rt(Ar,o)}function Da(){ot(Ar),ot(pu),ot(mu)}function i0(s){oo(mu.current);var o=oo(Ar.current),u=Ct(o,s.type);o!==u&&(rt(pu,s),rt(Ar,u))}function Yp(s){pu.current===s&&(ot(Ar),ot(pu))}var ht=Gi(0);function Fh(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Xp=[];function Jp(){for(var s=0;s<Xp.length;s++)Xp[s]._workInProgressVersionPrimary=null;Xp.length=0}var Uh=K.ReactCurrentDispatcher,Zp=K.ReactCurrentBatchConfig,ao=0,dt=null,Rt=null,jt=null,Bh=!1,gu=!1,yu=0,lP=0;function Xt(){throw Error(n(321))}function em(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ur(s[u],o[u]))return!1;return!0}function tm(s,o,u,f,m,v){if(ao=v,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Uh.current=s===null||s.memoizedState===null?dP:fP,s=u(f,m),gu){v=0;do{if(gu=!1,yu=0,25<=v)throw Error(n(301));v+=1,jt=Rt=null,o.updateQueue=null,Uh.current=pP,s=u(f,m)}while(gu)}if(Uh.current=Hh,o=Rt!==null&&Rt.next!==null,ao=0,jt=Rt=dt=null,Bh=!1,o)throw Error(n(300));return s}function nm(){var s=yu!==0;return yu=0,s}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?dt.memoizedState=jt=s:jt=jt.next=s,jt}function Hn(){if(Rt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var o=jt===null?dt.memoizedState:jt.next;if(o!==null)jt=o,Rt=s;else{if(s===null)throw Error(n(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},jt===null?dt.memoizedState=jt=s:jt=jt.next=s}return jt}function vu(s,o){return typeof o=="function"?o(s):o}function rm(s){var o=Hn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=Rt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var x=m.next;m.next=v.next,v.next=x}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var L=x=null,B=null,Q=v;do{var ie=Q.lane;if((ao&ie)===ie)B!==null&&(B=B.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:s(f,Q.action);else{var se={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};B===null?(L=B=se,x=f):B=B.next=se,dt.lanes|=ie,lo|=ie}Q=Q.next}while(Q!==null&&Q!==v);B===null?x=f:B.next=L,ur(f,o.memoizedState)||(yn=!0),o.memoizedState=f,o.baseState=x,o.baseQueue=B,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do v=m.lane,dt.lanes|=v,lo|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function im(s){var o=Hn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var x=m=m.next;do v=s(v,x.action),x=x.next;while(x!==m);ur(v,o.memoizedState)||(yn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function s0(){}function o0(s,o){var u=dt,f=Hn(),m=o(),v=!ur(f.memoizedState,m);if(v&&(f.memoizedState=m,yn=!0),f=f.queue,sm(u0.bind(null,u,f,s),[s]),f.getSnapshot!==o||v||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,_u(9,l0.bind(null,u,f,m,o),void 0,null),Ft===null)throw Error(n(349));ao&30||a0(u,o,m)}return m}function a0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function l0(s,o,u,f){o.value=u,o.getSnapshot=f,c0(o)&&h0(s)}function u0(s,o,u){return u(function(){c0(o)&&h0(s)})}function c0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ur(s,u)}catch{return!0}}function h0(s){var o=oi(s,1);o!==null&&pr(o,s,1,-1)}function d0(s){var o=Cr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:s},o.queue=s,s=s.dispatch=hP.bind(null,dt,s),[o.memoizedState,s]}function _u(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function f0(){return Hn().memoizedState}function $h(s,o,u,f){var m=Cr();dt.flags|=s,m.memoizedState=_u(1|o,u,void 0,f===void 0?null:f)}function zh(s,o,u,f){var m=Hn();f=f===void 0?null:f;var v=void 0;if(Rt!==null){var x=Rt.memoizedState;if(v=x.destroy,f!==null&&em(f,x.deps)){m.memoizedState=_u(o,u,v,f);return}}dt.flags|=s,m.memoizedState=_u(1|o,u,v,f)}function p0(s,o){return $h(8390656,8,s,o)}function sm(s,o){return zh(2048,8,s,o)}function m0(s,o){return zh(4,2,s,o)}function g0(s,o){return zh(4,4,s,o)}function y0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function v0(s,o,u){return u=u!=null?u.concat([s]):null,zh(4,4,y0.bind(null,o,s),u)}function om(){}function _0(s,o){var u=Hn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&em(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function w0(s,o){var u=Hn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&em(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function E0(s,o,u){return ao&21?(ur(u,o)||(u=Ys(),dt.lanes|=u,lo|=u,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,yn=!0),s.memoizedState=u)}function uP(s,o){var u=Be;Be=u!==0&&4>u?u:4,s(!0);var f=Zp.transition;Zp.transition={};try{s(!1),o()}finally{Be=u,Zp.transition=f}}function T0(){return Hn().memoizedState}function cP(s,o,u){var f=ts(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},x0(s))S0(o,u);else if(u=e0(s,o,u,f),u!==null){var m=hn();pr(u,s,f,m),b0(u,o,f)}}function hP(s,o,u){var f=ts(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(x0(s))S0(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var x=o.lastRenderedState,L=v(x,u);if(m.hasEagerState=!0,m.eagerState=L,ur(L,x)){var B=o.interleaved;B===null?(m.next=m,Gp(o)):(m.next=B.next,B.next=m),o.interleaved=m;return}}catch{}finally{}u=e0(s,o,m,f),u!==null&&(m=hn(),pr(u,s,f,m),b0(u,o,f))}}function x0(s){var o=s.alternate;return s===dt||o!==null&&o===dt}function S0(s,o){gu=Bh=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function b0(s,o,u){if(u&4194240){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Ui(s,u)}}var Hh={readContext:zn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},dP={readContext:zn,useCallback:function(s,o){return Cr().memoizedState=[s,o===void 0?null:o],s},useContext:zn,useEffect:p0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,$h(4194308,4,y0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return $h(4194308,4,s,o)},useInsertionEffect:function(s,o){return $h(4,2,s,o)},useMemo:function(s,o){var u=Cr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=Cr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=cP.bind(null,dt,s),[f.memoizedState,s]},useRef:function(s){var o=Cr();return s={current:s},o.memoizedState=s},useState:d0,useDebugValue:om,useDeferredValue:function(s){return Cr().memoizedState=s},useTransition:function(){var s=d0(!1),o=s[0];return s=uP.bind(null,s[1]),Cr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=dt,m=Cr();if(ut){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Ft===null)throw Error(n(349));ao&30||a0(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,p0(u0.bind(null,f,v,s),[s]),f.flags|=2048,_u(9,l0.bind(null,f,v,u,o),void 0,null),u},useId:function(){var s=Cr(),o=Ft.identifierPrefix;if(ut){var u=si,f=ii;u=(f&~(1<<32-ln(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=yu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=lP++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},fP={readContext:zn,useCallback:_0,useContext:zn,useEffect:sm,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:rm,useRef:f0,useState:function(){return rm(vu)},useDebugValue:om,useDeferredValue:function(s){var o=Hn();return E0(o,Rt.memoizedState,s)},useTransition:function(){var s=rm(vu)[0],o=Hn().memoizedState;return[s,o]},useMutableSource:s0,useSyncExternalStore:o0,useId:T0,unstable_isNewReconciler:!1},pP={readContext:zn,useCallback:_0,useContext:zn,useEffect:sm,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:im,useRef:f0,useState:function(){return im(vu)},useDebugValue:om,useDeferredValue:function(s){var o=Hn();return Rt===null?o.memoizedState=s:E0(o,Rt.memoizedState,s)},useTransition:function(){var s=im(vu)[0],o=Hn().memoizedState;return[s,o]},useMutableSource:s0,useSyncExternalStore:o0,useId:T0,unstable_isNewReconciler:!1};function hr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function am(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var qh={isMounted:function(s){return(s=s._reactInternals)?nr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=hn(),m=ts(s),v=ai(f,m);v.payload=o,u!=null&&(v.callback=u),o=Xi(s,v,m),o!==null&&(pr(o,s,m,f),Lh(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=hn(),m=ts(s),v=ai(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Xi(s,v,m),o!==null&&(pr(o,s,m,f),Lh(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=hn(),f=ts(s),m=ai(u,f);m.tag=2,o!=null&&(m.callback=o),o=Xi(s,m,f),o!==null&&(pr(o,s,f,u),Lh(o,s,f))}};function I0(s,o,u,f,m,v,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,x):o.prototype&&o.prototype.isPureReactComponent?!su(u,f)||!su(m,v):!0}function A0(s,o,u){var f=!1,m=Ki,v=o.contextType;return typeof v=="object"&&v!==null?v=zn(v):(m=gn(o)?no:Yt.current,f=o.contextTypes,v=(f=f!=null)?ba(s,m):Ki),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=qh,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function C0(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&qh.enqueueReplaceState(o,o.state,null)}function lm(s,o,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Kp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=zn(v):(v=gn(o)?no:Yt.current,m.context=ba(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(am(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&qh.enqueueReplaceState(m,m.state,null),jh(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Na(s,o){try{var u="",f=o;do u+=De(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function um(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function cm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var mP=typeof WeakMap=="function"?WeakMap:Map;function P0(s,o,u){u=ai(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Jh||(Jh=!0,bm=f),cm(s,o)},u}function R0(s,o,u){u=ai(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){cm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){cm(s,o),typeof f!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),u}function k0(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new mP;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),s=PP.bind(null,s,o,u),o.then(s,s))}function D0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function N0(s,o,u,f,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ai(-1,1),o.tag=2,Xi(u,o,1))),u.lanes|=1),s)}var gP=K.ReactCurrentOwner,yn=!1;function cn(s,o,u,f){o.child=s===null?Z_(o,null,u,f):Pa(o,s.child,u,f)}function O0(s,o,u,f,m){u=u.render;var v=o.ref;return ka(o,m),f=tm(s,o,u,f,v,m),u=nm(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,li(s,o,m)):(ut&&u&&jp(o),o.flags|=1,cn(s,o,f,m),o.child)}function V0(s,o,u,f,m){if(s===null){var v=u.type;return typeof v=="function"&&!Dm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,M0(s,o,v,f,m)):(s=id(u.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!(s.lanes&m)){var x=v.memoizedProps;if(u=u.compare,u=u!==null?u:su,u(x,f)&&s.ref===o.ref)return li(s,o,m)}return o.flags|=1,s=rs(v,f),s.ref=o.ref,s.return=o,o.child=s}function M0(s,o,u,f,m){if(s!==null){var v=s.memoizedProps;if(su(v,f)&&s.ref===o.ref)if(yn=!1,o.pendingProps=f=v,(s.lanes&m)!==0)s.flags&131072&&(yn=!0);else return o.lanes=s.lanes,li(s,o,m)}return hm(s,o,u,f,m)}function L0(s,o,u){var f=o.pendingProps,m=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Va,Nn),Nn|=u;else{if(!(u&1073741824))return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,rt(Va,Nn),Nn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,rt(Va,Nn),Nn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,rt(Va,Nn),Nn|=f;return cn(s,o,m,u),o.child}function j0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function hm(s,o,u,f,m){var v=gn(u)?no:Yt.current;return v=ba(o,v),ka(o,m),u=tm(s,o,u,f,v,m),f=nm(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,li(s,o,m)):(ut&&f&&jp(o),o.flags|=1,cn(s,o,u,m),o.child)}function F0(s,o,u,f,m){if(gn(u)){var v=!0;Ph(o)}else v=!1;if(ka(o,m),o.stateNode===null)Gh(s,o),A0(o,u,f),lm(o,u,f,m),f=!0;else if(s===null){var x=o.stateNode,L=o.memoizedProps;x.props=L;var B=x.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=zn(Q):(Q=gn(u)?no:Yt.current,Q=ba(o,Q));var ie=u.getDerivedStateFromProps,se=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function";se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==f||B!==Q)&&C0(o,x,f,Q),Yi=!1;var re=o.memoizedState;x.state=re,jh(o,f,x,m),B=o.memoizedState,L!==f||re!==B||mn.current||Yi?(typeof ie=="function"&&(am(o,u,ie,f),B=o.memoizedState),(L=Yi||I0(o,u,L,f,re,B,Q))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),x.props=f,x.state=B,x.context=Q,f=L):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,t0(s,o),L=o.memoizedProps,Q=o.type===o.elementType?L:hr(o.type,L),x.props=Q,se=o.pendingProps,re=x.context,B=u.contextType,typeof B=="object"&&B!==null?B=zn(B):(B=gn(u)?no:Yt.current,B=ba(o,B));var de=u.getDerivedStateFromProps;(ie=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==se||re!==B)&&C0(o,x,f,B),Yi=!1,re=o.memoizedState,x.state=re,jh(o,f,x,m);var ye=o.memoizedState;L!==se||re!==ye||mn.current||Yi?(typeof de=="function"&&(am(o,u,de,f),ye=o.memoizedState),(Q=Yi||I0(o,u,Q,f,re,ye,B)||!1)?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,ye,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,ye,B)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ye),x.props=f,x.state=ye,x.context=B,f=Q):(typeof x.componentDidUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),f=!1)}return dm(s,o,u,f,v,m)}function dm(s,o,u,f,m,v){j0(s,o);var x=(o.flags&128)!==0;if(!f&&!x)return m&&H_(o,u,!1),li(s,o,v);f=o.stateNode,gP.current=o;var L=x&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&x?(o.child=Pa(o,s.child,null,v),o.child=Pa(o,null,L,v)):cn(s,o,L,v),o.memoizedState=f.state,m&&H_(o,u,!0),o.child}function U0(s){var o=s.stateNode;o.pendingContext?$_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$_(s,o.context,!1),Qp(s,o.containerInfo)}function B0(s,o,u,f,m){return Ca(),$p(m),o.flags|=256,cn(s,o,u,f),o.child}var fm={dehydrated:null,treeContext:null,retryLane:0};function pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function $0(s,o,u){var f=o.pendingProps,m=ht.current,v=!1,x=(o.flags&128)!==0,L;if((L=x)||(L=s!==null&&s.memoizedState===null?!1:(m&2)!==0),L?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),rt(ht,m&1),s===null)return Bp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(x=f.children,s=f.fallback,v?(f=o.mode,v=o.child,x={mode:"hidden",children:x},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=x):v=sd(x,f,0,null),s=fo(s,f,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=pm(u),o.memoizedState=fm,s):mm(o,x));if(m=s.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return yP(s,o,x,f,L,m,u);if(v){v=f.fallback,x=o.mode,m=s.child,L=m.sibling;var B={mode:"hidden",children:f.children};return!(x&1)&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=rs(m,B),f.subtreeFlags=m.subtreeFlags&14680064),L!==null?v=rs(L,v):(v=fo(v,x,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,x=s.child.memoizedState,x=x===null?pm(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=s.childLanes&~u,o.memoizedState=fm,f}return v=s.child,s=v.sibling,f=rs(v,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function mm(s,o){return o=sd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Wh(s,o,u,f){return f!==null&&$p(f),Pa(o,s.child,null,u),s=mm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function yP(s,o,u,f,m,v,x){if(u)return o.flags&256?(o.flags&=-257,f=um(Error(n(422))),Wh(s,o,x,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=sd({mode:"visible",children:f.children},m,0,null),v=fo(v,m,x,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,o.mode&1&&Pa(o,s.child,null,x),o.child.memoizedState=pm(x),o.memoizedState=fm,v);if(!(o.mode&1))return Wh(s,o,x,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(n(419)),f=um(v,f,void 0),Wh(s,o,x,f)}if(L=(x&s.childLanes)!==0,yn||L){if(f=Ft,f!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|x)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,oi(s,m),pr(f,s,m,-1))}return km(),f=um(Error(n(421))),Wh(s,o,x,f)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=RP.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Dn=Wi(m.nextSibling),kn=o,ut=!0,cr=null,s!==null&&(Bn[$n++]=ii,Bn[$n++]=si,Bn[$n++]=ro,ii=s.id,si=s.overflow,ro=o),o=mm(o,f.children),o.flags|=4096,o)}function z0(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Wp(s.return,o,u)}function gm(s,o,u,f,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function H0(s,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(cn(s,o,f.children,u),f=ht.current,f&2)f=f&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&z0(s,u,o);else if(s.tag===19)z0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(rt(ht,f),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Fh(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),gm(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Fh(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}gm(o,!0,u,null,v);break;case"together":gm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Gh(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function li(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),lo|=o.lanes,!(u&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=rs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=rs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function vP(s,o,u){switch(o.tag){case 3:U0(o),Ca();break;case 5:i0(o);break;case 1:gn(o.type)&&Ph(o);break;case 4:Qp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;rt(Vh,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(rt(ht,ht.current&1),o.flags|=128,null):u&o.child.childLanes?$0(s,o,u):(rt(ht,ht.current&1),s=li(s,o,u),s!==null?s.sibling:null);rt(ht,ht.current&1);break;case 19:if(f=(u&o.childLanes)!==0,s.flags&128){if(f)return H0(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(ht,ht.current),f)break;return null;case 22:case 23:return o.lanes=0,L0(s,o,u)}return li(s,o,u)}var q0,ym,W0,G0;q0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ym=function(){},W0=function(s,o,u,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,oo(Ar.current);var v=null;switch(u){case"input":m=Fs(s,m),f=Fs(s,f),v=[];break;case"select":m=le({},m,{value:void 0}),f=le({},f,{value:void 0}),v=[];break;case"textarea":m=Ol(s,m),f=Ol(s,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ih)}Ul(u,f);var x;u=null;for(Q in m)if(!f.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var L=m[Q];for(x in L)L.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in f){var B=f[Q];if(L=m!=null?m[Q]:void 0,f.hasOwnProperty(Q)&&B!==L&&(B!=null||L!=null))if(Q==="style")if(L){for(x in L)!L.hasOwnProperty(x)||B&&B.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in B)B.hasOwnProperty(x)&&L[x]!==B[x]&&(u||(u={}),u[x]=B[x])}else u||(v||(v=[]),v.push(Q,u)),u=B;else Q==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,L=L?L.__html:void 0,B!=null&&L!==B&&(v=v||[]).push(Q,B)):Q==="children"?typeof B!="string"&&typeof B!="number"||(v=v||[]).push(Q,""+B):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(B!=null&&Q==="onScroll"&&st("scroll",s),v||L===B||(v=[])):(v=v||[]).push(Q,B))}u&&(v=v||[]).push("style",u);var Q=v;(o.updateQueue=Q)&&(o.flags|=4)}},G0=function(s,o,u,f){u!==f&&(o.flags|=4)};function wu(s,o){if(!ut)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function _P(s,o,u){var f=o.pendingProps;switch(Fp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return gn(o.type)&&Ch(),Jt(o),null;case 3:return f=o.stateNode,Da(),ot(mn),ot(Yt),Jp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Nh(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,cr!==null&&(Cm(cr),cr=null))),ym(s,o),Jt(o),null;case 5:Yp(o);var m=oo(mu.current);if(u=o.type,s!==null&&o.stateNode!=null)W0(s,o,u,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(s=oo(Ar.current),Nh(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Ir]=o,f[cu]=v,s=(o.mode&1)!==0,u){case"dialog":st("cancel",f),st("close",f);break;case"iframe":case"object":case"embed":st("load",f);break;case"video":case"audio":for(m=0;m<au.length;m++)st(au[m],f);break;case"source":st("error",f);break;case"img":case"image":case"link":st("error",f),st("load",f);break;case"details":st("toggle",f);break;case"input":Go(f,v),st("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},st("invalid",f);break;case"textarea":Qo(f,v),st("invalid",f)}Ul(u,v),m=null;for(var x in v)if(v.hasOwnProperty(x)){var L=v[x];x==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&bh(f.textContent,L,s),m=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&bh(f.textContent,L,s),m=["children",""+L]):i.hasOwnProperty(x)&&L!=null&&x==="onScroll"&&st("scroll",f)}switch(u){case"input":Wr(f),Xc(f,v,!0);break;case"textarea":Wr(f),Vl(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Ih)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=At(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=x.createElement(u,{is:f.is}):(s=x.createElement(u),u==="select"&&(x=s,f.multiple?x.multiple=!0:f.size&&(x.size=f.size))):s=x.createElementNS(s,u),s[Ir]=o,s[cu]=f,q0(s,o,!1,!1),o.stateNode=s;e:{switch(x=Bl(u,f),u){case"dialog":st("cancel",s),st("close",s),m=f;break;case"iframe":case"object":case"embed":st("load",s),m=f;break;case"video":case"audio":for(m=0;m<au.length;m++)st(au[m],s);m=f;break;case"source":st("error",s),m=f;break;case"img":case"image":case"link":st("error",s),st("load",s),m=f;break;case"details":st("toggle",s),m=f;break;case"input":Go(s,f),m=Fs(s,f),st("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=le({},f,{value:void 0}),st("invalid",s);break;case"textarea":Qo(s,f),m=Ol(s,f),st("invalid",s);break;default:m=f}Ul(u,m),L=m;for(v in L)if(L.hasOwnProperty(v)){var B=L[v];v==="style"?jl(s,B):v==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ml(s,B)):v==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&Vi(s,B):typeof B=="number"&&Vi(s,""+B):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?B!=null&&v==="onScroll"&&st("scroll",s):B!=null&&U(s,v,B,x))}switch(u){case"input":Wr(s),Xc(s,f,!1);break;case"textarea":Wr(s),Vl(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ke(f.value));break;case"select":s.multiple=!!f.multiple,v=f.value,v!=null?Kr(s,!!f.multiple,v,!1):f.defaultValue!=null&&Kr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ih)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)G0(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=oo(mu.current),oo(Ar.current),Nh(o)){if(f=o.stateNode,u=o.memoizedProps,f[Ir]=o,(v=f.nodeValue!==u)&&(s=kn,s!==null))switch(s.tag){case 3:bh(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bh(f.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Ir]=o,o.stateNode=f}return Jt(o),null;case 13:if(ot(ht),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&Dn!==null&&o.mode&1&&!(o.flags&128))Y_(),Ca(),o.flags|=98560,v=!1;else if(v=Nh(o),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ir]=o}else Ca(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Jt(o),v=!1}else cr!==null&&(Cm(cr),cr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(s===null||ht.current&1?kt===0&&(kt=3):km())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return Da(),ym(s,o),s===null&&lu(o.stateNode.containerInfo),Jt(o),null;case 10:return qp(o.type._context),Jt(o),null;case 17:return gn(o.type)&&Ch(),Jt(o),null;case 19:if(ot(ht),v=o.memoizedState,v===null)return Jt(o),null;if(f=(o.flags&128)!==0,x=v.rendering,x===null)if(f)wu(v,!1);else{if(kt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(x=Fh(s),x!==null){for(o.flags|=128,wu(v,!1),f=x.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,s=f,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,s=x.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return rt(ht,ht.current&1|2),o.child}s=s.sibling}v.tail!==null&&nt()>Ma&&(o.flags|=128,f=!0,wu(v,!1),o.lanes=4194304)}else{if(!f)if(s=Fh(x),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),wu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!ut)return Jt(o),null}else 2*nt()-v.renderingStartTime>Ma&&u!==1073741824&&(o.flags|=128,f=!0,wu(v,!1),o.lanes=4194304);v.isBackwards?(x.sibling=o.child,o.child=x):(u=v.last,u!==null?u.sibling=x:o.child=x,v.last=x)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=nt(),o.sibling=null,u=ht.current,rt(ht,f?u&1|2:u&1),o):(Jt(o),null);case 22:case 23:return Rm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Nn&1073741824&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function wP(s,o){switch(Fp(o),o.tag){case 1:return gn(o.type)&&Ch(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Da(),ot(mn),ot(Yt),Jp(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Yp(o),null;case 13:if(ot(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ca()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ot(ht),null;case 4:return Da(),null;case 10:return qp(o.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var Kh=!1,Zt=!1,EP=typeof WeakSet=="function"?WeakSet:Set,me=null;function Oa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){mt(s,o,f)}else u.current=null}function vm(s,o,u){try{u()}catch(f){mt(s,o,f)}}var K0=!1;function TP(s,o){if(Rp=zi,s=I_(),Tp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var x=0,L=-1,B=-1,Q=0,ie=0,se=s,re=null;t:for(;;){for(var de;se!==u||m!==0&&se.nodeType!==3||(L=x+m),se!==v||f!==0&&se.nodeType!==3||(B=x+f),se.nodeType===3&&(x+=se.nodeValue.length),(de=se.firstChild)!==null;)re=se,se=de;for(;;){if(se===s)break t;if(re===u&&++Q===m&&(L=x),re===v&&++ie===f&&(B=x),(de=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=de}u=L===-1||B===-1?null:{start:L,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(kp={focusedElem:s,selectionRange:u},zi=!1,me=o;me!==null;)if(o=me,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,me=s;else for(;me!==null;){o=me;try{var ye=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,Et=ye.memoizedState,W=o.stateNode,$=W.getSnapshotBeforeUpdate(o.elementType===o.type?ve:hr(o.type,ve),Et);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){mt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,me=s;break}me=o.return}return ye=K0,K0=!1,ye}function Eu(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&vm(o,u,v)}m=m.next}while(m!==f)}}function Qh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function _m(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Q0(s){var o=s.alternate;o!==null&&(s.alternate=null,Q0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[cu],delete o[Vp],delete o[iP],delete o[sP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Y0(s){return s.tag===5||s.tag===3||s.tag===4}function X0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Y0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wm(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ih));else if(f!==4&&(s=s.child,s!==null))for(wm(s,o,u),s=s.sibling;s!==null;)wm(s,o,u),s=s.sibling}function Em(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Em(s,o,u),s=s.sibling;s!==null;)Em(s,o,u),s=s.sibling}var Ht=null,dr=!1;function Ji(s,o,u){for(u=u.child;u!==null;)J0(s,o,u),u=u.sibling}function J0(s,o,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ks,u)}catch{}switch(u.tag){case 5:Zt||Oa(u,o);case 6:var f=Ht,m=dr;Ht=null,Ji(s,o,u),Ht=f,dr=m,Ht!==null&&(dr?(s=Ht,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Ht.removeChild(u.stateNode));break;case 18:Ht!==null&&(dr?(s=Ht,u=u.stateNode,s.nodeType===8?Op(s.parentNode,u):s.nodeType===1&&Op(s,u),ar(s)):Op(Ht,u.stateNode));break;case 4:f=Ht,m=dr,Ht=u.stateNode.containerInfo,dr=!0,Ji(s,o,u),Ht=f,dr=m;break;case 0:case 11:case 14:case 15:if(!Zt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,x=v.destroy;v=v.tag,x!==void 0&&(v&2||v&4)&&vm(u,o,x),m=m.next}while(m!==f)}Ji(s,o,u);break;case 1:if(!Zt&&(Oa(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(L){mt(u,o,L)}Ji(s,o,u);break;case 21:Ji(s,o,u);break;case 22:u.mode&1?(Zt=(f=Zt)||u.memoizedState!==null,Ji(s,o,u),Zt=f):Ji(s,o,u);break;default:Ji(s,o,u)}}function Z0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new EP),o.forEach(function(f){var m=kP.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function fr(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=s,x=o,L=x;e:for(;L!==null;){switch(L.tag){case 5:Ht=L.stateNode,dr=!1;break e;case 3:Ht=L.stateNode.containerInfo,dr=!0;break e;case 4:Ht=L.stateNode.containerInfo,dr=!0;break e}L=L.return}if(Ht===null)throw Error(n(160));J0(v,x,m),Ht=null,dr=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(Q){mt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ew(o,s),o=o.sibling}function ew(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(fr(o,s),Pr(s),f&4){try{Eu(3,s,s.return),Qh(3,s)}catch(ve){mt(s,s.return,ve)}try{Eu(5,s,s.return)}catch(ve){mt(s,s.return,ve)}}break;case 1:fr(o,s),Pr(s),f&512&&u!==null&&Oa(u,u.return);break;case 5:if(fr(o,s),Pr(s),f&512&&u!==null&&Oa(u,u.return),s.flags&32){var m=s.stateNode;try{Vi(m,"")}catch(ve){mt(s,s.return,ve)}}if(f&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,x=u!==null?u.memoizedProps:v,L=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Dl(m,v),Bl(L,x);var Q=Bl(L,v);for(x=0;x<B.length;x+=2){var ie=B[x],se=B[x+1];ie==="style"?jl(m,se):ie==="dangerouslySetInnerHTML"?Ml(m,se):ie==="children"?Vi(m,se):U(m,ie,se,Q)}switch(L){case"input":Nl(m,v);break;case"textarea":Yo(m,v);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?Kr(m,!!v.multiple,de,!1):re!==!!v.multiple&&(v.defaultValue!=null?Kr(m,!!v.multiple,v.defaultValue,!0):Kr(m,!!v.multiple,v.multiple?[]:"",!1))}m[cu]=v}catch(ve){mt(s,s.return,ve)}}break;case 6:if(fr(o,s),Pr(s),f&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(ve){mt(s,s.return,ve)}}break;case 3:if(fr(o,s),Pr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ar(o.containerInfo)}catch(ve){mt(s,s.return,ve)}break;case 4:fr(o,s),Pr(s);break;case 13:fr(o,s),Pr(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Sm=nt())),f&4&&Z0(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(Zt=(Q=Zt)||ie,fr(o,s),Zt=Q):fr(o,s),Pr(s),f&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!ie&&s.mode&1)for(me=s,ie=s.child;ie!==null;){for(se=me=ie;me!==null;){switch(re=me,de=re.child,re.tag){case 0:case 11:case 14:case 15:Eu(4,re,re.return);break;case 1:Oa(re,re.return);var ye=re.stateNode;if(typeof ye.componentWillUnmount=="function"){f=re,u=re.return;try{o=f,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){mt(f,u,ve)}}break;case 5:Oa(re,re.return);break;case 22:if(re.memoizedState!==null){rw(se);continue}}de!==null?(de.return=re,me=de):rw(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{m=se.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=se.stateNode,B=se.memoizedProps.style,x=B!=null&&B.hasOwnProperty("display")?B.display:null,L.style.display=Ll("display",x))}catch(ve){mt(s,s.return,ve)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(ve){mt(s,s.return,ve)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:fr(o,s),Pr(s),f&4&&Z0(s);break;case 21:break;default:fr(o,s),Pr(s)}}function Pr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Y0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Vi(m,""),f.flags&=-33);var v=X0(s);Em(s,v,m);break;case 3:case 4:var x=f.stateNode.containerInfo,L=X0(s);wm(s,L,x);break;default:throw Error(n(161))}}catch(B){mt(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function xP(s,o,u){me=s,tw(s)}function tw(s,o,u){for(var f=(s.mode&1)!==0;me!==null;){var m=me,v=m.child;if(m.tag===22&&f){var x=m.memoizedState!==null||Kh;if(!x){var L=m.alternate,B=L!==null&&L.memoizedState!==null||Zt;L=Kh;var Q=Zt;if(Kh=x,(Zt=B)&&!Q)for(me=m;me!==null;)x=me,B=x.child,x.tag===22&&x.memoizedState!==null?iw(m):B!==null?(B.return=x,me=B):iw(m);for(;v!==null;)me=v,tw(v),v=v.sibling;me=m,Kh=L,Zt=Q}nw(s)}else m.subtreeFlags&8772&&v!==null?(v.return=m,me=v):nw(s)}}function nw(s){for(;me!==null;){var o=me;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Zt||Qh(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Zt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:hr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&r0(o,v,f);break;case 3:var x=o.updateQueue;if(x!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}r0(o,x,u)}break;case 5:var L=o.stateNode;if(u===null&&o.flags&4){u=L;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&ar(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||o.flags&512&&_m(o)}catch(re){mt(o,o.return,re)}}if(o===s){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function rw(s){for(;me!==null;){var o=me;if(o===s){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function iw(s){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Qh(4,o)}catch(B){mt(o,u,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(B){mt(o,m,B)}}var v=o.return;try{_m(o)}catch(B){mt(o,v,B)}break;case 5:var x=o.return;try{_m(o)}catch(B){mt(o,x,B)}}}catch(B){mt(o,o.return,B)}if(o===s){me=null;break}var L=o.sibling;if(L!==null){L.return=o.return,me=L;break}me=o.return}}var SP=Math.ceil,Yh=K.ReactCurrentDispatcher,Tm=K.ReactCurrentOwner,qn=K.ReactCurrentBatchConfig,Qe=0,Ft=null,bt=null,qt=0,Nn=0,Va=Gi(0),kt=0,Tu=null,lo=0,Xh=0,xm=0,xu=null,vn=null,Sm=0,Ma=1/0,ui=null,Jh=!1,bm=null,Zi=null,Zh=!1,es=null,ed=0,Su=0,Im=null,td=-1,nd=0;function hn(){return Qe&6?nt():td!==-1?td:td=nt()}function ts(s){return s.mode&1?Qe&2&&qt!==0?qt&-qt:aP.transition!==null?(nd===0&&(nd=Ys()),nd):(s=Be,s!==0||(s=window.event,s=s===void 0?16:Jl(s.type)),s):1}function pr(s,o,u,f){if(50<Su)throw Su=0,Im=null,Error(n(185));Fi(s,u,f),(!(Qe&2)||s!==Ft)&&(s===Ft&&(!(Qe&2)&&(Xh|=u),kt===4&&ns(s,qt)),_n(s,f),u===1&&Qe===0&&!(o.mode&1)&&(Ma=nt()+500,Rh&&Qi()))}function _n(s,o){var u=s.callbackNode;Xr(s,o);var f=Qs(s,s===Ft?qt:0);if(f===0)u!==null&&Gl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&Gl(u),o===1)s.tag===0?oP(ow.bind(null,s)):q_(ow.bind(null,s)),nP(function(){!(Qe&6)&&Qi()}),u=null;else{switch(Bi(f)){case 1:u=Gs;break;case 4:u=Mi;break;case 16:u=jn;break;case 536870912:u=nh;break;default:u=jn}u=pw(u,sw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function sw(s,o){if(td=-1,nd=0,Qe&6)throw Error(n(327));var u=s.callbackNode;if(La()&&s.callbackNode!==u)return null;var f=Qs(s,s===Ft?qt:0);if(f===0)return null;if(f&30||f&s.expiredLanes||o)o=rd(s,f);else{o=f;var m=Qe;Qe|=2;var v=lw();(Ft!==s||qt!==o)&&(ui=null,Ma=nt()+500,co(s,o));do try{AP();break}catch(L){aw(s,L)}while(!0);Hp(),Yh.current=v,Qe=m,bt!==null?o=0:(Ft=null,qt=0,o=kt)}if(o!==0){if(o===2&&(m=Cn(s),m!==0&&(f=m,o=Am(s,m))),o===1)throw u=Tu,co(s,0),ns(s,f),_n(s,nt()),u;if(o===6)ns(s,f);else{if(m=s.current.alternate,!(f&30)&&!bP(m)&&(o=rd(s,f),o===2&&(v=Cn(s),v!==0&&(f=v,o=Am(s,v))),o===1))throw u=Tu,co(s,0),ns(s,f),_n(s,nt()),u;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ho(s,vn,ui);break;case 3:if(ns(s,f),(f&130023424)===f&&(o=Sm+500-nt(),10<o)){if(Qs(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){hn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Np(ho.bind(null,s,vn,ui),o);break}ho(s,vn,ui);break;case 4:if(ns(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var x=31-ln(f);v=1<<x,x=o[x],x>m&&(m=x),f&=~v}if(f=m,f=nt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*SP(f/1960))-f,10<f){s.timeoutHandle=Np(ho.bind(null,s,vn,ui),f);break}ho(s,vn,ui);break;case 5:ho(s,vn,ui);break;default:throw Error(n(329))}}}return _n(s,nt()),s.callbackNode===u?sw.bind(null,s):null}function Am(s,o){var u=xu;return s.current.memoizedState.isDehydrated&&(co(s,o).flags|=256),s=rd(s,o),s!==2&&(o=vn,vn=u,o!==null&&Cm(o)),s}function Cm(s){vn===null?vn=s:vn.push.apply(vn,s)}function bP(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!ur(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ns(s,o){for(o&=~xm,o&=~Xh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ln(o),f=1<<u;s[u]=-1,o&=~f}}function ow(s){if(Qe&6)throw Error(n(327));La();var o=Qs(s,0);if(!(o&1))return _n(s,nt()),null;var u=rd(s,o);if(s.tag!==0&&u===2){var f=Cn(s);f!==0&&(o=f,u=Am(s,f))}if(u===1)throw u=Tu,co(s,0),ns(s,o),_n(s,nt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ho(s,vn,ui),_n(s,nt()),null}function Pm(s,o){var u=Qe;Qe|=1;try{return s(o)}finally{Qe=u,Qe===0&&(Ma=nt()+500,Rh&&Qi())}}function uo(s){es!==null&&es.tag===0&&!(Qe&6)&&La();var o=Qe;Qe|=1;var u=qn.transition,f=Be;try{if(qn.transition=null,Be=1,s)return s()}finally{Be=f,qn.transition=u,Qe=o,!(Qe&6)&&Qi()}}function Rm(){Nn=Va.current,ot(Va)}function co(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,tP(u)),bt!==null)for(u=bt.return;u!==null;){var f=u;switch(Fp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ch();break;case 3:Da(),ot(mn),ot(Yt),Jp();break;case 5:Yp(f);break;case 4:Da();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:qp(f.type._context);break;case 22:case 23:Rm()}u=u.return}if(Ft=s,bt=s=rs(s.current,null),qt=Nn=o,kt=0,Tu=null,xm=Xh=lo=0,vn=xu=null,so!==null){for(o=0;o<so.length;o++)if(u=so[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var x=v.next;v.next=m,f.next=x}u.pending=f}so=null}return s}function aw(s,o){do{var u=bt;try{if(Hp(),Uh.current=Hh,Bh){for(var f=dt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Bh=!1}if(ao=0,jt=Rt=dt=null,gu=!1,yu=0,Tm.current=null,u===null||u.return===null){kt=1,Tu=o,bt=null;break}e:{var v=s,x=u.return,L=u,B=o;if(o=qt,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Q=B,ie=L,se=ie.tag;if(!(ie.mode&1)&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var de=D0(x);if(de!==null){de.flags&=-257,N0(de,x,L,v,o),de.mode&1&&k0(v,Q,o),o=de,B=Q;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(B),o.updateQueue=ve}else ye.add(B);break e}else{if(!(o&1)){k0(v,Q,o),km();break e}B=Error(n(426))}}else if(ut&&L.mode&1){var Et=D0(x);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),N0(Et,x,L,v,o),$p(Na(B,L));break e}}v=B=Na(B,L),kt!==4&&(kt=2),xu===null?xu=[v]:xu.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=P0(v,B,o);n0(v,W);break e;case 1:L=B;var $=v.type,G=v.stateNode;if(!(v.flags&128)&&(typeof $.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Zi===null||!Zi.has(G)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=R0(v,L,o);n0(v,ae);break e}}v=v.return}while(v!==null)}cw(u)}catch(_e){o=_e,bt===u&&u!==null&&(bt=u=u.return);continue}break}while(!0)}function lw(){var s=Yh.current;return Yh.current=Hh,s===null?Hh:s}function km(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||!(lo&268435455)&&!(Xh&268435455)||ns(Ft,qt)}function rd(s,o){var u=Qe;Qe|=2;var f=lw();(Ft!==s||qt!==o)&&(ui=null,co(s,o));do try{IP();break}catch(m){aw(s,m)}while(!0);if(Hp(),Qe=u,Yh.current=f,bt!==null)throw Error(n(261));return Ft=null,qt=0,kt}function IP(){for(;bt!==null;)uw(bt)}function AP(){for(;bt!==null&&!eh();)uw(bt)}function uw(s){var o=fw(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,o===null?cw(s):bt=o,Tm.current=null}function cw(s){var o=s;do{var u=o.alternate;if(s=o.return,o.flags&32768){if(u=wP(u,o),u!==null){u.flags&=32767,bt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,bt=null;return}}else if(u=_P(u,o,Nn),u!==null){bt=u;return}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);kt===0&&(kt=5)}function ho(s,o,u){var f=Be,m=qn.transition;try{qn.transition=null,Be=1,CP(s,o,u,f)}finally{qn.transition=m,Be=f}return null}function CP(s,o,u,f){do La();while(es!==null);if(Qe&6)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(et(s,v),s===Ft&&(bt=Ft=null,qt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Zh||(Zh=!0,pw(jn,function(){return La(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=qn.transition,qn.transition=null;var x=Be;Be=1;var L=Qe;Qe|=4,Tm.current=null,TP(s,u),ew(u,s),KC(kp),zi=!!Rp,kp=Rp=null,s.current=u,xP(u),pp(),Qe=L,Be=x,qn.transition=v}else s.current=u;if(Zh&&(Zh=!1,es=s,ed=m),v=s.pendingLanes,v===0&&(Zi=null),rh(u.stateNode),_n(s,nt()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Jh)throw Jh=!1,s=bm,bm=null,s;return ed&1&&s.tag!==0&&La(),v=s.pendingLanes,v&1?s===Im?Su++:(Su=0,Im=s):Su=0,Qi(),null}function La(){if(es!==null){var s=Bi(ed),o=qn.transition,u=Be;try{if(qn.transition=null,Be=16>s?16:s,es===null)var f=!1;else{if(s=es,es=null,ed=0,Qe&6)throw Error(n(331));var m=Qe;for(Qe|=4,me=s.current;me!==null;){var v=me,x=v.child;if(me.flags&16){var L=v.deletions;if(L!==null){for(var B=0;B<L.length;B++){var Q=L[B];for(me=Q;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:Eu(8,ie,v)}var se=ie.child;if(se!==null)se.return=ie,me=se;else for(;me!==null;){ie=me;var re=ie.sibling,de=ie.return;if(Q0(ie),ie===Q){me=null;break}if(re!==null){re.return=de,me=re;break}me=de}}}var ye=v.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var Et=ve.sibling;ve.sibling=null,ve=Et}while(ve!==null)}}me=v}}if(v.subtreeFlags&2064&&x!==null)x.return=v,me=x;else e:for(;me!==null;){if(v=me,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Eu(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,me=W;break e}me=v.return}}var $=s.current;for(me=$;me!==null;){x=me;var G=x.child;if(x.subtreeFlags&2064&&G!==null)G.return=x,me=G;else e:for(x=$;me!==null;){if(L=me,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:Qh(9,L)}}catch(_e){mt(L,L.return,_e)}if(L===x){me=null;break e}var ae=L.sibling;if(ae!==null){ae.return=L.return,me=ae;break e}me=L.return}}if(Qe=m,Qi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ks,s)}catch{}f=!0}return f}finally{Be=u,qn.transition=o}}return!1}function hw(s,o,u){o=Na(u,o),o=P0(s,o,1),s=Xi(s,o,1),o=hn(),s!==null&&(Fi(s,1,o),_n(s,o))}function mt(s,o,u){if(s.tag===3)hw(s,s,u);else for(;o!==null;){if(o.tag===3){hw(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))){s=Na(u,s),s=R0(o,s,1),o=Xi(o,s,1),s=hn(),o!==null&&(Fi(o,1,s),_n(o,s));break}}o=o.return}}function PP(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=hn(),s.pingedLanes|=s.suspendedLanes&u,Ft===s&&(qt&u)===u&&(kt===4||kt===3&&(qt&130023424)===qt&&500>nt()-Sm?co(s,0):xm|=u),_n(s,o)}function dw(s,o){o===0&&(s.mode&1?(o=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):o=1);var u=hn();s=oi(s,o),s!==null&&(Fi(s,o,u),_n(s,u))}function RP(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),dw(s,u)}function kP(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),dw(s,u)}var fw;fw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||mn.current)yn=!0;else{if(!(s.lanes&u)&&!(o.flags&128))return yn=!1,vP(s,o,u);yn=!!(s.flags&131072)}else yn=!1,ut&&o.flags&1048576&&W_(o,Dh,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Gh(s,o),s=o.pendingProps;var m=ba(o,Yt.current);ka(o,u),m=tm(null,o,f,s,m,u);var v=nm();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,gn(f)?(v=!0,Ph(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Kp(o),m.updater=qh,o.stateNode=m,m._reactInternals=o,lm(o,f,s,u),o=dm(null,o,f,!0,v,u)):(o.tag=0,ut&&v&&jp(o),cn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Gh(s,o),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=NP(f),s=hr(f,s),m){case 0:o=hm(null,o,f,s,u);break e;case 1:o=F0(null,o,f,s,u);break e;case 11:o=O0(null,o,f,s,u);break e;case 14:o=V0(null,o,f,hr(f.type,s),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:hr(f,m),hm(s,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:hr(f,m),F0(s,o,f,m,u);case 3:e:{if(U0(o),s===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,t0(s,o),jh(o,f,null,u);var x=o.memoizedState;if(f=x.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Na(Error(n(423)),o),o=B0(s,o,f,u,m);break e}else if(f!==m){m=Na(Error(n(424)),o),o=B0(s,o,f,u,m);break e}else for(Dn=Wi(o.stateNode.containerInfo.firstChild),kn=o,ut=!0,cr=null,u=Z_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ca(),f===m){o=li(s,o,u);break e}cn(s,o,f,u)}o=o.child}return o;case 5:return i0(o),s===null&&Bp(o),f=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,x=m.children,Dp(f,m)?x=null:v!==null&&Dp(f,v)&&(o.flags|=32),j0(s,o),cn(s,o,x,u),o.child;case 6:return s===null&&Bp(o),null;case 13:return $0(s,o,u);case 4:return Qp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Pa(o,null,f,u):cn(s,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:hr(f,m),O0(s,o,f,m,u);case 7:return cn(s,o,o.pendingProps,u),o.child;case 8:return cn(s,o,o.pendingProps.children,u),o.child;case 12:return cn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,x=m.value,rt(Vh,f._currentValue),f._currentValue=x,v!==null)if(ur(v.value,x)){if(v.children===m.children&&!mn.current){o=li(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){x=v.child;for(var B=L.firstContext;B!==null;){if(B.context===f){if(v.tag===1){B=ai(-1,u&-u),B.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),Q.pending=B}}v.lanes|=u,B=v.alternate,B!==null&&(B.lanes|=u),Wp(v.return,u,o),L.lanes|=u;break}B=B.next}}else if(v.tag===10)x=v.type===o.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(n(341));x.lanes|=u,L=x.alternate,L!==null&&(L.lanes|=u),Wp(x,u,o),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===o){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}cn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,ka(o,u),m=zn(m),f=f(m),o.flags|=1,cn(s,o,f,u),o.child;case 14:return f=o.type,m=hr(f,o.pendingProps),m=hr(f.type,m),V0(s,o,f,m,u);case 15:return M0(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:hr(f,m),Gh(s,o),o.tag=1,gn(f)?(s=!0,Ph(o)):s=!1,ka(o,u),A0(o,f,m),lm(o,f,m,u),dm(null,o,f,!0,s,u);case 19:return H0(s,o,u);case 22:return L0(s,o,u)}throw Error(n(156,o.tag))};function pw(s,o){return ia(s,o)}function DP(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(s,o,u,f){return new DP(s,o,u,f)}function Dm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function NP(s){if(typeof s=="function")return Dm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===Ae)return 14}return 2}function rs(s,o){var u=s.alternate;return u===null?(u=Wn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function id(s,o,u,f,m,v){var x=2;if(f=s,typeof s=="function")Dm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case V:return fo(u.children,m,v,o);case A:x=8,m|=8;break;case O:return s=Wn(12,u,o,m|2),s.elementType=O,s.lanes=v,s;case I:return s=Wn(13,u,o,m),s.elementType=I,s.lanes=v,s;case Y:return s=Wn(19,u,o,m),s.elementType=Y,s.lanes=v,s;case ce:return sd(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:x=10;break e;case C:x=9;break e;case D:x=11;break e;case Ae:x=14;break e;case he:x=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Wn(x,u,o,m),o.elementType=s,o.type=f,o.lanes=v,o}function fo(s,o,u,f){return s=Wn(7,s,f,o),s.lanes=u,s}function sd(s,o,u,f){return s=Wn(22,s,f,o),s.elementType=ce,s.lanes=u,s.stateNode={isHidden:!1},s}function Nm(s,o,u){return s=Wn(6,s,null,o),s.lanes=u,s}function Om(s,o,u){return o=Wn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function OP(s,o,u,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ji(0),this.expirationTimes=ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Vm(s,o,u,f,m,v,x,L,B){return s=new OP(s,o,u,L,B),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Wn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(v),s}function VP(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function mw(s){if(!s)return Ki;s=s._reactInternals;e:{if(nr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(gn(u))return z_(s,u,o)}return o}function gw(s,o,u,f,m,v,x,L,B){return s=Vm(u,f,!0,s,m,v,x,L,B),s.context=mw(null),u=s.current,f=hn(),m=ts(u),v=ai(f,m),v.callback=o??null,Xi(u,v,m),s.current.lanes=m,Fi(s,m,f),_n(s,f),s}function od(s,o,u,f){var m=o.current,v=hn(),x=ts(m);return u=mw(u),o.context===null?o.context=u:o.pendingContext=u,o=ai(v,x),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Xi(m,o,x),s!==null&&(pr(s,m,x,v),Lh(s,m,x)),x}function ad(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function yw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Mm(s,o){yw(s,o),(s=s.alternate)&&yw(s,o)}var vw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lm(s){this._internalRoot=s}ld.prototype.render=Lm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));od(s,o,null,null)},ld.prototype.unmount=Lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;uo(function(){od(null,s,null,null)}),o[ni]=null}};function ld(s){this._internalRoot=s}ld.prototype.unstable_scheduleHydration=function(s){if(s){var o=lh();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Tr.length&&o!==0&&o<Tr[u].priority;u++);Tr.splice(u,0,s),u===0&&hh(s)}};function jm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ud(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _w(){}function MP(s,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var Q=ad(x);v.call(Q)}}var x=gw(o,f,s,0,null,!1,!1,"",_w);return s._reactRootContainer=x,s[ni]=x.current,lu(s.nodeType===8?s.parentNode:s),uo(),x}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var L=f;f=function(){var Q=ad(B);L.call(Q)}}var B=Vm(s,0,!1,null,null,!1,!1,"",_w);return s._reactRootContainer=B,s[ni]=B.current,lu(s.nodeType===8?s.parentNode:s),uo(function(){od(o,B,u,f)}),B}function cd(s,o,u,f,m){var v=u._reactRootContainer;if(v){var x=v;if(typeof m=="function"){var L=m;m=function(){var B=ad(x);L.call(B)}}od(o,x,s,m)}else x=MP(u,o,s,m,f);return ad(x)}oh=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Li(o.pendingLanes);u!==0&&(Ui(o,u|1),_n(o,nt()),!(Qe&6)&&(Ma=nt()+500,Qi()))}break;case 13:uo(function(){var f=oi(s,1);if(f!==null){var m=hn();pr(f,s,1,m)}}),Mm(s,1)}},aa=function(s){if(s.tag===13){var o=oi(s,134217728);if(o!==null){var u=hn();pr(o,s,134217728,u)}Mm(s,134217728)}},ah=function(s){if(s.tag===13){var o=ts(s),u=oi(s,o);if(u!==null){var f=hn();pr(u,s,o,f)}Mm(s,o)}},lh=function(){return Be},uh=function(s,o){var u=Be;try{return Be=s,o()}finally{Be=u}},Jo=function(s,o,u){switch(o){case"input":if(Nl(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var m=Ah(f);if(!m)throw Error(n(90));Wo(f),Nl(f,m)}}}break;case"textarea":Yo(s,u);break;case"select":o=u.value,o!=null&&Kr(s,!!u.multiple,o,!1)}},zs=Pm,zl=uo;var LP={usingClientEntryPoint:!1,Events:[hu,xa,Ah,wr,$l,Pm]},bu={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jP={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Wl(s),s===null?null:s.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Ks=hd.inject(jP),An=hd}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LP,wn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(o))throw Error(n(200));return VP(s,o,null,u)},wn.createRoot=function(s,o){if(!jm(s))throw Error(n(299));var u=!1,f="",m=vw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Vm(s,1,!1,null,null,u,!1,f,m),s[ni]=o.current,lu(s.nodeType===8?s.parentNode:s),new Lm(o)},wn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Wl(o),s=s===null?null:s.stateNode,s},wn.flushSync=function(s){return uo(s)},wn.hydrate=function(s,o,u){if(!ud(o))throw Error(n(200));return cd(null,s,o,!0,u)},wn.hydrateRoot=function(s,o,u){if(!jm(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",x=vw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),o=gw(o,null,s,1,u??null,m,!1,v,x),s[ni]=o.current,lu(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new ld(o)},wn.render=function(s,o,u){if(!ud(o))throw Error(n(200));return cd(null,s,o,!1,u)},wn.unmountComponentAtNode=function(s){if(!ud(s))throw Error(n(40));return s._reactRootContainer?(uo(function(){cd(null,null,s,!1,function(){s._reactRootContainer=null,s[ni]=null})}),!0):!1},wn.unstable_batchedUpdates=Pm,wn.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!ud(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return cd(s,o,u,!1,f)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var Pw;function Jx(){if(Pw)return Bm.exports;Pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bm.exports=GP(),Bm.exports}var Rw;function KP(){if(Rw)return dd;Rw=1;var t=Jx();return dd.createRoot=t.createRoot,dd.hydrateRoot=t.hydrateRoot,dd}var QP=KP(),Au={},kw;function YP(){if(kw)return Au;kw=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.parse=l,Au.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const S=new a,b=w.length;if(b<2)return S;const R=(T==null?void 0:T.decode)||g;let N=0;do{const M=w.indexOf("=",N);if(M===-1)break;const U=w.indexOf(";",N),K=U===-1?b:U;if(M>K){N=w.lastIndexOf(";",M-1)+1;continue}const J=c(w,N,M),Z=h(w,M,J),V=w.slice(J,Z);if(S[V]===void 0){let A=c(w,M+1,K),O=h(w,K,A);const F=R(w.slice(A,O));S[V]=F}N=K+1}while(N<b);return S}function c(w,T,S){do{const b=w.charCodeAt(T);if(b!==32&&b!==9)return T}while(++T<S);return S}function h(w,T,S){for(;T>S;){const b=w.charCodeAt(--T);if(b!==32&&b!==9)return T+1}return S}function p(w,T,S){const b=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=b(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let N=w+"="+R;if(!S)return N;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);N+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);N+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);N+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);N+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(N+="; HttpOnly"),S.secure&&(N+="; Secure"),S.partitioned&&(N+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return N}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return i.call(w)==="[object Date]"}return Au}YP();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dw="popstate";function XP(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Tg("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xu(i)}return ZP(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JP(){return Math.random().toString(36).substring(2,10)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ic(e):e,state:n,key:e&&e.key||r||JP()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let R=g(),N=R==null?null:R-p;p=R,h&&h({action:c,location:b.location,delta:N})}function w(R,N){c="PUSH";let M=Tg(b.location,R,N);p=g()+1;let U=Nw(M,p),K=b.createHref(M);try{l.pushState(U,"",K)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(K)}a&&h&&h({action:c,location:b.location,delta:1})}function T(R,N){c="REPLACE";let M=Tg(b.location,R,N);p=g();let U=Nw(M,p),K=b.createHref(M);l.replaceState(U,"",K),a&&h&&h({action:c,location:b.location,delta:0})}function S(R){let N=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof R=="string"?R:Xu(R);return M=M.replace(/ $/,"%20"),Nt(N,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,N)}let b={get action(){return c},get location(){return t(i,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Dw,_),h=R,()=>{i.removeEventListener(Dw,_),h=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let N=S(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:T,go(R){return l.go(R)}};return b}function Zx(t,e,n="/"){return eR(t,e,n,!1)}function eR(t,e,n,r){let i=typeof e=="string"?Ic(e):e,a=Cs(i.pathname||"/",n);if(a==null)return null;let l=e1(t);tR(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=dR(a);c=cR(l[h],p,r)}return c}function e1(t,e=[],n=[],r=""){let i=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Nt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=_i([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),e1(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:lR(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of t1(a.path))i(a,l,h)}),e}function t1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=t1(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function tR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nR=/^:[\w-]+$/,rR=3,iR=2,sR=1,oR=10,aR=-2,Ow=t=>t==="*";function lR(t,e){let n=t.split("/"),r=n.length;return n.some(Ow)&&(r+=aR),e&&(r+=iR),n.filter(i=>!Ow(i)).reduce((i,a)=>i+(nR.test(a)?rR:a===""?sR:oR),r)}function uR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cR(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:_i([a,_.pathname]),pathnameBase:gR(_i([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=_i([a,_.pathnameBase]))}return l}function $d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let S=c[w]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const T=c[w];return _&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function hR(t,e=!1,n=!0){jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ic(t):t;return{pathname:n?n.startsWith("/")?n:pR(n,e):e,search:yR(r),hash:vR(i)}}function pR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n1(t){let e=mR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function r1(t,e,n,r=!1){let i;typeof t=="string"?i=Ic(t):(i={...t},Nt(!i.pathname||!i.pathname.includes("?"),Hm("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),Hm("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),Hm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}c=_>=0?e[_]:"/"}let h=fR(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var _i=t=>t.join("/").replace(/\/\/+/g,"/"),gR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _R(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var i1=["POST","PUT","PATCH","DELETE"];new Set(i1);var wR=["GET",...i1];new Set(wR);var El=j.createContext(null);El.displayName="DataRouter";var Pf=j.createContext(null);Pf.displayName="DataRouterState";var s1=j.createContext({isTransitioning:!1});s1.displayName="ViewTransition";var ER=j.createContext(new Map);ER.displayName="Fetchers";var TR=j.createContext(null);TR.displayName="Await";var $r=j.createContext(null);$r.displayName="Navigation";var Rf=j.createContext(null);Rf.displayName="Location";var zr=j.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Ty=j.createContext(null);Ty.displayName="RouteError";function xR(t,{relative:e}={}){Nt(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext($r),{hash:i,pathname:a,search:l}=Cc(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:_i([n,a])),r.createHref({pathname:c,search:l,hash:i})}function Ac(){return j.useContext(Rf)!=null}function Ri(){return Nt(Ac(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Rf).location}var o1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(t){j.useContext($r).static||j.useLayoutEffect(t)}function l1(){let{isDataRoute:t}=j.useContext(zr);return t?MR():SR()}function SR(){Nt(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(El),{basename:e,navigator:n}=j.useContext($r),{matches:r}=j.useContext(zr),{pathname:i}=Ri(),a=JSON.stringify(n1(r)),l=j.useRef(!1);return a1(()=>{l.current=!0}),j.useCallback((h,p={})=>{if(jr(l.current,o1),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=r1(h,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_i([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}j.createContext(null);function u1(){let{matches:t}=j.useContext(zr),e=t[t.length-1];return e?e.params:{}}function Cc(t,{relative:e}={}){let{matches:n}=j.useContext(zr),{pathname:r}=Ri(),i=JSON.stringify(n1(n));return j.useMemo(()=>r1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function bR(t,e){return c1(t)}function c1(t,e,n,r){Nt(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext($r),{matches:a}=j.useContext(zr),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let N=g&&g.path||"";h1(h,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=Ri(),w;w=_;let T=w.pathname||"/",S=T;if(p!=="/"){let N=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=Zx(t,{pathname:S});return jr(g||b!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),jr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),RR(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:_i([p,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:_i([p,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r)}function IR(){let t=VR(),e=_R(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,l)}var AR=j.createElement(IR,null),CR=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(zr.Provider,{value:this.props.routeContext},j.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PR({routeContext:t,match:e,children:n}){let r=j.useContext(El);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(zr.Provider,{value:t},n)}function RR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Nt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:_}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let _,w=!1,T=null,S=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||AR,l&&(c<0&&g===0?(h1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):c===g&&(w=!0,S=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),R=()=>{let N;return _?N=T:w?N=S:p.route.Component?N=j.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,j.createElement(PR,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(CR,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kR(t){let e=j.useContext(El);return Nt(e,xy(t)),e}function DR(t){let e=j.useContext(Pf);return Nt(e,xy(t)),e}function NR(t){let e=j.useContext(zr);return Nt(e,xy(t)),e}function Sy(t){let e=NR(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function OR(){return Sy("useRouteId")}function VR(){var r;let t=j.useContext(Ty),e=DR("useRouteError"),n=Sy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function MR(){let{router:t}=kR("useNavigate"),e=Sy("useNavigate"),n=j.useRef(!1);return a1(()=>{n.current=!0}),j.useCallback(async(i,a={})=>{jr(n.current,o1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Vw={};function h1(t,e,n){!e&&!Vw[t]&&(Vw[t]=!0,jr(!1,n))}j.memo(LR);function LR({routes:t,future:e,state:n}){return c1(t,void 0,n,e)}function jR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Nt(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Ic(n));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:w="default"}=n,T=j.useMemo(()=>{let S=Cs(h,l);return S==null?null:{location:{pathname:S,search:p,hash:g,state:_,key:w},navigationType:r}},[l,h,p,g,_,w,r]);return jr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:j.createElement($r.Provider,{value:c},j.createElement(Rf.Provider,{children:e,value:T}))}var bd="get",Id="application/x-www-form-urlencoded";function kf(t){return t!=null&&typeof t.tagName=="string"}function FR(t){return kf(t)&&t.tagName.toLowerCase()==="button"}function UR(t){return kf(t)&&t.tagName.toLowerCase()==="form"}function BR(t){return kf(t)&&t.tagName.toLowerCase()==="input"}function $R(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zR(t,e){return t.button===0&&(!e||e==="_self")&&!$R(t)}var fd=null;function HR(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(t){return t!=null&&!qR.has(t)?(jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):t}function WR(t,e){let n,r,i,a,l;if(UR(t)){let c=t.getAttribute("action");r=c?Cs(c,e):null,n=t.getAttribute("method")||bd,i=qm(t.getAttribute("enctype"))||Id,a=new FormData(t)}else if(FR(t)||BR(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?Cs(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||bd,i=qm(t.getAttribute("formenctype"))||qm(c.getAttribute("enctype"))||Id,a=new FormData(c,t),!HR()){let{name:p,type:g,value:_}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(kf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bd,r=null,i=Id,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function by(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function GR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QR(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await GR(a,n);return l.links?l.links():[]}return[]}));return ZR(r.flat(1).filter(KR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Mw(t,e,n,r,i,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var _;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function YR(t,e){return XR(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function XR(t){return[...new Set(t)]}function JR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ZR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(JR(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ek(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function tk(){let t=j.useContext(El);return by(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nk(){let t=j.useContext(Pf);return by(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Iy=j.createContext(void 0);Iy.displayName="FrameworkContext";function d1(){let t=j.useContext(Iy);return by(t,"You must render this element inside a <HydratedRouter> element"),t}function rk(t,e){let n=j.useContext(Iy),[r,i]=j.useState(!1),[a,l]=j.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=j.useRef(null);j.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=N=>{N.forEach(M=>{l(M.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),j.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let T=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Cu(c,T),onBlur:Cu(h,S),onMouseEnter:Cu(p,T),onMouseLeave:Cu(g,S),onTouchStart:Cu(_,T)}]:[!1,w,{}]}function Cu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ik({page:t,...e}){let{router:n}=tk(),r=j.useMemo(()=>Zx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(ok,{page:t,matches:r,...e}):null}function sk(t){let{manifest:e,routeModules:n}=d1(),[r,i]=j.useState([]);return j.useEffect(()=>{let a=!1;return QR(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function ok({page:t,matches:e,...n}){let r=Ri(),{manifest:i,routeModules:a}=d1(),{loaderData:l,matches:c}=nk(),h=j.useMemo(()=>Mw(t,e,c,i,r,"data"),[t,e,c,i,r]),p=j.useMemo(()=>Mw(t,e,c,i,r,"assets"),[t,e,c,i,r]),g=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,S=!1;if(e.forEach(R=>{var M;let N=i.routes[R.route.id];!N||!N.hasLoader||(!h.some(U=>U.route.id===R.route.id)&&R.route.id in l&&((M=a[R.route.id])!=null&&M.shouldRevalidate)||N.hasClientLoader?S=!0:T.add(R.route.id))}),T.size===0)return[];let b=ek(t);return S&&T.size>0&&b.searchParams.set("_routes",e.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[b.pathname+b.search]},[l,r,i,h,e,t,a]),_=j.useMemo(()=>YR(p,i),[p,i]),w=sk(p);return j.createElement(j.Fragment,null,g.map(T=>j.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>j.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:S})=>j.createElement("link",{key:T,...S})))}function ak(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var f1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f1&&(window.__reactRouterVersion="7.1.3")}catch{}function lk({basename:t,children:e,window:n}){let r=j.useRef();r.current==null&&(r.current=XP({window:n,v5Compat:!0}));let i=r.current,[a,l]=j.useState({action:i.action,location:i.location}),c=j.useCallback(h=>{j.startTransition(()=>l(h))},[l]);return j.useLayoutEffect(()=>i.listen(c),[i,c]),j.createElement(jR,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yr=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:_,...w},T){let{basename:S}=j.useContext($r),b=typeof p=="string"&&p1.test(p),R,N=!1;if(typeof p=="string"&&b&&(R=p,f1))try{let O=new URL(window.location.href),F=p.startsWith("//")?new URL(O.protocol+p):new URL(p),C=Cs(F.pathname,S);F.origin===O.origin&&C!=null?p=C+F.search+F.hash:N=!0}catch{jr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=xR(p,{relative:i}),[U,K,J]=rk(r,w),Z=dk(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:_});function V(O){e&&e(O),O.defaultPrevented||Z(O)}let A=j.createElement("a",{...w,...J,href:R||M,onClick:N||a?e:V,ref:ak(T,K),target:h,"data-discover":!b&&n==="render"?"true":void 0});return U&&!b?j.createElement(j.Fragment,null,A,j.createElement(ik,{page:M})):A});yr.displayName="Link";var uk=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...p},g){let _=Cc(l,{relative:p.relative}),w=Ri(),T=j.useContext(Pf),{navigator:S,basename:b}=j.useContext($r),R=T!=null&&yk(_)&&c===!0,N=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,M=w.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(M=M.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&b&&(U=Cs(U,b)||U);const K=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let J=M===N||!i&&M.startsWith(N)&&M.charAt(K)==="/",Z=U!=null&&(U===N||!i&&U.startsWith(N)&&U.charAt(N.length)==="/"),V={isActive:J,isPending:Z,isTransitioning:R},A=J?e:void 0,O;typeof r=="function"?O=r(V):O=[r,J?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(V):a;return j.createElement(yr,{...p,"aria-current":A,className:O,ref:g,style:F,to:l,viewTransition:c},typeof h=="function"?h(V):h)});uk.displayName="NavLink";var ck=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=bd,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...w},T)=>{let S=mk(),b=gk(c,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&p1.test(c),M=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let K=U.nativeEvent.submitter,J=(K==null?void 0:K.getAttribute("formmethod"))||l;S(K||U.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return j.createElement("form",{ref:T,method:R,action:b,onSubmit:r?h:M,...w,"data-discover":!N&&t==="render"?"true":void 0})});ck.displayName="Form";function hk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(t){let e=j.useContext(El);return Nt(e,hk(t)),e}function dk(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=l1(),h=Ri(),p=Cc(t,{relative:a});return j.useCallback(g=>{if(zR(g,e)){g.preventDefault();let _=n!==void 0?n:Xu(h)===Xu(p);c(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,p,n,r,e,t,i,a,l])}var fk=0,pk=()=>`__${String(++fk)}__`;function mk(){let{router:t}=m1("useSubmit"),{basename:e}=j.useContext($r),n=OR();return j.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=WR(r,e);if(i.navigate===!1){let g=i.fetcherKey||pk();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function gk(t,{relative:e}={}){let{basename:n}=j.useContext($r),r=j.useContext(zr);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Cc(t||".",{relative:e})},l=Ri();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_i([n,a.pathname])),Xu(a)}function yk(t,e={}){let n=j.useContext(s1);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=m1("useViewTransitionState"),i=Cc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $d(i.pathname,l)!=null||$d(i.pathname,a)!=null}new TextEncoder;var vk=Jx();const ku=bc(vk),_k="modulepreload",wk=function(t){return"/"+t},Lw={},g1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(h=>{if(h=wk(h),h in Lw)return;Lw[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":_k,p||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((w,T)=>{_.addEventListener("load",w),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},y1=!(typeof navigator>"u")&&navigator.product==="ReactNative",v1={timeout:y1?6e4:12e4},Ek=function(t){const e={...v1,...typeof t=="string"?{url:t}:t};if(e.timeout=_1(e.timeout),e.query){const{url:n,searchParams:r}=function(i){const a=i.indexOf("?");if(a===-1)return{url:i,searchParams:new URLSearchParams};const l=i.slice(0,a),c=i.slice(a+1);if(!y1)return{url:l,searchParams:new URLSearchParams(c)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const h=new URLSearchParams;for(const p of c.split("&")){const[g,_]=p.split("=");g&&h.append(jw(g),jw(_||""))}return{url:l,searchParams:h}}(e.url);for(const[i,a]of Object.entries(e.query)){if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(i,c);else r.append(i,a);const l=r.toString();l&&(e.url=`${n}?${l}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function jw(t){return decodeURIComponent(t.replace(/\+/g," "))}function _1(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?_1(v1.timeout):{connect:e,socket:e}}const Tk=/^https?:\/\//i,xk=function(t){if(!Tk.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function w1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Sk=["request","response","progress","error","abort"],Fw=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function E1(t,e){const n=[],r=Fw.reduce((a,l)=>(a[l]=a[l]||[],a),{processOptions:[Ek],validateOptions:[xk]});function i(a){const l=Sk.reduce((T,S)=>(T[S]=function(){const b=Object.create(null);let R=0;return{publish:function(N){for(const M in b)b[M](N)},subscribe:function(N){const M=R++;return b[M]=N,function(){delete b[M]}}}}(),T),{}),c=(T=>function(S,b,...R){const N=S==="onError";let M=b;for(let U=0;U<T[S].length&&(M=(0,T[S][U])(M,...R),!N||M);U++);return M})(r),h=c("processOptions",a);c("validateOptions",h);const p={options:h,channels:l,applyMiddleware:c};let g;const _=l.request.subscribe(T=>{g=e(T,(S,b)=>((R,N,M)=>{let U=R,K=N;if(!U)try{K=c("onResponse",N,M)}catch(J){K=null,U=J}U=U&&c("onError",U,M),U?l.error.publish(U):K&&l.response.publish(K)})(S,b,T))});l.abort.subscribe(()=>{_(),g&&g.abort()});const w=c("onReturn",l,p);return w===l&&l.request.publish(p),w}return i.use=function(a){if(!a)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof a=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(a.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Fw.forEach(l=>{a[l]&&r[l].push(a[l])}),n.push(a),i},i.clone=()=>E1(n,e),t.forEach(i.use),i}var Uw,Bw,bk=w1(function(){if(Bw)return Uw;Bw=1;var t=function(e){return e.replace(/^\s+|\s+$/g,"")};return Uw=function(e){if(!e)return{};for(var n={},r=t(e).split(`
`),i=0;i<r.length;i++){var a=r[i],l=a.indexOf(":"),c=t(a.slice(0,l)).toLowerCase(),h=t(a.slice(l+1));typeof n[c]>"u"?n[c]=h:(p=n[c],Object.prototype.toString.call(p)==="[object Array]"?n[c].push(h):n[c]=[n[c],h])}var p;return n}}()),dc,fc,tl,pc,ci,mc,gc,Xx;let xg=(Xx=class{constructor(){Te(this,"onabort");Te(this,"onerror");Te(this,"onreadystatechange");Te(this,"ontimeout");Te(this,"readyState",0);Te(this,"response");Te(this,"responseText","");Te(this,"responseType","");Te(this,"status");Te(this,"statusText");Te(this,"withCredentials");Me(this,dc);Me(this,fc);Me(this,tl);Me(this,pc,{});Me(this,ci);Me(this,mc,{});Me(this,gc)}open(e,n,r){var i;Ve(this,dc,e),Ve(this,fc,n),Ve(this,tl,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),Ve(this,ci,void 0)}abort(){H(this,ci)&&H(this,ci).abort()}getAllResponseHeaders(){return H(this,tl)}setRequestHeader(e,n){H(this,pc)[e]=n}setInit(e,n=!0){Ve(this,mc,e),Ve(this,gc,n)}send(e){const n=this.responseType!=="arraybuffer",r={...H(this,mc),method:H(this,dc),headers:H(this,pc),body:e};typeof AbortController=="function"&&H(this,gc)&&(Ve(this,ci,new AbortController),typeof EventTarget<"u"&&H(this,ci).signal instanceof EventTarget&&(r.signal=H(this,ci).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(H(this,fc),r).then(i=>{var a;return i.headers.forEach((l,c)=>{Ve(this,tl,H(this,tl)+`${c}: ${l}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(a=this.onreadystatechange)==null||a.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var a;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(a=this.onreadystatechange)==null||a.call(this)}).catch(i=>{var a,l;i.name!=="AbortError"?(a=this.onerror)==null||a.call(this,i):(l=this.onabort)==null||l.call(this)})}},dc=new WeakMap,fc=new WeakMap,tl=new WeakMap,pc=new WeakMap,ci=new WeakMap,mc=new WeakMap,gc=new WeakMap,Xx);const Sg=typeof XMLHttpRequest=="function"?"xhr":"fetch",Ik=Sg==="xhr"?XMLHttpRequest:xg,Ak=(t,e)=>{const n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},a=t.applyMiddleware("interceptRequest",void 0,{adapter:Sg,context:t});if(a){const b=setTimeout(e,0,null,a);return{abort:()=>clearTimeout(b)}}let l=new Ik;l instanceof xg&&typeof r.fetch=="object"&&l.setInit(r.fetch,r.useAbortSignal??!0);const c=r.headers,h=r.timeout;let p=!1,g=!1,_=!1;if(l.onerror=b=>{S(l instanceof xg?b instanceof Error?b:new Error(`Request error while attempting to reach is ${r.url}`,{cause:b}):new Error(`Request error while attempting to reach is ${r.url}${b.lengthComputable?`(${b.loaded} of ${b.total} bytes transferred)`:""}`))},l.ontimeout=b=>{S(new Error(`Request timeout while attempting to reach ${r.url}${b.lengthComputable?`(${b.loaded} of ${b.total} bytes transferred)`:""}`))},l.onabort=()=>{T(!0),p=!0},l.onreadystatechange=function(){h&&(T(),i.socket=setTimeout(()=>w("ESOCKETTIMEDOUT"),h.socket)),!p&&l&&l.readyState===4&&l.status!==0&&function(){if(!(p||g||_)){if(l.status===0)return void S(new Error("Unknown XHR error"));T(),g=!0,e(null,{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:r.url,method:r.method,headers:bk(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText})}}()},l.open(r.method,r.url,!0),l.withCredentials=!!r.withCredentials,c&&l.setRequestHeader)for(const b in c)c.hasOwnProperty(b)&&l.setRequestHeader(b,c[b]);return r.rawBody&&(l.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:Sg,request:l,context:t}),l.send(r.body||null),h&&(i.connect=setTimeout(()=>w("ETIMEDOUT"),h.connect)),{abort:function(){p=!0,l&&l.abort()}};function w(b){_=!0,l.abort();const R=new Error(b==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);R.code=b,t.channels.error.publish(R)}function T(b){(b||p||l&&l.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function S(b){if(g)return;T(!0),g=!0,l=null;const R=b||new Error(`Network error while attempting to reach ${r.url}`);R.isNetworkError=!0,R.request=r,e(R)}},Ck=(t=[],e=Ak)=>E1(t,e);var Pk={},$w,zw,Hw,qw,Ww,Wm={exports:{}};Ww||(Ww=1,function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let a=0,l=0;r[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(a++,c==="%c"&&(l=a))}),r.splice(l,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=Pk.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(qw?Hw:(qw=1,Hw=function(r){function i(c){let h,p,g,_=null;function w(...T){if(!w.enabled)return;const S=w,b=Number(new Date),R=b-(h||b);S.diff=R,S.prev=h,S.curr=b,h=b,T[0]=i.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let N=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(M,U)=>{if(M==="%%")return"%";N++;const K=i.formatters[U];if(typeof K=="function"){const J=T[N];M=K.call(S,J),T.splice(N,1),N--}return M}),i.formatArgs.call(S,T),(S.log||i.log).apply(S,T)}return w.namespace=c,w.useColors=i.useColors(),w.color=i.selectColor(c),w.extend=a,w.destroy=i.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(p!==i.namespaces&&(p=i.namespaces,g=i.enabled(c)),g),set:T=>{_=T}}),typeof i.init=="function"&&i.init(w),w}function a(c,h){const p=i(this.namespace+(typeof h>"u"?":":h)+c);return p.log=this.log,p}function l(c,h){let p=0,g=0,_=-1,w=0;for(;p<c.length;)if(g<h.length&&(h[g]===c[p]||h[g]==="*"))h[g]==="*"?(_=g,w=p,g++):(p++,g++);else{if(_===-1)return!1;g=_+1,w++,p=w}for(;g<h.length&&h[g]==="*";)g++;return g===h.length}return i.debug=i,i.default=i,i.coerce=function(c){return c instanceof Error?c.stack||c.message:c},i.disable=function(){const c=[...i.names,...i.skips.map(h=>"-"+h)].join(",");return i.enable(""),c},i.enable=function(c){i.save(c),i.namespaces=c,i.names=[],i.skips=[];const h=(typeof c=="string"?c:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of h)p[0]==="-"?i.skips.push(p.slice(1)):i.names.push(p)},i.enabled=function(c){for(const h of i.skips)if(l(c,h))return!1;for(const h of i.names)if(l(c,h))return!0;return!1},i.humanize=function(){if(zw)return $w;zw=1;var c=1e3,h=60*c,p=60*h,g=24*p,_=7*g;function w(T,S,b,R){var N=S>=1.5*b;return Math.round(T/b)+" "+R+(N?"s":"")}return $w=function(T,S){S=S||{};var b,R,N=typeof T;if(N==="string"&&T.length>0)return function(M){if(!((M=String(M)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(M);if(U){var K=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*K;case"weeks":case"week":case"w":return K*_;case"days":case"day":case"d":return K*g;case"hours":case"hour":case"hrs":case"hr":case"h":return K*p;case"minutes":case"minute":case"mins":case"min":case"m":return K*h;case"seconds":case"second":case"secs":case"sec":case"s":return K*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return K;default:return}}}}(T);if(N==="number"&&isFinite(T))return S.long?(b=T,(R=Math.abs(b))>=g?w(b,R,g,"day"):R>=p?w(b,R,p,"hour"):R>=h?w(b,R,h,"minute"):R>=c?w(b,R,c,"second"):b+" ms"):function(M){var U=Math.abs(M);return U>=g?Math.round(M/g)+"d":U>=p?Math.round(M/p)+"h":U>=h?Math.round(M/h)+"m":U>=c?Math.round(M/c)+"s":M+"ms"}(T);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(c=>{i[c]=r[c]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(c){let h=0;for(let p=0;p<c.length;p++)h=(h<<5)-h+c.charCodeAt(p),h|=0;return i.colors[Math.abs(h)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(Wm,Wm.exports)),Wm.exports;const Rk=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function Gw(t){return Object.prototype.toString.call(t)==="[object Object]"}function kk(t){if(Gw(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Gw(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const Dk=["boolean","string","number"];function Nk(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||Rk(e)||Dk.indexOf(typeof e)===-1&&!Array.isArray(e)&&!kk(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Ok(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:e(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Du={};typeof globalThis<"u"?Du=globalThis:typeof window<"u"?Du=window:typeof global<"u"?Du=global:typeof self<"u"&&(Du=self);var Vk=Du;function Mk(t={}){const e=t.implementation||Vk.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(a=>i.error(a)),n.progress.subscribe(a=>i.next(Object.assign({type:"progress"},a))),n.response.subscribe(a=>{i.next(Object.assign({type:"response"},a)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function Lk(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;function r(i){return a=>{const l=a.lengthComputable?a.loaded/a.total*100:-1;n.channels.progress.publish({stage:i,percent:l,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var T1=(t,e,n)=>(n.method==="GET"||n.method==="HEAD")&&(t.isNetworkError||!1);function jk(t){return 100*Math.pow(2,t)+100*Math.random()}const Ay=(t={})=>(e=>{const n=e.maxRetries||5,r=e.retryDelay||jk,i=e.shouldRetry;return{onError:(a,l)=>{const c=l.options,h=c.maxRetries||n,p=c.retryDelay||r,g=c.shouldRetry||i,_=c.attemptNumber||0;if((w=c.body)!==null&&typeof w=="object"&&typeof w.pipe=="function"||!g(a,_,c)||_>=h)return a;var w;const T=Object.assign({},l,{options:Object.assign({},c,{attemptNumber:_+1})});return setTimeout(()=>l.channels.request.publish(T),p(_)),null}}})({shouldRetry:T1,...t});Ay.shouldRetry=T1;var bg=function(t,e){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},bg(t,e)};function ki(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Fk(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,h)}p((r=r.apply(t,e||[])).next())})}function x1(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(g){return h([p,g])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(g){p=[6,g],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function il(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ti(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function xi(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Qa(t){return this instanceof Qa?(this.v=t,this):new Qa(t)}function Uk(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(T){return function(S){return Promise.resolve(S).then(T,_)}}function c(T,S){r[T]&&(i[T]=function(b){return new Promise(function(R,N){a.push([T,b,R,N])>1||h(T,b)})},S&&(i[T]=S(i[T])))}function h(T,S){try{p(r[T](S))}catch(b){w(a[0][3],b)}}function p(T){T.value instanceof Qa?Promise.resolve(T.value.v).then(g,_):w(a[0][2],T)}function g(T){h("next",T)}function _(T){h("throw",T)}function w(T,S){T(S),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Bk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof il=="function"?il(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(l){return new Promise(function(c,h){l=t[a](l),i(c,h,l.done,l.value)})}}function i(a,l,c,h){Promise.resolve(h).then(function(p){a({value:p,done:c})},l)}}function ct(t){return typeof t=="function"}function Cy(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Gm=Cy(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function zd(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pc=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=il(l),h=c.next();!h.done;h=c.next()){var p=h.value;p.remove(this)}}catch(b){e={error:b}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}else l.remove(this);var g=this.initialTeardown;if(ct(g))try{g()}catch(b){a=b instanceof Gm?b.errors:[b]}var _=this._finalizers;if(_){this._finalizers=null;try{for(var w=il(_),T=w.next();!T.done;T=w.next()){var S=T.value;try{Kw(S)}catch(b){a=a??[],b instanceof Gm?a=xi(xi([],Ti(a)),Ti(b.errors)):a.push(b)}}}catch(b){r={error:b}}finally{try{T&&!T.done&&(i=w.return)&&i.call(w)}finally{if(r)throw r.error}}}if(a)throw new Gm(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Kw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&zd(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&zd(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),S1=Pc.EMPTY;function b1(t){return t instanceof Pc||t&&"closed"in t&&ct(t.remove)&&ct(t.add)&&ct(t.unsubscribe)}function Kw(t){ct(t)?t():t.unsubscribe()}var $k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I1={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,xi([t,e],Ti(n)))},clearTimeout:function(t){var e=I1.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function A1(t){I1.setTimeout(function(){throw t})}function Qw(){}function Ad(t){t()}var Py=function(t){ki(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,b1(n)&&n.add(r)):r.destination=qk,r}return e.create=function(n,r,i){return new sl(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Pc),zk=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){pd(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){pd(r)}else pd(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){pd(n)}},t}(),sl=function(t){ki(e,t);function e(n,r,i){var a=t.call(this)||this,l;return ct(n)||!n?l={next:n??void 0,error:r??void 0,complete:i??void 0}:l=n,a.destination=new zk(l),a}return e}(Py);function pd(t){A1(t)}function Hk(t){throw t}var qk={closed:!0,next:Qw,error:Hk,complete:Qw},Ry=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Df(t){return t}function Wk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C1(t)}function C1(t){return t.length===0?Df:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var _t=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,a=Kk(e)?e:new sl(e,n,r);return Ad(function(){var l=i,c=l.operator,h=l.source;a.add(c?c.call(a,h):h?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Yw(n),new n(function(i,a){var l=new sl({next:function(c){try{e(c)}catch(h){a(h),l.unsubscribe()}},error:a,complete:i});r.subscribe(l)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Ry]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return C1(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Yw(e),new e(function(r,i){var a;n.subscribe(function(l){return a=l},function(l){return i(l)},function(){return r(a)})})},t.create=function(e){return new t(e)},t}();function Yw(t){var e;return(e=t??$k.Promise)!==null&&e!==void 0?e:Promise}function Gk(t){return t&&ct(t.next)&&ct(t.error)&&ct(t.complete)}function Kk(t){return t&&t instanceof Py||Gk(t)&&b1(t)}function Qk(t){return ct(t==null?void 0:t.lift)}function Hr(t){return function(e){if(Qk(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ps(t,e,n,r,i){return new Yk(t,e,n,r,i)}var Yk=function(t){ki(e,t);function e(n,r,i,a,l,c){var h=t.call(this,n)||this;return h.onFinalize=l,h.shouldUnsubscribe=c,h._next=r?function(p){try{r(p)}catch(g){n.error(g)}}:t.prototype._next,h._error=a?function(p){try{a(p)}catch(g){n.error(g)}finally{this.unsubscribe()}}:t.prototype._error,h._complete=i?function(){try{i()}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._complete,h}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Py),Xk=Cy(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ky=function(t){ki(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Xw(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Xk},e.prototype.next=function(n){var r=this;Ad(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=il(r.currentObservers),c=l.next();!c.done;c=l.next()){var h=c.value;h.next(n)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Ad(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Ad(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,l=i.isStopped,c=i.observers;return a||l?S1:(this.currentObservers=null,c.push(n),new Pc(function(){r.currentObservers=null,zd(c,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,l=r.isStopped;i?n.error(a):l&&n.complete()},e.prototype.asObservable=function(){var n=new _t;return n.source=this,n},e.create=function(n,r){return new Xw(n,r)},e}(_t),Xw=function(t){ki(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:S1},e}(ky),Dy={now:function(){return(Dy.delegate||Date).now()},delegate:void 0},Jk=function(t){ki(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Dy);var a=t.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return e.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,l=r._infiniteTimeWindow,c=r._timestampProvider,h=r._windowTime;i||(a.push(n),!l&&a.push(c.now()+h)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,l=i._buffer,c=l.slice(),h=0;h<c.length&&!n.closed;h+=a?1:2)n.next(c[h]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,l=n._infiniteTimeWindow,c=(l?1:2)*r;if(r<1/0&&c<a.length&&a.splice(0,a.length-c),!l){for(var h=i.now(),p=0,g=1;g<a.length&&a[g]<=h;g+=2)p=g;p&&a.splice(0,p+1)}},e}(ky),Zk=function(t){ki(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Pc),Jw={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,xi([t,e],Ti(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},e2=function(t){ki(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,l=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(l,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(l,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Jw.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Jw.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(l){i=!0,a=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,zd(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Zk),Zw=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Dy.now,t}(),t2=function(t){ki(e,t);function e(n,r){r===void 0&&(r=Zw.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(Zw),n2=new t2(e2),r2=n2,P1=new _t(function(t){return t.complete()});function i2(t){return t&&ct(t.schedule)}function Ny(t){return t[t.length-1]}function s2(t){return ct(Ny(t))?t.pop():void 0}function Oy(t){return i2(Ny(t))?t.pop():void 0}function o2(t,e){return typeof Ny(t)=="number"?t.pop():e}var R1=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function k1(t){return ct(t==null?void 0:t.then)}function D1(t){return ct(t[Ry])}function N1(t){return Symbol.asyncIterator&&ct(t==null?void 0:t[Symbol.asyncIterator])}function O1(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function a2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var V1=a2();function M1(t){return ct(t==null?void 0:t[V1])}function L1(t){return Uk(this,arguments,function(){var n,r,i,a;return x1(this,function(l){switch(l.label){case 0:n=t.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,Qa(n.read())];case 3:return r=l.sent(),i=r.value,a=r.done,a?[4,Qa(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,Qa(i)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function j1(t){return ct(t==null?void 0:t.getReader)}function qr(t){if(t instanceof _t)return t;if(t!=null){if(D1(t))return l2(t);if(R1(t))return u2(t);if(k1(t))return c2(t);if(N1(t))return F1(t);if(M1(t))return h2(t);if(j1(t))return d2(t)}throw O1(t)}function l2(t){return new _t(function(e){var n=t[Ry]();if(ct(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function u2(t){return new _t(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function c2(t){return new _t(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,A1)})}function h2(t){return new _t(function(e){var n,r;try{for(var i=il(t),a=i.next();!a.done;a=i.next()){var l=a.value;if(e.next(l),e.closed)return}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function F1(t){return new _t(function(e){f2(t,e).catch(function(n){return e.error(n)})})}function d2(t){return F1(L1(t))}function f2(t,e){var n,r,i,a;return Fk(this,void 0,void 0,function(){var l,c;return x1(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),n=Bk(t),h.label=1;case 1:return[4,n.next()];case 2:if(r=h.sent(),!!r.done)return[3,4];if(l=r.value,e.next(l),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=h.sent(),i={error:c},[3,11];case 6:return h.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Po(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!i)return a}function U1(t,e){return e===void 0&&(e=0),Hr(function(n,r){n.subscribe(Ps(r,function(i){return Po(r,t,function(){return r.next(i)},e)},function(){return Po(r,t,function(){return r.complete()},e)},function(i){return Po(r,t,function(){return r.error(i)},e)}))})}function B1(t,e){return e===void 0&&(e=0),Hr(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function p2(t,e){return qr(t).pipe(B1(e),U1(e))}function m2(t,e){return qr(t).pipe(B1(e),U1(e))}function g2(t,e){return new _t(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function y2(t,e){return new _t(function(n){var r;return Po(n,e,function(){r=t[V1](),Po(n,e,function(){var i,a,l;try{i=r.next(),a=i.value,l=i.done}catch(c){n.error(c);return}l?n.complete():n.next(a)},0,!0)}),function(){return ct(r==null?void 0:r.return)&&r.return()}})}function $1(t,e){if(!t)throw new Error("Iterable cannot be null");return new _t(function(n){Po(n,e,function(){var r=t[Symbol.asyncIterator]();Po(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function v2(t,e){return $1(L1(t),e)}function _2(t,e){if(t!=null){if(D1(t))return p2(t,e);if(R1(t))return g2(t,e);if(k1(t))return m2(t,e);if(N1(t))return $1(t,e);if(M1(t))return y2(t,e);if(j1(t))return v2(t,e)}throw O1(t)}function Rc(t,e){return e?_2(t,e):qr(t)}function Nf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oy(t);return Rc(t,n)}function z1(t,e){var n=ct(t)?t:function(){return t},r=function(i){return i.error(n())};return new _t(r)}function w2(t){return!!t&&(t instanceof _t||ct(t.lift)&&ct(t.subscribe))}var H1=Cy(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function qe(t,e){return new Promise(function(n,r){var i=!1,a;t.subscribe({next:function(l){a=l,i=!0},error:r,complete:function(){i?n(a):r(new H1)}})})}function eE(t,e){return new Promise(function(n,r){var i=new sl({next:function(a){n(a),i.unsubscribe()},error:r,complete:function(){r(new H1)}});t.subscribe(i)})}function E2(t){return t instanceof Date&&!isNaN(t)}function on(t,e){return Hr(function(n,r){var i=0;n.subscribe(Ps(r,function(a){r.next(t.call(e,a,i++))}))})}var T2=Array.isArray;function x2(t,e){return T2(e)?t.apply(void 0,xi([],Ti(e))):t(e)}function S2(t){return on(function(e){return x2(t,e)})}function b2(t,e,n){return n===void 0&&(n=Df),function(r){tE(e,function(){for(var i=t.length,a=new Array(i),l=i,c=i,h=function(g){tE(e,function(){var _=Rc(t[g],e),w=!1;_.subscribe(Ps(r,function(T){a[g]=T,w||(w=!0,c--),c||r.next(n(a.slice()))},function(){--l||r.complete()}))},r)},p=0;p<i;p++)h(p)})}}function tE(t,e,n){e()}function I2(t,e,n,r,i,a,l,c){var h=[],p=0,g=0,_=!1,w=function(){_&&!h.length&&!p&&e.complete()},T=function(b){return p<r?S(b):h.push(b)},S=function(b){p++;var R=!1;qr(n(b,g++)).subscribe(Ps(e,function(N){e.next(N)},function(){R=!0},void 0,function(){if(R)try{p--;for(var N=function(){var M=h.shift();l||S(M)};h.length&&p<r;)N();w()}catch(M){e.error(M)}}))};return t.subscribe(Ps(e,T,function(){_=!0,w()})),function(){}}function kc(t,e,n){return n===void 0&&(n=1/0),ct(e)?kc(function(r,i){return on(function(a,l){return e(r,a,i,l)})(qr(t(r,i)))},n):(typeof e=="number"&&(n=e),Hr(function(r,i){return I2(r,i,t,n)}))}function q1(t){return t===void 0&&(t=1/0),kc(Df,t)}function A2(){return q1(1)}function W1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A2()(Rc(t,Oy(t)))}function G1(t){return new _t(function(e){qr(t()).subscribe(e)})}function C2(t,e,n){return n===void 0&&(n=r2),new _t(function(r){var i=E2(t)?1e3-n.now():t;i<0&&(i=0);var a=0;return n.schedule(function(){r.closed||(r.next(a++),r.complete())},i)})}function P2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oy(t),r=o2(t,1/0),i=t;return i.length?i.length===1?qr(i[0]):q1(r)(Rc(i,n)):P1}var R2=Array.isArray;function k2(t){return t.length===1&&R2(t[0])?t[0]:t}function Tl(t,e){return Hr(function(n,r){var i=0;n.subscribe(Ps(r,function(a){return t.call(e,a,i++)&&r.next(a)}))})}function Vy(t){return Hr(function(e,n){var r=null,i=!1,a;r=e.subscribe(Ps(n,void 0,void 0,function(l){a=qr(t(l,Vy(t)(e))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function K1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=s2(t);return n?Wk(K1.apply(void 0,xi([],Ti(t))),S2(n)):Hr(function(r,i){b2(xi([r],Ti(k2(t))))(i)})}function D2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return K1.apply(void 0,xi([],Ti(t)))}function Q1(t){return Hr(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function Y1(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new ky}:e,r=t.resetOnError,i=r===void 0?!0:r,a=t.resetOnComplete,l=a===void 0?!0:a,c=t.resetOnRefCountZero,h=c===void 0?!0:c;return function(p){var g,_,w,T=0,S=!1,b=!1,R=function(){_==null||_.unsubscribe(),_=void 0},N=function(){R(),g=w=void 0,S=b=!1},M=function(){var U=g;N(),U==null||U.unsubscribe()};return Hr(function(U,K){T++,!b&&!S&&R();var J=w=w??n();K.add(function(){T--,T===0&&!b&&!S&&(_=Km(M,h))}),J.subscribe(K),!g&&T>0&&(g=new sl({next:function(Z){return J.next(Z)},error:function(Z){b=!0,R(),_=Km(N,i,Z),J.error(Z)},complete:function(){S=!0,R(),_=Km(N,l),J.complete()}}),qr(U).subscribe(g))})(p)}}function Km(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new sl({next:function(){i.unsubscribe(),t()}});return qr(e.apply(void 0,xi([],Ti(n)))).subscribe(i)}}function N2(t,e,n){var r,i=!1;return r=t,Y1({connector:function(){return new Jk(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function O2(t,e,n){var r=ct(t)||e||n?{next:t,error:e,complete:n}:t;return r?Hr(function(i,a){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var c=!0;i.subscribe(Ps(a,function(h){var p;(p=r.next)===null||p===void 0||p.call(r,h),a.next(h)},function(){var h;c=!1,(h=r.complete)===null||h===void 0||h.call(r),a.complete()},function(h){var p;c=!1,(p=r.error)===null||p===void 0||p.call(r,h),a.error(h)},function(){var h,p;c&&((h=r.unsubscribe)===null||h===void 0||h.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):Df}var X1={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},My={0:8203,1:8204,2:8205,3:65279},V2=new Array(4).fill(String.fromCodePoint(My[0])).join("");function M2(t){let e=JSON.stringify(t);return`${V2}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(My[i])).join("")}).join("")}`}function L2(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function j2(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function T8(t,e,n="auto"){return n===!0||n==="auto"&&(L2(t)||j2(t))?t:`${t}${M2(e)}`}Object.fromEntries(Object.entries(My).map(t=>t.reverse()));Object.fromEntries(Object.entries(X1).map(t=>t.reverse()));var F2=`${Object.values(X1).map(t=>`\\u{${t.toString(16)}}`).join("")}`,nE=new RegExp(`[${F2}]{4,}`,"gu");function U2(t){var e;return{cleaned:t.replace(nE,""),encoded:((e=t.match(nE))==null?void 0:e[0])||""}}function B2(t){return t&&JSON.parse(U2(JSON.stringify(t)).cleaned)}function $2(t){return B2(t)}const z2="drafts",H2="versions",ol=".",Hd=`${z2}${ol}`,J1=`${H2}${ol}`;function Of(t){return t.startsWith(Hd)}function Vf(t){return t.startsWith(J1)}function q2(t){if(Vf(t)){const e=Lf(t);return Hd+e}return Of(t)?t:Hd+t}function Mf(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${J1}${e}${ol}${Lf(t)}`}function Z1(t){if(!Vf(t))return;const[e,n,...r]=t.split(ol);return n}function Lf(t){return Vf(t)?t.split(ol).slice(2).join(ol):Of(t)?t.slice(Hd.length):t}let W2=t=>crypto.getRandomValues(new Uint8Array(t)),G2=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(a=e)=>{let l="";for(;;){let c=n(i),h=i|0;for(;h--;)if(l+=t[c[h]&r]||"",l.length===a)return l}}},K2=(t,e=21)=>G2(t,e,W2);class Q2 extends Error{constructor(n){const r=eS(n);super(r.message);Te(this,"response");Te(this,"statusCode",400);Te(this,"responseBody");Te(this,"details");Object.assign(this,r)}}class Y2 extends Error{constructor(n){const r=eS(n);super(r.message);Te(this,"response");Te(this,"statusCode",500);Te(this,"responseBody");Te(this,"details");Object.assign(this,r)}}function eS(t){const e=t.body,n={response:t,statusCode:t.statusCode,responseBody:eD(e,t),message:"",details:void 0};if(e.error&&e.message)return n.message=`${e.error} - ${e.message}`,n;if(X2(e)||J2(e)){const r=e.error.items||[],i=r.slice(0,5).map(l=>{var c;return(c=l.error)==null?void 0:c.description}).filter(Boolean);let a=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(a+=`
...and ${r.length-5} more`),n.message=`${e.error.description}${a}`,n.details=e.error,n}return e.error&&e.error.description?(n.message=e.error.description,n.details=e.error,n):(n.message=e.error||e.message||Z2(t),n)}function X2(t){return qd(t)&&qd(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function J2(t){return qd(t)&&qd(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function qd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Z2(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function eD(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}class tD extends Error{constructor({projectId:n}){super("CorsOriginError");Te(this,"projectId");Te(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const nD={onResponse:t=>{if(t.statusCode>=500)throw new Y2(t);if(t.statusCode>=400)throw new Q2(t);return t}};function rD(){const t={};return{onResponse:e=>{const n=e.headers["x-sanity-warning"],r=Array.isArray(n)?n:[n];for(const i of r)!i||t[i]||(t[i]=!0,console.warn(i));return e}}}function rE(t){return Ck([Ay({shouldRetry:iD}),...t,rD(),Nk(),Ok(),Lk(),nD,Mk({implementation:_t})])}function iD(t,e,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),a=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||i)&&a?!0:Ay.shouldRetry(t,e,n)}const sD="https://www.sanity.io/help/";function Ly(t){return sD+t}const iE=["image","file"],sE=["before","after","replace"],tS=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},oD=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},aD=t=>{if(iE.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${iE.join(", ")}`)},Uu=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},nS=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},al=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);nS(t,e._id)},lD=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},rS=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);lD(t,e._type)},uD=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},cD=(t,e,n)=>{const r="insert(at, selector, items)";if(sE.indexOf(t)===-1){const i=sE.map(a=>`"${a}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},Dc=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},iS=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},sS=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},kr=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function hD(t){let e=!1,n;return(...r)=>(e||(n=t(...r),e=!0),n)}const jo=t=>hD((...e)=>console.warn(t.join(" "),...e)),dD=jo(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),fD=jo(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),pD=jo(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),mD=jo(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),gD=jo(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Ly("js-client-browser-token")} for more information and how to hide this warning.`]),yD=jo(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),vD=jo(["Using the Sanity client without specifying an API version is deprecated.",`See ${Ly("js-client-api-version")}`]),_D="apicdn.sanity.io",Bu={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},wD=["localhost","127.0.0.1","0.0.0.0"],ED=t=>wD.indexOf(t)!==-1;function TD(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function oS(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const aS=(t,e)=>{const n={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Bu.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};n.apiVersion||vD();const r={...Bu,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const w=Ly("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${w}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&sS(r),typeof r.perspective<"u"&&oS(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const a=typeof window<"u"&&window.location&&window.location.hostname,l=a&&ED(window.location.hostname),c=!!r.token;r.withCredentials&&c&&(yD(),r.withCredentials=!1),a&&l&&c&&r.ignoreBrowserTokenWarning!==!0?gD():typeof r.useCdn>"u"&&fD(),i&&oD(r.projectId),r.dataset&&tS(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?iS(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Bu.apiHost,r.useCdn===!0&&r.withCredentials&&dD(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,TD(r.apiVersion);const h=r.apiHost.split("://",2),p=h[0],g=h[1],_=r.isDefaultApi?_D:g;return i?(r.url=`${p}://${r.projectId}.${g}/v${r.apiVersion}`,r.cdnUrl=`${p}://${r.projectId}.${_}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class lS extends Error{constructor(){super(...arguments);Te(this,"name","ConnectionFailedError")}}class xD extends Error{constructor(n,r,i={}){super(n,i);Te(this,"name","DisconnectError");Te(this,"reason");this.reason=r}}class SD extends Error{constructor(n,r){super(n);Te(this,"name","ChannelError");Te(this,"data");this.data=r}}class bD extends Error{constructor(n,r,i={}){super(n,i);Te(this,"name","MessageError");Te(this,"data");this.data=r}}class oE extends Error{constructor(){super(...arguments);Te(this,"name","MessageParseError")}}const ID=["channelError","disconnect"];function uS(t,e){return G1(()=>{const n=t();return w2(n)?n:Nf(n)}).pipe(kc(n=>AD(n,e)))}function AD(t,e){return new _t(n=>{const r=e.includes("open"),i=e.includes("reconnect");function a(p){if("data"in p){const[g,_]=aE(p);n.error(g?new oE("Unable to parse EventSource error message",{cause:_}):new bD((_==null?void 0:_.data).message,_));return}t.readyState===t.CLOSED?n.error(new lS("EventSource connection failed")):i&&n.next({type:"reconnect"})}function l(){n.next({type:"open"})}function c(p){var w;const[g,_]=aE(p);if(g){n.error(new oE("Unable to parse EventSource message",{cause:g}));return}if(p.type==="channelError"){n.error(new SD(CD(_==null?void 0:_.data),_.data));return}if(p.type==="disconnect"){n.error(new xD(`Server disconnected client: ${((w=_.data)==null?void 0:w.reason)||"unknown error"}`));return}n.next({type:p.type,id:p.lastEventId,..._.data?{data:_.data}:{}})}t.addEventListener("error",a),r&&t.addEventListener("open",l);const h=[...new Set([...ID,...e])].filter(p=>p!=="error"&&p!=="open"&&p!=="reconnect");return h.forEach(p=>t.addEventListener(p,c)),()=>{t.removeEventListener("error",a),r&&t.removeEventListener("open",l),h.forEach(p=>t.removeEventListener(p,c)),t.close()}})}function aE(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...PD(e)?{}:{data:e}}]}catch(e){return[e,null]}}function CD(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function PD(t){for(const e in t)return!1;return!0}function cS(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class hS{constructor(e,n={}){Te(this,"selection");Te(this,"operations");this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Uu("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return cD(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after",`${e}[-1]`,n)}prepend(e,n){return this.insert("before",`${e}[0]`,n)}splice(e,n,r,i){const a=typeof r>"u"||r===-1,l=n<0?n-1:n,c=a?-1:Math.max(0,n+r),h=l<0&&c>=0?"":c,p=`${e}[${l}:${h}]`;return this.insert("replace",p,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...cS(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n,r=!0){return Uu(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}}var xo;const c_=class c_ extends hS{constructor(n,r,i){super(n,r);Me(this,xo);Ve(this,xo,i)}clone(){return new c_(this.selection,{...this.operations},H(this,xo))}commit(n){if(!H(this,xo))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return H(this,xo).mutate({patch:this.serialize()},i)}};xo=new WeakMap;let Ro=c_;var So;const h_=class h_ extends hS{constructor(n,r,i){super(n,r);Me(this,So);Ve(this,So,i)}clone(){return new h_(this.selection,{...this.operations},H(this,So))}commit(n){if(!H(this,So))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return H(this,So).mutate({patch:this.serialize()},i)}};So=new WeakMap;let Es=h_;const dS={returnDocuments:!1};class fS{constructor(e=[],n){Te(this,"operations");Te(this,"trxId");this.operations=e,this.trxId=n}create(e){return Uu("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return Uu(n,e),al(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return Uu(n,e),al(n,e),this._add({[n]:e})}delete(e){return nS("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var hi;const d_=class d_ extends fS{constructor(n,r,i){super(n,i);Me(this,hi);Ve(this,hi,r)}clone(){return new d_([...this.operations],H(this,hi),this.trxId)}commit(n){if(!H(this,hi))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return H(this,hi).mutate(this.serialize(),Object.assign({transactionId:this.trxId},dS,n||{}))}patch(n,r){const i=typeof r=="function",a=typeof n!="string"&&n instanceof Es,l=typeof n=="object"&&("query"in n||"id"in n);if(a)return this._add({patch:n.serialize()});if(i){const c=r(new Es(n,{},H(this,hi)));if(!(c instanceof Es))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:c.serialize()})}if(l){const c=new Es(n,r||{},H(this,hi));return this._add({patch:c.serialize()})}return this._add({patch:{id:n,...r}})}};hi=new WeakMap;let Wd=d_;var ps;const f_=class f_ extends fS{constructor(n,r,i){super(n,i);Me(this,ps);Ve(this,ps,r)}clone(){return new f_([...this.operations],H(this,ps),this.trxId)}commit(n){if(!H(this,ps))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return H(this,ps).mutate(this.serialize(),Object.assign({transactionId:this.trxId},dS,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof Ro)return this._add({patch:n.serialize()});if(i){const a=r(new Ro(n,{},H(this,ps)));if(!(a instanceof Ro))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}return this._add({patch:{id:n,...r}})}};ps=new WeakMap;let Gd=f_;const RD="X-Sanity-Project-ID";function kD(t,e={}){const n={};t.headers&&Object.assign(n,t.headers);const r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[RD]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),a=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof a>"u"?5*60*1e3:a,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const pS=({query:t,params:e={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:a,returnQuery:l,...c}=n;i&&r.append("tag",i),r.append("query",t);for(const[h,p]of Object.entries(e))r.append(`$${h}`,JSON.stringify(p));for(const[h,p]of Object.entries(c))p&&r.append(h,`${p}`);return l===!1&&r.append("returnQuery","false"),a===!1&&r.append("includeMutations","false"),`?${r}`},DD=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,ND=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:DD(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),jy=t=>t.type==="response",OD=t=>t.body,VD=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),MD=11264;function mS(t,e,n,r,i={},a={}){const l="stega"in a?{...n||{},...typeof a.stega=="boolean"?{enabled:a.stega}:a.stega||{}}:n,c=l.enabled?$2(i):i,h=a.filterResponse===!1?S=>S:S=>S.result,{cache:p,next:g,..._}={useAbortSignal:typeof a.signal<"u",resultSourceMap:l.enabled?"withKeyArraySelector":a.resultSourceMap,...a,returnQuery:a.filterResponse===!1&&a.returnQuery!==!1},w=typeof p<"u"||typeof g<"u"?{..._,fetch:{cache:p,next:g}}:_,T=Fo(t,e,"query",{query:r,params:c},w);return l.enabled?T.pipe(D2(Rc(g1(()=>import("./stegaEncodeSourceMap-BIfQFKKf.js"),[]).then(function(S){return S.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:S})=>S))),on(([S,b])=>{const R=b(S.result,S.resultSourceMap,l);return h({...S,result:R})})):T.pipe(on(h))}function jf(t,e,n,r={}){const i=(()=>{if(!r.releaseId)return n;const l=Z1(n);if(!l){if(Of(n))throw new Error(`The document ID (\`${n}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return Mf(n,r.releaseId)}if(l!==r.releaseId)throw new Error(`The document ID (\`${n}\`) is already a version of \`${l}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return n})(),a={uri:Zn(t,"doc",i),json:!0,tag:r.tag,signal:r.signal};return Oc(t,e,a).pipe(Tl(jy),on(l=>l.body.documents&&l.body.documents[0]))}function gS(t,e,n,r={}){const i={uri:Zn(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return Oc(t,e,i).pipe(Tl(jy),on(a=>{const l=VD(a.body.documents||[],c=>c._id);return n.map(c=>l[c]||null)}))}function yS(t,e,n,r={}){return Fo(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:n}},r)}function vS(t,e,n,r){return al("createIfNotExists",n),Ff(t,e,n,"createIfNotExists",r)}function _S(t,e,n,r){return al("createOrReplace",n),Ff(t,e,n,"createOrReplace",r)}function wS(t,e,n,r,i){return al("createVersion",n),rS("createVersion",n),yt(t,e,{actionType:"sanity.action.document.version.create",publishedId:r,document:n},i)}function ES(t,e,n,r){return Fo(t,e,"mutate",{mutations:[{delete:cS(n)}]},r)}function TS(t,e,n,r=!1,i){return yt(t,e,{actionType:"sanity.action.document.version.discard",versionId:n,purge:r},i)}function xS(t,e,n,r){return al("replaceVersion",n),rS("replaceVersion",n),yt(t,e,{actionType:"sanity.action.document.version.replace",document:n},r)}function SS(t,e,n,r,i){return yt(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:n,publishedId:r},i)}function bS(t,e,n,r){let i;n instanceof Es||n instanceof Ro?i={patch:n.serialize()}:n instanceof Wd||n instanceof Gd?i=n.serialize():i=n;const a=Array.isArray(i)?i:[i],l=r&&r.transactionId||void 0;return Fo(t,e,"mutate",{mutations:a,transactionId:l},r)}function yt(t,e,n,r){const i=Array.isArray(n)?n:[n],a=r&&r.transactionId||void 0,l=r&&r.skipCrossDatasetReferenceValidation||void 0,c=r&&r.dryRun||void 0;return Fo(t,e,"actions",{actions:i,transactionId:a,skipCrossDatasetReferenceValidation:l,dryRun:c},r)}function Fo(t,e,n,r,i={}){const a=n==="mutate",l=n==="actions",c=n==="query",h=a||l?"":pS(r),p=!a&&!l&&h.length<MD,g=p?h:"",_=i.returnFirst,{timeout:w,token:T,tag:S,headers:b,returnQuery:R,lastLiveEventId:N,cacheMode:M}=i,U=Zn(t,n,g),K={method:p?"GET":"POST",uri:U,json:!0,body:p?void 0:r,query:a&&ND(i),timeout:w,headers:b,token:T,tag:S,returnQuery:R,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(N)?N[0]:N,cacheMode:M,canUseCdn:c,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Oc(t,e,K).pipe(Tl(jy),on(OD),on(J=>{if(!a)return J;const Z=J.results||[];if(i.returnDocuments)return _?Z[0]&&Z[0].document:Z.map(O=>O.document);const V=_?"documentId":"documentIds",A=_?Z[0]&&Z[0].id:Z.map(O=>O.id);return{transactionId:J.transactionId,results:Z,[V]:A}}))}function Ff(t,e,n,r,i={}){const a={[r]:n},l=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Fo(t,e,"mutate",{mutations:[a]},l)}const Nc=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,IS=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"query")),LD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"mutate")),jD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"doc","")),FD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"listen")),UD=(t,e)=>Nc(t)&&e.startsWith(Zn(t,"history","")),BD=(t,e)=>e.startsWith("/data/")||IS(t,e)||LD(t,e)||jD(t,e)||FD(t,e)||UD(t,e);function Oc(t,e,n){const r=n.url||n.uri,i=t.config(),a=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&BD(t,r):n.canUseCdn;let l=(n.useCdn??i.useCdn)&&a;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:iS(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&IS(t,r)){const g=n.resultSourceMap??i.resultSourceMap;g!==void 0&&g!==!1&&(n.query={resultSourceMap:g,...n.query});const _=n.perspective||i.perspective;typeof _<"u"&&(_==="previewDrafts"&&mD(),oS(_),n.query={perspective:Array.isArray(_)?_.join(","):_,...n.query},(Array.isArray(_)&&_.length>0||_==="previewDrafts"||_==="drafts")&&l&&(l=!1,pD())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),l&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const h=kD(i,Object.assign({},n,{url:Fy(t,r,l)})),p=new _t(g=>e(h,i.requester).subscribe(g));return n.signal?p.pipe($D(n.signal)):p}function In(t,e,n){return Oc(t,e,n).pipe(Tl(r=>r.type==="response"),on(r=>r.body))}function Zn(t,e,n){const r=t.config();if(r["~experimental_resource"]){sS(r);const l=qD(r),c=n!==void 0?`${e}/${n}`:e;return`${l}/${c}`.replace(/\/($|\?)/,"$1")}const i=Dc(r),a=`/${e}/${i}`;return`/data${n!==void 0?`${a}/${n}`:a}`.replace(/\/($|\?)/,"$1")}function Fy(t,e,n=!1){const{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}function $D(t){return e=>new _t(n=>{const r=()=>n.error(HD(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const zD=!!globalThis.DOMException;function HD(t){if(zD)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}const qD=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function AS(t,e,n){const r=Dc(t.config());return In(t,e,{method:"POST",uri:`/agent/action/generate/${r}`,body:n})}function CS(t,e,n){const r=Dc(t.config());return In(t,e,{method:"POST",uri:`/agent/action/transform/${r}`,body:n})}function PS(t,e,n){const r=Dc(t.config());return In(t,e,{method:"POST",uri:`/agent/action/translate/${r}`,body:n})}var bo,Io;class WD{constructor(e,n){Me(this,bo);Me(this,Io);Ve(this,bo,e),Ve(this,Io,n)}generate(e){return AS(H(this,bo),H(this,Io),e)}transform(e){return CS(H(this,bo),H(this,Io),e)}translate(e){return PS(H(this,bo),H(this,Io),e)}}bo=new WeakMap,Io=new WeakMap;var Ao,Co;class GD{constructor(e,n){Me(this,Ao);Me(this,Co);Ve(this,Ao,e),Ve(this,Co,n)}generate(e){return qe(AS(H(this,Ao),H(this,Co),e))}transform(e){return qe(CS(H(this,Ao),H(this,Co),e))}translate(e){return qe(PS(H(this,Ao),H(this,Co),e))}}Ao=new WeakMap,Co=new WeakMap;var yc,vc;class KD{constructor(e,n){Me(this,yc);Me(this,vc);Ve(this,yc,e),Ve(this,vc,n)}upload(e,n,r){return RS(H(this,yc),H(this,vc),e,n,r)}}yc=new WeakMap,vc=new WeakMap;var _c,wc;class QD{constructor(e,n){Me(this,_c);Me(this,wc);Ve(this,_c,e),Ve(this,wc,n)}upload(e,n,r){const i=RS(H(this,_c),H(this,wc),e,n,r);return qe(i.pipe(Tl(a=>a.type==="response"),on(a=>a.body.document)))}}_c=new WeakMap,wc=new WeakMap;function RS(t,e,n,r,i={}){aD(n);let a=i.extract||void 0;a&&!a.length&&(a=["none"]);const l=t.config(),c=XD(i,r),{tag:h,label:p,title:g,description:_,creditLine:w,filename:T,source:S}=c,b={label:p,title:g,description:_,filename:T,meta:a,creditLine:w};return S&&(b.sourceId=S.id,b.sourceName=S.name,b.sourceUrl=S.url),Oc(t,e,{tag:h,method:"POST",timeout:c.timeout||0,uri:YD(l,n),headers:c.contentType?{"Content-Type":c.contentType}:{},query:b,body:r})}function YD(t,e){const n=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:a}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${a}/assets/${n}`;case"media-library":return`/media-libraries/${a}/upload`;case"dashboard":return`/dashboards/${a}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=Dc(t);return`assets/${n}/${r}`}function XD(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var JD=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const ZD=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),kS=G1(()=>g1(()=>import("./browser-DpKWpcHt.js").then(t=>t.b),[])).pipe(on(({default:t})=>t),N2(1));function DS(){return function(t){return t.pipe(Vy((e,n)=>e instanceof lS?W1(Nf({type:"reconnect"}),C2(1e3).pipe(kc(()=>n))):z1(()=>e)))}}const eN=14800,tN=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],nN={includeResult:!0};function NS(t,e,n={}){const{url:r,token:i,withCredentials:a,requestTagPrefix:l}=this.config(),c=n.tag&&l?[l,n.tag].join("."):n.tag,h={...JD(n,nN),tag:c},p=ZD(h,tN),g=pS({query:t,params:e,options:{tag:c,...p}}),_=`${r}${Zn(this,"listen",g)}`;if(_.length>eN)return z1(()=>new Error("Query too large for listener"));const w=h.events?h.events:["mutation"],T={};return a&&(T.withCredentials=!0),i&&(T.headers={Authorization:`Bearer ${i}`}),uS(()=>(typeof EventSource>"u"||T.headers?kS:Nf(EventSource)).pipe(on(S=>new S(_,T))),w).pipe(DS(),Tl(S=>w.includes(S.type)),on(S=>({type:S.type,..."data"in S?S.data:{}})))}function rN(t,e){return iN(typeof t=="function"?{predicate:t,...e}:t)}function iN(t){return e=>{let n,r=!1;const{predicate:i,...a}=t,l=e.pipe(O2(h=>{t.predicate(h)&&(r=!0,n=h)}),Q1(()=>{r=!1,n=void 0}),Y1(a)),c=new _t(h=>{r&&h.next(n),h.complete()});return P2(l,c)}}const lE="2021-03-25";var ms;class OS{constructor(e){Me(this,ms);Ve(this,ms,e)}events({includeDrafts:e=!1,tag:n}={}){kr("live",H(this,ms).config());const{projectId:r,apiVersion:i,token:a,withCredentials:l,requestTagPrefix:c}=H(this,ms).config(),h=i.replace(/^v/,"");if(h!=="X"&&h<lE)throw new Error(`The live events API requires API version ${lE} or later. The current API version is ${h}. Please update your API version to use this feature.`);if(e&&!a&&!l)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const p=Zn(H(this,ms),"live/events"),g=new URL(H(this,ms).getUrl(p,!1)),_=n&&c?[c,n].join("."):n;_&&g.searchParams.set("tag",_),e&&g.searchParams.set("includeDrafts","true");const w={};e&&a&&(w.headers={Authorization:`Bearer ${a}`}),e&&l&&(w.withCredentials=!0);const T=`${g.href}::${JSON.stringify(w)}`,S=Qm.get(T);if(S)return S;const b=uS(()=>(typeof EventSource>"u"||w.headers?kS:Nf(EventSource)).pipe(on(M=>new M(g.href,w))),["message","restart","welcome","reconnect","goaway"]).pipe(DS(),on(M=>{if(M.type==="message"){const{data:U,...K}=M;return{...K,tags:U.tags}}return M})),R=sN(g,{method:"OPTIONS",mode:"cors",credentials:w.withCredentials?"include":"omit",headers:w.headers}).pipe(kc(()=>P1),Vy(()=>{throw new tD({projectId:r})})),N=W1(R,b).pipe(Q1(()=>Qm.delete(T)),rN({predicate:M=>M.type==="welcome"}));return Qm.set(T,N),N}}ms=new WeakMap;function sN(t,e){return new _t(n=>{const r=new AbortController,i=r.signal;return fetch(t,{...e,signal:r.signal}).then(a=>{n.next(a),n.complete()},a=>{i.aborted||n.error(a)}),()=>r.abort()})}const Qm=new Map;var gs,ys;class oN{constructor(e,n){Me(this,gs);Me(this,ys);Ve(this,gs,e),Ve(this,ys,n)}create(e,n){return Ya(H(this,gs),H(this,ys),"PUT",e,n)}edit(e,n){return Ya(H(this,gs),H(this,ys),"PATCH",e,n)}delete(e){return Ya(H(this,gs),H(this,ys),"DELETE",e)}list(){return In(H(this,gs),H(this,ys),{uri:"/datasets",tag:null})}}gs=new WeakMap,ys=new WeakMap;var Qn,vs;class aN{constructor(e,n){Me(this,Qn);Me(this,vs);Ve(this,Qn,e),Ve(this,vs,n)}create(e,n){return kr("dataset",H(this,Qn).config()),qe(Ya(H(this,Qn),H(this,vs),"PUT",e,n))}edit(e,n){return kr("dataset",H(this,Qn).config()),qe(Ya(H(this,Qn),H(this,vs),"PATCH",e,n))}delete(e){return kr("dataset",H(this,Qn).config()),qe(Ya(H(this,Qn),H(this,vs),"DELETE",e))}list(){return kr("dataset",H(this,Qn).config()),qe(In(H(this,Qn),H(this,vs),{uri:"/datasets",tag:null}))}}Qn=new WeakMap,vs=new WeakMap;function Ya(t,e,n,r,i){return kr("dataset",t.config()),tS(r),In(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var _s,nl;class lN{constructor(e,n){Me(this,_s);Me(this,nl);Ve(this,_s,e),Ve(this,nl,n)}list(e){kr("projects",H(this,_s).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return In(H(this,_s),H(this,nl),{uri:n})}getById(e){return kr("projects",H(this,_s).config()),In(H(this,_s),H(this,nl),{uri:`/projects/${e}`})}}_s=new WeakMap,nl=new WeakMap;var ws,rl;class uN{constructor(e,n){Me(this,ws);Me(this,rl);Ve(this,ws,e),Ve(this,rl,n)}list(e){kr("projects",H(this,ws).config());const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return qe(In(H(this,ws),H(this,rl),{uri:n}))}getById(e){return kr("projects",H(this,ws).config()),qe(In(H(this,ws),H(this,rl),{uri:`/projects/${e}`}))}}ws=new WeakMap,rl=new WeakMap;const uE=K2("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),Kd=(t,e)=>e?Mf(t,e):q2(t);function Qd(t,{releaseId:e,publishedId:n,document:r}){if(n&&r._id){const i=Kd(n,e);return uD(i,r),i}if(r._id){const i=Of(r._id),a=Vf(r._id);if(!i&&!a)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const l=Z1(r._id);if(l!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${l}\`).`)}return r._id}if(n)return Kd(n,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}const cN=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){const{releaseId:n=uE(),metadata:r={}}=t;return[n,r,e]}return[uE(),{},t]},VS=(t,e)=>{const[n,r,i]=cN(t,e),a={...r,releaseType:r.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:n,metadata:a},options:i}};var En,Tn;class hN{constructor(e,n){Me(this,En);Me(this,Tn);Ve(this,En,e),Ve(this,Tn,n)}get({releaseId:e},n){return jf(H(this,En),H(this,Tn),`_.releases.${e}`,n)}create(e,n){const{action:r,options:i}=VS(e,n),{releaseId:a,metadata:l}=r;return yt(H(this,En),H(this,Tn),r,i).pipe(on(c=>({...c,releaseId:a,metadata:l})))}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return yt(H(this,En),H(this,Tn),i,r)}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return yt(H(this,En),H(this,Tn),r,n)}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return yt(H(this,En),H(this,Tn),r,n)}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return yt(H(this,En),H(this,Tn),r,n)}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return yt(H(this,En),H(this,Tn),i,r)}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return yt(H(this,En),H(this,Tn),r,n)}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return yt(H(this,En),H(this,Tn),r,n)}fetchDocuments({releaseId:e},n){return yS(H(this,En),H(this,Tn),e,n)}}En=new WeakMap,Tn=new WeakMap;var xn,Sn;class dN{constructor(e,n){Me(this,xn);Me(this,Sn);Ve(this,xn,e),Ve(this,Sn,n)}get({releaseId:e},n){return qe(jf(H(this,xn),H(this,Sn),`_.releases.${e}`,n))}async create(e,n){const{action:r,options:i}=VS(e,n),{releaseId:a,metadata:l}=r;return{...await qe(yt(H(this,xn),H(this,Sn),r,i)),releaseId:a,metadata:l}}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return qe(yt(H(this,xn),H(this,Sn),i,r))}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return qe(yt(H(this,xn),H(this,Sn),r,n))}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return qe(yt(H(this,xn),H(this,Sn),r,n))}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return qe(yt(H(this,xn),H(this,Sn),r,n))}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return qe(yt(H(this,xn),H(this,Sn),i,r))}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return qe(yt(H(this,xn),H(this,Sn),r,n))}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return qe(yt(H(this,xn),H(this,Sn),r,n))}fetchDocuments({releaseId:e},n){return qe(yS(H(this,xn),H(this,Sn),e,n))}}xn=new WeakMap,Sn=new WeakMap;var Ec,Tc;class fN{constructor(e,n){Me(this,Ec);Me(this,Tc);Ve(this,Ec,e),Ve(this,Tc,n)}getById(e){return In(H(this,Ec),H(this,Tc),{uri:`/users/${e}`})}}Ec=new WeakMap,Tc=new WeakMap;var xc,Sc;class pN{constructor(e,n){Me(this,xc);Me(this,Sc);Ve(this,xc,e),Ve(this,Sc,n)}getById(e){return qe(In(H(this,xc),H(this,Sc),{uri:`/users/${e}`}))}}xc=new WeakMap,Sc=new WeakMap;var di,it;const Af=class Af{constructor(e,n=Bu){Te(this,"assets");Te(this,"datasets");Te(this,"live");Te(this,"projects");Te(this,"users");Te(this,"agent");Te(this,"releases");Me(this,di);Me(this,it);Te(this,"listen",NS);this.config(n),Ve(this,it,e),this.assets=new KD(this,H(this,it)),this.datasets=new oN(this,H(this,it)),this.live=new OS(this),this.projects=new lN(this,H(this,it)),this.users=new fN(this,H(this,it)),this.agent={action:new WD(this,H(this,it))},this.releases=new hN(this,H(this,it))}clone(){return new Af(H(this,it),this.config())}config(e){if(e===void 0)return{...H(this,di)};if(H(this,di)&&H(this,di).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Ve(this,di,aS(e,H(this,di)||{})),this}withConfig(e){const n=this.config();return new Af(H(this,it),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return mS(this,H(this,it),H(this,di).stega,e,n,r)}getDocument(e,n){return jf(this,H(this,it),e,n)}getDocuments(e,n){return gS(this,H(this,it),e,n)}create(e,n){return Ff(this,H(this,it),e,"create",n)}createIfNotExists(e,n){return vS(this,H(this,it),e,n)}createOrReplace(e,n){return _S(this,H(this,it),e,n)}createVersion({document:e,publishedId:n,releaseId:r},i){const a=Qd("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Lf(e._id);return wS(this,H(this,it),l,c,i)}delete(e,n){return ES(this,H(this,it),e,n)}discardVersion({releaseId:e,publishedId:n},r,i){const a=Kd(n,e);return TS(this,H(this,it),a,r,i)}replaceVersion({document:e,publishedId:n,releaseId:r},i){const a=Qd("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a};return xS(this,H(this,it),l,i)}unpublishVersion({releaseId:e,publishedId:n},r){const i=Mf(n,e);return SS(this,H(this,it),i,n,r)}mutate(e,n){return bS(this,H(this,it),e,n)}patch(e,n){return new Ro(e,n,this)}transaction(e){return new Gd(e,this)}action(e,n){return yt(this,H(this,it),e,n)}request(e){return In(this,H(this,it),e)}getUrl(e,n){return Fy(this,e,n)}getDataUrl(e,n){return Zn(this,e,n)}};di=new WeakMap,it=new WeakMap;let Ig=Af;var fi,tt;const Cf=class Cf{constructor(e,n=Bu){Te(this,"assets");Te(this,"datasets");Te(this,"live");Te(this,"projects");Te(this,"users");Te(this,"agent");Te(this,"releases");Te(this,"observable");Me(this,fi);Me(this,tt);Te(this,"listen",NS);this.config(n),Ve(this,tt,e),this.assets=new QD(this,H(this,tt)),this.datasets=new aN(this,H(this,tt)),this.live=new OS(this),this.projects=new uN(this,H(this,tt)),this.users=new pN(this,H(this,tt)),this.agent={action:new GD(this,H(this,tt))},this.releases=new dN(this,H(this,tt)),this.observable=new Ig(e,n)}clone(){return new Cf(H(this,tt),this.config())}config(e){if(e===void 0)return{...H(this,fi)};if(H(this,fi)&&H(this,fi).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),Ve(this,fi,aS(e,H(this,fi)||{})),this}withConfig(e){const n=this.config();return new Cf(H(this,tt),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return qe(mS(this,H(this,tt),H(this,fi).stega,e,n,r))}getDocument(e,n){return qe(jf(this,H(this,tt),e,n))}getDocuments(e,n){return qe(gS(this,H(this,tt),e,n))}create(e,n){return qe(Ff(this,H(this,tt),e,"create",n))}createIfNotExists(e,n){return qe(vS(this,H(this,tt),e,n))}createOrReplace(e,n){return qe(_S(this,H(this,tt),e,n))}createVersion({document:e,publishedId:n,releaseId:r},i){const a=Qd("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Lf(e._id);return eE(wS(this,H(this,tt),l,c,i))}delete(e,n){return qe(ES(this,H(this,tt),e,n))}discardVersion({releaseId:e,publishedId:n},r,i){const a=Kd(n,e);return qe(TS(this,H(this,tt),a,r,i))}replaceVersion({document:e,publishedId:n,releaseId:r},i){const a=Qd("replaceVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a};return eE(xS(this,H(this,tt),l,i))}unpublishVersion({releaseId:e,publishedId:n},r){const i=Mf(n,e);return qe(SS(this,H(this,tt),i,n,r))}mutate(e,n){return qe(bS(this,H(this,tt),e,n))}patch(e,n){return new Es(e,n,this)}transaction(e){return new Wd(e,this)}action(e,n){return qe(yt(this,H(this,tt),e,n))}request(e){return qe(In(this,H(this,tt),e))}dataRequest(e,n,r){return qe(Fo(this,H(this,tt),e,n,r))}getUrl(e,n){return Fy(this,e,n)}getDataUrl(e,n){return Zn(this,e,n)}};fi=new WeakMap,tt=new WeakMap;let Ag=Cf;function mN(t,e){return{requester:rE(t),createClient:n=>{const r=rE(t);return new e((i,a)=>(a||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var gN=[];const yN=mN(gN,Ag),vN=yN.createClient;var Cd={exports:{}},_N=Cd.exports,cE;function wN(){return cE||(cE=1,function(t,e){(function(n,r){t.exports=r()})(_N,function(){function n(){return n=Object.assign||function(C){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var Y in I)Object.prototype.hasOwnProperty.call(I,Y)&&(C[Y]=I[Y])}return C},n.apply(this,arguments)}function r(C,D){if(C){if(typeof C=="string")return i(C,D);var I=Object.prototype.toString.call(C).slice(8,-1);if(I==="Object"&&C.constructor&&(I=C.constructor.name),I==="Map"||I==="Set")return Array.from(C);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return i(C,D)}}function i(C,D){(D==null||D>C.length)&&(D=C.length);for(var I=0,Y=new Array(D);I<D;I++)Y[I]=C[I];return Y}function a(C,D){var I=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(I)return(I=I.call(C)).next.bind(I);if(Array.isArray(C)||(I=r(C))||D){I&&(C=I);var Y=0;return function(){return Y>=C.length?{done:!0}:{done:!1,value:C[Y++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function c(C){var D=C.split("-"),I=D[1],Y=D[2],Ae=D[3];if(!I||!Y||!Ae)throw new Error("Malformed asset _ref '"+C+`'. Expected an id like "`+l+'".');var he=Y.split("x"),ce=he[0],ne=he[1],fe=+ce,le=+ne,z=isFinite(fe)&&isFinite(le);if(!z)throw new Error("Malformed asset _ref '"+C+`'. Expected an id like "`+l+'".');return{id:I,width:fe,height:le,format:Ae}}var h=function(D){var I=D;return I?typeof I._ref=="string":!1},p=function(D){var I=D;return I?typeof I._id=="string":!1},g=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function _(C){if(!C)return null;var D;if(typeof C=="string"&&w(C))D={asset:{_ref:T(C)}};else if(typeof C=="string")D={asset:{_ref:C}};else if(h(C))D={asset:C};else if(p(C))D={asset:{_ref:C._id||""}};else if(g(C))D={asset:{_ref:T(C.asset.url)}};else if(typeof C.asset=="object")D=n({},C);else return null;var I=C;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),S(D)}function w(C){return/^https?:\/\//.test(""+C)}function T(C){var D=C.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function S(C){if(C.crop&&C.hotspot)return C;var D=n({},C);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var b=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function R(C){var D=n({},C||{}),I=D.source;delete D.source;var Y=_(I);if(!Y)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var Ae=Y.asset._ref||Y.asset._id||"",he=c(Ae),ce=Math.round(Y.crop.left*he.width),ne=Math.round(Y.crop.top*he.height),fe={left:ce,top:ne,width:Math.round(he.width-Y.crop.right*he.width-ce),height:Math.round(he.height-Y.crop.bottom*he.height-ne)},le=Y.hotspot.height*he.height/2,z=Y.hotspot.width*he.width/2,ee=Y.hotspot.x*he.width,ge=Y.hotspot.y*he.height,be={left:ee-z,top:ge-le,right:ee+z,bottom:ge+le};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,M({crop:fe,hotspot:be},D))),N(n({},D,{asset:he}))}function N(C){var D=(C.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=C.vanityName?"/"+C.vanityName:"",Y=C.asset.id+"-"+C.asset.width+"x"+C.asset.height+"."+C.asset.format+I,Ae=D+"/images/"+C.projectId+"/"+C.dataset+"/"+Y,he=[];if(C.rect){var ce=C.rect,ne=ce.left,fe=ce.top,le=ce.width,z=ce.height,ee=ne!==0||fe!==0||z!==C.asset.height||le!==C.asset.width;ee&&he.push("rect="+ne+","+fe+","+le+","+z)}C.bg&&he.push("bg="+C.bg),C.focalPoint&&(he.push("fp-x="+C.focalPoint.x),he.push("fp-y="+C.focalPoint.y));var ge=[C.flipHorizontal&&"h",C.flipVertical&&"v"].filter(Boolean).join("");return ge&&he.push("flip="+ge),b.forEach(function(be){var De=be[0],Ne=be[1];typeof C[De]<"u"?he.push(Ne+"="+encodeURIComponent(C[De])):typeof C[Ne]<"u"&&he.push(Ne+"="+encodeURIComponent(C[Ne]))}),he.length===0?Ae:Ae+"?"+he.join("&")}function M(C,D){var I,Y=D.width,Ae=D.height;if(!(Y&&Ae))return{width:Y,height:Ae,rect:C.crop};var he=C.crop,ce=C.hotspot,ne=Y/Ae,fe=he.width/he.height;if(fe>ne){var le=Math.round(he.height),z=Math.round(le*ne),ee=Math.max(0,Math.round(he.top)),ge=Math.round((ce.right-ce.left)/2+ce.left),be=Math.max(0,Math.round(ge-z/2));be<he.left?be=he.left:be+z>he.left+he.width&&(be=he.left+he.width-z),I={left:be,top:ee,width:z,height:le}}else{var De=he.width,Ne=Math.round(De/ne),Ge=Math.max(0,Math.round(he.left)),Ke=Math.round((ce.bottom-ce.top)/2+ce.top),Ye=Math.max(0,Math.round(Ke-Ne/2));Ye<he.top?Ye=he.top:Ye+Ne>he.top+he.height&&(Ye=he.top+he.height-Ne),I={left:Ge,top:Ye,width:De,height:Ne}}return{width:Y,height:Ae,rect:I}}var U=["clip","crop","fill","fillmax","max","scale","min"],K=["top","bottom","left","right","center","focalpoint","entropy"],J=["format"];function Z(C){return C&&"config"in C?typeof C.config=="function":!1}function V(C){return C&&"clientConfig"in C?typeof C.clientConfig=="object":!1}function A(C){for(var D=b,I=a(D),Y;!(Y=I()).done;){var Ae=Y.value,he=Ae[0],ce=Ae[1];if(C===he||C===ce)return he}return C}function O(C){if(Z(C)){var D=C.config(),I=D.apiHost,Y=D.projectId,Ae=D.dataset,he=I||"https://api.sanity.io";return new F(null,{baseUrl:he.replace(/^https:\/\/api\./,"https://cdn."),projectId:Y,dataset:Ae})}if(V(C)){var ce=C.clientConfig,ne=ce.apiHost,fe=ce.projectId,le=ce.dataset,z=ne||"https://api.sanity.io";return new F(null,{baseUrl:z.replace(/^https:\/\/api\./,"https://cdn."),projectId:fe,dataset:le})}return new F(null,C||{})}var F=function(){function C(I,Y){this.options=void 0,this.options=I?n({},I.options||{},Y||{}):n({},Y||{})}var D=C.prototype;return D.withOptions=function(Y){var Ae=Y.baseUrl||this.options.baseUrl,he={baseUrl:Ae};for(var ce in Y)if(Y.hasOwnProperty(ce)){var ne=A(ce);he[ne]=Y[ce]}return new C(this,n({baseUrl:Ae},he))},D.image=function(Y){return this.withOptions({source:Y})},D.dataset=function(Y){return this.withOptions({dataset:Y})},D.projectId=function(Y){return this.withOptions({projectId:Y})},D.bg=function(Y){return this.withOptions({bg:Y})},D.dpr=function(Y){return this.withOptions(Y&&Y!==1?{dpr:Y}:{})},D.width=function(Y){return this.withOptions({width:Y})},D.height=function(Y){return this.withOptions({height:Y})},D.focalPoint=function(Y,Ae){return this.withOptions({focalPoint:{x:Y,y:Ae}})},D.maxWidth=function(Y){return this.withOptions({maxWidth:Y})},D.minWidth=function(Y){return this.withOptions({minWidth:Y})},D.maxHeight=function(Y){return this.withOptions({maxHeight:Y})},D.minHeight=function(Y){return this.withOptions({minHeight:Y})},D.size=function(Y,Ae){return this.withOptions({width:Y,height:Ae})},D.blur=function(Y){return this.withOptions({blur:Y})},D.sharpen=function(Y){return this.withOptions({sharpen:Y})},D.rect=function(Y,Ae,he,ce){return this.withOptions({rect:{left:Y,top:Ae,width:he,height:ce}})},D.format=function(Y){return this.withOptions({format:Y})},D.invert=function(Y){return this.withOptions({invert:Y})},D.orientation=function(Y){return this.withOptions({orientation:Y})},D.quality=function(Y){return this.withOptions({quality:Y})},D.forceDownload=function(Y){return this.withOptions({download:Y})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(Y){if(U.indexOf(Y)===-1)throw new Error('Invalid fit mode "'+Y+'"');return this.withOptions({fit:Y})},D.crop=function(Y){if(K.indexOf(Y)===-1)throw new Error('Invalid crop mode "'+Y+'"');return this.withOptions({crop:Y})},D.saturation=function(Y){return this.withOptions({saturation:Y})},D.auto=function(Y){if(J.indexOf(Y)===-1)throw new Error('Invalid auto mode "'+Y+'"');return this.withOptions({auto:Y})},D.pad=function(Y){return this.withOptions({pad:Y})},D.vanityName=function(Y){return this.withOptions({vanityName:Y})},D.frame=function(Y){if(Y!==1)throw new Error('Invalid frame value "'+Y+'"');return this.withOptions({frame:Y})},D.url=function(){return R(this.options)},D.toString=function(){return this.url()},C}();return O})}(Cd)),Cd.exports}var EN=wN();const TN=bc(EN),Yd=vN({projectId:"yn77xan2",dataset:"production",apiVersion:"2022-03-25",useCdn:!0});TN(Yd);var hE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,T=p&63;h||(T=64,l||(w=64)),r.push(n[g],n[_],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new SN;const w=a<<2|c>>4;if(r.push(w),p!==64){const T=c<<4&240|p>>2;if(r.push(T),_!==64){const S=p<<6&192|_;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bN=function(t){const e=MS(t);return LS.encodeByteArray(e,!0)},Xd=function(t){return bN(t).replace(/\./g,"")},jS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=()=>IN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof hE>"u")return;const t=hE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},Uf=()=>{try{return AN()||CN()||PN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FS=t=>{var e,n;return(n=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RN=t=>{const e=FS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},US=()=>{var t;return(t=Uf())===null||t===void 0?void 0:t.config},BS=t=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xd(JSON.stringify(n)),Xd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function ON(){var t;const e=(t=Uf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jN(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FN(){return!ON()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UN(){try{return typeof indexedDB=="object"}catch{return!1}}function BN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="FirebaseError";class Di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$N,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?zN(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Di(i,c,r)}}function zN(t,e){return t.replace(HN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HN=/\{\$([^}]+)}/g;function qN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(dE(a)&&dE(l)){if(!Jd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WN(t,e){const n=new GN(t,e);return n.subscribe.bind(n)}class GN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ym),i.error===void 0&&(i.error=Ym),i.complete===void 0&&(i.complete=Ym);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){return t&&t._delegate?t._delegate:t}class Oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XN(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YN(t){return t===go?void 0:t}function XN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const ZN={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},eO=Fe.INFO,tO={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},nO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uy{constructor(e){this.name=e,this._logLevel=eO,this._logHandler=nO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const rO=(t,e)=>e.some(n=>t instanceof n);let fE,pE;function iO(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sO(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,Cg=new WeakMap,zS=new WeakMap,Xm=new WeakMap,By=new WeakMap;function oO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(xs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),By.set(e,t),e}function aO(t){if(Cg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Cg.set(t,e)}let Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lO(t){Pg=t(Pg)}function uO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jm(this),e,...n);return zS.set(r,e.sort?e.sort():[e]),xs(r)}:sO().includes(t)?function(...e){return t.apply(Jm(this),e),xs($S.get(this))}:function(...e){return xs(t.apply(Jm(this),e))}}function cO(t){return typeof t=="function"?uO(t):(t instanceof IDBTransaction&&aO(t),rO(t,iO())?new Proxy(t,Pg):t)}function xs(t){if(t instanceof IDBRequest)return oO(t);if(Xm.has(t))return Xm.get(t);const e=cO(t);return e!==t&&(Xm.set(t,e),By.set(e,t)),e}const Jm=t=>By.get(t);function hO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=xs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(xs(l.result),h.oldVersion,h.newVersion,xs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const dO=["get","getKey","getAll","getAllKeys","count"],fO=["put","add","delete","clear"],Zm=new Map;function mE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dO.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&h.done]))[0]};return Zm.set(e,a),a}lO(t=>({...t,get:(e,n,r)=>mE(e,n)||t.get(e,n,r),has:(e,n)=>!!mE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rg="@firebase/app",gE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Uy("@firebase/app"),gO="@firebase/app-compat",yO="@firebase/analytics-compat",vO="@firebase/analytics",_O="@firebase/app-check-compat",wO="@firebase/app-check",EO="@firebase/auth",TO="@firebase/auth-compat",xO="@firebase/database",SO="@firebase/data-connect",bO="@firebase/database-compat",IO="@firebase/functions",AO="@firebase/functions-compat",CO="@firebase/installations",PO="@firebase/installations-compat",RO="@firebase/messaging",kO="@firebase/messaging-compat",DO="@firebase/performance",NO="@firebase/performance-compat",OO="@firebase/remote-config",VO="@firebase/remote-config-compat",MO="@firebase/storage",LO="@firebase/storage-compat",jO="@firebase/firestore",FO="@firebase/vertexai",UO="@firebase/firestore-compat",BO="firebase",$O="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",zO={[Rg]:"fire-core",[gO]:"fire-core-compat",[vO]:"fire-analytics",[yO]:"fire-analytics-compat",[wO]:"fire-app-check",[_O]:"fire-app-check-compat",[EO]:"fire-auth",[TO]:"fire-auth-compat",[xO]:"fire-rtdb",[SO]:"fire-data-connect",[bO]:"fire-rtdb-compat",[IO]:"fire-fn",[AO]:"fire-fn-compat",[CO]:"fire-iid",[PO]:"fire-iid-compat",[RO]:"fire-fcm",[kO]:"fire-fcm-compat",[DO]:"fire-perf",[NO]:"fire-perf-compat",[OO]:"fire-rc",[VO]:"fire-rc-compat",[MO]:"fire-gcs",[LO]:"fire-gcs-compat",[jO]:"fire-fst",[UO]:"fire-fst-compat",[FO]:"fire-vertex","fire-js":"fire-js",[BO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,HO=new Map,Dg=new Map;function yE(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ll(t){const e=t.name;if(Dg.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of Zd.values())yE(n,t);for(const n of HO.values())yE(n,t);return!0}function $y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Vc("app","Firebase",qO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=$O;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(n||(n=US()),!n)throw Ss.create("no-options");const a=Zd.get(i);if(a){if(Jd(n,a.options)&&Jd(r,a.config))return a;throw Ss.create("duplicate-app",{appName:i})}const l=new JN(i);for(const h of Dg.values())l.addComponent(h);const c=new WO(n,r,l);return Zd.set(i,c),c}function qS(t=kg){const e=Zd.get(t);if(!e&&t===kg&&US())return HS();if(!e)throw Ss.create("no-app",{appName:t});return e}function bs(t,e,n){var r;let i=(r=zO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(c.join(" "));return}ll(new Oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="firebase-heartbeat-database",KO=1,Ju="firebase-heartbeat-store";let eg=null;function WS(){return eg||(eg=hO(GO,KO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),eg}async function QO(t){try{const n=(await WS()).transaction(Ju),r=await n.objectStore(Ju).get(GS(t));return await n.done,r}catch(e){if(e instanceof Di)Si.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function vE(t,e){try{const r=(await WS()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(e,GS(t)),await r.done}catch(n){if(n instanceof Di)Si.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function GS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=1024,XO=30*24*60*60*1e3;class JO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=XO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_E(),{heartbeatsToSend:r,unsentEntries:i}=ZO(this._heartbeatsCache.heartbeats),a=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Si.warn(n),""}}}function _E(){return new Date().toISOString().substring(0,10)}function ZO(t,e=YO){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),wE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UN()?BN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wE(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){ll(new Oo("platform-logger",e=>new pO(e),"PRIVATE")),ll(new Oo("heartbeat",e=>new JO(e),"PRIVATE")),bs(Rg,gE,t),bs(Rg,gE,"esm2017"),bs("fire-js","")}tV("");var nV="firebase",rV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(nV,rV,"app");function zy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iV=KS,QS=new Vc("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Uy("@firebase/auth");function sV(t,...e){ef.logLevel<=Fe.WARN&&ef.warn(`Auth (${xl}): ${t}`,...e)}function Pd(t,...e){ef.logLevel<=Fe.ERROR&&ef.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw qy(t,...e)}function vr(t,...e){return qy(t,...e)}function Hy(t,e,n){const r=Object.assign(Object.assign({},iV()),{[e]:n});return new Vc("auth","Firebase",r).create(e,{appName:t.name})}function ko(t){return Hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fr(t,"argument-error"),Hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QS.create(t,...e)}function Pe(t,e,...n){if(!t)throw qy(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pd(e),new Error(e)}function bi(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aV(){return EE()==="http:"||EE()==="https:"}function EE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aV()||MN()||"connection"in navigator)?navigator.onLine:!0}function uV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=NN()||LN()}get(){return lV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Lc(3e4,6e4);function Gy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sl(t,e,n,r,i={}){return XS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Mc(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return VN()||(p.referrerPolicy="no-referrer"),YS.fetch()(JS(t,t.config.apiHost,n,c),p)})}async function XS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cV),e);try{const i=new fV(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw md(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw md(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw md(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Hy(t,g,p);Fr(t,g)}}catch(i){if(i instanceof Di)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function dV(t,e,n,r,i={}){const a=await Sl(t,e,n,r,i);return"mfaPendingCredential"in a&&Fr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function JS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Wy(t.config,i):`${t.config.apiScheme}://${i}`}class fV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),hV.get())})}}function md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return Sl(t,"POST","/v1/accounts:delete",e)}async function ZS(t,e){return Sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mV(t,e=!1){const n=Vn(t),r=await n.getIdToken(e),i=Ky(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:$u(tg(i.auth_time)),issuedAtTime:$u(tg(i.iat)),expirationTime:$u(tg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tg(t){return Number(t)*1e3}function Ky(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{const i=jS(n);return i?JSON.parse(i):(Pd("Failed to decode base64 JWT payload"),null)}catch(i){return Pd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TE(t){const e=Ky(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Di&&gV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zu(t,ZS(n,{idToken:r}));Pe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?eb(a.providerUserInfo):[],c=_V(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Og(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function vV(t){const e=Vn(t);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _V(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eb(t){return t.map(e=>{var{providerId:n}=e,r=zy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e){const n=await XS(t,{},async()=>{const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=JS(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",YS.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EV(t,e){return Sl(t,"POST","/v2/accounts:revokeToken",Gy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=TE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await wV(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Xa;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Pe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Og(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mV(this,e)}reload(){return vV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(ko(this.auth));const e=await this.getIdToken();return await Zu(this,pV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,h,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,b=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:K,isAnonymous:J,providerData:Z,stsTokenManager:V}=n;Pe(U&&V,e,"internal-error");const A=Xa.fromJSON(this.name,V);Pe(typeof U=="string",e,"internal-error"),ss(_,e.name),ss(w,e.name),Pe(typeof K=="boolean",e,"internal-error"),Pe(typeof J=="boolean",e,"internal-error"),ss(T,e.name),ss(S,e.name),ss(b,e.name),ss(R,e.name),ss(N,e.name),ss(M,e.name);const O=new yi({uid:U,auth:e,email:w,emailVerified:K,displayName:_,isAnonymous:J,photoURL:S,phoneNumber:T,tenantId:b,stsTokenManager:A,createdAt:N,lastLoginAt:M});return Z&&Array.isArray(Z)&&(O.providerData=Z.map(F=>Object.assign({},F))),R&&(O._redirectEventId=R),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xa;i.updateFromServerResponse(n);const a=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?eb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Xa;c.updateFromIdToken(r);const h=new yi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Og(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;function vi(t){bi(t instanceof Function,"Expected a class definition");let e=xE.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tb.type="NONE";const SE=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Rd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Rd("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ja(vi(SE),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||vi(SE);const l=Rd(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=yi._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ja(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ja(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ab(e))return"Blackberry";if(lb(e))return"Webos";if(rb(e))return"Safari";if((e.includes("chrome/")||ib(e))&&!e.includes("edge/"))return"Chrome";if(ob(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nb(t=an()){return/firefox\//i.test(t)}function rb(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ib(t=an()){return/crios\//i.test(t)}function sb(t=an()){return/iemobile/i.test(t)}function ob(t=an()){return/android/i.test(t)}function ab(t=an()){return/blackberry/i.test(t)}function lb(t=an()){return/webos/i.test(t)}function Qy(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TV(t=an()){var e;return Qy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xV(){return jN()&&document.documentMode===10}function ub(t=an()){return Qy(t)||ob(t)||lb(t)||ab(t)||/windows phone/i.test(t)||sb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e=[]){let n;switch(t){case"Browser":n=bE(an());break;case"Worker":n=`${bE(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e={}){return Sl(t,"GET","/v2/passwordPolicy",Gy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=6;class AV{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:IV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new SV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ZS(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(ko(this));const n=e?Vn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bV(this),n=new AV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bf(t){return Vn(t)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=WN(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PV(t){Yy=t}function RV(t){return Yy.loadJS(t)}function kV(){return Yy.gapiScript}function DV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t,e){const n=$y(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Jd(a,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function OV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VV(t,e,n){const r=Bf(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=hb(e),{host:l,port:c}=MV(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),LV()}function hb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MV(t){const e=hb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:AE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:AE(l)}}}function AE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return dV(t,"POST","/v1/accounts:signInWithIdp",Gy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="http://localhost";class Vo extends db{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=zy(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Vo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:jV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends jc{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends jc{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends jc{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await yi._fromIdTokenResponse(e,r,i),l=CE(r);return new ul({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CE(r);return new ul({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends Di{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nf(e,n,r,i)}}function fb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nf._fromErrorAndOperation(t,a,e,r):a})}async function FV(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ul._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e,n=!1){const{auth:r}=t;if(mi(r.app))return Promise.reject(ko(r));const i="reauthenticate";try{const a=await Zu(t,fb(r,i,e,t),n);Pe(a.idToken,r,"internal-error");const l=Ky(a.idToken);Pe(l,r,"internal-error");const{sub:c}=l;return Pe(t.uid===c,r,"user-mismatch"),ul._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e,n=!1){if(mi(t.app))return Promise.reject(ko(t));const r="signIn",i=await fb(t,r,e),a=await ul._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){return Vn(t).setPersistence(e)}function zV(t,e,n,r){return Vn(t).onIdTokenChanged(e,n,r)}function HV(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}function qV(t,e,n,r){return Vn(t).onAuthStateChanged(e,n,r)}function WV(t){return Vn(t).signOut()}const rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1e3,KV=10;class mb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);xV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const gb=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,a)),h=await QV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=Jy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function XV(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function JV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eM(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",tM=1,sf="firebaseLocalStorage",Eb="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zf(t,e){return t.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function nM(){const t=indexedDB.deleteDatabase(wb);return new Fc(t).toPromise()}function Vg(){const t=indexedDB.open(wb,tM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sf,{keyPath:Eb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sf)?e(r):(r.close(),await nM(),e(await Vg()))})})}async function PE(t,e,n){const r=zf(t,!0).put({[Eb]:e,value:n});return new Fc(r).toPromise()}async function rM(t,e){const n=zf(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function RE(t,e){const n=zf(t,!0).delete(e);return new Fc(n).toPromise()}const iM=800,sM=3;class Tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(eM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await JV(),!this.activeServiceWorker)return;this.sender=new YV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await PE(e,rf,"1"),await RE(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=zf(i,!1).getAll();return new Fc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tb.type="LOCAL";const oM=Tb;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){return e?vi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends db{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aM(t){return BV(t.auth,new Zy(t),t.bypassAuthState)}function lM(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),UV(n,new Zy(t),t.bypassAuthState)}async function uM(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),FV(n,new Zy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return uM;case"reauthViaPopup":case"reauthViaRedirect":return lM;default:Fr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new Lc(2e3,1e4);async function hM(t,e,n){if(mi(t.app))return Promise.reject(vr(t,"operation-not-supported-in-this-environment"));const r=Bf(t);oV(t,e,Xy);const i=xb(r,n);return new wo(r,"signInViaPopup",e,i).executeNotNull()}class wo extends Sb{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cM.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="pendingRedirect",kd=new Map;class fM extends Sb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kd.get(this.auth._key());if(!e){try{const r=await pM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pM(t,e){const n=yM(e),r=gM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mM(t,e){kd.set(t._key(),e)}function gM(t){return vi(t._redirectPersistence)}function yM(t){return Rd(dM,t.config.apiKey,t.name)}async function vM(t,e,n=!1){if(mi(t.app))return Promise.reject(ko(t));const r=Bf(t),i=xb(r,e),l=await new fM(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=10*60*1e3;class wM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_M&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e={}){return Sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SM=/^https?/;async function bM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TM(t);for(const n of e)try{if(IM(n))return}catch{}Fr(t,"unauthorized-domain")}function IM(t){const e=Ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!SM.test(n))return!1;if(xM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new Lc(3e4,6e4);function DE(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CM(t){return new Promise((e,n)=>{var r,i,a;function l(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(vr(t,"network-request-failed"))},timeout:AM.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Dr().gapi)===null||a===void 0)&&a.load)l();else{const c=DV("iframefcb");return Dr()[c]=()=>{gapi.load?l():n(vr(t,"network-request-failed"))},RV(`${kV()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function PM(t){return Dd=Dd||CM(t),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new Lc(5e3,15e3),kM="__/auth/iframe",DM="emulator/auth/iframe",NM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VM(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wy(e,DM):`https://${t.config.authDomain}/${kM}`,r={apiKey:e.apiKey,appName:t.name,v:xl},i=OM.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Mc(r).slice(1)}`}async function MM(t){const e=await PM(t),n=Dr().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:VM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NM,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=vr(t,"network-request-failed"),c=Dr().setTimeout(()=>{a(l)},RM.get());function h(){Dr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jM=500,FM=600,UM="_blank",BM="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $M(t,e,n,r=jM,i=FM){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},LM),{width:r.toString(),height:i.toString(),top:a,left:l}),p=an().toLowerCase();n&&(c=ib(p)?UM:n),nb(p)&&(e=e||BM,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[T,S])=>`${w}${T}=${S},`,"");if(TV(p)&&c!=="_self")return zM(e||"",c),new NE(null);const _=window.open(e||"",c,g);Pe(_,t,"popup-blocked");try{_.focus()}catch{}return new NE(_)}function zM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="__/auth/handler",qM="emulator/auth/handler",WM=encodeURIComponent("fac");async function OE(t,e,n,r,i,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xl,eventId:i};if(e instanceof Xy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",qN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof jc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),p=h?`#${WM}=${encodeURIComponent(h)}`:"";return`${GM(t)}?${Mc(c).slice(1)}${p}`}function GM({config:t}){return t.emulator?Wy(t,qM):`https://${t.authDomain}/${HM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class KM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=vM,this._overrideRedirectResult=mM}async _openPopup(e,n,r,i){var a;bi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await OE(e,n,r,Ng(),i);return $M(e,l,Jy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await OE(e,n,r,Ng(),i);return XV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(bi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MM(e),r=new wM(e);return n.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[ng];l!==void 0&&n(!!l),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ub()||rb()||Qy()}}const QM=KM;var VE="@firebase/auth",ME="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JM(t){ll(new Oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cb(t)},p=new CV(r,i,a,h);return OV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ll(new Oo("auth-internal",e=>{const n=Bf(e.getProvider("auth").getImmediate());return(r=>new YM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(VE,ME,XM(t)),bs(VE,ME,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=5*60,eL=BS("authIdTokenMaxAge")||ZM;let LE=null;const tL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eL)return;const i=n==null?void 0:n.token;LE!==i&&(LE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nL(t=qS()){const e=$y(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NV(t,{popupRedirectResolver:QM,persistence:[oM,gb,vb]}),r=BS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=tL(a.toString());HV(n,l,()=>l(n.currentUser)),zV(n,c=>l(c))}}const i=FS("auth");return i&&VV(n,`http://${i}`),n}function rL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=vr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",rL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JM("Browser");var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,Ib;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function O(){}O.prototype=A.prototype,V.D=A.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(F,C,D){for(var I=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)I[Y-2]=arguments[Y];return A.prototype[C].apply(F,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,A,O){O||(O=0);var F=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)F[C]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(C=0;16>C;++C)F[C]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=V.g[0],O=V.g[1],C=V.g[2];var D=V.g[3],I=A+(D^O&(C^D))+F[0]+3614090360&4294967295;A=O+(I<<7&4294967295|I>>>25),I=D+(C^A&(O^C))+F[1]+3905402710&4294967295,D=A+(I<<12&4294967295|I>>>20),I=C+(O^D&(A^O))+F[2]+606105819&4294967295,C=D+(I<<17&4294967295|I>>>15),I=O+(A^C&(D^A))+F[3]+3250441966&4294967295,O=C+(I<<22&4294967295|I>>>10),I=A+(D^O&(C^D))+F[4]+4118548399&4294967295,A=O+(I<<7&4294967295|I>>>25),I=D+(C^A&(O^C))+F[5]+1200080426&4294967295,D=A+(I<<12&4294967295|I>>>20),I=C+(O^D&(A^O))+F[6]+2821735955&4294967295,C=D+(I<<17&4294967295|I>>>15),I=O+(A^C&(D^A))+F[7]+4249261313&4294967295,O=C+(I<<22&4294967295|I>>>10),I=A+(D^O&(C^D))+F[8]+1770035416&4294967295,A=O+(I<<7&4294967295|I>>>25),I=D+(C^A&(O^C))+F[9]+2336552879&4294967295,D=A+(I<<12&4294967295|I>>>20),I=C+(O^D&(A^O))+F[10]+4294925233&4294967295,C=D+(I<<17&4294967295|I>>>15),I=O+(A^C&(D^A))+F[11]+2304563134&4294967295,O=C+(I<<22&4294967295|I>>>10),I=A+(D^O&(C^D))+F[12]+1804603682&4294967295,A=O+(I<<7&4294967295|I>>>25),I=D+(C^A&(O^C))+F[13]+4254626195&4294967295,D=A+(I<<12&4294967295|I>>>20),I=C+(O^D&(A^O))+F[14]+2792965006&4294967295,C=D+(I<<17&4294967295|I>>>15),I=O+(A^C&(D^A))+F[15]+1236535329&4294967295,O=C+(I<<22&4294967295|I>>>10),I=A+(C^D&(O^C))+F[1]+4129170786&4294967295,A=O+(I<<5&4294967295|I>>>27),I=D+(O^C&(A^O))+F[6]+3225465664&4294967295,D=A+(I<<9&4294967295|I>>>23),I=C+(A^O&(D^A))+F[11]+643717713&4294967295,C=D+(I<<14&4294967295|I>>>18),I=O+(D^A&(C^D))+F[0]+3921069994&4294967295,O=C+(I<<20&4294967295|I>>>12),I=A+(C^D&(O^C))+F[5]+3593408605&4294967295,A=O+(I<<5&4294967295|I>>>27),I=D+(O^C&(A^O))+F[10]+38016083&4294967295,D=A+(I<<9&4294967295|I>>>23),I=C+(A^O&(D^A))+F[15]+3634488961&4294967295,C=D+(I<<14&4294967295|I>>>18),I=O+(D^A&(C^D))+F[4]+3889429448&4294967295,O=C+(I<<20&4294967295|I>>>12),I=A+(C^D&(O^C))+F[9]+568446438&4294967295,A=O+(I<<5&4294967295|I>>>27),I=D+(O^C&(A^O))+F[14]+3275163606&4294967295,D=A+(I<<9&4294967295|I>>>23),I=C+(A^O&(D^A))+F[3]+4107603335&4294967295,C=D+(I<<14&4294967295|I>>>18),I=O+(D^A&(C^D))+F[8]+1163531501&4294967295,O=C+(I<<20&4294967295|I>>>12),I=A+(C^D&(O^C))+F[13]+2850285829&4294967295,A=O+(I<<5&4294967295|I>>>27),I=D+(O^C&(A^O))+F[2]+4243563512&4294967295,D=A+(I<<9&4294967295|I>>>23),I=C+(A^O&(D^A))+F[7]+1735328473&4294967295,C=D+(I<<14&4294967295|I>>>18),I=O+(D^A&(C^D))+F[12]+2368359562&4294967295,O=C+(I<<20&4294967295|I>>>12),I=A+(O^C^D)+F[5]+4294588738&4294967295,A=O+(I<<4&4294967295|I>>>28),I=D+(A^O^C)+F[8]+2272392833&4294967295,D=A+(I<<11&4294967295|I>>>21),I=C+(D^A^O)+F[11]+1839030562&4294967295,C=D+(I<<16&4294967295|I>>>16),I=O+(C^D^A)+F[14]+4259657740&4294967295,O=C+(I<<23&4294967295|I>>>9),I=A+(O^C^D)+F[1]+2763975236&4294967295,A=O+(I<<4&4294967295|I>>>28),I=D+(A^O^C)+F[4]+1272893353&4294967295,D=A+(I<<11&4294967295|I>>>21),I=C+(D^A^O)+F[7]+4139469664&4294967295,C=D+(I<<16&4294967295|I>>>16),I=O+(C^D^A)+F[10]+3200236656&4294967295,O=C+(I<<23&4294967295|I>>>9),I=A+(O^C^D)+F[13]+681279174&4294967295,A=O+(I<<4&4294967295|I>>>28),I=D+(A^O^C)+F[0]+3936430074&4294967295,D=A+(I<<11&4294967295|I>>>21),I=C+(D^A^O)+F[3]+3572445317&4294967295,C=D+(I<<16&4294967295|I>>>16),I=O+(C^D^A)+F[6]+76029189&4294967295,O=C+(I<<23&4294967295|I>>>9),I=A+(O^C^D)+F[9]+3654602809&4294967295,A=O+(I<<4&4294967295|I>>>28),I=D+(A^O^C)+F[12]+3873151461&4294967295,D=A+(I<<11&4294967295|I>>>21),I=C+(D^A^O)+F[15]+530742520&4294967295,C=D+(I<<16&4294967295|I>>>16),I=O+(C^D^A)+F[2]+3299628645&4294967295,O=C+(I<<23&4294967295|I>>>9),I=A+(C^(O|~D))+F[0]+4096336452&4294967295,A=O+(I<<6&4294967295|I>>>26),I=D+(O^(A|~C))+F[7]+1126891415&4294967295,D=A+(I<<10&4294967295|I>>>22),I=C+(A^(D|~O))+F[14]+2878612391&4294967295,C=D+(I<<15&4294967295|I>>>17),I=O+(D^(C|~A))+F[5]+4237533241&4294967295,O=C+(I<<21&4294967295|I>>>11),I=A+(C^(O|~D))+F[12]+1700485571&4294967295,A=O+(I<<6&4294967295|I>>>26),I=D+(O^(A|~C))+F[3]+2399980690&4294967295,D=A+(I<<10&4294967295|I>>>22),I=C+(A^(D|~O))+F[10]+4293915773&4294967295,C=D+(I<<15&4294967295|I>>>17),I=O+(D^(C|~A))+F[1]+2240044497&4294967295,O=C+(I<<21&4294967295|I>>>11),I=A+(C^(O|~D))+F[8]+1873313359&4294967295,A=O+(I<<6&4294967295|I>>>26),I=D+(O^(A|~C))+F[15]+4264355552&4294967295,D=A+(I<<10&4294967295|I>>>22),I=C+(A^(D|~O))+F[6]+2734768916&4294967295,C=D+(I<<15&4294967295|I>>>17),I=O+(D^(C|~A))+F[13]+1309151649&4294967295,O=C+(I<<21&4294967295|I>>>11),I=A+(C^(O|~D))+F[4]+4149444226&4294967295,A=O+(I<<6&4294967295|I>>>26),I=D+(O^(A|~C))+F[11]+3174756917&4294967295,D=A+(I<<10&4294967295|I>>>22),I=C+(A^(D|~O))+F[2]+718787259&4294967295,C=D+(I<<15&4294967295|I>>>17),I=O+(D^(C|~A))+F[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+C&4294967295,V.g[3]=V.g[3]+D&4294967295}r.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var O=A-this.blockSize,F=this.B,C=this.h,D=0;D<A;){if(C==0)for(;D<=O;)i(this,V,D),D+=this.blockSize;if(typeof V=="string"){for(;D<A;)if(F[C++]=V.charCodeAt(D++),C==this.blockSize){i(this,F),C=0;break}}else for(;D<A;)if(F[C++]=V[D++],C==this.blockSize){i(this,F),C=0;break}}this.h=C,this.o+=A},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var O=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=O&255,O/=256;for(this.u(V),V=Array(16),A=O=0;4>A;++A)for(var F=0;32>F;F+=8)V[O++]=this.g[A]>>>F&255;return V};function a(V,A){var O=c;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=A(V)}function l(V,A){this.h=A;for(var O=[],F=!0,C=V.length-1;0<=C;C--){var D=V[C]|0;F&&D==A||(O[C]=D,F=!1)}this.g=O}var c={};function h(V){return-128<=V&&128>V?a(V,function(A){return new l([A|0],0>A?-1:0)}):new l([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return R(p(-V));for(var A=[],O=1,F=0;V>=O;F++)A[F]=V/O|0,O*=4294967296;return new l(A,0)}function g(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return R(g(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(A,8)),F=_,C=0;C<V.length;C+=8){var D=Math.min(8,V.length-C),I=parseInt(V.substring(C,C+D),A);8>D?(D=p(Math.pow(A,D)),F=F.j(D).add(p(I))):(F=F.j(O),F=F.add(p(I)))}return F}var _=h(0),w=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(b(this))return-R(this).m();for(var V=0,A=1,O=0;O<this.g.length;O++){var F=this.i(O);V+=(0<=F?F:4294967296+F)*A,A*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(b(this))return"-"+R(this).toString(V);for(var A=p(Math.pow(V,6)),O=this,F="";;){var C=K(O,A).g;O=N(O,C.j(A));var D=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=C,S(O))return D+F;for(;6>D.length;)D="0"+D;F=D+F}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function S(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function b(V){return V.h==-1}t.l=function(V){return V=N(this,V),b(V)?-1:S(V)?0:1};function R(V){for(var A=V.g.length,O=[],F=0;F<A;F++)O[F]=~V.g[F];return new l(O,~V.h).add(w)}t.abs=function(){return b(this)?R(this):this},t.add=function(V){for(var A=Math.max(this.g.length,V.g.length),O=[],F=0,C=0;C<=A;C++){var D=F+(this.i(C)&65535)+(V.i(C)&65535),I=(D>>>16)+(this.i(C)>>>16)+(V.i(C)>>>16);F=I>>>16,D&=65535,I&=65535,O[C]=I<<16|D}return new l(O,O[O.length-1]&-2147483648?-1:0)};function N(V,A){return V.add(R(A))}t.j=function(V){if(S(this)||S(V))return _;if(b(this))return b(V)?R(this).j(R(V)):R(R(this).j(V));if(b(V))return R(this.j(R(V)));if(0>this.l(T)&&0>V.l(T))return p(this.m()*V.m());for(var A=this.g.length+V.g.length,O=[],F=0;F<2*A;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(var C=0;C<V.g.length;C++){var D=this.i(F)>>>16,I=this.i(F)&65535,Y=V.i(C)>>>16,Ae=V.i(C)&65535;O[2*F+2*C]+=I*Ae,M(O,2*F+2*C),O[2*F+2*C+1]+=D*Ae,M(O,2*F+2*C+1),O[2*F+2*C+1]+=I*Y,M(O,2*F+2*C+1),O[2*F+2*C+2]+=D*Y,M(O,2*F+2*C+2)}for(F=0;F<A;F++)O[F]=O[2*F+1]<<16|O[2*F];for(F=A;F<2*A;F++)O[F]=0;return new l(O,0)};function M(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function U(V,A){this.g=V,this.h=A}function K(V,A){if(S(A))throw Error("division by zero");if(S(V))return new U(_,_);if(b(V))return A=K(R(V),A),new U(R(A.g),R(A.h));if(b(A))return A=K(V,R(A)),new U(R(A.g),A.h);if(30<V.g.length){if(b(V)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var O=w,F=A;0>=F.l(V);)O=J(O),F=J(F);var C=Z(O,1),D=Z(F,1);for(F=Z(F,2),O=Z(O,2);!S(F);){var I=D.add(F);0>=I.l(V)&&(C=C.add(O),D=I),F=Z(F,1),O=Z(O,1)}return A=N(V,C.j(A)),new U(C,A)}for(C=_;0<=V.l(A);){for(O=Math.max(1,Math.floor(V.m()/A.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),D=p(O),I=D.j(A);b(I)||0<I.l(V);)O-=F,D=p(O),I=D.j(A);S(D)&&(D=w),C=C.add(D),V=N(V,I)}return new U(C,V)}t.A=function(V){return K(this,V).h},t.and=function(V){for(var A=Math.max(this.g.length,V.g.length),O=[],F=0;F<A;F++)O[F]=this.i(F)&V.i(F);return new l(O,this.h&V.h)},t.or=function(V){for(var A=Math.max(this.g.length,V.g.length),O=[],F=0;F<A;F++)O[F]=this.i(F)|V.i(F);return new l(O,this.h|V.h)},t.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),O=[],F=0;F<A;F++)O[F]=this.i(F)^V.i(F);return new l(O,this.h^V.h)};function J(V){for(var A=V.g.length+1,O=[],F=0;F<A;F++)O[F]=V.i(F)<<1|V.i(F-1)>>>31;return new l(O,V.h)}function Z(V,A){var O=A>>5;A%=32;for(var F=V.g.length-O,C=[],D=0;D<F;D++)C[D]=0<A?V.i(D+O)>>>A|V.i(D+O+1)<<32-A:V.i(D+O);return new l(C,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ib=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Is=l}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ab,Nu,Cb,Nd,Mg,Pb,Rb,kb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var q=d[P];if(!(q in E))break e;E=E[q]}d=d[d.length-1],P=E[d],y=y(P),y!=P&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,P=!1,q={next:function(){if(!P&&E<d.length){var X=E++;return{value:y(X,d[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function _(d,y,E){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,P),d.apply(y,q)}}return function(){return d.apply(y,arguments)}}function w(d,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function T(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function S(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(P,q,X){for(var ue=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ue[Ze-2]=arguments[Ze];return y.prototype[q].apply(P,ue)}}function b(d){const y=d.length;if(0<y){const E=Array(y);for(let P=0;P<y;P++)E[P]=d[P];return E}return[]}function R(d,y){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(h(P)){const q=d.length||0,X=P.length||0;d.length=q+X;for(let ue=0;ue<X;ue++)d[q+ue]=P[ue]}else d.push(P)}}class N{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function M(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var J=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(d,y,E){for(const P in d)y.call(E,d[P],P,d)}function V(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function A(d){const y={};for(const E in d)y[E]=d[E];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,y){let E,P;for(let q=1;q<arguments.length;q++){P=arguments[q];for(E in P)d[E]=P[E];for(let X=0;X<O.length;X++)E=O[X],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function C(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function D(d){c.setTimeout(()=>{throw d},0)}function I(){var d=fe;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,E){const P=Ae.get();P.set(y,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Ae=new N(()=>new he,d=>d.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ne=!1,fe=new Y,le=()=>{const d=c.Promise.resolve(void 0);ce=()=>{d.then(z)}};var z=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(E){D(E)}var y=Ae;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function De(d,y){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(J){e:{try{K(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ne[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&De.aa.h.call(this)}}S(De,ge);var Ne={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ye(d,y,E,P,q){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!P,this.ha=q,this.key=++Ke,this.da=this.fa=!1}function Mt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Wr(d){this.src=d,this.g={},this.h=0}Wr.prototype.add=function(d,y,E,P,q){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ue=Oi(d,y,P,q);return-1<ue?(y=d[ue],E||(y.fa=!1)):(y=new Ye(y,this.src,X,!!P,q),y.fa=E,d.push(y)),y};function Wo(d,y){var E=y.type;if(E in d.g){var P=d.g[E],q=Array.prototype.indexOf.call(P,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(P,q,1),X&&(Mt(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Oi(d,y,E,P){for(var q=0;q<d.length;++q){var X=d[q];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==P)return q}return-1}var Fs="closure_lm_"+(1e6*Math.random()|0),Go={};function Dl(d,y,E,P,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Dl(d,y[X],E,P,q);return null}return E=Vl(E),d&&d[Ge]?d.K(y,E,p(P)?!!P.capture:!1,q):Nl(d,y,E,!1,P,q)}function Nl(d,y,E,P,q,X){if(!y)throw Error("Invalid event type");var ue=p(q)?!!q.capture:!!q,Ze=Qo(d);if(Ze||(d[Fs]=Ze=new Wr(d)),E=Ze.add(y,E,P,ue,X),E.proxy)return E;if(P=Xc(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)be||(q=ue),q===void 0&&(q=!1),d.addEventListener(y.toString(),P,q);else if(d.attachEvent)d.attachEvent(Kr(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Xc(){function d(E){return y.call(d.src,d.listener,E)}const y=Ol;return d}function Ko(d,y,E,P,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ko(d,y[X],E,P,q);else P=p(P)?!!P.capture:!!P,E=Vl(E),d&&d[Ge]?(d=d.i,y=String(y).toString(),y in d.g&&(X=d.g[y],E=Oi(X,E,P,q),-1<E&&(Mt(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete d.g[y],d.h--)))):d&&(d=Qo(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Oi(y,E,P,q)),(E=-1<d?y[d]:null)&&Gr(E))}function Gr(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ge])Wo(y.i,d);else{var E=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(E,P,d.capture):y.detachEvent?y.detachEvent(Kr(E),P):y.addListener&&y.removeListener&&y.removeListener(P),(E=Qo(y))?(Wo(E,d),E.h==0&&(E.src=null,y[Fs]=null)):Mt(d)}}}function Kr(d){return d in Go?Go[d]:Go[d]="on"+d}function Ol(d,y){if(d.da)d=!0;else{y=new De(y,this);var E=d.listener,P=d.ha||d.src;d.fa&&Gr(d),d=E.call(P,y)}return d}function Qo(d){return d=d[Fs],d instanceof Wr?d:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vl(d){return typeof d=="function"?d:(d[Yo]||(d[Yo]=function(y){return d.handleEvent(y)}),d[Yo])}function At(){ee.call(this),this.i=new Wr(this),this.M=this,this.F=null}S(At,ee),At.prototype[Ge]=!0,At.prototype.removeEventListener=function(d,y,E,P){Ko(this,d,y,E,P)};function Ct(d,y){var E,P=d.F;if(P)for(E=[];P;P=P.F)E.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new ge(y,d);else if(y instanceof ge)y.target=y.target||d;else{var q=y;y=new ge(P,d),F(y,q)}if(q=!0,E)for(var X=E.length-1;0<=X;X--){var ue=y.g=E[X];q=Qr(ue,P,!0,y)&&q}if(ue=y.g=d,q=Qr(ue,P,!0,y)&&q,q=Qr(ue,P,!1,y)&&q,E)for(X=0;X<E.length;X++)ue=y.g=E[X],q=Qr(ue,P,!1,y)&&q}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],P=0;P<E.length;P++)Mt(E[P]);delete d.g[y],d.h--}}this.F=null},At.prototype.K=function(d,y,E,P){return this.i.add(String(d),y,!1,E,P)},At.prototype.L=function(d,y,E,P){return this.i.add(String(d),y,!0,E,P)};function Qr(d,y,E,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var ue=y[X];if(ue&&!ue.da&&ue.capture==E){var Ze=ue.listener,Pt=ue.ha||ue.src;ue.fa&&Wo(d.i,ue),q=Ze.call(Pt,P)!==!1&&q}}return q&&!P.defaultPrevented}function Ml(d,y,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function Vi(d){d.g=Ml(()=>{d.g=null,d.i&&(d.i=!1,Vi(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Us extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(d){ee.call(this),this.h=d,this.g={}}S(Bs,ee);var Ll=[];function jl(d){Z(d.g,function(y,E){this.g.hasOwnProperty(E)&&Gr(y)},d),d.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),jl(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fl=c.JSON.stringify,Ul=c.JSON.parse,Bl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function $s(){}$s.prototype.h=null;function Xo(d){return d.h||(d.h=d.i())}function Jo(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ge.call(this,"d")}S(_r,ge);function Zo(){ge.call(this,"c")}S(Zo,ge);var wr={},$l=null;function zs(){return $l=$l||new At}wr.La="serverreachability";function zl(d){ge.call(this,wr.La,d)}S(zl,ge);function Yr(d){const y=zs();Ct(y,new zl(y))}wr.STAT_EVENT="statevent";function Hl(d,y){ge.call(this,wr.STAT_EVENT,d),this.stat=y}S(Hl,ge);function wt(d){const y=zs();Ct(y,new Hl(y,d))}wr.Ma="timingevent";function ea(d,y){ge.call(this,wr.Ma,d),this.size=y}S(ea,ge);function er(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function qs(d,y,E,P,q,X){d.info(function(){if(d.g)if(X)for(var ue="",Ze=X.split("&"),Pt=0;Pt<Ze.length;Pt++){var ze=Ze[Pt].split("=");if(1<ze.length){var Lt=ze[0];ze=ze[1];var St=Lt.split("_");ue=2<=St.length&&St[1]=="type"?ue+(Lt+"="+ze+"&"):ue+(Lt+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+P+") [attempt "+q+"]: "+y+`
`+E+`
`+ue})}function ta(d,y,E,P,q,X,ue){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+q+"]: "+y+`
`+E+`
`+X+" "+ue})}function tr(d,y,E,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+fp(d,E)+(P?" "+P:"")})}function ql(d,y){d.info(function(){return"TIMEOUT: "+y})}Hs.prototype.info=function(){};function fp(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var P=E[d];if(!(2>P.length)){var q=P[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<q.length;ue++)q[ue]=""}}}}return Fl(E)}catch{return y}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function Ws(){}S(Ws,$s),Ws.prototype.g=function(){return new XMLHttpRequest},Ws.prototype.i=function(){return{}},nr=new Ws;function rr(d,y,E,P){this.j=d,this.i=y,this.l=E,this.R=P||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zc}function Zc(){this.i=null,this.g="",this.h=!1}var Wl={},ra={};function ia(d,y,E){d.L=1,d.v=Ui(Cn(y)),d.m=E,d.P=!0,Gl(d,null)}function Gl(d,y){d.F=Date.now(),nt(d),d.A=Cn(d.v);var E=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),$i(E.i,"t",P),d.C=0,E=d.j.J,d.h=new Zc,d.g=yh(d.j,E?y:null,!d.m),0<d.O&&(d.M=new Us(w(d.Y,d,d.g),d.O)),y=d.U,E=d.g,P=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ll[0]=q.toString()),q=Ll);for(var X=0;X<q.length;X++){var ue=Dl(E,q[X],P||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Yr(),qs(d.i,d.u,d.A,d.l,d.R,d.m)}rr.prototype.ca=function(d){d=d.target;const y=this.M;y&&pn(d)==3?y.j():this.Y(d)},rr.prototype.Y=function(d){try{if(d==this.g)e:{const St=pn(this.g);var y=this.g.Ba();const Un=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||St!=4||y==7||(y==8||0>=Un?Yr(3):Yr(2)),Gs(this);var E=this.g.Z();this.X=E;t:if(eh(this)){var P=Zl(this.g);d="";var q=P.length,X=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),Mi(this);var ue="";break t}this.h.i=new c.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(X&&y==q-1)});P.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,ta(this.i,this.u,this.A,this.l,this.R,St,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Pt=this.g;if((Ze=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ze)){var ze=Ze;break t}}ze=null}if(E=ze)tr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kl(this,E);else{this.o=!1,this.s=3,wt(12),jn(this),Mi(this);break e}}if(this.P){E=!0;let Rn;for(;!this.J&&this.C<ue.length;)if(Rn=pp(this,ue),Rn==ra){St==4&&(this.s=4,wt(14),E=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Wl){this.s=4,wt(15),tr(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else tr(this.i,this.l,Rn,null),Kl(this,Rn);if(eh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ue.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)tr(this.i,this.l,ue,"[Invalid Chunked Response]"),jn(this),Mi(this);else if(0<ue.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),tu(Lt),Lt.M=!0,wt(11))}}else tr(this.i,this.l,ue,null),Kl(this,ue);St==4&&jn(this),this.o&&!this.J&&(St==4?ma(this.j,this):(this.o=!1,nt(this)))}else ca(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),jn(this),Mi(this)}}}catch{}finally{}};function eh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function pp(d,y){var E=d.C,P=y.indexOf(`
`,E);return P==-1?ra:(E=Number(y.substring(E,P)),isNaN(E)?Wl:(P+=1,P+E>y.length?ra:(y=y.slice(P,P+E),d.C=P+E,y)))}rr.prototype.cancel=function(){this.J=!0,jn(this)};function nt(d){d.S=Date.now()+d.I,th(d,d.I)}function th(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=er(w(d.ba,d),y)}function Gs(d){d.B&&(c.clearTimeout(d.B),d.B=null)}rr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ql(this.i,this.A),this.L!=2&&(Yr(),wt(17)),jn(this),this.s=2,Mi(this)):th(this,this.S-d)};function Mi(d){d.j.G==0||d.J||ma(d.j,d)}function jn(d){Gs(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,jl(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Kl(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||ln(E.h,d))){if(!d.K&&ln(E.h,d)&&E.G==3){try{var P=E.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var q=P;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)pa(E),lr(E);else break e;fa(E),wt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=er(w(E.Za,E),6e3));if(1>=rh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ti(E,11)}else if((d.K||E.g==d)&&pa(E),!M(y))for(q=E.Da.g.parse(y),y=0;y<q.length;y++){let ze=q[y];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Lt=ze[3];Lt!=null&&(E.la=Lt,E.j.info("VER="+E.la));const St=ze[4];St!=null&&(E.Aa=St,E.j.info("SVER="+E.Aa));const Un=ze[5];Un!=null&&typeof Un=="number"&&0<Un&&(P=1.5*Un,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Rn=d.g;if(Rn){const eo=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eo){var X=P.h;X.g||eo.indexOf("spdy")==-1&&eo.indexOf("quic")==-1&&eo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ql(X,X.h),X.h=null))}if(P.D){const ya=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(P.ya=ya,et(P.I,P.D,ya))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var ue=d;if(P.qa=gh(P,P.J?P.ia:null,P.W),ue.K){ih(P.h,ue);var Ze=ue,Pt=P.L;Pt&&(Ze.I=Pt),Ze.B&&(Gs(Ze),nt(Ze)),P.g=ue}else Zs(P);0<E.i.length&&Sr(E)}else ze[0]!="stop"&&ze[0]!="close"||ti(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ti(E,7):zt(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}Yr(4)}catch{}}var nh=class{constructor(d,y){this.g=d,this.map=y}};function Ks(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function rh(d){return d.h?1:d.g?d.g.size:0}function ln(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ql(d,y){d.g?d.g.add(y):d.h=y}function ih(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ks.prototype.cancel=function(){if(this.i=sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function sh(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return b(d.i)}function sa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],E=d.length,P=0;P<E;P++)y.push(d[P]);return y}y=[],E=0;for(P in d)y[E++]=d[P];return y}function oa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const P in d)y[E++]=P;return y}}}function Li(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=oa(d),P=sa(d),q=P.length,X=0;X<q;X++)y.call(void 0,P[X],E&&E[X],d)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var P=d[E].indexOf("="),q=null;if(0<=P){var X=d[E].substring(0,P);q=d[E].substring(P+1)}else X=d[E];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Xr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xr){this.h=d.h,Ys(this,d.j),this.o=d.o,this.g=d.g,ji(this,d.s),this.l=d.l;var y=d.i,E=new Er;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Fi(this,E),this.m=d.m}else d&&(y=String(d).match(Qs))?(this.h=!1,Ys(this,y[1]||"",!0),this.o=Be(y[2]||""),this.g=Be(y[3]||"",!0),ji(this,y[4]),this.l=Be(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=Be(y[7]||"")):(this.h=!1,this.i=new Er(null,this.h))}Xr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Bi(y,aa,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Bi(y,aa,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Bi(E,E.charAt(0)=="/"?lh:ah,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Bi(E,Yl)),d.join("")};function Cn(d){return new Xr(d)}function Ys(d,y,E){d.j=E?Be(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function ji(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Fi(d,y,E){y instanceof Er?(d.i=y,Tr(d.i,d.h)):(E||(y=Bi(y,uh)),d.i=new Er(y,d.h))}function et(d,y,E){d.i.set(y,E)}function Ui(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Be(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Bi(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,oh),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function oh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var aa=/[#\/\?@]/g,ah=/[#\?:]/g,lh=/[#\?]/g,uh=/[#\?@]/g,Yl=/#/g;function Er(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function $t(d){d.g||(d.g=new Map,d.h=0,d.i&&mp(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Er.prototype,t.add=function(d,y){$t(this),this.i=null,d=Fn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function ir(d,y){$t(d),y=Fn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function sr(d,y){return $t(d),y=Fn(d,y),d.g.has(y)}t.forEach=function(d,y){$t(this),this.g.forEach(function(E,P){E.forEach(function(q){d.call(y,q,P,this)},this)},this)},t.na=function(){$t(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let P=0;P<y.length;P++){const q=d[P];for(let X=0;X<q.length;X++)E.push(y[P])}return E},t.V=function(d){$t(this);let y=[];if(typeof d=="string")sr(this,d)&&(y=y.concat(this.g.get(Fn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},t.set=function(d,y){return $t(this),this.i=null,d=Fn(this,d),sr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function $i(d,y,E){ir(d,y),0<E.length&&(d.i=null,d.g.set(Fn(d,y),b(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var P=y[E];const X=encodeURIComponent(String(P)),ue=this.V(P);for(P=0;P<ue.length;P++){var q=X;ue[P]!==""&&(q+="="+encodeURIComponent(String(ue[P]))),d.push(q)}}return this.i=d.join("&")};function Fn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Tr(d,y){y&&!d.j&&($t(d),d.i=null,d.g.forEach(function(E,P){var q=P.toLowerCase();P!=q&&(ir(this,P),$i(this,q,E))},d)),d.j=y}function gp(d,y){const E=new Hs;if(c.Image){const P=new Image;P.onload=T(fn,E,"TestLoadImage: loaded",!0,y,P),P.onerror=T(fn,E,"TestLoadImage: error",!1,y,P),P.onabort=T(fn,E,"TestLoadImage: abort",!1,y,P),P.ontimeout=T(fn,E,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function ch(d,y){const E=new Hs,P=new AbortController,q=setTimeout(()=>{P.abort(),fn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(X=>{clearTimeout(q),X.ok?fn(E,"TestPingServer: ok",!0,y):fn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),fn(E,"TestPingServer: error",!1,y)})}function fn(d,y,E,P,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),P(E)}catch{}}function yp(){this.g=new Bl}function hh(d,y,E){const P=E||"";try{Li(d,function(q,X){let ue=q;p(q)&&(ue=Fl(q)),y.push(P+X+"="+encodeURIComponent(ue))})}catch(q){throw y.push(P+"type="+encodeURIComponent("_badmap")),q}}function Jr(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Jr,$s),Jr.prototype.g=function(){return new Xs(this.l,this.j)},Jr.prototype.i=function(d){return function(){return d}}({});function Xs(d,y){At.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Xs,At),t=Xs.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ar(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function dh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?or(this):ar(this),this.readyState==3&&dh(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,or(this))},t.Qa=function(d){this.g&&(this.response=d,or(this))},t.ga=function(){this.g&&or(this)};function or(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ar(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function ar(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Zr(d){let y="";return Z(d,function(E,P){y+=P,y+=":",y+=E,y+=`\r
`}),y}function zi(d,y,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Zr(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):et(d,y,E))}function lt(d){At.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(lt,At);var vp=/^https?$/i,Xl=["POST","PUT"];t=lt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?Xo(this.o):Xo(nr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){Js(this,X);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var q in P)E.set(q,P[q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())E.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Xl,y,void 0))||P||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of E)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Js(this,X)}};function Js(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,la(d),Pn(d)}function la(d){d.A||(d.A=!0,Ct(d,"complete"),Ct(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ct(this,"complete"),Ct(this,"abort"),Pn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jl(this):this.bb())},t.bb=function(){Jl(this)};function Jl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||pn(d)!=4||d.Z()!=2)){if(d.u&&pn(d)==4)Ml(d.Ea,0,d);else if(Ct(d,"readystatechange"),pn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var P;if(P=ue===0){var q=String(d.D).match(Qs)[1]||null;!q&&c.self&&c.self.location&&(q=c.self.location.protocol.slice(0,-1)),P=!vp.test(q?q.toLowerCase():"")}E=P}if(E)Ct(d,"complete"),Ct(d,"success");else{d.m=6;try{var X=2<pn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",la(d)}}finally{Pn(d)}}}}function Pn(d,y){if(d.g){ua(d);const E=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Ct(d,"ready");try{E.onreadystatechange=P}catch{}}}function ua(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function pn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ul(y)}};function Zl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(d){const y={};d=(d.g&&2<=pn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(M(d[P]))continue;var E=C(d[P]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[q]||[];y[q]=X,X.push(E)}V(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function eu(d){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,d),this.cb=xr("retryDelaySeedMs",1e4,d),this.Wa=xr("forwardChannelMaxRetries",2,d),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(d&&d.concurrentRequestLimit),this.Da=new yp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eu.prototype,t.la=8,t.G=1,t.connect=function(d,y,E,P){wt(0),this.W=d,this.H=y||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=gh(this,null,this.W),Sr(this)};function zt(d){if(ha(d),d.G==3){var y=d.U++,E=Cn(d.I);if(et(E,"SID",d.K),et(E,"RID",y),et(E,"TYPE","terminate"),ei(d,E),y=new rr(d,d.j,y),y.L=2,y.v=Ui(Cn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=yh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}mh(d)}function lr(d){d.g&&(tu(d),d.g.cancel(),d.g=null)}function ha(d){lr(d),d.u&&(c.clearTimeout(d.u),d.u=null),pa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Sr(d){if(!An(d.h)&&!d.s){d.s=!0;var y=d.Ga;ce||le(),ne||(ce(),ne=!0),fe.add(y,d),d.B=0}}function _p(d,y){return rh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=er(w(d.Ga,d,y),ph(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new rr(this,this.j,d);let X=this.o;if(this.S&&(X?(X=A(X),F(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Hi(this,q,y),E=Cn(this.I),et(E,"RID",d),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),ei(this,E),X&&(this.O?y="headers="+encodeURIComponent(String(Zr(X)))+"&"+y:this.m&&zi(E,this.m,X)),Ql(this.h,q),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",y),et(E,"SID","null"),q.T=!0,ia(q,E,null)):ia(q,E,y),this.G=2}}else this.G==3&&(d?da(this,d):this.i.length==0||An(this.h)||da(this))};function da(d,y){var E;y?E=y.l:E=d.U++;const P=Cn(d.I);et(P,"SID",d.K),et(P,"RID",E),et(P,"AID",d.T),ei(d,P),d.m&&d.o&&zi(P,d.m,d.o),E=new rr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Hi(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ql(d.h,E),ia(E,P,y)}function ei(d,y){d.H&&Z(d.H,function(E,P){et(y,P,E)}),d.l&&Li({},function(E,P){et(y,P,E)})}function Hi(d,y,E){E=Math.min(d.i.length,E);var P=d.l?w(d.l.Na,d.l,d):null;e:{var q=d.i;let X=-1;for(;;){const ue=["count="+E];X==-1?0<E?(X=q[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let Ze=!0;for(let Pt=0;Pt<E;Pt++){let ze=q[Pt].g;const Lt=q[Pt].map;if(ze-=X,0>ze)X=Math.max(0,q[Pt].g-100),Ze=!1;else try{hh(Lt,ue,"req"+ze+"_")}catch{P&&P(Lt)}}if(Ze){P=ue.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,P}function Zs(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ce||le(),ne||(ce(),ne=!0),fe.add(y,d),d.v=0}}function fa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=er(w(d.Fa,d),ph(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=er(w(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),lr(this),fh(this))};function tu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function fh(d){d.g=new rr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Cn(d.qa);et(y,"RID","rpc"),et(y,"SID",d.K),et(y,"AID",d.T),et(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(y,"TO",d.ja),et(y,"TYPE","xmlhttp"),ei(d,y),d.m&&d.o&&zi(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ui(Cn(y)),E.m=null,E.P=!0,Gl(E,d)}t.Za=function(){this.C!=null&&(this.C=null,lr(this),fa(this),wt(19))};function pa(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ma(d,y){var E=null;if(d.g==y){pa(d),tu(d),d.g=null;var P=2}else if(ln(d.h,y))E=y.D,ih(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var q=d.B;P=zs(),Ct(P,new ea(P,E)),Sr(d)}else Zs(d);else if(q=y.s,q==3||q==0&&0<y.X||!(P==1&&_p(d,y)||P==2&&fa(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),q){case 1:ti(d,5);break;case 4:ti(d,10);break;case 3:ti(d,6);break;default:ti(d,2)}}}function ph(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function ti(d,y){if(d.j.info("Error code "+y),y==2){var E=w(d.fb,d),P=d.Xa;const q=!P;P=new Xr(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ys(P,"https"),Ui(P),q?gp(P.toString(),E):ch(P.toString(),E)}else wt(2);d.G=0,d.l&&d.l.sa(y),mh(d),ha(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function mh(d){if(d.G=0,d.ka=[],d.l){const y=sh(d.h);(y.length!=0||d.i.length!=0)&&(R(d.ka,y),R(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function gh(d,y,E){var P=E instanceof Xr?Cn(E):new Xr(E);if(P.g!="")y&&(P.g=y+"."+P.g),ji(P,P.s);else{var q=c.location;P=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new Xr(null);P&&Ys(X,P),y&&(X.g=y),q&&ji(X,q),E&&(X.l=E),P=X}return E=d.D,y=d.ya,E&&y&&et(P,E,y),et(P,"VER",d.la),ei(d,P),P}function yh(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new lt(new Jr({eb:E})):new lt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}t=nu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ga(){}ga.prototype.g=function(d,y){return new un(d,y)};function un(d,y){At.call(this),this.g=new eu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!M(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new br(this)}S(un,At),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zt(this.g)},un.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Fl(d),d=E);y.i.push(new nh(y.Ya++,d)),y.G==3&&Sr(y)},un.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,un.aa.N.call(this)};function vh(d){_r.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}S(vh,_r);function _h(){Zo.call(this),this.status=1}S(_h,Zo);function br(d){this.g=d}S(br,nu),br.prototype.ua=function(){Ct(this.g,"a")},br.prototype.ta=function(d){Ct(this.g,new vh(d))},br.prototype.sa=function(d){Ct(this.g,new _h)},br.prototype.ra=function(){Ct(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,kb=function(){return new ga},Rb=function(){return zs()},Pb=wr,Mg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Nd=na,Jc.COMPLETE="complete",Cb=Jc,Jo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",At.prototype.listen=At.prototype.K,Nu=Jo,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,Ab=lt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const FE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Uy("@firebase/firestore");function Fa(){return Mo.logLevel}function pe(t,...e){if(Mo.logLevel<=Fe.DEBUG){const n=e.map(ev);Mo.debug(`Firestore (${bl}): ${t}`,...n)}}function Ii(t,...e){if(Mo.logLevel<=Fe.ERROR){const n=e.map(ev);Mo.error(`Firestore (${bl}): ${t}`,...n)}}function cl(t,...e){if(Mo.logLevel<=Fe.WARN){const n=e.map(ev);Mo.warn(`Firestore (${bl}): ${t}`,...n)}}function ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+t;throw Ii(e),new Error(e)}function Je(t,e){t||Re()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class sL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oL{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new As;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new As,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new As)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new Db(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new nn(e)}}class aL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new aL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new uL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hL(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function hl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ot(0,0))}static max(){return new ke(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Rr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Rr.isNumericId(e),i=Rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class vt extends Rr{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const dL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Rr{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return dL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new xe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(vt.fromString(e))}static fromName(e){return new Se(vt.fromString(e).popFirst(5))}static empty(){return new Se(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new vt(e.slice()))}}function fL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Rs(i,Se.empty(),e)}function pL(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(ke.min(),Se.empty(),-1)}static max(){return new Rs(ke.max(),Se.empty(),-1)}}function mL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==gL)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new te((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function vL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hf.oe=-1;function qf(t){return t==null}function of(t){return t===0&&1/t==-1/0}function _L(t){return typeof t=="number"&&Number.isInteger(t)&&!of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UE(e)),e=EL(t.get(n),e);return UE(e)}function EL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function UE(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ob(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Vt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Vb("Invalid base64 string: "+a):a}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const TL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(Je(!!t),typeof t=="string"){let e=0;const n=TL.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wf(t){const e=t.mapValue.fields.__previous_value__;return tv(e)?Wf(e):e}function ec(t){const e=ks(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i,a,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:bL(t)?9007199254740991:SL(t)?10:11:Re()}function Ur(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ks(i.timestampValue),c=ks(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ds(i.bytesValue).isEqual(Ds(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return xt(i.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return xt(i.integerValue)===xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=xt(i.doubleValue),c=xt(a.doubleValue);return l===c?of(l)===of(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return hl(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(BE(l)!==BE(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Ur(l[h],c[h])))return!1;return!0}(t,e);default:return Re()}}function nc(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function dl(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=xt(a.integerValue||a.doubleValue),h=xt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return zE(t.timestampValue,e.timestampValue);case 4:return zE(ec(t),ec(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(a,l){const c=Ds(a),h=Ds(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=$e(c[p],h[p]);if(g!==0)return g}return $e(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=$e(xt(a.latitude),xt(l.latitude));return c!==0?c:$e(xt(a.longitude),xt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HE(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const _=a.fields||{},w=l.fields||{},T=(c=_.value)===null||c===void 0?void 0:c.arrayValue,S=(h=w.value)===null||h===void 0?void 0:h.arrayValue,b=$e(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:HE(T,S)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===vd.mapValue&&l===vd.mapValue)return 0;if(a===vd.mapValue)return 1;if(l===vd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const w=$e(h[_],g[_]);if(w!==0)return w;const T=dl(c[h[_]],p[g[_]]);if(T!==0)return T}return $e(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Re()}}function zE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=ks(t),r=ks(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function HE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=dl(n[i],r[i]);if(a)return a}return $e(n.length,r.length)}function fl(t){return Lg(t)}function Lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Lg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Lg(n.fields[l])}`;return i+"}"}(t.mapValue):Re()}function Od(t){switch(Ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(t);return e?16+Od(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Od(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Uo(r.fields,(a,l)=>{i+=a.length+Od(l)}),i}(t.mapValue);default:throw Re()}}function jg(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function qE(t){return!!t&&"nullValue"in t}function WE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vd(t){return!!t&&"mapValue"in t}function SL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=zu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Yn(zu(this.value))}}function Mb(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new Kt([n]);if(Vd(r)){const a=Mb(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,ke.min(),ke.min(),ke.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new rn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new rn(e,2,n,ke.min(),ke.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,ke.min(),ke.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.position=e,this.inclusive=n}}function GE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),n.key):r=dl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function KE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function IL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{}class Dt extends Lb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CL(e,n,r):n==="array-contains"?new kL(e,r):n==="in"?new DL(e,r):n==="not-in"?new NL(e,r):n==="array-contains-any"?new OL(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PL(e,r):new RL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dl(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends Lb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Br(e,n)}matches(e){return jb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jb(t){return t.op==="and"}function Fb(t){return AL(t)&&jb(t)}function AL(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function Fg(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(Fb(t))return t.filters.map(e=>Fg(e)).join(",");{const e=t.filters.map(n=>Fg(n)).join(",");return`${t.op}(${e})`}}function Ub(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&Ub(l,i.filters[c]),!0):!1}(t,e):void Re()}function Bb(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(Bb).join(" ,")+"}"}(t):"Filter"}class CL extends Dt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class PL extends Dt{constructor(e,n){super(e,"in",n),this.keys=$b("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RL extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=$b("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $b(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class kL extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&nc(n.arrayValue,this.value)}}class DL extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class NL extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}}class OL extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function QE(t,e=null,n=[],r=[],i=null,a=null,l=null){return new VL(t,e,n,r,i,a,l)}function rv(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fl(r)).join(",")),e.ue=n}return e.ue}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ub(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KE(t.startAt,e.startAt)&&KE(t.endAt,e.endAt)}function Ug(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ML(t,e,n,r,i,a,l,c){return new Gf(t,e,n,r,i,a,l,c)}function sv(t){return new Gf(t)}function YE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LL(t){return t.collectionGroup!==null}function Hu(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Vt(Kt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new lf(a,r))}),n.has(Kt.keyField().canonicalString())||e.ce.push(new lf(Kt.keyField(),r))}return e.ce}function Nr(t){const e=Oe(t);return e.le||(e.le=jL(e,Hu(t))),e.le}function jL(t,e){if(t.limitType==="F")return QE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new lf(i.field,a)});const n=t.endAt?new af(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new af(t.startAt.position,t.startAt.inclusive):null;return QE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bg(t,e,n){return new Gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kf(t,e){return iv(Nr(t),Nr(e))&&t.limitType===e.limitType}function zb(t){return`${rv(Nr(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Bb(i)).join(", ")}]`),qf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fl(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Hu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=GE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Hu(r),i)||r.endAt&&!function(l,c,h){const p=GE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Hu(r),i))}(t,e)}function FL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hb(t){return(e,n)=>{let r=!1;for(const i of Hu(t)){const a=UL(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function UL(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?dl(h,p):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new pt(Se.comparator);function Ai(){return BL}const qb=new pt(Se.comparator);function Ou(...t){let e=qb;for(const n of t)e=e.insert(n.key,n);return e}function Wb(t){let e=qb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eo(){return qu()}function Gb(){return qu()}function qu(){return new Bo(t=>t.toString(),(t,e)=>t.isEqual(e))}const $L=new pt(Se.comparator),zL=new Vt(Se.comparator);function Ue(...t){let e=zL;for(const n of t)e=e.add(n);return e}const HL=new Vt($e);function qL(){return HL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function Kb(t){return{integerValue:""+t}}function WL(t,e){return _L(e)?Kb(e):ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this._=void 0}}function GL(t,e,n){return t instanceof uf?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&tv(a)&&(a=Wf(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof rc?Yb(t,e):t instanceof ic?Xb(t,e):function(i,a){const l=Qb(i,a),c=XE(l)+XE(i.Pe);return jg(l)&&jg(i.Pe)?Kb(c):ov(i.serializer,c)}(t,e)}function KL(t,e,n){return t instanceof rc?Yb(t,e):t instanceof ic?Xb(t,e):n}function Qb(t,e){return t instanceof cf?function(r){return jg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class uf extends Yf{}class rc extends Yf{constructor(e){super(),this.elements=e}}function Yb(t,e){const n=Jb(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends Yf{constructor(e){super(),this.elements=e}}function Xb(t,e){let n=Jb(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class cf extends Yf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function XE(t){return xt(t.integerValue||t.doubleValue)}function Jb(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?hl(r.elements,i.elements,Ur):r instanceof cf&&i instanceof cf?Ur(r.Pe,i.Pe):r instanceof uf&&i instanceof uf}(t.transform,e.transform)}class YL{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xf{}function Zb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new av(t.key,Or.none()):new Uc(t.key,t.data,Or.none());{const n=t.data,r=Yn.empty();let i=new Vt(Kt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new $o(t.key,r,new gr(i.toArray()),Or.none())}}function XL(t,e,n){t instanceof Uc?function(i,a,l){const c=i.value.clone(),h=ZE(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $o?function(i,a,l){if(!Md(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=ZE(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(eI(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof Uc?function(a,l,c,h){if(!Md(a.precondition,l))return c;const p=a.value.clone(),g=eT(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof $o?function(a,l,c,h){if(!Md(a.precondition,l))return c;const p=eT(a.fieldTransforms,h,l),g=l.data;return g.setAll(eI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return Md(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function JL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Qb(r.transform,i||null);a!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,a))}return n||null}function JE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hl(r,i,(a,l)=>QL(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Xf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $o extends Xf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function eI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZE(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,KL(l,c,n[i]))}return r}function eT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,GL(a,l,e))}return r}class av extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZL extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&XL(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gb();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const h=Zb(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,(n,r)=>JE(n,r))&&hl(this.baseMutations,e.baseMutations,(n,r)=>JE(n,r))}}class lv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return $L}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new lv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,He;function r4(t){switch(t){default:return Re();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function tI(t){if(t===void 0)return Ii("GRPC error has no .code"),oe.UNKNOWN;switch(t){case It.OK:return oe.OK;case It.CANCELLED:return oe.CANCELLED;case It.UNKNOWN:return oe.UNKNOWN;case It.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case It.INTERNAL:return oe.INTERNAL;case It.UNAVAILABLE:return oe.UNAVAILABLE;case It.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case It.NOT_FOUND:return oe.NOT_FOUND;case It.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case It.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case It.ABORTED:return oe.ABORTED;case It.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case It.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case It.DATA_LOSS:return oe.DATA_LOSS;default:return Re()}}(He=It||(It={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Is([4294967295,4294967295],0);function tT(t){const e=i4().encode(t),n=new Ib;return n.update(e),new Uint8Array(n.digest())}function nT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,a],0)]}class uv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Is.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(s4)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=tT(e),[r,i]=nT(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);if(!this.Ee(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new uv(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=tT(e),[r,i]=nT(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jf(ke.min(),i,new pt($e),Ai(),Ue())}}class Bc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class nI{constructor(e,n){this.targetId=e,this.me=n}}class rI{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rT{constructor(){this.fe=0,this.ge=iT(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new Bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=iT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class o4{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ai(),this.qe=_d(),this.Qe=_d(),this.Ke=new pt($e)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const a=i.target;if(Ug(a))if(r===0){const l=new Se(a.path);this.We(n,l,rn.newNoDocument(l,ke.min()))}else Je(r===1);else{const l=this.Ze(n);if(l!==r){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Ds(r).toUint8Array()}catch(h){if(h instanceof Vb)return cl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new uv(l,i,a)}catch(h){return cl(h instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(n,a,null),i++)}),i}it(e){const n=new Map;this.Le.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&Ug(c.target)){const h=new Se(c.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,rn.newNoDocument(h,e))}a.be&&(n.set(l,a.ve()),a.Ce())}});let r=Ue();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const i=new Jf(e,n,this.Ke,this.ke,r);return this.ke=Ai(),this.qe=_d(),this.Qe=_d(),this.Ke=new pt($e),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new rT,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Vt($e),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt($e),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new rT),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function _d(){return new pt(Se.comparator)}function iT(){return new pt(Se.comparator)}const a4={asc:"ASCENDING",desc:"DESCENDING"},l4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u4={and:"AND",or:"OR"};class c4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $g(t,e){return t.useProto3Json||qf(e)?e:{value:e}}function hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h4(t,e){return hf(t,e.toTimestamp())}function Vr(t){return Je(!!t),ke.fromTimestamp(function(n){const r=ks(n);return new Ot(r.seconds,r.nanos)}(t))}function cv(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sI(t){const e=vt.fromString(t);return Je(cI(e)),e}function Hg(t,e){return cv(t.databaseId,e.path)}function rg(t,e){const n=sI(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(aI(n))}function oI(t,e){return cv(t.databaseId,e)}function d4(t){const e=sI(t);return e.length===4?vt.emptyPath():aI(e)}function qg(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aI(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sT(t,e,n){return{name:Hg(t,e),fields:n.value.mapValue.fields}}function f4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Je(g===void 0||typeof g=="string"),Qt.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Qt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?oe.UNKNOWN:tI(p.code);return new xe(g,p.message||"")}(l);n=new rI(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rg(t,r.document.name),a=Vr(r.document.updateTime),l=r.document.createTime?Vr(r.document.createTime):ke.min(),c=new Yn({mapValue:{fields:r.document.fields}}),h=rn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Ld(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rg(t,r.document),a=r.readTime?Vr(r.readTime):ke.min(),l=rn.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Ld([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rg(t,r.document),a=r.removedTargetIds||[];n=new Ld([],a,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new n4(i,a),c=r.targetId;n=new nI(c,l)}}return n}function p4(t,e){let n;if(e instanceof Uc)n={update:sT(t,e.key,e.value)};else if(e instanceof av)n={delete:Hg(t,e.key)};else if(e instanceof $o)n={update:sT(t,e.key,e.data),updateMask:x4(e.fieldMask)};else{if(!(e instanceof ZL))return Re();n={verify:Hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof uf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof rc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ic)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:h4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(t,e.precondition)),n}function m4(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,a){let l=i.updateTime?Vr(i.updateTime):Vr(a);return l.isEqual(ke.min())&&(l=Vr(a)),new YL(l,i.transformResults||[])}(n,e))):[]}function g4(t,e){return{documents:[oI(t,e.path)]}}function y4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oI(t,i);const a=function(p){if(p.length!==0)return uI(Br.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:Ba(w.field),direction:w4(w.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=$g(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:i}}function v4(t){let e=d4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const w=lI(_);return w instanceof Br&&Fb(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(w=>function(S){return new lf($a(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,qf(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(_){const w=!!_.before,T=_.values||[];return new af(T,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,T=_.values||[];return new af(T,w)}(n.endAt)),ML(e,i,l,a,c,"F",h,p)}function _4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$a(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$a(n.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=$a(n.unaryFilter.field);return Dt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create($a(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>lI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function w4(t){return a4[t]}function E4(t){return l4[t]}function T4(t){return u4[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function $a(t){return Kt.fromServerFormat(t.fieldPath)}function uI(t){return t instanceof Dt?function(n){if(n.op==="=="){if(WE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:E4(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(i=>uI(i));return r.length===1?r[0]:{compositeFilter:{op:T4(n.op),filters:r}}}(t):Re()}function x4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r,i,a=ke.min(),l=ke.min(),c=Qt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.ht=e}}function b4(t){const e=v4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.ln=new A4}addToCollectionParentIndex(e,n){return this.ln.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Rs.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class A4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new pl(0)}static Qn(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT([t,e],[n,r]){const i=$e(t,n);return i===0?$e(e,r):i}class C4{constructor(e){this.Gn=e,this.buffer=new Vt(aT),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.Yn(3e5)})}}class R4{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Hf.oe);const r=new C4(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(oT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Fa()<=Fe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function k4(t,e){return new R4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.changes=new Bo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wu(r.mutation,i,gr.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=Eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Ou();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=Ai();const l=qu(),c=function(){return qu()}();return n.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof $o)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Wu(g.mutation,p,g.mutation.getFieldMask(),Ot.now())):l.set(p.key,gr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new N4(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=qu();let i=new pt((l,c)=>l-c),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||gr.empty();g=c.applyToLocalView(p,g),r.set(h,g);const _=(i.get(c.batchId)||Ue()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,_=Gb();g.forEach(w=>{if(!a.has(w)){const T=Zb(n.get(w),r.get(w));T!==null&&_.set(w,T),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):te.resolve(Eo());let c=-1,h=a;return l.next(p=>te.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Ue())).next(g=>({batchId:c,changes:Wb(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let i=Ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Ou();return this.indexManager.getCollectionParents(e,a).next(c=>te.forEach(c,h=>{const p=function(_,w){return new Gf(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,rn.newInvalidDocument(g)))});let c=Ou();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&Wu(g.mutation,p,gr.empty(),Ot.now()),Qf(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return te.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:b4(i.bundledQuery),readTime:Vr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.overlays=new pt(Se.comparator),this.dr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eo();return te.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Tt(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Eo(),a=n.length+1,l=new Se(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new pt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Eo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Eo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return te.resolve(c)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new t4(n,r));let a=this.dr.get(n);a===void 0&&(a=Ue(),this.dr.set(n,a)),this.dr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.Er=new Vt(Bt.Ar),this.Rr=new Vt(Bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Bt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Se(new vt([])),r=new Bt(n,e),i=new Bt(n,e+1),a=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Se(new vt([])),r=new Bt(n,e),i=new Bt(n,e+1);let a=Ue();return this.Rr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Bt(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Se.comparator(e.key,n.key)||$e(e.br,n.br)}static Vr(e,n){return $e(e.br,n.br)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Vt(Bt.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new e4(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new Bt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],l=>{const c=this.Cr(l.br);a.push(c)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt($e);return n.forEach(i=>{const a=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{r=r.add(c.br)})}),te.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const l=new Bt(new Se(a),0);let c=new Vt($e);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.br)),!0)},l),te.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return te.forEach(n.mutations,i=>{const a=new Bt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Bt(n,0),i=this.vr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.Nr=e,this.docs=function(){return new pt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ai();const l=n.path,c=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||mL(pL(g),r)<=0||(i.has(g.key)||Qf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Re()}Br(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U4(this)}getSize(e){return te.resolve(this.size)}}class U4 extends D4{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.persistence=e,this.Lr=new Bo(n=>rv(n),iv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.kr=0,this.qr=new hv,this.targetCount=0,this.Qr=pl.qn()}forEachTarget(e,n){return this.Lr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),te.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Un(n),te.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Hf(0),this.Ur=!1,this.Ur=!0,this.Wr=new L4,this.referenceDelegate=e(this),this.Gr=new B4(this),this.indexManager=new I4,this.remoteDocumentCache=function(i){return new F4(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new S4(n),this.jr=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new j4(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new $4(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,n){return te.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class $4 extends yL{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Zr=new hv,this.Xr=null}static ei(e){return new dv(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),te.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,r=>{const i=Se.fromPath(r);return this.ni(e,i).next(a=>{a||n.removeEntry(i,ke.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return te.or([()=>te.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class df{constructor(e,n){this.persistence=e,this.ri=new Bo(r=>wL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=k4(this,n)}static ei(e,n){return new df(e,n)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return te.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,n).next(c=>{c||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Od(e.data.value)),n}ir(e,n,r){return te.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ue(),i=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new fv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return FN()?8:vL(an())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Xi(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new z4;return this.ts(e,n,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,n,l,c.size)})}).next(()=>a.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Fa()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Fa()<=Fe.DEBUG&&pe("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Fa()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):te.resolve())}Xi(e,n){if(YE(n))return te.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bg(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ue(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(n,c);return this.ss(n,p,l,h.readTime)?this.Xi(e,Bg(n,null,"F")):this.os(e,p,n,h)}))})))}es(e,n,r,i){return YE(n)||i.isEqual(ke.min())?te.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(n,a);return this.ss(n,l,r,i)?te.resolve(null):(Fa()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.os(e,l,n,fL(i,-1)).next(c=>c))})}rs(e,n){let r=new Vt(Hb(e));return n.forEach((i,a)=>{Qf(e,a)&&(r=r.add(a))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,n,r){return Fa()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.Zi.getDocumentsMatchingQuery(e,n,Rs.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new pt($e),this.cs=new Bo(a=>rv(a),iv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O4(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function W4(t,e,n,r){return new q4(t,e,n,r)}async function dI(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=Ue();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function G4(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const _=p.batch,w=_.keys();let T=te.resolve();return w.forEach(S=>{T=T.next(()=>g.getEntry(h,S)).next(b=>{const R=p.docVersions.get(S);Je(R!==null),b.version.compareTo(R)<0&&(_.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ue();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fI(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function K4(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const c=[];e.targetChanges.forEach((g,_)=>{const w=i.get(_);if(!w)return;c.push(n.Gr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(a,g.addedDocuments,_)));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Qt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(b,R,N){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,T,g)&&c.push(n.Gr.updateTargetData(a,T))});let h=Ai(),p=Ue();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(Q4(a,l,e.documentUpdates).next(g=>{h=g.Is,p=g.ds})),!r.isEqual(ke.min())){const g=n.Gr.getLastRemoteSnapshotVersion(a).next(_=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return te.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.us=i,a))}function Q4(t,e,n){let r=Ue(),i=Ue();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ai();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Is:l,ds:i}})}function Y4(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X4(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):n.Gr.allocateTargetId(r).next(l=>(i=new Ts(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Wg(t,e,n){const r=Oe(t),i=r.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Al(l))throw l;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function lT(t,e,n){const r=Oe(t);let i=ke.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=Oe(h),w=_.cs.get(g);return w!==void 0?te.resolve(_.us.get(w)):_.Gr.getTargetData(p,g)}(r,l,Nr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,n?i:ke.min(),n?a:Ue())).next(c=>(J4(r,FL(e),c),{documents:c,Es:a})))}function J4(t,e,n){let r=t.ls.get(e)||ke.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.ls.set(e,r)}class uT{constructor(){this.activeTargetIds=qL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z4{constructor(){this._o=new uT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new uT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function ig(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class r3 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(n,r,i,a,l){const c=ig(),h=this.No(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,l),this.Lo(n,h,p,i).then(g=>(pe("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw cl("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",h,"request:",i),g})}ko(n,r,i,a,l,c){return this.Oo(n,r,i,a,l)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>n[l]=a),i&&i.headers.forEach((a,l)=>n[l]=a)}No(n,r){const i=t3[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,i){const a=ig();return new Promise((l,c)=>{const h=new Ab;h.setWithCredentials(!0),h.listenOnce(Cb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Nd.NO_ERROR:const g=h.getResponseJson();pe(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Nd.TIMEOUT:pe(en,`RPC '${e}' ${a} timed out`),c(new xe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const _=h.getStatus();if(pe(en,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const S=function(R){const N=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(N)>=0?N:oe.UNKNOWN}(T.status);c(new xe(S,T.message))}else c(new xe(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new xe(oe.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{pe(en,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);pe(en,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",p,r,15)})}qo(e,n,r){const i=ig(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=kb(),c=Rb(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");pe(en,`Creating RPC '${e}' stream ${i}: ${g}`,h);const _=l.createWebChannel(g,h);let w=!1,T=!1;const S=new n3({Eo:R=>{T?pe(en,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(w||(pe(en,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),pe(en,`RPC '${e}' stream ${i} sending:`,R),_.send(R))},Ao:()=>_.close()}),b=(R,N,M)=>{R.listen(N,U=>{try{M(U)}catch(K){setTimeout(()=>{throw K},0)}})};return b(_,Nu.EventType.OPEN,()=>{T||(pe(en,`RPC '${e}' stream ${i} transport opened.`),S.So())}),b(_,Nu.EventType.CLOSE,()=>{T||(T=!0,pe(en,`RPC '${e}' stream ${i} transport closed`),S.Do())}),b(_,Nu.EventType.ERROR,R=>{T||(T=!0,cl(en,`RPC '${e}' stream ${i} transport errored:`,R),S.Do(new xe(oe.UNAVAILABLE,"The operation could not be completed")))}),b(_,Nu.EventType.MESSAGE,R=>{var N;if(!T){const M=R.data[0];Je(!!M);const U=M,K=(U==null?void 0:U.error)||((N=U[0])===null||N===void 0?void 0:N.error);if(K){pe(en,`RPC '${e}' stream ${i} received error:`,K);const J=K.status;let Z=function(O){const F=It[O];if(F!==void 0)return tI(F)}(J),V=K.message;Z===void 0&&(Z=oe.INTERNAL,V="Unknown error status: "+J+" with message "+K.message),T=!0,S.Do(new xe(Z,V)),_.close()}else pe(en,`RPC '${e}' stream ${i} received:`,M),S.vo(M)}}),b(c,Pb.STAT_EVENT,R=>{R.stat===Mg.PROXY?pe(en,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Mg.NOPROXY&&pe(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){return new c4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i,a,l,c,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new pI(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new xe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i3 extends mI{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=f4(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Vr(l.readTime):ke.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=qg(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=Ug(h)?{documents:g4(a,h)}:{query:y4(a,h).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=iI(a,l.resumeToken);const p=$g(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=hf(a,l.snapshotVersion.toTimestamp());const p=$g(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=_4(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=qg(this.serializer),n.removeTarget=e,this.c_(n)}}class s3 extends mI{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=m4(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=qg(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p4(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,zg(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(oe.UNKNOWN,a.toString())})}ko(e,n,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,zg(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(oe.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class a3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ii(n),this.C_=!1):pe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{zo(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Oe(h);p.k_.add(4),await $c(p),p.K_.set("Unknown"),p.k_.delete(4),await ep(p)}(this))})}),this.K_=new a3(r,i)}}async function ep(t){if(zo(t))for(const e of t.q_)await e(!0)}async function $c(t){for(const e of t.q_)await e(!1)}function gI(t,e){const n=Oe(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),yv(n)?gv(n):Cl(n).s_()&&mv(n,e))}function pv(t,e){const n=Oe(t),r=Cl(n);n.L_.delete(e),r.s_()&&yI(n,e),n.L_.size===0&&(r.s_()?r.a_():zo(n)&&n.K_.set("Unknown"))}function mv(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).V_(e)}function yI(t,e){t.U_.xe(e),Cl(t).m_(e)}function gv(t){t.U_=new o4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.K_.F_()}function yv(t){return zo(t)&&!Cl(t).i_()&&t.L_.size>0}function zo(t){return Oe(t).k_.size===0}function vI(t){t.U_=void 0}async function u3(t){t.K_.set("Online")}async function c3(t){t.L_.forEach((e,n)=>{mv(t,e)})}async function h3(t,e){vI(t),yv(t)?(t.K_.O_(e),gv(t)):t.K_.set("Unknown")}async function d3(t,e,n){if(t.K_.set("Online"),e instanceof rI&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ff(t,r)}else if(e instanceof Ld?t.U_.$e(e):e instanceof nI?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ke.min()))try{const r=await fI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.L_.get(h);if(!g)return;a.L_.set(h,g.withResumeToken(Qt.EMPTY_BYTE_STRING,g.snapshotVersion)),yI(a,h);const _=new Ts(g.target,h,p,g.sequenceNumber);mv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await ff(t,r)}}async function ff(t,e,n){if(!Al(e))throw e;t.k_.add(1),await $c(t),t.K_.set("Offline"),n||(n=()=>fI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await ep(t)})}function _I(t,e){return e().catch(n=>ff(t,n,e))}async function tp(t){const e=Oe(t),n=Os(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;f3(e);)try{const i=await Y4(e.localStore,r);if(i===null){e.B_.length===0&&n.a_();break}r=i.batchId,p3(e,i)}catch(i){await ff(e,i)}wI(e)&&EI(e)}function f3(t){return zo(t)&&t.B_.length<10}function p3(t,e){t.B_.push(e);const n=Os(t);n.s_()&&n.f_&&n.g_(e.mutations)}function wI(t){return zo(t)&&!Os(t).i_()&&t.B_.length>0}function EI(t){Os(t).start()}async function m3(t){Os(t).w_()}async function g3(t){const e=Os(t);for(const n of t.B_)e.g_(n.mutations)}async function y3(t,e,n){const r=t.B_.shift(),i=lv.from(r,e,n);await _I(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tp(t)}async function v3(t,e){e&&Os(t).f_&&await async function(r,i){if(function(l){return r4(l)&&l!==oe.ABORTED}(i.code)){const a=r.B_.shift();Os(r).__(),await _I(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await tp(r)}}(t,e),wI(t)&&EI(t)}async function hT(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=zo(n);n.k_.add(3),await $c(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ep(n)}async function _3(t,e){const n=Oe(t);e?(n.k_.delete(2),await ep(n)):e||(n.k_.add(2),await $c(n),n.K_.set("Unknown"))}function Cl(t){return t.W_||(t.W_=function(n,r,i){const a=Oe(n);return a.b_(),new i3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:u3.bind(null,t),mo:c3.bind(null,t),po:h3.bind(null,t),R_:d3.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),yv(t)?gv(t):t.K_.set("Unknown")):(await t.W_.stop(),vI(t))})),t.W_}function Os(t){return t.G_||(t.G_=function(n,r,i){const a=Oe(n);return a.b_(),new s3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:m3.bind(null,t),po:v3.bind(null,t),p_:g3.bind(null,t),y_:y3.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await tp(t)):(await t.G_.stop(),t.B_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new vv(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _v(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),Al(t))return new xe(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Ou(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.z_=new pt(Se.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ml{constructor(e,n,r,i,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new ml(e,n,el.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class E3{constructor(){this.queries=fT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Oe(n),a=i.queries;i.queries=fT(),a.forEach((l,c)=>{for(const h of c.J_)h.onError(r)})})(this,new xe(oe.ABORTED,"Firestore shutting down"))}}function fT(){return new Bo(t=>zb(t),Kf)}async function T3(t,e){const n=Oe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new w3,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await n.onListen(i,!0);break;case 1:a.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=_v(l,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&wv(n)}async function x3(t,e){const n=Oe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S3(t,e){const n=Oe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.J_)c.ta(i)&&(r=!0);l.H_=i}}r&&wv(n)}function b3(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(n);r.queries.delete(e)}function wv(t){t.X_.forEach(e=>{e.next()})}var Gg,pT;(pT=Gg||(Gg={})).na="default",pT.Cache="cache";class I3{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class xI{constructor(e){this.key=e}}class A3{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ue(),this.mutatedKeys=Ue(),this.Va=Hb(e),this.ma=new el(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new dT,i=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const w=i.get(g),T=Qf(this.query,_)?_:null,S=!!w&&this.mutatedKeys.has(w.key),b=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;w&&T?w.data.isEqual(T.data)?S!==b&&(r.track({type:3,doc:T}),R=!0):this.ya(w,T)||(r.track({type:2,doc:T}),R=!0,(h&&this.Va(T,h)>0||p&&this.Va(T,p)<0)&&(c=!0)):!w&&T?(r.track({type:0,doc:T}),R=!0):w&&!T&&(r.track({type:1,doc:w}),R=!0,(h||p)&&(c=!0)),R&&(T?(l=l.add(T),a=b?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:l,pa:r,ss:c,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,_)=>function(T,S){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return b(T)-b(S)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(r),i=i!=null&&i;const c=n&&!i?this.Sa():[],h=this.Ra.size===0&&this.current&&!i?1:0,p=h!==this.Aa;return this.Aa=h,l.length!==0||p?{snapshot:new ml(this.query,e.ma,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new dT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ue(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new xI(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new TI(r))}),n}va(e){this.Ea=e.Es,this.Ra=Ue();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ml.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class C3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P3{constructor(e){this.key=e,this.Fa=!1}}class R3{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Bo(c=>zb(c),Kf),this.Oa=new Map,this.Na=new Set,this.Ba=new pt(Se.comparator),this.La=new Map,this.ka=new hv,this.qa={},this.Qa=new Map,this.Ka=pl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function k3(t,e,n=!0){const r=PI(t);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await SI(r,e,n,!0),i}async function D3(t,e){const n=PI(t);await SI(n,e,!0,!1)}async function SI(t,e,n,r){const i=await X4(t.localStore,Nr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await N3(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&gI(t.remoteStore,i),c}async function N3(t,e,n,r,i){t.Ua=(_,w,T)=>async function(b,R,N,M){let U=R.view.ga(N);U.ss&&(U=await lT(b.localStore,R.query,!1).then(({documents:V})=>R.view.ga(V,U)));const K=M&&M.targetChanges.get(R.targetId),J=M&&M.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(U,b.isPrimaryClient,K,J);return gT(b,R.targetId,Z.ba),Z.snapshot}(t,_,w,T);const a=await lT(t.localStore,e,!0),l=new A3(e,a.Es),c=l.ga(a.documents),h=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,h);gT(t,n,p.ba);const g=new C3(e,n,l);return t.xa.set(e,g),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function O3(t,e,n){const r=Oe(t),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(l=>!Kf(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pv(r.remoteStore,i.targetId),Kg(r,i.targetId)}).catch(Il)):(Kg(r,i.targetId),await Wg(r.localStore,i.targetId,!0))}async function V3(t,e){const n=Oe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pv(n.remoteStore,r.targetId))}async function M3(t,e,n){const r=z3(t);try{const i=await function(l,c){const h=Oe(l),p=Ot.now(),g=c.reduce((T,S)=>T.add(S.key),Ue());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Ai(),b=Ue();return h.hs.getEntries(T,g).next(R=>{S=R,S.forEach((N,M)=>{M.isValidDocument()||(b=b.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,S)).next(R=>{_=R;const N=[];for(const M of c){const U=JL(M,_.get(M.key).overlayedDocument);U!=null&&N.push(new $o(M.key,U,Mb(U.value.mapValue),Or.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,N,c)}).next(R=>{w=R;const N=R.applyToLocalDocumentSet(_,b);return h.documentOverlayCache.saveOverlays(T,R.batchId,N)})}).then(()=>({batchId:w.batchId,changes:Wb(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.qa[l.currentUser.toKey()];p||(p=new pt($e)),p=p.insert(c,h),l.qa[l.currentUser.toKey()]=p}(r,i.batchId,n),await zc(r,i.changes),await tp(r.remoteStore)}catch(i){const a=_v(i,"Failed to persist write");n.reject(a)}}async function bI(t,e){const n=Oe(t);try{const r=await K4(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.La.get(a);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Je(l.Fa):i.removedDocuments.size>0&&(Je(l.Fa),l.Fa=!1))}),await zc(n,r,e)}catch(r){await Il(r)}}function mT(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Oe(l);h.onlineState=c;let p=!1;h.queries.forEach((g,_)=>{for(const w of _.J_)w.ea(c)&&(p=!0)}),p&&wv(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L3(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.La.get(e),a=i&&i.key;if(a){let l=new pt(Se.comparator);l=l.insert(a,rn.newNoDocument(a,ke.min()));const c=Ue().add(a),h=new Jf(ke.min(),new Map,new pt($e),l,c);await bI(r,h),r.Ba=r.Ba.remove(a),r.La.delete(e),Ev(r)}else await Wg(r.localStore,e,!1).then(()=>Kg(r,e,n)).catch(Il)}async function j3(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await G4(n.localStore,e);AI(n,r,null),II(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,i)}catch(i){await Il(i)}}async function F3(t,e,n){const r=Oe(t);try{const i=await function(l,c){const h=Oe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(Je(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);AI(r,e,n),II(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,i)}catch(i){await Il(i)}}function II(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function AI(t,e,n){const r=Oe(t);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||CI(t,r)})}function CI(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(pv(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),Ev(t))}function gT(t,e,n){for(const r of n)r instanceof TI?(t.ka.addReference(r.key,e),U3(t,r)):r instanceof xI?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||CI(t,r.key)):Re()}function U3(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.Na.add(r),Ev(t))}function Ev(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Se(vt.fromString(e)),r=t.Ka.next();t.La.set(r,new P3(n)),t.Ba=t.Ba.insert(n,r),gI(t.remoteStore,new Ts(Nr(sv(n.path)),r,"TargetPurposeLimboResolution",Hf.oe))}}async function zc(t,e,n){const r=Oe(t),i=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,h)=>{l.push(r.Ua(h,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=fv.zi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,p){const g=Oe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>te.forEach(p,w=>te.forEach(w.Wi,T=>g.persistence.referenceDelegate.addReference(_,w.targetId,T)).next(()=>te.forEach(w.Gi,T=>g.persistence.referenceDelegate.removeReference(_,w.targetId,T)))))}catch(_){if(!Al(_))throw _;pe("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const T=g.us.get(w),S=T.snapshotVersion,b=T.withLastLimboFreeSnapshotVersion(S);g.us=g.us.insert(w,b)}}}(r.localStore,a))}async function B3(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await dI(n.localStore,e);n.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(h=>{h.reject(new xe(oe.CANCELLED,l))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.Ts)}}function $3(t,e){const n=Oe(t),r=n.La.get(e);if(r&&r.Fa)return Ue().add(r.key);{let i=Ue();const a=n.Oa.get(e);if(!a)return i;for(const l of a){const c=n.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function PI(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L3.bind(null,e),e.Ma.R_=S3.bind(null,e.eventManager),e.Ma.Wa=b3.bind(null,e.eventManager),e}function z3(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,e),e}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return W4(this.persistence,new H4,e.initialUser,this.serializer)}ja(e){return new hI(dv.ei,this.serializer)}za(e){return new Z4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class H3 extends pf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Je(this.persistence.referenceDelegate instanceof df);const r=this.persistence.referenceDelegate.garbageCollector;return new P4(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new hI(r=>df.ei(r,n),this.serializer)}}class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B3.bind(null,this.syncEngine),await _3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E3}()}createDatastore(e){const n=Zf(e.databaseInfo.databaseId),r=function(a){return new r3(a)}(e.databaseInfo);return function(a,l,c,h){return new o3(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new l3(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>mT(this.syncEngine,n,0),function(){return cT.p()?new cT:new e3}())}createSyncEngine(e,n){return function(i,a,l,c,h,p,g){const _=new R3(i,a,l,c,h,p);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Oe(i);pe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await $c(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=Nb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{pe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G3(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hT(e.remoteStore,i)),t._onlineComponents=e}async function G3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new pf)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await og(t,new H3(void 0));return t._offlineComponents}async function RI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await yT(t,new Qg))),t._onlineComponents}function K3(t){return RI(t).then(e=>e.syncEngine)}async function Q3(t){const e=await RI(t),n=e.eventManager;return n.onListen=k3.bind(null,e.syncEngine),n.onUnlisten=O3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V3.bind(null,e.syncEngine),n}function Y3(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new q3({next:w=>{g.eu(),l.enqueueAndForget(()=>x3(a,_));const T=w.docs.has(c);!T&&w.fromCache?p.reject(new xe(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?p.reject(new xe(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new I3(sv(c.path),g,{includeMetadataChanges:!0,ua:!0});return T3(a,_)}(await Q3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e,n){if(!n)throw new xe(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J3(t,e,n,r){if(e===!0&&r===!0)throw new xe(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _T(t){if(!Se.isDocumentKey(t))throw new xe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function gl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tv(t);throw new xe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iL;switch(r.type){case"firstParty":return new lL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vT.get(n);r&&(pe("ComponentProvider","Removing Datastore"),vT.delete(n),r.terminate())}(this),Promise.resolve()}}function Z3(t,e,n,r={}){var i;const a=(t=gl(t,xv))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=nn.MOCK_USER;else{c=DN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new nn(p)}t._authCredentials=new sL(new Db(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sv(this.firestore,e,this._query)}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class sc extends Sv{constructor(e,n,r){super(e,n,sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Se(e))}withConverter(e){return new sc(this.firestore,e,this._path)}}function ET(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=Nb.newId()),X3("doc","path",e),t instanceof xv){const r=vt.fromString(e,...n);return _T(r),new Jn(t,null,new Se(r))}{if(!(t instanceof Jn||t instanceof sc))throw new xe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return _T(r),new Jn(t.firestore,t instanceof sc?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new pI(this,"async_queue_retry"),this.fu=()=>{const r=sg();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new As;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Al(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=vv.createAndSchedule(this,e,n,r,a=>this.Su(a));return this.Eu.push(i),i}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class np extends xv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TT(e),this._firestoreClient=void 0,await e}}}function ej(t,e){const n=typeof t=="object"?t:qS(),r=typeof t=="string"?t:"(default)",i=$y(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=RN("firestore");a&&Z3(i,...a)}return i}function DI(t){if(t._terminated)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tj(t),t._firestoreClient}function tj(t){var e,n,r;const i=t._freezeSettings(),a=function(c,h,p,g){return new xL(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kI(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new W3(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Qt.fromBase64String(e))}catch(n){throw new xe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=/^__.*__$/;class rj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $o(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}function OI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Cv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return mf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(OI(this.Mu)&&nj.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ij{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zf(e)}$u(e,n,r,i=!1){return new Cv({Mu:e,methodName:n,Ku:r,path:Kt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sj(t){const e=t._freezeSettings(),n=Zf(t._databaseId);return new ij(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oj(t,e,n,r,i,a={}){const l=t.$u(a.merge||a.mergeFields?2:0,e,n,i);jI("Data must be an object, but it was:",l,r);const c=MI(r,l);let h,p;if(a.merge)h=new gr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=aj(e,_,n);if(!l.contains(w))throw new xe(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);uj(g,w)||g.push(w)}h=new gr(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new rj(new Yn(c),h,p)}function VI(t,e){if(LI(t=Vn(t)))return jI("Unsupported field value:",e,t),MI(t,e);if(t instanceof NI)return function(r,i){if(!OI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let h=VI(c,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ot.fromDate(r);return{timestampValue:hf(i.serializer,a)}}if(r instanceof Ot){const a=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(i.serializer,a)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yl)return{bytesValue:iI(i.serializer,r._byteString)};if(r instanceof Jn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Av)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return ov(c.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Tv(r)}`)}(t,e)}function MI(t,e){const n={};return Ob(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const a=VI(i,e.Ou(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function LI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Iv||t instanceof yl||t instanceof Jn||t instanceof NI||t instanceof Av)}function jI(t,e,n){if(!LI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Tv(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function aj(t,e,n){if((e=Vn(e))instanceof bv)return e._internalPath;if(typeof e=="string")return FI(t,e);throw mf("Field path arguments must be of type string or ",t,!1,void 0,n)}const lj=new RegExp("[~\\*/\\[\\]]");function FI(t,e,n){if(e.search(lj)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bv(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mf(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new xe(oe.INVALID_ARGUMENT,c+t+h)}function uj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cj extends UI{data(){return super.data()}}function BI(t,e){return typeof e=="string"?FI(t,e):e instanceof bv?e._internalPath:e._delegate._internalPath}class hj{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>xt(l.doubleValue));return new Av(a)}convertGeoPoint(e){return new Iv(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=ks(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Je(cI(r));const i=new tc(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(n)||Ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $I extends UI{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pj extends $I{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){t=gl(t,Jn);const e=gl(t.firestore,np);return Y3(DI(e),t._key).then(n=>vj(e,t,n))}class gj extends hj{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function xT(t,e,n){t=gl(t,Jn);const r=gl(t.firestore,np),i=dj(t.converter,e,n);return zI(r,[oj(sj(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function yj(t){return zI(gl(t.firestore,np),[new av(t._key,Or.none())])}function zI(t,e){return function(r,i){const a=new As;return r.asyncQueue.enqueueAndForget(async()=>M3(await K3(r),i,a)),a.promise}(DI(t),e)}function vj(t,e,n){const r=n.docs.get(e._key),i=new gj(t);return new $I(t,i,e._key,r,new fj(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bl=i})(xl),ll(new Oo("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new np(new oL(r.getProvider("auth-internal")),new cL(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),bs(FE,"4.7.6",e),bs(FE,"4.7.6","esm2017")})();const _j={apiKey:"AIzaSyBaK1O5W5pPk2GUWZ84EXdjoBneRMABB6Q",authDomain:"shopping-website-52c65.firebaseapp.com",projectId:"shopping-website-52c65",storageBucket:"shopping-website-52c65.firebasestorage.app",messagingSenderId:"815560022538",appId:"1:815560022538:web:6100d979b42721ea6f5df3",measurementId:"G-G8YP77NF0H"},HI=HS(_j),ST=ej(HI),jd=nL(HI),wj=new pi,Pv=j.createContext(),Ej=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(!0);return j.useEffect(()=>{const a=qV(jd,l=>{n(l),i(!1)});return()=>a()},[]),k.jsxs(Pv.Provider,{value:{user:e,setUser:n},children:[!r&&t," "]})};function qI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Do(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qI(t))&&(r&&(r+=" "),r+=e);return r}function Tj(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Tj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Hc=t=>typeof t=="number"&&!isNaN(t),Lo=t=>typeof t=="string",Ci=t=>typeof t=="function",xj=t=>Lo(t)||Hc(t),Yg=t=>Lo(t)||Ci(t)?t:null,Sj=(t,e)=>t===!1||Hc(t)&&t>0?t:e,Xg=t=>j.isValidElement(t)||Lo(t)||Ci(t)||Hc(t);function bj(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Ij({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:l,preventExitTransition:c,done:h,nodeRef:p,isIn:g,playToast:_}){let w=n?`${t}--${l}`:t,T=n?`${e}--${l}`:e,S=j.useRef(0);return j.useLayoutEffect(()=>{let b=p.current,R=w.split(" "),N=M=>{M.target===p.current&&(_(),b.removeEventListener("animationend",N),b.removeEventListener("animationcancel",N),S.current===0&&M.type!=="animationcancel"&&b.classList.remove(...R))};b.classList.add(...R),b.addEventListener("animationend",N),b.addEventListener("animationcancel",N)},[]),j.useEffect(()=>{let b=p.current,R=()=>{b.removeEventListener("animationend",R),r?bj(b,h,i):h()};g||(c?R():(S.current=1,b.className+=` ${T}`,b.addEventListener("animationend",R)))},[g]),Le.createElement(Le.Fragment,null,a)}}function bT(t,e){return{content:WI(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function WI(t,e,n=!1){return j.isValidElement(t)&&!Lo(t.type)?j.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ci(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Aj({closeToast:t,theme:e,ariaLabel:n="close"}){return Le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Cj({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:l,progress:c,rtl:h,isIn:p,theme:g}){let _=i||l&&c===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(w.transform=`scaleX(${c})`);let T=Do("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),S=Ci(a)?a({rtl:h,type:r,defaultClassName:T}):Do(T,a),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{p&&n()}};return Le.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Le.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),Le.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:S,style:w,...b}))}var Pj=1,GI=()=>`${Pj++}`;function Rj(t,e,n){let r=1,i=0,a=[],l=[],c=e,h=new Map,p=new Set,g=M=>(p.add(M),()=>p.delete(M)),_=()=>{l=Array.from(h.values()),p.forEach(M=>M())},w=({containerId:M,toastId:U,updateId:K})=>{let J=M?M!==t:t!==1,Z=h.has(U)&&K==null;return J||Z},T=(M,U)=>{h.forEach(K=>{var J;(U==null||U===K.props.toastId)&&((J=K.toggle)==null||J.call(K,M))})},S=M=>{var U,K;(K=(U=M.props)==null?void 0:U.onClose)==null||K.call(U,M.removalReason),M.isActive=!1},b=M=>{if(M==null)h.forEach(S);else{let U=h.get(M);U&&S(U)}_()},R=()=>{i-=a.length,a=[]},N=M=>{var U,K;let{toastId:J,updateId:Z}=M.props,V=Z==null;M.staleId&&h.delete(M.staleId),M.isActive=!0,h.set(J,M),_(),n(bT(M,V?"added":"updated")),V&&((K=(U=M.props).onOpen)==null||K.call(U))};return{id:t,props:c,observe:g,toggle:T,removeToast:b,toasts:h,clearQueue:R,buildToast:(M,U)=>{if(w(U))return;let{toastId:K,updateId:J,data:Z,staleId:V,delay:A}=U,O=J==null;O&&i++;let F={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(U).filter(([D,I])=>I!=null)),toastId:K,updateId:J,data:Z,isIn:!1,className:Yg(U.className||c.toastClassName),progressClassName:Yg(U.progressClassName||c.progressClassName),autoClose:U.isLoading?!1:Sj(U.autoClose,c.autoClose),closeToast(D){h.get(K).removalReason=D,b(K)},deleteToast(){let D=h.get(K);if(D!=null){if(n(bT(D,"removed")),h.delete(K),i--,i<0&&(i=0),a.length>0){N(a.shift());return}_()}}};F.closeButton=c.closeButton,U.closeButton===!1||Xg(U.closeButton)?F.closeButton=U.closeButton:U.closeButton===!0&&(F.closeButton=Xg(c.closeButton)?c.closeButton:!0);let C={content:M,props:F,staleId:V};c.limit&&c.limit>0&&i>c.limit&&O?a.push(C):Hc(A)?setTimeout(()=>{N(C)},A):N(C)},setProps(M){c=M},setToggle:(M,U)=>{let K=h.get(M);K&&(K.toggle=U)},isToastActive:M=>{var U;return(U=h.get(M))==null?void 0:U.isActive},getSnapshot:()=>l}}var dn=new Map,oc=[],Jg=new Set,kj=t=>Jg.forEach(e=>e(t)),KI=()=>dn.size>0;function Dj(){oc.forEach(t=>YI(t.content,t.options)),oc=[]}var Nj=(t,{containerId:e})=>{var n;return(n=dn.get(e||1))==null?void 0:n.toasts.get(t)};function QI(t,e){var n;if(e)return!!((n=dn.get(e))!=null&&n.isToastActive(t));let r=!1;return dn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function Oj(t){if(!KI()){oc=oc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||xj(t))dn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=dn.get(t.containerId);e?e.removeToast(t.id):dn.forEach(n=>{n.removeToast(t.id)})}}var Vj=(t={})=>{dn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function YI(t,e){Xg(t)&&(KI()||oc.push({content:t,options:e}),dn.forEach(n=>{n.buildToast(t,e)}))}function Mj(t){var e;(e=dn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function XI(t,e){dn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function Lj(t){let e=t.containerId||1;return{subscribe(n){let r=Rj(e,t,kj);dn.set(e,r);let i=r.observe(n);return Dj(),()=>{i(),dn.delete(e)}},setProps(n){var r;(r=dn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=dn.get(e))==null?void 0:n.getSnapshot()}}}function jj(t){return Jg.add(t),()=>{Jg.delete(t)}}function Fj(t){return t&&(Lo(t.toastId)||Hc(t.toastId))?t.toastId:GI()}function qc(t,e){return YI(t,e),e.toastId}function rp(t,e){return{...e,type:e&&e.type||t,toastId:Fj(e)}}function ip(t){return(e,n)=>qc(e,rp(t,n))}function We(t,e){return qc(t,rp("default",e))}We.loading=(t,e)=>qc(t,rp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Uj(t,{pending:e,error:n,success:r},i){let a;e&&(a=Lo(e)?We.loading(e,i):We.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(p,g,_)=>{if(g==null){We.dismiss(a);return}let w={type:p,...l,...i,data:_},T=Lo(g)?{render:g}:g;return a?We.update(a,{...w,...T}):We(T.render,{...w,...T}),_},h=Ci(t)?t():t;return h.then(p=>c("success",r,p)).catch(p=>c("error",n,p)),h}We.promise=Uj;We.success=ip("success");We.info=ip("info");We.error=ip("error");We.warning=ip("warning");We.warn=We.warning;We.dark=(t,e)=>qc(t,rp("default",{theme:"dark",...e}));function Bj(t){Oj(t)}We.dismiss=Bj;We.clearWaitingQueue=Vj;We.isActive=QI;We.update=(t,e={})=>{let n=Nj(t,e);if(n){let{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:GI()};a.toastId!==t&&(a.staleId=t);let l=a.render||i;delete a.render,qc(l,a)}};We.done=t=>{We.update(t,{progress:1})};We.onChange=jj;We.play=t=>XI(!0,t);We.pause=t=>XI(!1,t);function $j(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=j.useRef(Lj(t)).current;i(t);let a=(e=j.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(c){if(!a)return[];let h=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;h.has(g)||h.set(g,[]),h.get(g).push(p)}),Array.from(h,p=>c(p[0],p[1]))}return{getToastToRender:l,isToastActive:QI,count:a==null?void 0:a.length}}function zj(t){let[e,n]=j.useState(!1),[r,i]=j.useState(!1),a=j.useRef(null),l=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:h,closeToast:p,onClick:g,closeOnClick:_}=t;Mj({id:t.toastId,containerId:t.containerId,fn:n}),j.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{T()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||N(),window.addEventListener("focus",R),window.addEventListener("blur",N)}function T(){window.removeEventListener("focus",R),window.removeEventListener("blur",N)}function S(V){if(t.draggable===!0||t.draggable===V.pointerType){M();let A=a.current;l.canCloseOnClick=!0,l.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(l.start=V.clientX,l.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(l.start=V.clientY,l.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(V){let{top:A,bottom:O,left:F,right:C}=a.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&t.pauseOnHover&&V.clientX>=F&&V.clientX<=C&&V.clientY>=A&&V.clientY<=O?N():R()}function R(){n(!0)}function N(){n(!1)}function M(){l.didMove=!1,document.addEventListener("pointermove",K),document.addEventListener("pointerup",J)}function U(){document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",J)}function K(V){let A=a.current;if(l.canDrag&&A){l.didMove=!0,e&&N(),t.draggableDirection==="x"?l.delta=V.clientX-l.start:l.delta=V.clientY-l.start,l.start!==V.clientX&&(l.canCloseOnClick=!1);let O=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;A.style.transform=`translate3d(${O},0)`,A.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function J(){U();let V=a.current;if(l.canDrag&&l.didMove&&V){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let Z={onPointerDown:S,onPointerUp:b};return c&&h&&(Z.onMouseEnter=N,t.stacked||(Z.onMouseLeave=R)),_&&(Z.onClick=V=>{g&&g(V),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:N,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Z}}var Hj=typeof window<"u"?j.useLayoutEffect:j.useEffect,sp=({theme:t,type:e,isLoading:n,...r})=>Le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function qj(t){return Le.createElement(sp,{...t},Le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Wj(t){return Le.createElement(sp,{...t},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Gj(t){return Le.createElement(sp,{...t},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Kj(t){return Le.createElement(sp,{...t},Le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Qj(){return Le.createElement("div",{className:"Toastify__spinner"})}var Zg={info:Wj,warning:qj,success:Gj,error:Kj,spinner:Qj},Yj=t=>t in Zg;function Xj({theme:t,type:e,isLoading:n,icon:r}){let i=null,a={theme:t,type:e};return r===!1||(Ci(r)?i=r({...a,isLoading:n}):j.isValidElement(r)?i=j.cloneElement(r,a):n?i=Zg.spinner():Yj(e)&&(i=Zg[e](a))),i}var Jj=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=zj(t),{closeButton:l,children:c,autoClose:h,onClick:p,type:g,hideProgressBar:_,closeToast:w,transition:T,position:S,className:b,style:R,progressClassName:N,updateId:M,role:U,progress:K,rtl:J,toastId:Z,deleteToast:V,isIn:A,isLoading:O,closeOnClick:F,theme:C,ariaLabel:D}=t,I=Do("Toastify__toast",`Toastify__toast-theme--${C}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":F}),Y=Ci(b)?b({rtl:J,position:S,type:g,defaultClassName:I}):Do(I,b),Ae=Xj(t),he=!!K||!h,ce={closeToast:w,type:g,theme:C},ne=null;return l===!1||(Ci(l)?ne=l(ce):j.isValidElement(l)?ne=j.cloneElement(l,ce):ne=Aj(ce)),Le.createElement(T,{isIn:A,done:V,position:S,preventExitTransition:n,nodeRef:r,playToast:a},Le.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":A,className:Y,...i,style:R,ref:r,...A&&{role:U,"aria-label":D}},Ae!=null&&Le.createElement("div",{className:Do("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},Ae),WI(c,t,!e),ne,!t.customProgressBar&&Le.createElement(Cj,{...M&&!he?{key:`p-${M}`}:{},rtl:J,theme:C,delay:h,isRunning:e,isIn:A,closeToast:w,hide:_,type:g,className:N,controlledProgress:he,progress:K||0})))},Zj=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),eF=Ij(Zj("bounce",!0)),tF={position:"top-right",transition:eF,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function nF(t){let e={...tF,...t},n=t.stacked,[r,i]=j.useState(!0),a=j.useRef(null),{getToastToRender:l,isToastActive:c,count:h}=$j(e),{className:p,style:g,rtl:_,containerId:w,hotKeys:T}=e;function S(R){let N=Do("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":_});return Ci(p)?p({position:R,rtl:_,defaultClassName:N}):Do(N,Yg(p))}function b(){n&&(i(!0),We.play())}return Hj(()=>{var R;if(n){let N=a.current.querySelectorAll('[data-in="true"]'),M=12,U=(R=e.position)==null?void 0:R.includes("top"),K=0,J=0;Array.from(N).reverse().forEach((Z,V)=>{let A=Z;A.classList.add("Toastify__toast--stacked"),V>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=U?"top":"bot");let O=K*(r?.2:1)+(r?0:M*V);A.style.setProperty("--y",`${U?O:O*-1}px`),A.style.setProperty("--g",`${M}`),A.style.setProperty("--s",`${1-(r?J:0)}`),K+=A.offsetHeight,J+=.025})}},[r,h,n]),j.useEffect(()=>{function R(N){var M;let U=a.current;T(N)&&((M=U.querySelector('[tabIndex="0"]'))==null||M.focus(),i(!1),We.pause()),N.key==="Escape"&&(document.activeElement===U||U!=null&&U.contains(document.activeElement))&&(i(!0),We.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[T]),Le.createElement("section",{ref:a,className:"Toastify",id:w,onMouseEnter:()=>{n&&(i(!1),We.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,N)=>{let M=N.length?{...g}:{...g,pointerEvents:"none"};return Le.createElement("div",{tabIndex:-1,className:S(R),"data-stacked":n,style:M,key:`c-${R}`},N.map(({content:U,props:K})=>Le.createElement(Jj,{...K,stacked:n,collapseAll:b,isIn:c(K.toastId,K.containerId),key:`t-${K.key}`},U)))}))}var JI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IT=Le.createContext&&Le.createContext(JI),rF=["attr","size","title"];function iF(t,e){if(t==null)return{};var n=sF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){oF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oF(t,e,n){return e=aF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t){var e=lF(t,"string");return typeof e=="symbol"?e:e+""}function lF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZI(t){return t&&t.map((e,n)=>Le.createElement(e.tag,yf({key:n},e.attr),ZI(e.child)))}function Ls(t){return e=>Le.createElement(uF,gf({attr:yf({},t.attr)},e),ZI(t.child))}function uF(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=iF(t,rF),c=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Le.createElement("svg",gf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:yf(yf({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Le.createElement("title",null,a),t.children)};return IT!==void 0?Le.createElement(IT.Consumer,null,n=>e(n)):e(JI)}function cF(t){return Ls({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function hF(t){return Ls({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function dF(t){return Ls({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function fF(t){return Ls({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function pF(t){return Ls({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function mF(t){return Ls({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}const gF=()=>{const{user:t}=j.useContext(Pv),[e,n]=j.useState([]),[r,i]=j.useState({}),[a,l]=j.useState("全部"),[c,h]=j.useState(["全部"]),[p,g]=j.useState(!0);j.useEffect(()=>{const T=b=>{b.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")},S=b=>{b.preventDefault()};return document.addEventListener("contextmenu",T),document.addEventListener("dragstart",S),()=>{document.removeEventListener("contextmenu",T),document.removeEventListener("dragstart",S)}},[]),j.useEffect(()=>{(async()=>{try{g(!0);const R=(await Yd.fetch(`*[_type == "category"] | order(name asc) { 
          name,
          "slug": slug.current
        }`)).map(U=>U.name);h(["全部",...R]);const M=await Yd.fetch(`*[_type == "product"] {
          _id,
          price,
          name,
          "slug": slug.current,
          "categoryName": category->name,
          "categorySlug": category->slug.current,
          "imageUrl": images[0].asset->url
        }`);n(M)}catch(S){console.error("獲取數據時發生錯誤:",S),We.error("獲取產品時發生錯誤，請稍後再試")}finally{g(!1)}})()},[]),j.useEffect(()=>{t?(async()=>{const S=ET(ST,"favorites",t.uid),b=await mj(S);b.exists()?i(b.data().favorites||{}):i({})})():i({})},[t]);const _=async T=>{if(!t){We.warn("請先登入才能收藏商品",{position:"top-right",autoClose:2e3});return}const S=ET(ST,"favorites",t.uid);let b={...r};try{r[T._id]?(delete b[T._id],We.info("已取消收藏",{position:"top-right",autoClose:2e3}),Object.keys(b).length===0?await yj(S):await xT(S,{favorites:b},{merge:!0})):(b[T._id]={id:T._id,name:T.name,price:T.price,imageUrl:T.imageUrl,slug:T.slug,categoryName:T.categoryName},await xT(S,{favorites:b},{merge:!0}),We.success("已加入收藏",{position:"top-right",autoClose:2e3})),i(b)}catch(R){console.error("收藏商品時發生錯誤:",R),We.error("收藏商品時發生錯誤，請稍後再試",{position:"top-right",autoClose:2e3})}},w=a==="全部"?e:e.filter(T=>T.categoryName===a);return p?k.jsx("div",{className:"flex justify-center items-center h-64",children:"載入中..."}):k.jsx("div",{className:"bg-white",children:k.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24",children:[k.jsx("div",{className:"mb-8 border-b border-gray-200",children:k.jsx("div",{className:"flex space-x-8 overflow-x-auto pb-1",children:c.map(T=>k.jsx("button",{className:`whitespace-nowrap pb-4 px-1 font-medium text-sm ${a===T?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l(T),children:T},T))})}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map(T=>k.jsxs("div",{className:"relative group",children:[k.jsx("button",{className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md z-10",onClick:()=>_(T),children:k.jsx(fF,{className:`text-xl ${r[T._id]?"text-red-500":"text-gray-400"}`})}),k.jsxs(yr,{to:`/product/${T.slug}`,className:"block",children:[k.jsx("div",{className:"overflow-hidden rounded-lg bg-gray-100 aspect-w-4 aspect-h-3",children:k.jsx("img",{src:T.imageUrl||"/placeholder.jpg",alt:T.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:S=>{S.target.src="/placeholder.jpg"},onDragStart:S=>S.preventDefault()})}),k.jsxs("div",{className:"mt-3",children:[k.jsx("h3",{className:"font-medium text-gray-900",children:T.name}),k.jsxs("p",{className:"mt-1 text-gray-600",children:["$",T.price]}),T.categoryName&&k.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-gray-100 text-xs rounded-full text-gray-600",children:T.categoryName})]})]})]},T._id))}),w.length===0&&k.jsx("div",{className:"text-center py-12",children:k.jsx("p",{className:"text-gray-500",children:"此分類下暫無產品"})})]})})},eA=()=>{const t=[{id:1,title:"Hidden Gems of Southeast Asia",description:"Discover breathtaking destinations off the beaten path that will transform your perspective on travel.",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 15, 2024",readTime:"8 min read",rating:4,slug:"hidden-gems-southeast-asia"},{id:2,title:"European Food Markets: A Culinary Journey",description:"From Barcelona's La Boqueria to Istanbul's Grand Bazaar, explore the world's most vibrant food scenes.",image:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 12, 2024",readTime:"6 min read",rating:4.8,slug:"european-food-markets"},{id:3,title:"Solo Travel in Japan: Complete Guide",description:"Navigate the Land of the Rising Sun with confidence. Essential tips for first-time solo travelers.",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 10, 2024",readTime:"12 min read",rating:4.9,slug:"solo-travel-japan"},{id:4,title:"Mountain Adventures in the Alps",description:"Experience the breathtaking beauty of Alpine peaks and discover hiking trails that will leave you speechless.",image:"https://images.unsplash.com/photo-1464822759844-d150baec0494?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 08, 2024",readTime:"10 min read",rating:4.7,slug:"mountain-adventures-alps"},{id:5,title:"Street Art Capitals of the World",description:"Explore vibrant street art scenes from Berlin to Buenos Aires and discover the stories behind the walls.",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 05, 2024",readTime:"7 min read",rating:4.5,slug:"street-art-capitals"},{id:6,title:"Island Hopping in the Mediterranean",description:"Sail through crystal-clear waters and discover hidden coves in the most beautiful Mediterranean islands.",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Dec 03, 2024",readTime:"9 min read",rating:4.6,slug:"mediterranean-island-hopping"},{id:7,title:"Northern Lights: A Photographer's Dream",description:"Capture the magic of Aurora Borealis with expert tips and the best locations for stunning photographs.",image:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Nov 28, 2024",readTime:"11 min read",rating:4.9,slug:"northern-lights-photography"},{id:8,title:"Desert Safari Adventures",description:"Experience the thrill of desert exploration from the Sahara to the Arabian Peninsula's golden dunes.",image:"https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Nov 25, 2024",readTime:"8 min read",rating:4.4,slug:"desert-safari-adventures"},{id:9,title:"Urban Exploration: Modern Architecture",description:"Discover architectural marvels in world's most innovative cities and the stories behind their design.",image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",date:"Nov 22, 2024",readTime:"6 min read",rating:4.3,slug:"urban-exploration-architecture"}];return k.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Latest Adventures"}),k.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Follow our journey as we explore the most beautiful places on Earth and share insider tips for your next adventure."})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>k.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[k.jsxs("div",{className:"relative",children:[k.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),k.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-full px-2 py-1 flex items-center shadow-sm",children:[k.jsx("span",{className:"text-yellow-500 text-sm",children:"★"}),k.jsx("span",{className:"text-sm font-medium ml-1",children:e.rating})]})]}),k.jsxs("div",{className:"p-6",children:[k.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors",children:k.jsx(yr,{to:`/blog/${e.slug}`,children:e.title})}),k.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),k.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsxs("span",{className:"flex items-center",children:[k.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.date]}),k.jsxs("span",{className:"flex items-center",children:[k.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.readTime]})]})}),k.jsx("div",{className:"mt-4",children:k.jsxs(yr,{to:`/blog/${e.slug}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors",children:["Read More",k.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]},e.id))})]})})},yF=()=>k.jsxs("div",{children:[k.jsx(gF,{}),k.jsx(eA,{})]});function vF(t){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}const tA=j.createContext({});function _F(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rv=j.createContext(null),nA=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wF(t=!0){const e=j.useContext(Rv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=j.useId();j.useEffect(()=>{t&&i(a)},[t]);const l=j.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const kv=typeof window<"u",EF=kv?j.useLayoutEffect:j.useEffect,On=t=>t;let ey=On;function Dv(t){let e;return()=>(e===void 0&&(e=t()),e)}const vl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},wi=t=>t*1e3,Ei=t=>t/1e3,TF={skipAnimations:!1,useManualTiming:!1};function xF(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(h.schedule(p),t()),p(l)}const h={schedule:(p,g=!1,_=!1)=>{const T=_&&r?e:n;return g&&a.add(p),T.has(p)||T.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const Ed=["read","resolveKeyframes","update","preRender","render","postRender"],SF=40;function rA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Ed.reduce((N,M)=>(N[M]=xF(a),N),{}),{read:c,resolveKeyframes:h,update:p,preRender:g,render:_,postRender:w}=l,T=()=>{const N=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,SF),1),i.timestamp=N,i.isProcessing=!0,c.process(i),h.process(i),p.process(i),g.process(i),_.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},S=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:Ed.reduce((N,M)=>{const U=l[M];return N[M]=(K,J=!1,Z=!1)=>(n||S(),U.schedule(K,J,Z)),N},{}),cancel:N=>{for(let M=0;M<Ed.length;M++)l[Ed[M]].cancel(N)},state:i,steps:l}}const{schedule:at,cancel:Vs,state:Wt,steps:ag}=rA(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0),iA=j.createContext({strict:!1}),CT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const t in CT)_l[t]={isEnabled:e=>CT[t].some(n=>!!e[n])};function bF(t){for(const e in t)_l[e]={..._l[e],...t[e]}}const IF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IF.has(t)}let sA=t=>!vf(t);function AF(t){t&&(sA=e=>e.startsWith("on")?!vf(e):t(e))}try{AF(require("@emotion/is-prop-valid").default)}catch{}function CF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(sA(i)||n===!0&&vf(i)||!e&&!vf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function PF(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const op=j.createContext({});function ac(t){return typeof t=="string"||Array.isArray(t)}function ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Nv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ov=["initial",...Nv];function lp(t){return ap(t.animate)||Ov.some(e=>ac(t[e]))}function oA(t){return!!(lp(t)||t.variants)}function RF(t,e){if(lp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ac(n)?n:void 0,animate:ac(r)?r:void 0}}return t.inherit!==!1?e:{}}function kF(t){const{initial:e,animate:n}=RF(t,j.useContext(op));return j.useMemo(()=>({initial:e,animate:n}),[PT(e),PT(n)])}function PT(t){return Array.isArray(t)?t.join(" "):t}const DF=Symbol.for("motionComponentSymbol");function Ha(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NF(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ha(n)&&(n.current=r))},[e])}const Vv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OF="framerAppearId",aA="data-"+Vv(OF),{schedule:Mv,cancel:I8}=rA(queueMicrotask,!1),lA=j.createContext({});function VF(t,e,n,r,i){var a,l;const{visualElement:c}=j.useContext(op),h=j.useContext(iA),p=j.useContext(Rv),g=j.useContext(nA).reducedMotion,_=j.useRef(null);r=r||h.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=_.current,T=j.useContext(lA);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&MF(_.current,n,i,T);const S=j.useRef(!1);j.useInsertionEffect(()=>{w&&S.current&&w.update(n,p)});const b=n[aA],R=j.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,b)));return EF(()=>{w&&(S.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Mv.render(w.render),R.current&&w.animationState&&w.animationState.animateChanges())}),j.useEffect(()=>{w&&(!R.current&&w.animationState&&w.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,b)}),R.current=!1))}),w}function MF(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uA(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Ha(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function uA(t){if(t)return t.options.allowProjection!==!1?t.projection:uA(t.parent)}function LF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&bF(t);function c(p,g){let _;const w={...j.useContext(nA),...p,layoutId:jF(p)},{isStatic:T}=w,S=kF(p),b=r(p,T);if(!T&&kv){FF();const R=UF(w);_=R.MeasureLayout,S.visualElement=VF(i,b,w,e,R.ProjectionNode)}return k.jsxs(op.Provider,{value:S,children:[_&&S.visualElement?k.jsx(_,{visualElement:S.visualElement,...w}):null,n(i,p,NF(b,S.visualElement,g),b,T,S.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const h=j.forwardRef(c);return h[DF]=i,h}function jF({layoutId:t}){const e=j.useContext(tA).id;return e&&t!==void 0?e+"-"+t:t}function FF(t,e){j.useContext(iA).strict}function UF(t){const{drag:e,layout:n}=_l;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const BF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lv(t){return typeof t!="string"||t.includes("-")?!1:!!(BF.indexOf(t)>-1||/[A-Z]/u.test(t))}function RT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function jv(t,e,n,r){if(typeof e=="function"){const[i,a]=RT(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=RT(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const ty=t=>Array.isArray(t),$F=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),zF=t=>ty(t)?t[t.length-1]||0:t,sn=t=>!!(t&&t.getVelocity);function Fd(t){const e=sn(t)?t.get():t;return $F(e)?e.toValue():e}function HF({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:qF(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const cA=t=>(e,n)=>{const r=j.useContext(op),i=j.useContext(Rv),a=()=>HF(t,e,r,i);return n?a():_F(a)};function qF(t,e,n,r){const i={},a=r(t,{});for(const w in a)i[w]=Fd(a[w]);let{initial:l,animate:c}=t;const h=lp(t),p=oA(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!ap(_)){const w=Array.isArray(_)?_:[_];for(let T=0;T<w.length;T++){const S=jv(t,w[T]);if(S){const{transitionEnd:b,transition:R,...N}=S;for(const M in N){let U=N[M];if(Array.isArray(U)){const K=g?U.length-1:0;U=U[K]}U!==null&&(i[M]=U)}for(const M in b)i[M]=b[M]}}}return i}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ho=new Set(Pl),hA=t=>e=>typeof e=="string"&&e.startsWith(t),dA=hA("--"),WF=hA("var(--"),Fv=t=>WF(t)?GF.test(t.split("/*")[0].trim()):!1,GF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pi=(t,e,n)=>n>e?e:n<t?t:n,Rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lc={...Rl,transform:t=>Pi(0,1,t)},Td={...Rl,default:1},Wc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ls=Wc("deg"),Mr=Wc("%"),Ie=Wc("px"),KF=Wc("vh"),QF=Wc("vw"),kT={...Mr,parse:t=>Mr.parse(t)/100,transform:t=>Mr.transform(t*100)},YF={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},XF={rotate:ls,rotateX:ls,rotateY:ls,rotateZ:ls,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:ls,skewX:ls,skewY:ls,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:lc,originX:kT,originY:kT,originZ:Ie},DT={...Rl,transform:Math.round},Uv={...YF,...XF,zIndex:DT,size:Ie,fillOpacity:lc,strokeOpacity:lc,numOctaves:DT},JF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZF=Pl.length;function e9(t,e,n){let r="",i=!0;for(let a=0;a<ZF;a++){const l=Pl[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=fA(c,Uv[l]);if(!h){i=!1;const g=JF[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Bv(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(Ho.has(h)){l=!0;continue}else if(dA(h)){i[h]=p;continue}else{const g=fA(p,Uv[h]);h.startsWith("origin")?(c=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=e9(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${p} ${g}`}}const t9={offset:"stroke-dashoffset",array:"stroke-dasharray"},n9={offset:"strokeDashoffset",array:"strokeDasharray"};function r9(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?t9:n9;t[a.offset]=Ie.transform(-r);const l=Ie.transform(e),c=Ie.transform(n);t[a.array]=`${l} ${c}`}function NT(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function i9(t,e,n){const r=NT(e,t.x,t.width),i=NT(n,t.y,t.height);return`${r} ${i}`}function $v(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},g,_){if(Bv(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:T,dimensions:S}=t;w.transform&&(S&&(T.transform=w.transform),delete w.transform),S&&(i!==void 0||a!==void 0||T.transform)&&(T.transformOrigin=i9(S,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&r9(w,l,c,h,!1)}const zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),pA=()=>({...zv(),attrs:{}}),Hv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const gA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yA(t,e,n,r){mA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(gA.has(i)?i:Vv(i),e.attrs[i])}const _f={};function s9(t){Object.assign(_f,t)}function vA(t,{layout:e,layoutId:n}){return Ho.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_f[t]||t==="opacity")}function qv(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(sn(i[l])||e.style&&sn(e.style[l])||vA(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function _A(t,e,n){const r=qv(t,e,n);for(const i in t)if(sn(t[i])||sn(e[i])){const a=Pl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function o9(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const OT=["x","y","width","height","cx","cy","r"],a9={useVisualState:cA({scrapeMotionValuesFromProps:_A,createRenderState:pA,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(Ho.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<OT.length;c++){const h=OT[c];t[h]!==e[h]&&(l=!0)}l&&at.read(()=>{o9(n,r),at.render(()=>{$v(r,i,Hv(n.tagName),t.transformTemplate),yA(n,r)})})}})},l9={useVisualState:cA({scrapeMotionValuesFromProps:qv,createRenderState:zv})};function wA(t,e,n){for(const r in e)!sn(e[r])&&!vA(r,n)&&(t[r]=e[r])}function u9({transformTemplate:t},e){return j.useMemo(()=>{const n=zv();return Bv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function c9(t,e){const n=t.style||{},r={};return wA(r,n,t),Object.assign(r,u9(t,e)),r}function h9(t,e){const n={},r=c9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function d9(t,e,n,r){const i=j.useMemo(()=>{const a=pA();return $v(a,e,Hv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};wA(a,t.style,t),i.style={...a,...i.style}}return i}function f9(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(Lv(n)?d9:h9)(r,a,l,n),p=CF(r,typeof n=="string",t),g=n!==j.Fragment?{...p,...h,ref:i}:{},{children:_}=r,w=j.useMemo(()=>sn(_)?_.get():_,[_]);return j.createElement(n,{...g,children:w})}}function p9(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Lv(r)?a9:l9,preloadedFeatures:t,useRender:f9(i),createVisualElement:e,Component:r};return LF(l)}}function EA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function up(t,e,n){const r=t.getProps();return jv(r,e,n!==void 0?n:r.custom,t)}const m9=Dv(()=>window.ScrollTimeline!==void 0);class g9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(m9()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class y9 extends g9{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Wv(t,e){return t?t[e]||t.default||t:void 0}const ny=2e4;function TA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ny;)e+=n,r=t.next(e);return e>=ny?1/0:e}function Gv(t){return typeof t=="function"}function VT(t,e){t.timeline=e,t.onfinish=null}const Kv=t=>Array.isArray(t)&&typeof t[0]=="number",v9={linearEasing:void 0};function _9(t,e){const n=Dv(t);return()=>{var r;return(r=v9[e])!==null&&r!==void 0?r:n()}}const wf=_9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(vl(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function SA(t){return!!(typeof t=="function"&&wf()||!t||typeof t=="string"&&(t in ry||wf())||Kv(t)||Array.isArray(t)&&t.every(SA))}const Mu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ry={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mu([0,.65,.55,1]),circOut:Mu([.55,0,1,.45]),backIn:Mu([.31,.01,.66,-.59]),backOut:Mu([.33,1.53,.69,.99])};function bA(t,e){if(t)return typeof t=="function"&&wf()?xA(t,e):Kv(t)?Mu(t):Array.isArray(t)?t.map(n=>bA(n,e)||ry.easeOut):ry[t]}const mr={x:!1,y:!1};function IA(){return mr.x||mr.y}function w9(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function AA(t,e){const n=w9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function MT(t){return e=>{e.pointerType==="touch"||IA()||t(e)}}function E9(t,e,n={}){const[r,i,a]=AA(t,n),l=MT(c=>{const{target:h}=c,p=e(c);if(typeof p!="function"||!h)return;const g=MT(_=>{p(_),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const CA=(t,e)=>e?t===e?!0:CA(t,e.parentElement):!1,Qv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,T9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function x9(t){return T9.has(t.tagName)||t.tabIndex!==-1}const Lu=new WeakSet;function LT(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const S9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=LT(()=>{if(Lu.has(n))return;lg(n,"down");const i=LT(()=>{lg(n,"up")}),a=()=>lg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jT(t){return Qv(t)&&!IA()}function b9(t,e,n={}){const[r,i,a]=AA(t,n),l=c=>{const h=c.currentTarget;if(!jT(c)||Lu.has(h))return;Lu.add(h);const p=e(c),g=(T,S)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),!(!jT(T)||!Lu.has(h))&&(Lu.delete(h),typeof p=="function"&&p(T,{success:S}))},_=T=>{g(T,n.useGlobalTarget||CA(h,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{!x9(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",p=>S9(p,i),i)}),a}function I9(t){return t==="x"||t==="y"?mr[t]?null:(mr[t]=!0,()=>{mr[t]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}const PA=new Set(["width","height","top","left","right","bottom",...Pl]);let Ud;function A9(){Ud=void 0}const Lr={now:()=>(Ud===void 0&&Lr.set(Wt.isProcessing||TF.useManualTiming?Wt.timestamp:performance.now()),Ud),set:t=>{Ud=t,queueMicrotask(A9)}};function Yv(t,e){t.indexOf(e)===-1&&t.push(e)}function Xv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jv{constructor(){this.subscriptions=[]}add(e){return Yv(this.subscriptions,e),()=>Xv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function RA(t,e){return e?t*(1e3/e):0}const FT=30,C9=t=>!isNaN(parseFloat(t));class P9{constructor(e,n={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Lr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=C9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jv);const r=this.events[e].add(n);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FT);return RA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uc(t,e){return new P9(t,e)}function R9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uc(n))}function k9(t,e){const n=up(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=zF(a[l]);R9(t,l,c)}}function D9(t){return!!(sn(t)&&t.add)}function iy(t,e){const n=t.getValue("willChange");if(D9(n))return n.add(e)}function kA(t){return t.props[aA]}const DA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N9=1e-7,O9=12;function V9(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=DA(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>N9&&++c<O9);return l}function Gc(t,e,n,r){if(t===e&&n===r)return On;const i=a=>V9(a,0,1,t,n);return a=>a===0||a===1?a:DA(i(a),e,r)}const NA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OA=t=>e=>1-t(1-e),VA=Gc(.33,1.53,.69,.99),Zv=OA(VA),MA=NA(Zv),LA=t=>(t*=2)<1?.5*Zv(t):.5*(2-Math.pow(2,-10*(t-1))),e_=t=>1-Math.sin(Math.acos(t)),jA=OA(e_),FA=NA(e_),UA=t=>/^0[^.\s]+$/u.test(t);function M9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UA(t):!0}const Gu=t=>Math.round(t*1e5)/1e5,t_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L9(t){return t==null}const j9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n_=(t,e)=>n=>!!(typeof n=="string"&&j9.test(n)&&n.startsWith(t)||e&&!L9(n)&&Object.prototype.hasOwnProperty.call(n,e)),BA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(t_);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},F9=t=>Pi(0,255,t),ug={...Rl,transform:t=>Math.round(F9(t))},To={test:n_("rgb","red"),parse:BA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Gu(lc.transform(r))+")"};function U9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sy={test:n_("#"),parse:U9,transform:To.transform},qa={test:n_("hsl","hue"),parse:BA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mr.transform(Gu(e))+", "+Mr.transform(Gu(n))+", "+Gu(lc.transform(r))+")"},tn={test:t=>To.test(t)||sy.test(t)||qa.test(t),parse:t=>To.test(t)?To.parse(t):qa.test(t)?qa.parse(t):sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?To.transform(t):qa.transform(t)},B9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(t_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(B9))===null||n===void 0?void 0:n.length)||0)>0}const $A="number",zA="color",z9="var",H9="var(",UT="${}",q9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(q9,h=>(tn.test(h)?(r.color.push(a),i.push(zA),n.push(tn.parse(h))):h.startsWith(H9)?(r.var.push(a),i.push(z9),n.push(h)):(r.number.push(a),i.push($A),n.push(parseFloat(h))),++a,UT)).split(UT);return{values:n,split:c,indexes:r,types:i}}function HA(t){return cc(t).values}function qA(t){const{split:e,types:n}=cc(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===$A?a+=Gu(i[l]):c===zA?a+=tn.transform(i[l]):a+=i[l]}return a}}const W9=t=>typeof t=="number"?0:t;function G9(t){const e=HA(t);return qA(t)(e.map(W9))}const Ms={test:$9,parse:HA,createTransformer:qA,getAnimatableNone:G9},K9=new Set(["brightness","contrast","saturate","opacity"]);function Q9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(t_)||[];if(!r)return t;const i=n.replace(r,"");let a=K9.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Y9=/\b([a-z-]*)\(.*?\)/gu,oy={...Ms,getAnimatableNone:t=>{const e=t.match(Y9);return e?e.map(Q9).join(" "):t}},X9={...Uv,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:oy,WebkitFilter:oy},r_=t=>X9[t];function WA(t,e){let n=r_(t);return n!==oy&&(n=Ms),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const J9=new Set(["auto","none","0"]);function Z9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!J9.has(a)&&cc(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=WA(n,i)}const BT=t=>t===Rl||t===Ie,$T=(t,e)=>parseFloat(t.split(", ")[e]),zT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return $T(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?$T(a[1],t):0}},e6=new Set(["x","y","z"]),t6=Pl.filter(t=>!e6.has(t));function n6(t){const e=[];return t6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:zT(4,13),y:zT(5,14)};wl.translateX=wl.x;wl.translateY=wl.y;const No=new Set;let ay=!1,ly=!1;function GA(){if(ly){const t=Array.from(No).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=n6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ly=!1,ay=!1,No.forEach(t=>t.complete()),No.clear()}function KA(){No.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function r6(){KA(),GA()}class i_{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(No.add(this),ay||(ay=!0,at.read(KA),at.resolveKeyframes(GA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),No.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,No.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const QA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),i6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s6(t){const e=i6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function YA(t,e,n=1){const[r,i]=s6(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return QA(l)?parseFloat(l):l}return Fv(i)?YA(i,e,n+1):i}const XA=t=>e=>e.test(t),o6={test:t=>t==="auto",parse:t=>t},JA=[Rl,Ie,Mr,ls,QF,KF,o6],HT=t=>JA.find(XA(t));class ZA extends i_{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Fv(p))){const g=YA(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!PA.has(r)||e.length!==2)return;const[i,a]=e,l=HT(i),c=HT(a);if(l!==c)if(BT(l)&&BT(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)M9(e[i])&&r.push(i);r.length&&Z9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=wl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const qT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ms.test(t)||t==="0")&&!t.startsWith("url("));function a6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function l6(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=qT(i,e),c=qT(a,e);return!l||!c?!1:a6(t)||(n==="spring"||Gv(n))&&r}const u6=t=>t!==null;function cp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(u6),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const c6=40;class eC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>c6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&r6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Lr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!l6(e,r,i,a))if(l)this.options.duration=0;else{h==null||h(cp(e,this.options,n)),c==null||c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,n)=>t+(e-t)*n;function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=cg(h,c,t+1/3),a=cg(h,c,t),l=cg(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ef(t,e){return n=>n>0?e:t}const hg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},d6=[sy,To,qa],f6=t=>d6.find(e=>e.test(t));function WT(t){const e=f6(t);if(!e)return!1;let n=e.parse(t);return e===qa&&(n=h6(n)),n}const GT=(t,e)=>{const n=WT(t),r=WT(e);if(!n||!r)return Ef(t,e);const i={...n};return a=>(i.red=hg(n.red,r.red,a),i.green=hg(n.green,r.green,a),i.blue=hg(n.blue,r.blue,a),i.alpha=ft(n.alpha,r.alpha,a),To.transform(i))},p6=(t,e)=>n=>e(t(n)),Kc=(...t)=>t.reduce(p6),uy=new Set(["none","hidden"]);function m6(t,e){return uy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g6(t,e){return n=>ft(t,e,n)}function s_(t){return typeof t=="number"?g6:typeof t=="string"?Fv(t)?Ef:tn.test(t)?GT:_6:Array.isArray(t)?tC:typeof t=="object"?tn.test(t)?GT:y6:Ef}function tC(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>s_(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function y6(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s_(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function v6(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=h,i[l]++}return r}const _6=(t,e)=>{const n=Ms.createTransformer(e),r=cc(t),i=cc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uy.has(t)&&!i.values.length||uy.has(e)&&!r.values.length?m6(t,e):Kc(tC(v6(r,i),i.values),n):Ef(t,e)};function nC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):s_(t)(t,e)}const w6=5;function rC(t,e,n){const r=Math.max(e-w6,0);return RA(n-t(r),e-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KT=.001;function E6({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let i,a,l=1-e;l=Pi(gt.minDamping,gt.maxDamping,l),t=Pi(gt.minDuration,gt.maxDuration,Ei(t)),l<1?(i=p=>{const g=p*l,_=g*t,w=g-n,T=cy(p,l),S=Math.exp(-_);return KT-w/T*S},a=p=>{const _=p*l*t,w=_*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,S=Math.exp(-_),b=cy(Math.pow(p,2),l);return(-i(p)+KT>0?-1:1)*((w-T)*S)/b}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,h=x6(i,a,c);if(t=wi(t),isNaN(h))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const T6=12;function x6(t,e,n){let r=n;for(let i=1;i<T6;i++)r=r-t(r)/e(r);return r}function cy(t,e){return t*Math.sqrt(1-e*e)}const S6=["duration","bounce"],b6=["stiffness","damping","mass"];function QT(t,e){return e.some(n=>t[n]!==void 0)}function I6(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!QT(t,b6)&&QT(t,S6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Pi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:gt.mass,stiffness:i,damping:a}}else{const n=E6(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function iC(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:_,velocity:w,isResolvedFromDuration:T}=I6({...n,velocity:-Ei(n.velocity||0)}),S=w||0,b=p/(2*Math.sqrt(h*g)),R=l-a,N=Ei(Math.sqrt(h/g)),M=Math.abs(R)<5;r||(r=M?gt.restSpeed.granular:gt.restSpeed.default),i||(i=M?gt.restDelta.granular:gt.restDelta.default);let U;if(b<1){const J=cy(N,b);U=Z=>{const V=Math.exp(-b*N*Z);return l-V*((S+b*N*R)/J*Math.sin(J*Z)+R*Math.cos(J*Z))}}else if(b===1)U=J=>l-Math.exp(-N*J)*(R+(S+N*R)*J);else{const J=N*Math.sqrt(b*b-1);U=Z=>{const V=Math.exp(-b*N*Z),A=Math.min(J*Z,300);return l-V*((S+b*N*R)*Math.sinh(A)+J*R*Math.cosh(A))/J}}const K={calculatedDuration:T&&_||null,next:J=>{const Z=U(J);if(T)c.done=J>=_;else{let V=0;b<1&&(V=J===0?wi(S):rC(U,J,Z));const A=Math.abs(V)<=r,O=Math.abs(l-Z)<=i;c.done=A&&O}return c.value=c.done?l:Z,c},toString:()=>{const J=Math.min(TA(K),ny),Z=xA(V=>K.next(J*V).value,J,30);return J+"ms "+Z}};return K}function YT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:g}){const _=t[0],w={done:!1,value:_},T=A=>c!==void 0&&A<c||h!==void 0&&A>h,S=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let b=n*e;const R=_+b,N=l===void 0?R:l(R);N!==R&&(b=N-_);const M=A=>-b*Math.exp(-A/r),U=A=>N+M(A),K=A=>{const O=M(A),F=U(A);w.done=Math.abs(O)<=p,w.value=w.done?N:F};let J,Z;const V=A=>{T(w.value)&&(J=A,Z=iC({keyframes:[w.value,S(w.value)],velocity:rC(U,A,w.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return V(0),{calculatedDuration:null,next:A=>{let O=!1;return!Z&&J===void 0&&(O=!0,K(A),V(A)),J!==void 0&&A>=J?Z.next(A-J):(!O&&K(A),w)}}}const A6=Gc(.42,0,1,1),C6=Gc(0,0,.58,1),sC=Gc(.42,0,.58,1),P6=t=>Array.isArray(t)&&typeof t[0]!="number",XT={linear:On,easeIn:A6,easeInOut:sC,easeOut:C6,circIn:e_,circInOut:FA,circOut:jA,backIn:Zv,backInOut:MA,backOut:VA,anticipate:LA},JT=t=>{if(Kv(t)){ey(t.length===4);const[e,n,r,i]=t;return Gc(e,n,r,i)}else if(typeof t=="string")return ey(XT[t]!==void 0),XT[t];return t};function R6(t,e,n){const r=[],i=n||nC,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||On:e;c=Kc(h,c)}r.push(c)}return r}function k6(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ey(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=R6(e,r,i),h=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(h>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const w=vl(t[_],t[_+1],g);return c[_](w)};return n?g=>p(Pi(t[0],t[a-1],g)):p}function D6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=vl(0,e,r);t.push(ft(n,1,i))}}function N6(t){const e=[0];return D6(e,t.length-1),e}function O6(t,e){return t.map(n=>n*e)}function V6(t,e){return t.map(()=>e||sC).splice(0,t.length-1)}function Tf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=P6(r)?r.map(JT):JT(r),a={done:!1,value:e[0]},l=O6(n&&n.length===e.length?n:N6(e),t),c=k6(l,e,{ease:Array.isArray(i)?i:V6(e,i)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const M6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>at.update(e,!0),stop:()=>Vs(e),now:()=>Wt.isProcessing?Wt.timestamp:Lr.now()}},L6={decay:YT,inertia:YT,tween:Tf,keyframes:Tf,spring:iC},j6=t=>t/100;class o_ extends eC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||i_,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=Gv(n)?n:L6[n]||Tf;let h,p;c!==Tf&&typeof e[0]!="number"&&(h=Kc(j6,nC(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=TA(g));const{calculatedDuration:_}=g,w=_+i,T=w*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:_,resolvedDuration:w,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:w,repeat:T,repeatType:S,repeatDelay:b,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-w*(this.speed>=0?1:-1),M=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,K=a;if(T){const A=Math.min(this.currentTime,g)/_;let O=Math.floor(A),F=A%1;!F&&A>=1&&(F=1),F===1&&O--,O=Math.min(O,T+1),!!(O%2)&&(S==="reverse"?(F=1-F,b&&(F-=b/_)):S==="mirror"&&(K=l)),U=Pi(0,1,F)*_}const J=M?{done:!1,value:h[0]}:K.next(U);c&&(J.value=c(J.value));let{done:Z}=J;!M&&p!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return V&&i!==void 0&&(J.value=cp(h,this.options,i)),R&&R(J.value),V&&this.finish(),J}get duration(){const{resolved:e}=this;return e?Ei(e.calculatedDuration):0}get time(){return Ei(this.currentTime)}set time(e){e=wi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=M6,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const F6=new Set(["opacity","clipPath","filter","transform"]);function U6(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=bA(c,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const B6=Dv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xf=10,$6=2e4;function z6(t){return Gv(t.type)||t.type==="spring"||!SA(t.ease)}function H6(t,e){const n=new o_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<$6;)r=n.sample(a),i.push(r.value),a+=xf;return{times:void 0,keyframes:i,duration:a-xf,ease:"linear"}}const oC={anticipate:LA,backInOut:MA,circInOut:FA};function q6(t){return t in oC}class ZT extends eC{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new ZA(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:a,ease:l,type:c,motionValue:h,name:p,startTime:g}=this.options;if(!(!((r=h.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&wf()&&q6(l)&&(l=oC[l]),z6(this.options)){const{onComplete:w,onUpdate:T,motionValue:S,element:b,...R}=this.options,N=H6(e,R);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,a=N.times,l=N.ease,c="keyframes"}const _=U6(h.owner.current,p,e,{...this.options,duration:i,times:a,ease:l});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(VT(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;h.set(cp(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:i,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ei(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ei(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=wi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return On;const{animation:r}=n;VT(r,e)}return On}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:w,...T}=this.options,S=new o_({...T,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),b=wi(this.time);p.setWithVelocity(S.sample(b-xf).value,S.sample(b).value,xf)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;return B6()&&r&&F6.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const W6={type:"spring",stiffness:500,damping:25,restSpeed:10},G6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),K6={type:"keyframes",duration:.8},Q6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y6=(t,{keyframes:e})=>e.length>2?K6:Ho.has(t)?t.startsWith("scale")?G6(e[1]):W6:Q6;function X6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const a_=(t,e,n,r={},i,a)=>l=>{const c=Wv(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-wi(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};X6(c)||(g={...g,...Y6(t,g)}),g.duration&&(g.duration=wi(g.duration)),g.repeatDelay&&(g.repeatDelay=wi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const w=cp(g.keyframes,c);if(w!==void 0)return at.update(()=>{g.onUpdate(w),g.onComplete()}),new y9([])}return!a&&ZT.supports(g)?new ZT(g):new o_(g)};function J6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const _ in h){const w=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),T=h[_];if(T===void 0||g&&J6(g,_))continue;const S={delay:n,...Wv(l||{},_)};let b=!1;if(window.MotionHandoffAnimation){const N=kA(t);if(N){const M=window.MotionHandoffAnimation(N,_,at);M!==null&&(S.startTime=M,b=!0)}}iy(t,_),w.start(a_(_,w,T,t.shouldReduceMotion&&PA.has(_)?{type:!1}:S,t,b));const R=w.animation;R&&p.push(R)}return c&&Promise.all(p).then(()=>{at.update(()=>{c&&k9(t,c)})}),p}function hy(t,e,n={}){var r;const i=up(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(aC(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:w}=a;return Z6(t,e,g+p,_,w,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function Z6(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(e5).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(hy(p,e,{...a,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function e5(t,e){return t.sortNodePosition(e)}function t5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>hy(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=hy(t,e,n);else{const i=typeof e=="function"?up(t,e,n.custom):e;r=Promise.all(aC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const n5=Ov.length;function lC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<n5;n++){const r=Ov[n],i=t.props[r];(ac(i)||i===!1)&&(e[r]=i)}return e}const r5=[...Nv].reverse(),i5=Nv.length;function s5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>t5(t,n,r)))}function o5(t){let e=s5(t),n=ex(),r=!0;const i=h=>(p,g)=>{var _;const w=up(t,g,h==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(w){const{transition:T,transitionEnd:S,...b}=w;p={...p,...b,...S}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,g=lC(t.parent)||{},_=[],w=new Set;let T={},S=1/0;for(let R=0;R<i5;R++){const N=r5[R],M=n[N],U=p[N]!==void 0?p[N]:g[N],K=ac(U),J=N===h?M.isActive:null;J===!1&&(S=R);let Z=U===g[N]&&U!==p[N]&&K;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),M.protectedKeys={...T},!M.isActive&&J===null||!U&&!M.prevProp||ap(U)||typeof U=="boolean")continue;const V=a5(M.prevProp,U);let A=V||N===h&&M.isActive&&!Z&&K||R>S&&K,O=!1;const F=Array.isArray(U)?U:[U];let C=F.reduce(i(N),{});J===!1&&(C={});const{prevResolvedValues:D={}}=M,I={...D,...C},Y=ce=>{A=!0,w.has(ce)&&(O=!0,w.delete(ce)),M.needsAnimating[ce]=!0;const ne=t.getValue(ce);ne&&(ne.liveStyle=!1)};for(const ce in I){const ne=C[ce],fe=D[ce];if(T.hasOwnProperty(ce))continue;let le=!1;ty(ne)&&ty(fe)?le=!EA(ne,fe):le=ne!==fe,le?ne!=null?Y(ce):w.add(ce):ne!==void 0&&w.has(ce)?Y(ce):M.protectedKeys[ce]=!0}M.prevProp=U,M.prevResolvedValues=C,M.isActive&&(T={...T,...C}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(Z&&V)||O)&&_.push(...F.map(ce=>({animation:ce,options:{type:N}})))}if(w.size){const R={};w.forEach(N=>{const M=t.getBaseTarget(N),U=t.getValue(N);U&&(U.liveStyle=!0),R[N]=M??null}),_.push({animation:R})}let b=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(_):Promise.resolve()}function c(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var T;return(T=w.animationState)===null||T===void 0?void 0:T.setActive(h,p)}),n[h].isActive=p;const _=l(h);for(const w in n)n[w].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ex(),r=!0}}}function a5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EA(e,t):!1}function po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ex(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class js{constructor(e){this.isMounted=!1,this.node=e}update(){}}class l5 extends js{constructor(e){super(e),e.animationState||(e.animationState=o5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let u5=0;class c5 extends js{constructor(){super(...arguments),this.id=u5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const h5={animation:{Feature:l5},exit:{Feature:c5}};function hc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qc(t){return{point:{x:t.pageX,y:t.pageY}}}const d5=t=>e=>Qv(e)&&t(e,Qc(e));function Ku(t,e,n,r){return hc(t,e,d5(n),r)}const tx=(t,e)=>Math.abs(t-e);function f5(t,e){const n=tx(t.x,e.x),r=tx(t.y,e.y);return Math.sqrt(n**2+r**2)}class uC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=fg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=f5(_.offset,{x:0,y:0})>=3;if(!w&&!T)return;const{point:S}=_,{timestamp:b}=Wt;this.history.push({...S,timestamp:b});const{onStart:R,onMove:N}=this.handlers;w||(R&&R(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=dg(w,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=fg(_.type==="pointercancel"?this.lastMoveEventInfo:dg(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,R),S&&S(_,R)},!Qv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Qc(e),c=dg(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=Wt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,fg(c,this.history)),this.removeListeners=Kc(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function nx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fg({point:t},e){return{point:t,delta:nx(t,cC(e)),offset:nx(t,p5(e)),velocity:m5(e,.1)}}function p5(t){return t[0]}function cC(t){return t[t.length-1]}function m5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=cC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>wi(e)));)n--;if(!r)return{x:0,y:0};const a=Ei(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const hC=1e-4,g5=1-hC,y5=1+hC,dC=.01,v5=0-dC,_5=0+dC;function Mn(t){return t.max-t.min}function w5(t,e,n){return Math.abs(t-e)<=n}function rx(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Mn(n)/Mn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g5&&t.scale<=y5||isNaN(t.scale))&&(t.scale=1),(t.translate>=v5&&t.translate<=_5||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,r){rx(t.x,e.x,n.x,r?r.originX:void 0),rx(t.y,e.y,n.y,r?r.originY:void 0)}function ix(t,e,n){t.min=n.min+e.min,t.max=t.min+Mn(e)}function E5(t,e,n){ix(t.x,e.x,n.x),ix(t.y,e.y,n.y)}function sx(t,e,n){t.min=e.min-n.min,t.max=t.min+Mn(e)}function Yu(t,e,n){sx(t.x,e.x,n.x),sx(t.y,e.y,n.y)}function T5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function ox(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function x5(t,{top:e,left:n,bottom:r,right:i}){return{x:ox(t.x,n,i),y:ox(t.y,e,r)}}function ax(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function S5(t,e){return{x:ax(t.x,e.x),y:ax(t.y,e.y)}}function b5(t,e){let n=.5;const r=Mn(t),i=Mn(e);return i>r?n=vl(e.min,e.max-r,t.min):r>i&&(n=vl(t.min,t.max-i,e.min)),Pi(0,1,n)}function I5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dy=.35;function A5(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:lx(t,"left","right"),y:lx(t,"top","bottom")}}function lx(t,e,n){return{min:ux(t,e),max:ux(t,n)}}function ux(t,e){return typeof t=="number"?t:t[e]||0}const cx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wa=()=>({x:cx(),y:cx()}),hx=()=>({min:0,max:0}),Tt=()=>({x:hx(),y:hx()});function Kn(t){return[t("x"),t("y")]}function fC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function C5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function P5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pg(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!pg(t)||!pg(e)||!pg(n)}function yo(t){return fy(t)||pC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pC(t){return dx(t.x)||dx(t.y)}function dx(t){return t&&t!=="0%"}function Sf(t,e,n){const r=t-n,i=e*r;return n+i}function fx(t,e,n,r,i){return i!==void 0&&(t=Sf(t,i,r)),Sf(t,n,r)+e}function py(t,e=0,n=1,r,i){t.min=fx(t.min,e,n,r,i),t.max=fx(t.max,e,n,r,i)}function mC(t,{x:e,y:n}){py(t.x,e.translate,e.scale,e.originPoint),py(t.y,n.translate,n.scale,n.originPoint)}const px=.999999999999,mx=1.0000000000001;function R5(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ka(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,mC(t,l)),r&&yo(a.latestValues)&&Ka(t,a.latestValues))}e.x<mx&&e.x>px&&(e.x=1),e.y<mx&&e.y>px&&(e.y=1)}function Ga(t,e){t.min=t.min+e,t.max=t.max+e}function gx(t,e,n,r,i=.5){const a=ft(t.min,t.max,i);py(t,e,n,a,r)}function Ka(t,e){gx(t.x,e.x,e.scaleX,e.scale,e.originX),gx(t.y,e.y,e.scaleY,e.scale,e.originY)}function gC(t,e){return fC(P5(t.getBoundingClientRect(),e))}function k5(t,e,n){const r=gC(t,n),{scroll:i}=e;return i&&(Ga(r.x,i.offset.x),Ga(r.y,i.offset.y)),r}const yC=({current:t})=>t?t.ownerDocument.defaultView:null,D5=new WeakMap;class N5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qc(g).point)},a=(g,_)=>{const{drag:w,dragPropagation:T,onDragStart:S}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=I9(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(R=>{let N=this.getAxisMotionValue(R).get()||0;if(Mr.test(N)){const{projection:M}=this.visualElement;if(M&&M.layout){const U=M.layout.layoutBox[R];U&&(N=Mn(U)*(parseFloat(N)/100))}}this.originPoint[R]=N}),S&&at.postRender(()=>S(g,_)),iy(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:S,onDrag:b}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=_;if(T&&this.currentDirection===null){this.currentDirection=O5(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),b&&b(g,_)},c=(g,_)=>this.stop(g,_),h=()=>Kn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new uC(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:yC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&at.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=T5(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Ha(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=x5(i.layoutBox,n):this.constraints=!1,this.elastic=A5(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Kn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=I5(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ha(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=k5(r,i.root,this.visualElement.getTransformPagePoint());let l=S5(i.layout.layoutBox,a);if(n){const c=n(C5(l));this.hasMutatedConstraints=!!c,c&&(l=fC(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Kn(g=>{if(!xd(g,n,this.currentDirection))return;let _=h[g]||{};l&&(_={min:0,max:0});const w=i?200:1e6,T=i?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return iy(this.visualElement,e),r.start(a_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kn(n=>{const{drag:r}=this.getProps();if(!xd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-ft(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ha(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=b5({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(l=>{if(!xd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(ft(h,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;D5.set(this.visualElement,this);const e=this.visualElement.current,n=Ku(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Ha(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const l=hc(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Kn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=h[g].translate,_.set(_.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=dy,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function O5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class V5 extends js{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new N5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const yx=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class M5 extends js{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new uC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yx(e),onStart:yx(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&at.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=vx(t,e.target.x),r=vx(t,e.target.y);return`${n}% ${r}%`}},L5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ms.parse(t);if(i.length>5)return r;const a=Ms.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const p=ft(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};class j5 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;s9(F5),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Bd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||at.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vC(t){const[e,n]=wF(),r=j.useContext(tA);return k.jsx(j5,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(lA),isPresent:e,safeToRemove:n})}const F5={borderRadius:{...Pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pu,borderTopRightRadius:Pu,borderBottomLeftRadius:Pu,borderBottomRightRadius:Pu,boxShadow:L5};function U5(t,e,n){const r=sn(t)?t:uc(t);return r.start(a_("",r,e,n)),r.animation}function B5(t){return t instanceof SVGElement&&t.tagName!=="svg"}const $5=(t,e)=>t.depth-e.depth;class z5{constructor(){this.children=[],this.isDirty=!1}add(e){Yv(this.children,e),this.isDirty=!0}remove(e){Xv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($5),this.isDirty=!1,this.children.forEach(e)}}function H5(t,e){const n=Lr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Vs(r),t(a-e))};return at.read(r,!0),()=>Vs(r)}const _C=["TopLeft","TopRight","BottomLeft","BottomRight"],q5=_C.length,_x=t=>typeof t=="string"?parseFloat(t):t,wx=t=>typeof t=="number"||Ie.test(t);function W5(t,e,n,r,i,a){i?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,G5(r)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,K5(r))):a&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<q5;l++){const c=`border${_C[l]}Radius`;let h=Ex(e,c),p=Ex(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||wx(h)===wx(p)?(t[c]=Math.max(ft(_x(h),_x(p),r),0),(Mr.test(p)||Mr.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function Ex(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const G5=wC(0,.5,jA),K5=wC(.5,.95,On);function wC(t,e,n){return r=>r<t?0:r>e?1:n(vl(t,e,r))}function Tx(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){Tx(t.x,e.x),Tx(t.y,e.y)}function xx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Sx(t,e,n,r,i){return t-=e,t=Sf(t,1/n,r),i!==void 0&&(t=Sf(t,1/i,r)),t}function Q5(t,e=0,n=1,r=.5,i,a=t,l=t){if(Mr.test(e)&&(e=parseFloat(e),e=ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ft(a.min,a.max,r);t===a&&(c-=e),t.min=Sx(t.min,e,n,c,i),t.max=Sx(t.max,e,n,c,i)}function bx(t,e,[n,r,i],a,l){Q5(t,e[n],e[r],e[i],e.scale,a,l)}const Y5=["x","scaleX","originX"],X5=["y","scaleY","originY"];function Ix(t,e,n,r){bx(t.x,e,Y5,n?n.x:void 0,r?r.x:void 0),bx(t.y,e,X5,n?n.y:void 0,r?r.y:void 0)}function Ax(t){return t.translate===0&&t.scale===1}function EC(t){return Ax(t.x)&&Ax(t.y)}function Cx(t,e){return t.min===e.min&&t.max===e.max}function J5(t,e){return Cx(t.x,e.x)&&Cx(t.y,e.y)}function Px(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TC(t,e){return Px(t.x,e.x)&&Px(t.y,e.y)}function Rx(t){return Mn(t.x)/Mn(t.y)}function kx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Z5{constructor(){this.members=[]}add(e){Yv(this.members,e),e.scheduleRender()}remove(e){if(Xv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eU(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:w,skewX:T,skewY:S}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ju=typeof window<"u"&&window.MotionDebug!==void 0,mg=["","X","Y","Z"],tU={visibility:"hidden"},Dx=1e3;let nU=0;function gg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xC(r)}function SC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=nU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ju&&(vo.totalNodes=vo.resolvedTargetDeltas=vo.recalculatedProjection=0),this.nodes.forEach(sU),this.nodes.forEach(cU),this.nodes.forEach(hU),this.nodes.forEach(oU),ju&&window.MotionDebug.record(vo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new z5)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Jv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=B5(l),this.instance=l;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let _;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=H5(w,250),Bd.hasAnimatedSinceResize&&(Bd.hasAnimatedSinceResize=!1,this.nodes.forEach(Ox))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeTargetChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||g.getDefaultTransition()||gU,{onLayoutAnimationStart:R,onLayoutAnimationComplete:N}=g.getProps(),M=!this.targetLayout||!TC(this.targetLayout,S)||T,U=!w&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||w&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,U);const K={...Wv(b,"layout"),onPlay:R,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else w||Ox(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nx);return}this.isUpdating||this.nodes.forEach(lU),this.isUpdating=!1,this.nodes.forEach(uU),this.nodes.forEach(rU),this.nodes.forEach(iU),this.clearAllSnapshots();const c=Lr.now();Wt.delta=Pi(0,1e3/60,c-Wt.timestamp),Wt.timestamp=c,Wt.isProcessing=!0,ag.update.process(Wt),ag.preRender.process(Wt),ag.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aU),this.sharedNodes.forEach(fU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!EC(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||yo(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),yU(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Tt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(vU))){const{scroll:g}=this.root;g&&(Ga(h.x,g.offset.x),Ga(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=Tt();if(Gn(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:w}=g;g!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Gn(h,l),Ga(h.x,_.offset.x),Ga(h.y,_.offset.y))}return h}applyTransform(l,c=!1){const h=Tt();Gn(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ka(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),yo(g.latestValues)&&Ka(h,g.latestValues)}return yo(this.latestValues)&&Ka(h,this.latestValues),h}removeTransform(l){const c=Tt();Gn(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!yo(p.latestValues))continue;fy(p.latestValues)&&p.updateSnapshot();const g=Tt(),_=p.measurePageBox();Gn(g,_),Ix(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return yo(this.latestValues)&&Ix(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!(!this.layout||!(_||w))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Yu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),mC(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Yu(this.relativeTargetOrigin,this.target,T.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ju&&vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||pC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Gn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;R5(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Tt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xx(this.prevProjectionDelta.x,this.projectionDelta.x),xx(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!kx(this.projectionDelta.x,this.prevProjectionDelta.x)||!kx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),ju&&vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wa(),this.projectionDelta=Wa(),this.projectionDeltaWithTransform=Wa()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},_=Wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Tt(),T=h?h.source:void 0,S=this.layout?this.layout.source:void 0,b=T!==S,R=this.getStack(),N=!R||R.members.length<=1,M=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(mU));this.animationProgress=0;let U;this.mixTargetDelta=K=>{const J=K/1e3;Vx(_.x,l.x,J),Vx(_.y,l.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pU(this.relativeTarget,this.relativeTargetOrigin,w,J),U&&J5(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Tt()),Gn(U,this.relativeTarget)),b&&(this.animationValues=g,W5(g,p,this.latestValues,J,M,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Bd.hasAnimatedSinceResize=!0,this.currentAnimation=U5(0,Dx,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:g}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&bC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Tt();const _=Mn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+_;const w=Mn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}Gn(c,h),Ka(c,g),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Z5),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&gg("z",l,p,this.animationValues);for(let g=0;g<mg.length;g++)gg(`rotate${mg[g]}`,l,p,this.animationValues),gg(`skew${mg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tU;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Fd(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Fd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(b.transform=g?g({},""):"none",this.hasProjected=!1),b}const w=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=eU(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:T,y:S}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,_.animationValues?p.opacity=_===this?(h=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=_===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const b in _f){if(w[b]===void 0)continue;const{correct:R,applyTo:N}=_f[b],M=p.transform==="none"?w[b]:R(w[b],_);if(N){const U=N.length;for(let K=0;K<U;K++)p[N[K]]=M}else p[b]=M}return this.options.layoutId&&(p.pointerEvents=_===this?Fd(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Nx),this.root.sharedNodes.clear()}}}function rU(t){t.updateLayout()}function iU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Kn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],T=Mn(w);w.min=r[_].min,w.max=w.min+T}):bC(a,n.layoutBox,r)&&Kn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],T=Mn(r[_]);w.max=w.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+T)});const c=Wa();Qu(c,r,n.layoutBox);const h=Wa();l?Qu(h,t.applyTransform(i,!0),n.measuredBox):Qu(h,r,n.layoutBox);const p=!EC(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:T}=_;if(w&&T){const S=Tt();Yu(S,n.layoutBox,w.layoutBox);const b=Tt();Yu(b,r,T.layoutBox),TC(S,b)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sU(t){ju&&vo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aU(t){t.clearSnapshot()}function Nx(t){t.clearMeasurements()}function lU(t){t.isLayoutDirty=!1}function uU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ox(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cU(t){t.resolveTargetDelta()}function hU(t){t.calcProjection()}function dU(t){t.resetSkewAndRotation()}function fU(t){t.removeLeadSnapshot()}function Vx(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Mx(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function pU(t,e,n,r){Mx(t.x,e.x,n.x,r),Mx(t.y,e.y,n.y,r)}function mU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gU={duration:.45,ease:[.4,0,.1,1]},Lx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jx=Lx("applewebkit/")&&!Lx("chrome/")?Math.round:On;function Fx(t){t.min=jx(t.min),t.max=jx(t.max)}function yU(t){Fx(t.x),Fx(t.y)}function bC(t,e,n){return t==="position"||t==="preserve-aspect"&&!w5(Rx(e),Rx(n),.2)}function vU(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _U=SC({attachResizeListener:(t,e)=>hc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},IC=SC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yg.current){const t=new _U({});t.mount(window),t.setOptions({layoutScroll:!0}),yg.current=t}return yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wU={pan:{Feature:M5},drag:{Feature:V5,ProjectionNode:IC,MeasureLayout:vC}};function Ux(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&at.postRender(()=>a(e,Qc(e)))}class EU extends js{mount(){const{current:e}=this.node;e&&(this.unmount=E9(e,n=>(Ux(this.node,n,"Start"),r=>Ux(this.node,r,"End"))))}unmount(){}}class TU extends js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kc(hc(this.node.current,"focus",()=>this.onFocus()),hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bx(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&at.postRender(()=>a(e,Qc(e)))}class xU extends js{mount(){const{current:e}=this.node;e&&(this.unmount=b9(e,n=>(Bx(this.node,n,"Start"),(r,{success:i})=>Bx(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,vg=new WeakMap,SU=t=>{const e=my.get(t.target);e&&e(t)},bU=t=>{t.forEach(SU)};function IU({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const r=vg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bU,{root:t,...e})),r[i]}function AU(t,e,n){const r=IU(e);return my.set(t,n),r.observe(t),()=>{my.delete(t),r.unobserve(t)}}const CU={some:0,all:1};class PU extends js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:CU[i]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),w=p?g:_;w&&w(h)};return AU(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(RU(e,n))&&this.startObserver()}unmount(){}}function RU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kU={inView:{Feature:PU},tap:{Feature:xU},focus:{Feature:TU},hover:{Feature:EU}},DU={layout:{ProjectionNode:IC,MeasureLayout:vC}},gy={current:null},AC={current:!1};function NU(){if(AC.current=!0,!!kv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gy.current=t.matches;t.addListener(e),e()}else gy.current=!1}const OU=[...JA,tn,Ms],VU=t=>OU.find(XA(t)),$x=new WeakMap;function MU(t,e,n){for(const r in e){const i=e[r],a=n[r];if(sn(i))t.addValue(r,i);else if(sn(a))t.addValue(r,uc(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,uc(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Lr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,at.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=lp(n),this.isVariantNode=oA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in w){const S=w[T];h[T]!==void 0&&sn(S)&&S.set(h[T],!1)}}mount(e){this.current=e,$x.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AC.current||NU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$x.delete(this.current),this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ho.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _l){const n=_l[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zx.length;r++){const i=zx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=MU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(QA(i)||UA(i))?i=parseFloat(i):!VU(i)&&Ms.test(n)&&(i=WA(e,n)),this.setBaseTarget(e,sn(i)?i.get():i)),sn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=jv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class CC extends LU{constructor(){super(...arguments),this.KeyframeResolver=ZA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jU(t){return window.getComputedStyle(t)}class FU extends CC{constructor(){super(...arguments),this.type="html",this.renderInstance=mA}readValueFromInstance(e,n){if(Ho.has(n)){const r=r_(n);return r&&r.default||0}else{const r=jU(e),i=(dA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gC(e,n)}build(e,n,r){Bv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qv(e,n,r)}}class UU extends CC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ho.has(n)){const r=r_(n);return r&&r.default||0}return n=gA.has(n)?n:Vv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _A(e,n,r)}build(e,n,r){$v(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){yA(e,n,r,i)}mount(e){this.isSVGTag=Hv(e.tagName),super.mount(e)}}const BU=(t,e)=>Lv(t)?new UU(e):new FU(e,{allowProjection:t!==j.Fragment}),$U=p9({...h5,...kU,...wU,...DU},BU),Xn=PF($U);var _g,Hx;function zU(){if(Hx)return _g;Hx=1;function t(e,n,r){var i,a,l,c,h;n==null&&(n=100);function p(){var _=Date.now()-c;_<n&&_>=0?i=setTimeout(p,n-_):(i=null,r||(h=e.apply(l,a),l=a=null))}var g=function(){l=this,a=arguments,c=Date.now();var _=r&&!i;return i||(i=setTimeout(p,n)),_&&(h=e.apply(l,a),l=a=null),h};return g.clear=function(){i&&(clearTimeout(i),i=null)},g.flush=function(){i&&(h=e.apply(l,a),l=a=null,clearTimeout(i),i=null)},g}return t.debounce=t,_g=t,_g}var HU=zU();const qx=bc(HU);function qU(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1};const a=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,c]=j.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=j.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),p=e?typeof e=="number"?e:e.scroll:null,g=e?typeof e=="number"?e:e.resize:null,_=j.useRef(!1);j.useEffect(()=>(_.current=!0,()=>void(_.current=!1)));const[w,T,S]=j.useMemo(()=>{const M=()=>{if(!h.current.element)return;const{left:U,top:K,width:J,height:Z,bottom:V,right:A,x:O,y:F}=h.current.element.getBoundingClientRect(),C={left:U,top:K,width:J,height:Z,bottom:V,right:A,x:O,y:F};h.current.element instanceof HTMLElement&&i&&(C.height=h.current.element.offsetHeight,C.width=h.current.element.offsetWidth),Object.freeze(C),_.current&&!QU(h.current.lastBounds,C)&&c(h.current.lastBounds=C)};return[M,g?qx(M,g):M,p?qx(M,p):M]},[c,i,p,g]);function b(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",S,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function R(){h.current.element&&(h.current.resizeObserver=new a(S),h.current.resizeObserver.observe(h.current.element),n&&h.current.scrollContainers&&h.current.scrollContainers.forEach(M=>M.addEventListener("scroll",S,{capture:!0,passive:!0})))}const N=M=>{!M||M===h.current.element||(b(),h.current.element=M,h.current.scrollContainers=PC(M),R())};return GU(S,!!n),WU(T),j.useEffect(()=>{b(),R()},[n,S,T]),j.useEffect(()=>b,[]),[N,l,w]}function WU(t){j.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function GU(t,e){j.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function PC(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...PC(t.parentElement)]}const KU=["x","y","top","bottom","left","right","width","height"],QU=(t,e)=>KU.every(n=>t[n]===e[n]),YU=({title:t,children:e,defaultOpen:n=!1})=>{const[r,{height:i}]=qU(),[a,l]=j.useState(n);return k.jsxs(Xn.div,{animate:a?"open":"closed",className:"border-b-[1px] border-b-slate-300",children:[k.jsxs("button",{onClick:()=>l(c=>!c),className:"flex w-full items-center justify-between gap-4 py-6",children:[k.jsx(Xn.span,{variants:{open:{color:"rgba(3, 6, 23, 1)"},closed:{color:"rgba(3, 6, 23, 0.8)"}},className:"bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-left text-lg font-medium",children:t}),k.jsx(Xn.span,{variants:{open:{rotate:"180deg",color:"rgb(124 58 237)"},closed:{rotate:"0deg",color:"#030617"}},children:k.jsx(vF,{className:"text-2xl"})})]}),k.jsx(Xn.div,{initial:!1,animate:{height:a?i:"0px",marginBottom:a?"24px":"0px"},className:"overflow-hidden text-slate-600",children:k.jsx("div",{ref:r,children:e})})]})},XU=({images:t})=>{const[e,n]=j.useState(0);return!t||t.length===0?k.jsx("div",{className:"h-96 bg-gray-100 flex items-center justify-center",children:"無圖片"}):k.jsxs("div",{className:"flex flex-col",children:[k.jsx("div",{className:"relative overflow-hidden min-h-[100px] flex items-center justify-center",children:k.jsx("img",{src:t[e],alt:"Product",className:"max-w-[60%]  object-contain",onDragStart:r=>r.preventDefault()})}),t.length>1&&k.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2",children:t.map((r,i)=>k.jsx("button",{onClick:()=>n(i),className:`flex-shrink-0 h-20 w-20 rounded-md overflow-hidden border-2 ${e===i?"border-blue-500":"border-transparent"}`,children:k.jsx("img",{src:r,alt:`Thumbnail ${i+1}`,className:"h-full w-full object-cover",onDragStart:a=>a.preventDefault()})},i))})]})},JU=()=>{const{slug:t}=u1(),[e,n]=j.useState(null),[r,i]=j.useState(!0),[a,l]=j.useState(null);return j.useEffect(()=>{const c=p=>{p.preventDefault(),console.log("右鍵功能已禁用，無法下載圖片")};document.addEventListener("contextmenu",c);const h=p=>{p.preventDefault()};return document.addEventListener("dragstart",h),()=>{document.removeEventListener("contextmenu",c),document.removeEventListener("dragstart",h)}},[]),j.useEffect(()=>{(async()=>{try{i(!0),l(null);const p=await Yd.fetch(`*[_type == "product" && slug.current == $slug][0] {
          _id,
          "images": images[].asset->url,
          name,
          price,
          description,
          "slug": slug.current,
          "categoryName": category->name
        }`,{slug:t});if(!p)throw new Error("Product not found");n(p)}catch(h){l(h.message)}finally{i(!1)}})()},[t]),r?k.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):a?k.jsxs("div",{className:"flex justify-center items-center h-64 text-red-500",children:["Error: ",a]}):k.jsxs("div",{className:"bg-white -mt-6",children:[k.jsx("div",{className:"w-full px-4",children:k.jsx(XU,{images:e.images})}),k.jsxs("div",{className:"mx-auto max-w-screen-xl px-4 md:px-8",children:[k.jsxs("div",{className:"mb-8",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("span",{className:"mb-1 inline-block text-gray-500",children:e.categoryName}),k.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:e.name})]}),k.jsx("div",{className:"mb-6 flex items-center gap-3",children:k.jsx("span",{className:"text-sm text-gray-500 transition duration-100",children:"56 Ratings"})}),k.jsxs("div",{className:"mb-6",children:[k.jsxs("div",{className:"flex items-end gap-2",children:[k.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["$",e.price]}),k.jsxs("span",{className:"mb-0.5 text-red-500 line-through",children:["$",e.price+30]})]}),k.jsx("span",{className:"text-sm text-gray-500",children:"不含運費"})]}),k.jsx("div",{className:"mb-8",children:k.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"加入購物車"})})]}),k.jsxs("div",{className:"py-8 border-t border-gray-200",children:[k.jsx("h3",{className:"mb-6 text-xl font-semibold",children:"產品描述"}),k.jsx(YU,{title:"特色",defaultOpen:!0,children:k.jsx("p",{children:e.description})})]})]})]})};var wg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Wx;function ZU(){return Wx||(Wx=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(wg)),wg.exports}var eB=ZU();const qo=bc(eB);function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(null,arguments)}function RC(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Gx(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function tB(t){var e=nB(t,"string");return typeof e=="symbol"?e:String(e)}function nB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rB(t,e,n){var r=j.useRef(t!==void 0),i=j.useState(e),a=i[0],l=i[1],c=t!==void 0,h=r.current;return r.current=c,!c&&h&&a!==e&&l(e),[c?t:a,j.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),w=1;w<g;w++)_[w-1]=arguments[w];n&&n.apply(void 0,[p].concat(_)),l(p)},[n])]}function iB(t,e){return Object.keys(e).reduce(function(n,r){var i,a=n,l=a[Gx(r)],c=a[r],h=RC(a,[Gx(r),r].map(tB)),p=e[r],g=rB(c,l,t[p]),_=g[0],w=g[1];return yy({},h,(i={},i[r]=_,i[p]=w,i))},t)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vy(t,e)}function sB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vy(t,e)}const oB=["xxl","xl","lg","md","sm","xs"],aB="xs",lB=j.createContext({prefixes:{},breakpoints:oB,minBreakpoint:aB});function kl(t,e){const{prefixes:n}=j.useContext(lB);return t||n[e]||e}function uB(t){return t&&t.ownerDocument||document}function cB(t){var e=uB(t);return e&&e.defaultView||window}function hB(t,e){return cB(t).getComputedStyle(t,e)}var dB=/([A-Z])/g;function fB(t){return t.replace(dB,"-$1").toLowerCase()}var pB=/^ms-/;function Sd(t){return fB(t).replace(pB,"-ms-")}var mB=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function gB(t){return!!(t&&mB.test(t))}function bf(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Sd(e))||hB(t).getPropertyValue(Sd(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(Sd(i)):gB(i)?r+=i+"("+a+") ":n+=Sd(i)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const Kx={disabled:!1},kC=Le.createContext(null);var yB=function(e){return e.scrollTop},Fu="unmounted",us="exited",cs="entering",_o="entered",If="exiting",Ni=function(t){sB(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?c?(h=us,a.appearStatus=cs):h=_o:r.unmountOnExit||r.mountOnEnter?h=Fu:h=us,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Fu?{status:us}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==cs&&l!==_o&&(a=cs):(l===cs||l===_o)&&(a=If)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===cs){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:ku.findDOMNode(this);l&&yB(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===us&&this.setState({status:Fu})},n.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,h=this.props.nodeRef?[c]:[ku.findDOMNode(this),c],p=h[0],g=h[1],_=this.getTimeouts(),w=c?_.appear:_.enter;if(!i&&!l||Kx.disabled){this.safeSetState({status:_o},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:cs},function(){a.props.onEntering(p,g),a.onTransitionEnd(w,function(){a.safeSetState({status:_o},function(){a.props.onEntered(p,g)})})})},n.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:ku.findDOMNode(this);if(!a||Kx.disabled){this.safeSetState({status:us},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:If},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:us},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:ku.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=h[0],g=h[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Fu)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=RC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Le.createElement(kC.Provider,{value:null},typeof l=="function"?l(i,c):Le.cloneElement(Le.Children.only(l),c))},e}(Le.Component);Ni.contextType=kC;Ni.propTypes={};function ja(){}Ni.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ja,onEntering:ja,onEntered:ja,onExit:ja,onExiting:ja,onExited:ja};Ni.UNMOUNTED=Fu;Ni.EXITED=us;Ni.ENTERING=cs;Ni.ENTERED=_o;Ni.EXITING=If;function vB(){const t=j.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function _B(t){if(!t||typeof t=="function")return null;const{major:e}=vB();return e>=19?t.props.ref:t.ref}const wB=!!(typeof window<"u"&&window.document&&window.document.createElement);var _y=!1,wy=!1;try{var Eg={get passive(){return _y=!0},get once(){return wy=_y=!0}};wB&&(window.addEventListener("test",Eg,Eg),window.removeEventListener("test",Eg,!0))}catch{}function EB(t,e,n,r){if(r&&typeof r!="boolean"&&!wy){var i=r.once,a=r.capture,l=n;!wy&&i&&(l=n.__once||function c(h){this.removeEventListener(e,c,a),n.call(this,h)},n.__once=l),t.addEventListener(e,l,_y?r:a)}t.addEventListener(e,n,r)}function TB(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function DC(t,e,n,r){return EB(t,e,n,r),function(){TB(t,e,n,r)}}function xB(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function SB(t){var e=bf(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function bB(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||xB(t,"transitionend",!0)},e+n),a=DC(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function IB(t,e,n,r){n==null&&(n=SB(t)||0);var i=bB(t,n,r),a=DC(t,"transitionend",e);return function(){i(),a()}}function Qx(t,e){const n=bf(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function AB(t,e){const n=Qx(t,"transitionDuration"),r=Qx(t,"transitionDelay"),i=IB(t,a=>{a.target===t&&(i(),e(a))},n+r)}function Ru(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function CB(t){t.offsetHeight}const Yx=t=>!t||typeof t=="function"?t:e=>{t.current=e};function PB(t,e){const n=Yx(t),r=Yx(e);return i=>{n&&n(i),r&&r(i)}}function RB(t,e){return j.useMemo(()=>PB(t,e),[t,e])}function kB(t){return t&&"setState"in t?ku.findDOMNode(t):t??null}const DB=Le.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:h,...p},g)=>{const _=j.useRef(null),w=RB(_,h),T=Z=>{w(kB(Z))},S=Z=>V=>{Z&&_.current&&Z(_.current,V)},b=j.useCallback(S(t),[t]),R=j.useCallback(S(e),[e]),N=j.useCallback(S(n),[n]),M=j.useCallback(S(r),[r]),U=j.useCallback(S(i),[i]),K=j.useCallback(S(a),[a]),J=j.useCallback(S(l),[l]);return k.jsx(Ni,{ref:g,...p,onEnter:b,onEntered:N,onEntering:R,onExit:M,onExited:K,onExiting:U,addEndListener:J,nodeRef:_,children:typeof c=="function"?(Z,V)=>c(Z,{...V,ref:T}):Le.cloneElement(c,{ref:T})})}),NB={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function OB(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=NB[t];return r+parseInt(bf(e,i[0]),10)+parseInt(bf(e,i[1]),10)}const VB={[us]:"collapse",[If]:"collapsing",[cs]:"collapsing",[_o]:"collapse show"},MB=Le.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:h=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:w=!1,getDimensionValue:T=OB,...S},b)=>{const R=typeof c=="function"?c():c,N=j.useMemo(()=>Ru(Z=>{Z.style[R]="0"},t),[R,t]),M=j.useMemo(()=>Ru(Z=>{const V=`scroll${R[0].toUpperCase()}${R.slice(1)}`;Z.style[R]=`${Z[V]}px`},e),[R,e]),U=j.useMemo(()=>Ru(Z=>{Z.style[R]=null},n),[R,n]),K=j.useMemo(()=>Ru(Z=>{Z.style[R]=`${T(R,Z)}px`,CB(Z)},r),[r,T,R]),J=j.useMemo(()=>Ru(Z=>{Z.style[R]=null},i),[R,i]);return k.jsx(DB,{ref:b,addEndListener:AB,...S,"aria-expanded":S.role?h:null,onEnter:N,onEntering:M,onEntered:U,onExit:K,onExiting:J,childRef:_B(l),in:h,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:w,children:(Z,V)=>Le.cloneElement(l,{...V,className:qo(a,l.props.className,VB[Z],R==="width"&&"collapse-horizontal")})})});function NC(t,e){return Array.isArray(t)?t.includes(e):t===e}const Yc=j.createContext({});Yc.displayName="AccordionContext";const l_=j.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=j.useContext(Yc);return e=kl(e,"accordion-collapse"),k.jsx(MB,{ref:l,in:NC(c,i),...a,className:qo(n,e),children:k.jsx(t,{children:j.Children.only(r)})})});l_.displayName="AccordionCollapse";const hp=j.createContext({eventKey:""});hp.displayName="AccordionItemContext";const OC=j.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:h,...p},g)=>{e=kl(e,"accordion-body");const{eventKey:_}=j.useContext(hp);return k.jsx(l_,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:h,children:k.jsx(t,{ref:g,...p,className:qo(n,e)})})});OC.displayName="AccordionBody";function LB(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:i}=j.useContext(Yc);return a=>{let l=t===n?null:t;i&&(Array.isArray(n)?n.includes(t)?l=n.filter(c=>c!==t):l=[...n,t]:l=[t]),r==null||r(l,a),e==null||e(a)}}const u_=j.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...i},a)=>{e=kl(e,"accordion-button");const{eventKey:l}=j.useContext(hp),c=LB(l,r),{activeEventKey:h}=j.useContext(Yc);return t==="button"&&(i.type="button"),k.jsx(t,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(h)?h.includes(l):l===h,className:qo(n,e,!NC(h,l)&&"collapsed")})});u_.displayName="AccordionButton";const VC=j.forwardRef(({as:t="h2","aria-controls":e,bsPrefix:n,className:r,children:i,onClick:a,...l},c)=>(n=kl(n,"accordion-header"),k.jsx(t,{ref:c,...l,className:qo(r,n),children:k.jsx(u_,{onClick:a,"aria-controls":e,children:i})})));VC.displayName="AccordionHeader";const MC=j.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...i},a)=>{e=kl(e,"accordion-item");const l=j.useMemo(()=>({eventKey:r}),[r]);return k.jsx(hp.Provider,{value:l,children:k.jsx(t,{ref:a,...i,className:qo(n,e)})})});MC.displayName="AccordionItem";const LC=j.forwardRef((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:h,...p}=iB(t,{activeKey:"onSelect"}),g=kl(i,"accordion"),_=j.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:h}),[r,l,h]);return k.jsx(Yc.Provider,{value:_,children:k.jsx(n,{ref:e,...p,className:qo(a,g,c&&`${g}-flush`)})})});LC.displayName="Accordion";const mo=Object.assign(LC,{Button:u_,Collapse:l_,Item:MC,Header:VC,Body:OC});function jB(){return k.jsx("div",{className:" ",children:k.jsxs(mo,{className:"mb-7",defaultActiveKey:"0",children:[k.jsxs(mo.Item,{eventKey:"0",children:[k.jsx(mo.Header,{children:"Accordion Item #1"}),k.jsx(mo.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),k.jsxs(mo.Item,{eventKey:"1",children:[k.jsx(mo.Header,{children:"Accordion Item #2"}),k.jsx(mo.Body,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})})}function FB(t){return Ls({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const UB=()=>{const t=l1(),{user:e,setUser:n}=j.useContext(Pv),r=async()=>{try{await $V(jd,gb);const a=await hM(jd,wj);n(a.user),t("/")}catch(a){console.error("Error during Google login:",a.message)}},i=async()=>{try{await WV(jd),n(null),t("/")}catch(a){console.error("Error during logout:",a.message)}};return k.jsx("div",{className:"flex items-center gap-4",children:e?k.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"登出"}):k.jsx("div",{className:"relative w-full h-screen",children:k.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 max-w-sm w-full p-6 rounded-lg shadow-lg text-center",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Log into Your Account"}),k.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sign in to your account with your social profile"}),k.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 w-full mt-4 bg-red-500 text-white py-3 rounded-full text-lg font-semibold shadow-md hover:bg-red-600 transition",children:[k.jsx(FB,{className:"text-2xl bg-white rounded-full p-1"}),"Sign in with Google"]})]})})})},BB=()=>{const{slug:t}=u1(),e=[{id:1,title:"Hidden Gems of Southeast Asia",description:"Discover breathtaking destinations off the beaten path that will transform your perspective on travel.",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 15, 2024",readTime:"8 min read",rating:4,slug:"hidden-gems-southeast-asia",author:"Sarah Johnson",content:`
        <p>Southeast Asia has always been a magnet for travelers seeking adventure, culture, and natural beauty. While popular destinations like Bangkok, Bali, and Singapore draw millions of visitors annually, there's a whole world of hidden gems waiting to be discovered by those willing to venture off the beaten path.</p>
        
        <h2>The Untouched Islands of Raja Ampat</h2>
        <p>Located in Indonesia's West Papua province, Raja Ampat is often called the "Crown Jewel of Marine Biodiversity." This remote archipelago consists of four main islands surrounded by smaller islets, offering some of the world's most pristine diving and snorkeling experiences.</p>
        
        <p>The waters here are home to over 1,500 species of fish and 75% of all known coral species. What makes Raja Ampat truly special is its commitment to conservation – local communities have established marine protected areas that ensure these underwater treasures remain unspoiled for future generations.</p>
        
        <h2>The Ancient Temples of Bagan</h2>
        <p>While Angkor Wat gets most of the attention, Myanmar's Bagan offers an equally spectacular temple experience with far fewer crowds. This ancient city is home to over 2,000 Buddhist temples and pagodas scattered across a vast plain.</p>
        
        <p>The best way to experience Bagan is from a hot air balloon at sunrise, watching the mist rise from the Irrawaddy River as the golden temples emerge from the morning haze. It's a sight that will stay with you forever.</p>
        
        <h2>The Floating Markets of Can Tho</h2>
        <p>Vietnam's Mekong Delta is famous for its floating markets, but most tourists only visit the commercialized ones near Ho Chi Minh City. For a more authentic experience, head to Can Tho's Cai Rang floating market, where local farmers have been trading fruits and vegetables from their boats for generations.</p>
        
        <p>Arrive early in the morning to see the market at its most vibrant, with boats laden with pineapples, dragon fruit, and other tropical produce creating a colorful mosaic on the water.</p>
      `},{id:2,title:"European Food Markets: A Culinary Journey",description:"From Barcelona's La Boqueria to Istanbul's Grand Bazaar, explore the world's most vibrant food scenes.",image:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 12, 2024",readTime:"6 min read",rating:4.8,slug:"european-food-markets",author:"Marco Rodriguez",content:`
        <p>Europe's food markets are more than just places to shop – they're cultural institutions that have been feeding communities for centuries. Each market tells a story of local traditions, seasonal ingredients, and culinary heritage passed down through generations.</p>
        
        <h2>La Boqueria, Barcelona</h2>
        <p>Perhaps the most famous food market in Europe, La Boqueria has been serving Barcelona since the 13th century. Located just off Las Ramblas, this vibrant market is a feast for all the senses.</p>
        
        <p>Don't miss the fresh fruit juices, jamón ibérico, and the incredible variety of seafood. The market's colorful displays of fruits and vegetables are Instagram-worthy, but the real magic happens when you taste the incredible flavors.</p>
        
        <h2>Borough Market, London</h2>
        <p>London's Borough Market is a food lover's paradise, showcasing the best of British and international cuisine. Dating back to the 13th century, it's one of the oldest food markets in London.</p>
        
        <p>Sample artisanal cheeses, freshly baked bread, and gourmet street food from around the world. The market's Victorian architecture provides a stunning backdrop for your culinary adventure.</p>
      `},{id:3,title:"Solo Travel in Japan: Complete Guide",description:"Navigate the Land of the Rising Sun with confidence. Essential tips for first-time solo travelers.",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 10, 2024",readTime:"12 min read",rating:4.9,slug:"solo-travel-japan",author:"Yuki Tanaka",content:`
        <p>Japan is one of the world's best destinations for solo travelers. The country's safety, efficiency, and unique culture make it an ideal place to explore on your own. Here's everything you need to know for your first solo adventure in the Land of the Rising Sun.</p>
        
        <h2>Getting Around: The JR Pass</h2>
        <p>The Japan Rail Pass is your ticket to exploring the country efficiently and affordably. This pass gives you unlimited access to most JR trains, including the famous shinkansen (bullet trains).</p>
        
        <p>Purchase your JR Pass before arriving in Japan for the best rates. The 7-day pass is perfect for first-time visitors planning to visit Tokyo, Kyoto, and Osaka.</p>
        
        <h2>Where to Stay: Capsule Hotels and Ryokans</h2>
        <p>Japan offers unique accommodation options perfect for solo travelers. Capsule hotels provide affordable, safe, and clean lodging in city centers, while traditional ryokans offer an authentic Japanese experience with tatami mats, futon beds, and communal baths.</p>
        
        <h2>Cultural Etiquette</h2>
        <p>Understanding Japanese etiquette will enhance your travel experience. Always bow when greeting, remove shoes when entering homes or certain restaurants, and avoid eating while walking. These small gestures show respect for local customs.</p>
      `},{id:4,title:"Mountain Adventures in the Alps",description:"Experience the breathtaking beauty of Alpine peaks and discover hiking trails that will leave you speechless.",image:"https://images.unsplash.com/photo-1464822759844-d150baec0494?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 08, 2024",readTime:"10 min read",rating:4.7,slug:"mountain-adventures-alps",author:"Elena Schmidt",content:`
        <p>The Alps stretch across eight countries and offer some of the world's most spectacular mountain scenery. From the iconic Matterhorn to the pristine lakes of Austria, this mountain range provides endless opportunities for adventure seekers and nature lovers alike.</p>
        
        <h2>The Classic Alpine Hiking Routes</h2>
        <p>The Tour du Mont Blanc is perhaps the most famous long-distance hiking trail in the Alps, circling the Mont Blanc massif through France, Italy, and Switzerland. This 170-kilometer trek takes you through diverse landscapes, from glacial valleys to high alpine meadows.</p>
        
        <p>For those seeking a shorter but equally rewarding experience, the Haute Route from Chamonix to Zermatt offers stunning glacier views and challenging terrain that will test even experienced hikers.</p>
        
        <h2>Alpine Lakes and Villages</h2>
        <p>The Alps are home to countless pristine lakes, each more beautiful than the last. Lake Bled in Slovenia, with its fairy-tale island church, and Lake Annecy in France, known as the "Pearl of the French Alps," are must-visit destinations.</p>
        
        <p>Don't miss the charming mountain villages like Hallstatt in Austria or Gimmelwald in Switzerland, where traditional Alpine culture is still very much alive.</p>
        
        <h2>Best Time to Visit</h2>
        <p>Summer (June to September) is ideal for hiking and outdoor activities, while winter transforms the Alps into a wonderland perfect for skiing and snowboarding. Spring and autumn offer fewer crowds and stunning seasonal colors.</p>
      `},{id:5,title:"Street Art Capitals of the World",description:"Explore vibrant street art scenes from Berlin to Buenos Aires and discover the stories behind the walls.",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 05, 2024",readTime:"7 min read",rating:4.5,slug:"street-art-capitals",author:"Diego Martinez",content:`
        <p>Street art has evolved from underground rebellion to mainstream cultural expression, transforming urban landscapes around the world. These cities have embraced street art as a legitimate art form, creating open-air galleries that tell stories of culture, politics, and human experience.</p>
        
        <h2>Berlin: The Graffiti Capital</h2>
        <p>Berlin's street art scene is legendary, with the East Side Gallery being the longest remaining section of the Berlin Wall, now covered in murals by international artists. The city's liberal attitude toward street art has created neighborhoods like Kreuzberg and Friedrichshain that are living canvases.</p>
        
        <p>Take a street art tour through these districts to discover hidden gems and learn about the political and social messages behind the artwork.</p>
        
        <h2>Buenos Aires: South American Expression</h2>
        <p>Buenos Aires has one of the most vibrant street art scenes in South America. The city's economic struggles have given rise to powerful political murals, while neighborhoods like Palermo and San Telmo showcase colorful, artistic expressions of Argentine culture.</p>
        
        <p>The city even offers official street art tours, showing how the local government has embraced this form of artistic expression.</p>
        
        <h2>Melbourne: Laneway Culture</h2>
        <p>Melbourne's famous laneways are a maze of street art, from large-scale murals to intricate stencil work. The city's street art is constantly evolving, with new pieces appearing regularly in areas like Hosier Lane and AC/DC Lane.</p>
      `},{id:6,title:"Island Hopping in the Mediterranean",description:"Sail through crystal-clear waters and discover hidden coves in the most beautiful Mediterranean islands.",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Dec 03, 2024",readTime:"9 min read",rating:4.6,slug:"mediterranean-island-hopping",author:"Sofia Papadopoulos",content:`
        <p>The Mediterranean Sea is dotted with thousands of islands, each offering its own unique blend of history, culture, and natural beauty. Island hopping in this ancient sea is like traveling through time, from prehistoric ruins to medieval fortresses to modern beach resorts.</p>
        
        <h2>The Greek Islands: Cycladic Beauty</h2>
        <p>The Cyclades offer the quintessential Greek island experience with their white-washed buildings, blue-domed churches, and dramatic clifftop villages. Start with Santorini for its famous sunsets, then explore Mykonos for its vibrant nightlife, and discover hidden gems like Folegandros and Sifnos.</p>
        
        <p>Each island has its own personality - from the party atmosphere of Ios to the artistic community of Hydra, where cars are banned and donkeys still carry goods through narrow stone streets.</p>
        
        <h2>The Balearic Islands: Spanish Paradise</h2>
        <p>Spain's Balearic Islands offer a perfect mix of beach relaxation and cultural exploration. Ibiza is famous for its electronic music scene, but also boasts UNESCO World Heritage sites and pristine beaches. Mallorca combines stunning coastlines with charming mountain villages and excellent hiking.</p>
        
        <p>Don't overlook Menorca, a UNESCO Biosphere Reserve with some of the most unspoiled beaches in the Mediterranean.</p>
        
        <h2>Planning Your Island-Hopping Adventure</h2>
        <p>The best time for island hopping is late spring through early fall when ferry services are most frequent. Consider purchasing an island-hopping pass for cost-effective travel, and always book accommodations in advance during peak summer months.</p>
      `},{id:7,title:"Northern Lights: A Photographer's Dream",description:"Capture the magic of Aurora Borealis with expert tips and the best locations for stunning photographs.",image:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Nov 28, 2024",readTime:"11 min read",rating:4.9,slug:"northern-lights-photography",author:"Lars Andersen",content:`
        <p>The Aurora Borealis, or Northern Lights, is one of nature's most spectacular phenomena. These dancing curtains of light have captivated humans for millennia, and with the right knowledge and equipment, you can capture their ethereal beauty in stunning photographs.</p>
        
        <h2>Understanding the Aurora</h2>
        <p>The Northern Lights occur when charged particles from the sun interact with Earth's magnetic field and atmosphere. The best viewing occurs during the dark months from September to March, with peak activity around the equinoxes.</p>
        
        <p>Aurora activity follows an 11-year solar cycle, and we're currently approaching solar maximum, making this an excellent time for aurora photography.</p>
        
        <h2>Best Locations for Aurora Photography</h2>
        <p>Iceland offers some of the most accessible aurora viewing, with Reykjavik as a base for northern expeditions. The Jökulsárlón glacier lagoon provides stunning foreground elements for your aurora shots.</p>
        
        <p>Northern Norway, particularly around Tromsø, offers excellent aurora chances and the unique opportunity to photograph the lights reflecting off fjords. Finnish Lapland and northern Sweden provide pristine wilderness settings with minimal light pollution.</p>
        
        <h2>Photography Techniques</h2>
        <p>Use a sturdy tripod and shoot in manual mode with a wide-angle lens. Start with ISO 1600-3200, aperture f/2.8 or wider, and exposure times of 10-25 seconds. Focus manually on infinity and use the camera's timer or a remote shutter to avoid camera shake.</p>
        
        <p>Include interesting foreground elements like trees, mountains, or buildings to create more compelling compositions. The contrast between the earthbound elements and the celestial display creates powerful visual narratives.</p>
      `},{id:8,title:"Desert Safari Adventures",description:"Experience the thrill of desert exploration from the Sahara to the Arabian Peninsula's golden dunes.",image:"https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Nov 25, 2024",readTime:"8 min read",rating:4.4,slug:"desert-safari-adventures",author:"Amira Hassan",content:`
        <p>Desert safaris offer a unique blend of adventure, culture, and natural beauty. From the vast expanses of the Sahara to the towering dunes of the Arabian Peninsula, these landscapes provide unforgettable experiences that connect us with some of Earth's most extreme environments.</p>
        
        <h2>The Sahara: World's Largest Hot Desert</h2>
        <p>Morocco's Sahara Desert, accessible from cities like Marrakech and Fez, offers some of the most accessible desert safari experiences. The Erg Chebbi dunes near Merzouga rise up to 150 meters high and provide spectacular sunrise and sunset views.</p>
        
        <p>A traditional camel trek to a Berber camp allows you to experience desert life as nomads have for centuries. Sleep under a canopy of stars more brilliant than you've ever seen, and wake to the haunting call to prayer echoing across the dunes.</p>
        
        <h2>Arabian Peninsula: Luxury Desert Experiences</h2>
        <p>The UAE's desert safaris combine traditional Bedouin culture with modern luxury. Dubai and Abu Dhabi offer everything from thrilling dune bashing in 4x4 vehicles to elegant desert resorts where you can enjoy gourmet dining under the stars.</p>
        
        <p>Don't miss the opportunity to try sandboarding, falconry demonstrations, and traditional henna painting. The contrast between the ultra-modern cities and the timeless desert creates a unique cultural experience.</p>
        
        <h2>Essential Desert Safari Tips</h2>
        <p>Pack light, breathable clothing for the day and warm layers for surprisingly cold desert nights. Bring plenty of water, sunscreen, and a hat. Respect local customs and the fragile desert ecosystem by staying on designated paths and taking only photographs.</p>
        
        <p>The best time for desert safaris is during cooler months (October to March) when daytime temperatures are more comfortable for outdoor activities.</p>
      `},{id:9,title:"Urban Exploration: Modern Architecture",description:"Discover architectural marvels in world's most innovative cities and the stories behind their design.",image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",date:"Nov 22, 2024",readTime:"6 min read",rating:4.3,slug:"urban-exploration-architecture",author:"Alexander Chen",content:`
        <p>Modern architecture has transformed city skylines around the world, creating iconic structures that define urban landscapes. These architectural marvels are not just buildings – they're statements of human ambition, technological advancement, and artistic vision.</p>
        
        <h2>Dubai: Futuristic Desert Metropolis</h2>
        <p>Dubai's skyline is a testament to architectural ambition. The Burj Khalifa, standing at 828 meters, redefined what's possible in skyscraper construction. The building's design, inspired by Islamic architecture and desert flowers, demonstrates how modern structures can honor cultural heritage.</p>
        
        <p>The Museum of the Future, with its distinctive torus shape covered in Arabic calligraphy, represents Dubai's vision of innovation. Its unique design challenges traditional architectural concepts while serving as a symbol of the city's forward-thinking approach.</p>
        
        <h2>Singapore: Green Architecture Pioneer</h2>
        <p>Singapore has pioneered sustainable urban architecture with buildings like the Parkroyal Collection Pickering, which features more greenery than the park it replaced. The city's commitment to biophilic design creates urban oases that improve air quality and provide natural cooling.</p>
        
        <p>The Gardens by the Bay Supertrees are engineering marvels that combine art, architecture, and environmental technology. These 50-meter tall structures collect rainwater, generate solar power, and provide ventilation for the conservatories.</p>
        
        <h2>Copenhagen: Human-Centered Design</h2>
        <p>Copenhagen's architecture prioritizes human well-being and environmental sustainability. The 8 House by Bjarke Ingels Group creates a mountain-like structure where residents can bike from street level to the 11th floor, redefining urban living.</p>
        
        <p>The city's commitment to carbon neutrality by 2025 has driven innovative architectural solutions that balance aesthetic appeal with environmental responsibility.</p>
      `}],n=e.find(r=>r.slug===t);return n?k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsxs("div",{className:"relative h-96 overflow-hidden",children:[k.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),k.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:k.jsxs("div",{className:"text-center text-white max-w-4xl px-4",children:[k.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:n.title}),k.jsx("p",{className:"text-xl opacity-90",children:n.description})]})})]}),k.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[k.jsx("div",{className:"mb-8",children:k.jsxs(yr,{to:"/blog",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[k.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Blog"]})}),k.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:k.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[k.jsxs("div",{className:"flex items-center space-x-6",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:n.author.split(" ").map(r=>r[0]).join("")}),k.jsxs("div",{className:"ml-3",children:[k.jsx("p",{className:"font-medium text-gray-900",children:n.author}),k.jsx("p",{className:"text-sm text-gray-500",children:n.date})]})]}),k.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[k.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.readTime]})]}),k.jsxs("div",{className:"flex items-center bg-yellow-50 rounded-full px-3 py-1",children:[k.jsx("span",{className:"text-yellow-500",children:"★"}),k.jsx("span",{className:"text-sm font-medium ml-1",children:n.rating})]})]})}),k.jsx("article",{className:"bg-white rounded-lg shadow-sm p-8",children:k.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:n.content}})}),k.jsxs("div",{className:"mt-12",children:[k.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Adventures"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(r=>r.id!==n.id).slice(0,3).map(r=>k.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[k.jsx("img",{src:r.image,alt:r.title,className:"w-full h-32 object-cover"}),k.jsxs("div",{className:"p-4",children:[k.jsx("h4",{className:"font-bold text-gray-900 mb-2 hover:text-blue-600",children:k.jsx(yr,{to:`/blog/${r.slug}`,children:r.title})}),k.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:r.description}),k.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[k.jsx("span",{children:r.date}),k.jsx("span",{children:r.readTime})]})]})]},r.id))})]})]})]}):k.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog Post Not Found"}),k.jsx("p",{className:"text-gray-600 mb-8",children:"The blog post you're looking for doesn't exist."}),k.jsx(yr,{to:"/blog",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Blog"})]})})},$B=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"About Page"}),k.jsx("p",{children:"About content will go here."})]}),zB=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Service Page"}),k.jsx("p",{children:"Service content will go here."})]}),HB=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Resume Page"}),k.jsx("p",{children:"Resume content will go here."})]}),qB=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Portfolio Page"}),k.jsx("p",{children:"Portfolio content will go here."})]}),WB=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials Page"}),k.jsx("p",{children:"Testimonials content will go here."})]}),GB=()=>k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Contact Page"}),k.jsx("p",{children:"Contact content will go here."})]}),KB=()=>bR([{path:"/",element:k.jsx(yF,{})},{path:"/problem",element:k.jsx(jB,{})},{path:"/login",element:k.jsx(UB,{})},{path:"/product/:slug",element:k.jsx(JU,{})},{path:"/blog",element:k.jsx(eA,{})},{path:"/blog/:slug",element:k.jsx(BB,{})},{path:"/about",element:k.jsx($B,{})},{path:"/service",element:k.jsx(zB,{})},{path:"/resume",element:k.jsx(HB,{})},{path:"/portfolio",element:k.jsx(qB,{})},{path:"/testimonials",element:k.jsx(WB,{})},{path:"/contact",element:k.jsx(GB,{})}]),QB=()=>{const t=Ri(),e=t.pathname==="/"||t.pathname==="/portfolio"||t.pathname==="/about"||t.pathname==="/service"||t.pathname==="/resume"||t.pathname==="/testimonials"||t.pathname==="/contact";return k.jsxs("div",{className:`${e?"bg-teal-400":""} overflow-x-hidden`,children:[k.jsx(YB,{}),e&&k.jsx(XB,{})]})},YB=()=>{const[t,e]=j.useState(!1),n=Ri(),r=n.pathname==="/"||n.pathname==="/portfolio"||n.pathname==="/about"||n.pathname==="/service"||n.pathname==="/resume"||n.pathname==="/testimonials"||n.pathname==="/contact";return k.jsxs("nav",{className:`${r?"bg-teal-400":"bg-white border-b border-gray-200"} px-6 py-4 flex items-center justify-between relative w-full max-w-full overflow-x-hidden`,children:[k.jsx(yr,{to:"/",className:`${r?"text-black hover:text-gray-700":"text-gray-800 hover:text-indigo-600"} font-bold text-xl tracking-wider transition-colors duration-200`,children:"Kevin攝影"}),k.jsxs("div",{className:"hidden md:flex items-center space-x-4 lg:space-x-8 flex-wrap",children:[k.jsx(os,{to:"/",text:"首頁",isPortfolioPage:r}),k.jsx(os,{to:"/blog",text:"Blog",isPortfolioPage:r}),k.jsx(os,{to:"/problem",text:"問與答Q&A",isPortfolioPage:r}),k.jsx(os,{to:"/about",text:"About",isPortfolioPage:r}),k.jsx(os,{to:"/service",text:"Service",isPortfolioPage:r}),k.jsx(os,{to:"/resume",text:"Resume",isPortfolioPage:r}),k.jsx(os,{to:"/portfolio",text:"Portfolio",isPortfolioPage:r}),k.jsx(os,{to:"/testimonials",text:"Testimonials",isPortfolioPage:r}),k.jsx(JB,{text:"Contact",isPortfolioPage:r})]}),k.jsx("button",{className:`md:hidden ${r?"text-black":"text-gray-800"}`,onClick:()=>e(!t),children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t&&k.jsx("div",{className:`absolute top-full left-0 right-0 ${r?"bg-teal-400":"bg-white border-b border-gray-200"} md:hidden z-50`,children:k.jsxs("div",{className:"flex flex-col space-y-4 px-6 py-4",children:[k.jsx(as,{to:"/",text:"首頁",isPortfolioPage:r}),k.jsx(as,{to:"/blog",text:"Blog",isPortfolioPage:r}),k.jsx(as,{to:"/problem",text:"問與答Q&A",isPortfolioPage:r}),k.jsx(as,{to:"/about",text:"About",isPortfolioPage:r}),k.jsx(as,{to:"/service",text:"Service",isPortfolioPage:r}),k.jsx(as,{to:"/resume",text:"Resume",isPortfolioPage:r}),k.jsx(as,{to:"/portfolio",text:"Portfolio",isPortfolioPage:r}),k.jsx(as,{to:"/testimonials",text:"Testimonials",isPortfolioPage:r}),k.jsx(ZB,{text:"Contact",isPortfolioPage:r})]})})]})},XB=()=>k.jsxs("div",{className:"flex items-center justify-between px-6 lg:px-20 py-20 min-h-[calc(100vh-80px)] w-full max-w-full overflow-x-hidden",children:[k.jsx("div",{className:"flex-1 max-w-2xl",children:k.jsxs(Xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[k.jsx("p",{className:"text-black text-lg mb-4",children:"嗨~"}),k.jsx("h1",{className:"text-black text-5xl lg:text-6xl font-bold mb-4",children:"我是Kevin"}),k.jsx("h2",{className:"text-black text-2xl lg:text-3xl font-semibold mb-6",children:"分享攝影照片"}),k.jsx("p",{className:"text-black text-lg mb-8 leading-relaxed max-w-xl"}),k.jsx(Xn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-black text-white px-8 py-3 rounded-md font-medium hover:bg-gray-800 transition-colors",children:"Contact Me"})]})}),k.jsx("div",{className:"hidden lg:block flex-1 flex justify-center",children:k.jsx(Xn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"relative",children:k.jsx("div",{className:"w-80 h-80 rounded-full overflow-hidden border-4 border-black shadow-2xl",children:k.jsx("img",{src:"https://res.cloudinary.com/dtbj43yha/image/upload/v1753798709/mountain_jdi9k6.jpg",alt:"Lorenzo Fellon",className:"w-full h-full object-cover"})})})})]}),os=({to:t,text:e,isPortfolioPage:n})=>k.jsx(yr,{to:t,className:`${n?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),as=({to:t,text:e,isPortfolioPage:n})=>k.jsx(yr,{to:t,className:`${n?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:e}),JB=({text:t,isPortfolioPage:e})=>{const n=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return k.jsx("button",{onClick:n,className:`${e?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:t})},ZB=({text:t,isPortfolioPage:e})=>{const n=()=>{const r=document.querySelector("footer");r&&r.scrollIntoView({behavior:"smooth"})};return k.jsx("button",{onClick:n,className:`${e?"text-black hover:text-gray-700":"text-gray-600 hover:text-indigo-600"} font-medium transition-colors duration-200`,children:t})};class dp{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const e8=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},za={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:e8()},t8=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},n8=async(t,e,n={})=>{const r=await fetch(za.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),a=new dp(r.status,i);if(r.ok)return a;throw a},r8=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},i8=t=>t.webdriver||!t.languages||t.languages.length===0,s8=()=>new dp(451,"Unavailable For Headless Browser"),o8=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},a8=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},l8=(t,e)=>t instanceof FormData?t.get(e):t[e],u8=(t,e)=>{if(a8(t))return!1;o8(t.list,t.watchVariable);const n=l8(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},c8=()=>new dp(403,"Forbidden"),h8=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},d8=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},f8=async(t,e,n)=>{if(!e.throttle||!n)return!1;h8(e.throttle,e.id);const r=e.id||t;return await d8(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},p8=()=>new dp(429,"Too Many Requests"),m8=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},g8=t=>typeof t=="string"?document.querySelector(t):t,y8=async(t,e,n,r)=>{const i=t8(r),a=i.publicKey||za.publicKey,l=i.blockHeadless||za.blockHeadless,c=za.storageProvider||i.storageProvider,h={...za.blockList,...i.blockList},p={...za.limitRate,...i.limitRate};if(l&&i8(navigator))return Promise.reject(s8());const g=g8(n);r8(a,t,e),m8(g);const _=new FormData(g);return u8(h,_)?Promise.reject(c8()):await f8(location.pathname,p,c)?Promise.reject(p8()):(_.append("lib_version","4.4.1"),_.append("service_id",t),_.append("template_id",e),_.append("user_id",a),n8("/api/v1.0/email/send-form",_))},v8=()=>{const[t,e]=j.useState({name:"",phone:"",email:"",message:""}),[n,r]=j.useState(!1),i=j.useRef(),a=c=>{e({...t,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault(),r(!0);try{await y8("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",i.current,"YOUR_PUBLIC_KEY"),We.success("訊息已成功發送！我們會盡快回覆您。",{position:"top-right",autoClose:3e3}),e({name:"",phone:"",email:"",message:""})}catch(h){console.error("EmailJS error:",h),We.error("發送失敗，請稍後再試或直接聯繫我們。",{position:"top-right",autoClose:3e3})}finally{r(!1)}};return k.jsxs("footer",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:[k.jsx("div",{className:"container mx-auto px-6 py-16",children:k.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[k.jsxs(Xn.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"space-y-8",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent"}),k.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"聯絡我"})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(mF,{className:"text-teal-400 text-xl"}),k.jsx("span",{className:"text-gray-300",children:" "})]}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(dF,{className:"text-teal-400 text-xl"}),k.jsx("span",{className:"text-gray-300",children:"a411758@gmail.com"})]}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(pF,{className:"text-teal-400 text-xl"}),k.jsx("span",{className:"text-gray-300",children:"台灣 台北市"})]})]}),k.jsxs("div",{className:"flex space-x-6",children:[k.jsx(Xn.a,{href:"https://instagram.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-gradient-to-r from-pink-500 to-purple-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:k.jsx(hF,{className:"text-2xl text-white"})}),k.jsx(Xn.a,{href:"https://facebook.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"bg-blue-600 p-4 rounded-full hover:shadow-lg transition-all duration-300",children:k.jsx(cF,{className:"text-2xl text-white"})})]})]}),k.jsxs(Xn.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700",children:[k.jsx("h3",{className:"text-2xl font-semibold mb-6 text-center",children:"發送訊息"}),k.jsxs("form",{ref:i,onSubmit:l,className:"space-y-6",children:[k.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"姓名 *"}),k.jsx("input",{type:"text",name:"name",value:t.name,onChange:a,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的姓名"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電話"}),k.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:a,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電話"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"電子信箱 *"}),k.jsx("input",{type:"email",name:"email",value:t.email,onChange:a,required:!0,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300",placeholder:"請輸入您的電子信箱"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"訊息內容 *"}),k.jsx("textarea",{name:"message",value:t.message,onChange:a,required:!0,rows:"5",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-gray-400 transition-all duration-300 resize-none",placeholder:""})]}),k.jsx(Xn.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:n?"發送中...":"發送訊息"})]})]})]})}),k.jsx("div",{className:"border-t border-gray-700",children:k.jsx("div",{className:"container mx-auto px-6 py-6",children:k.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[k.jsx("div",{className:"text-gray-400 text-sm",children:"© 2025 Kevin攝影. All rights reserved."}),k.jsxs("div",{className:"flex space-x-6 text-sm text-gray-400",children:[k.jsx("a",{href:"/privacy",className:"hover:text-teal-400 transition-colors",children:"隱私政策"}),k.jsx("a",{href:"/terms",className:"hover:text-teal-400 transition-colors",children:"服務條款"})]})]})})})]})},_8=()=>k.jsx(Ej,{children:k.jsxs(lk,{children:[k.jsx(QB,{})," ",k.jsx(nF,{}),k.jsx(KB,{}),k.jsx(v8,{}),"  "]})});QP.createRoot(document.getElementById("root")).render(k.jsx(j.StrictMode,{children:k.jsx(_8,{})}));export{T8 as C,bc as g};
